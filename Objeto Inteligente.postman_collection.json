{
	"info": {
		"_postman_id": "3709f3b4-4278-44ba-a279-1006b819f635",
		"name": "Objeto Inteligente",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "43066107",
		"_collection_link": "https://roomclass-team.postman.co/workspace/RoomClass-Team-Workspace~3057e906-848c-40a5-8b61-7018898b8cd1/collection/43066107-3709f3b4-4278-44ba-a279-1006b819f635?action=share&source=collection_link&creator=43066107"
	},
	"item": [
		{
			"name": "Recursos y Datastreams",
			"item": [
				{
					"name": "Set datastream",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{raspberry}}:8000/Datastreams/SetDatastream?osid=708637323&idDataStream=led&comando=off",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"Datastreams",
								"SetDatastream"
							],
							"query": [
								{
									"key": "osid",
									"value": "708637323"
								},
								{
									"key": "idDataStream",
									"value": "led"
								},
								{
									"key": "comando",
									"value": "off"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "SendData",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{raspberry}}:8000/Datastreams/SendData?osid=708637323&variableEstado=temperatura&tipove=1",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"Datastreams",
								"SendData"
							],
							"query": [
								{
									"key": "osid",
									"value": "708637323"
								},
								{
									"key": "variableEstado",
									"value": "temperatura"
								},
								{
									"key": "tipove",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "SendState",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}:8000/Datastreams/SendState?osid=ESP32_Sala",
							"host": [
								"{{host}}"
							],
							"port": "8000",
							"path": [
								"Datastreams",
								"SendState"
							],
							"query": [
								{
									"key": "osid",
									"value": "ESP32_Sala"
								}
							]
						}
					},
					"response": []
				}
			],
			"description": "En esta carpeta se encuentran peticiones de ejemplo para el microservicio de recursos y datastreams"
		},
		{
			"name": "Gestion de objetos",
			"item": [
				{
					"name": "Identificator",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{raspberry}}:8000/objeto/Identificator?osid=708637323",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"objeto",
								"Identificator"
							],
							"query": [
								{
									"key": "osid",
									"value": "708637323"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "StartObject",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"Conceptos\": [\n    \"Objeto Inteligente Nextech\"\n  ],\n  \"lugares\": \"string\",\n  \"feed\": {\n    \"id\": \"708637323\",\n    \"title\": \"Regulador de Temperatura\",\n    \"Private\": false,\n    \"tags\": [\n      \"Entidad Sala\",\n      \"Entity Living Room\",\n      \"Temperature Regulator\"\n    ],\n    \"description\": \"Servicio creado para probar las funcionaliades de un objeto inteligente, incluye un sensor de temperatura, un sensor de luz, un led, y un reelay\",\n    \"feed\": \"https://api.xively.com/v2/feeds/708637323.json\",\n    \"auto_feed_url\": \"string\",\n    \"status\": 0,\n    \"updated\": \"12/03/2020 20:38:32\",\n    \"created\": \"07/07/2015 22:03:46\",\n    \"creator\": \"Nextech\",\n    \"version\": \"string\",\n    \"website\": \"string\",\n    \"datastreams\": [\n      {\n        \"datastream_format\": \"bool\",\n        \"feedid\": null,\n        \"id\": \"relay\",\n        \"current_value\": null,\n        \"at\": \"12/03/2020 20:38:32\",\n        \"max_value\": \"1.0\",\n        \"min_value\": \"0.0\",\n        \"tags\": [\n          \"Actuador\",\n          \"Actuator\",\n          \"relay\",\n          \"Caracteristica Temperatura\",\n          \"Entidad Sala\",\n          \"Entity Living Room\",\n          \"Feature Temperature\",\n          \"Funcionalidad de medida de encendido o apagado\",\n          \"Heater\",\n          \"On OFF functionality\"\n        ],\n        \"unit\": {\n          \"symbol\": \"0\",\n          \"label\": \"bool\",\n          \"unitType\": 0\n        },\n        \"datapoints\": null\n      },\n      {\n        \"datastream_format\": \"float\",\n        \"feedid\": null,\n        \"id\": \"luz\",\n        \"current_value\": null,\n        \"at\": \"12/03/2020 20:38:32\",\n        \"max_value\": \"0.0\",\n        \"min_value\": \"0.0\",\n        \"tags\": [\n          \"Caracteristica Usuario\",\n          \"Entidad Sala\",\n          \"Entity Living Room\",\n          \"Feature User\",\n          \"Funcionalidad de notificación de presencia de usuario\",\n          \"Sensor\",\n          \"sensor de presencia de usuario\",\n          \"user presence Notification Functionality\",\n          \"User Sensor\",\n          \"sensor de usuario\"\n        ],\n        \"unit\": {\n          \"symbol\": \"L\",\n          \"label\": \"Luminosidad\",\n          \"unitType\": 0\n        },\n        \"datapoints\": null\n      },      \n      {\n        \"datastream_format\": \"float\",\n        \"feedid\": null,\n        \"id\": \"temperatura\",\n        \"current_value\": null,\n        \"at\": \"12/03/2020 20:38:32\",\n        \"max_value\": \"4095.0\",\n        \"min_value\": \"-192.0\",\n        \"tags\": [\n          \"Caracteristica Temperatura\",\n          \"Entidad Sala\",\n          \"Entity Living Room\",\n          \"Feature Temperature\",\n          \"Funcionalidad de notificacion de medida de temperatura\",\n          \"Sensor\",\n          \"Sensor de temperatura\",\n          \"Temperature Measurement Notification Functionality\",\n          \"Temperature Sensor\",\n          \"Temperature sensor\"\n        ],\n        \"unit\": {\n          \"symbol\": \"°C\",\n          \"label\": \"Centigrados\",\n          \"unitType\": 0\n        },\n        \"datapoints\": null\n      },\n      {\n        \"datastream_format\": \"bool\",\n        \"feedid\": null,\n        \"id\": \"led\",\n        \"current_value\": null,\n        \"at\": \"12/03/2020 20:38:32\",\n        \"max_value\": \"1.0\",\n        \"min_value\": \"0.0\",\n        \"tags\": [\n          \"Actuador\",\n          \"Actuator\",\n          \"Caracteristica Temperatura\",\n          \"Entidad Sala\",\n          \"Entity Living Room\",\n          \"Fan\",\n          \"Feature Temperature\",\n          \"Funcionalidad de encendido apagado\",\n          \"On Off Functionality\",\n          \"Ventilador\",\n          \"Ventilator\",\n          \"fan\"\n        ],\n        \"unit\": {\n          \"symbol\": \"0\",\n          \"label\": \"bool\",\n          \"unitType\": 0\n        },\n        \"datapoints\": null\n      }\n    ],\n    \"location\": {\n      \"name\": \"string\",\n      \"domain\": 0,\n      \"lat\": \"2.4471309\",\n      \"lon\": \"-76.5981505\",\n      \"ele\": \"4\",\n      \"exposure\": 0,\n      \"disposition\": 0\n    },\n    \"TitleHTML\": \"<a style=\\\"color: #336600; font-size:110%;\\\" href=\\\"https://xively.com/feeds/708637323\\\">Regulador de Temperatura</a>\",\n    \"URLMostrar\": \"https://xively.com/feeds/708637323\"\n  },\n  \"pathfeed\": \"D:\\\\\\\\Aplicaciones\\\\\\\\SemanticSearchIoT\\\\\\\\WSSemanticSearch\\\\\\\\App_Data\\\\\\\\Json_Data\\\\\\\\708637323.json\",\n  \"DocumentJSON\": \"string\"\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{raspberry}}:8000/objeto/StartObject",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"objeto",
								"StartObject"
							]
						}
					},
					"response": []
				},
				{
					"name": "SendState",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{raspberry}}:8000/objeto/SendState?osid=708637323",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"objeto",
								"SendState"
							],
							"query": [
								{
									"key": "osid",
									"value": "708637323"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "SendData",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{raspberry}}:8000/objeto/SendData?osid=708637323&variableEstado=temperatura&tipove=1",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"objeto",
								"SendData"
							],
							"query": [
								{
									"key": "osid",
									"value": "708637323"
								},
								{
									"key": "variableEstado",
									"value": "temperatura"
								},
								{
									"key": "tipove",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "SendServiceState",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{raspberry}}:8000/objeto/SendServiceState?osid=708637323",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"objeto",
								"SendServiceState"
							],
							"query": [
								{
									"key": "osid",
									"value": "708637323"
								}
							]
						}
					},
					"response": []
				}
			],
			"description": "En esta carpeta se encuentran peticiones de ejemplo para el microservicio de gestión de objetos inteligentes"
		},
		{
			"name": "Gestión de ECAs",
			"item": [
				{
					"name": "Make Contract",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"contrato\": {\n    \"action\": {\n      \"comparator_action\": \"igual\",\n      \"id_action_object\": \"708637323\",\n      \"id_action_resource\": \"relay\",\n      \"ip_action_object\": \"192.168.8.208\",\n      \"meaning_action\": \"turn_on\",\n      \"name_action_object\": \"Actuador Ventilador\",\n      \"name_action_resource\": \"Ventilador\",\n      \"unit_action\": \"state\",\n      \"variable_action\": {\n        \"type\": \"bool\",\n        \"value\": \"on\"\n      }\n    },\n    \"condition\": {\n      \"comparator_condition\": \"mayor\",\n      \"meaning_condition\": \"threshold\",\n      \"unit_condition\": \"lx\",\n      \"variable_condition\": {\n        \"type\": \"float\",\n        \"value\": \"26.5\"\n      }\n    },\n    \"eca_state\": \"active\",\n    \"event\": {\n      \"id_event_object\": \"708637323\",\n      \"id_event_resource\": \"temperatura\",\n      \"ip_event_object\": \"192.168.8.208\",\n      \"name_event_object\": \"Sensor Temperatura\",\n      \"name_event_resource\": \"Temperatura\"\n    },\n    \"interest_entity_eca\": \"Ambiente\",\n    \"name_eca\": \"Temperatura_Relay\",\n    \"state_eca\": \"on\",\n    \"user_eca\": \"usuario@example.com\"\n  },\n  \"email\": \"usuario@example.com\",\n  \"osid\": \"708637323\",\n  \"osidDestino\": \"708637323\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{raspberry}}:8000/eca/",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"eca",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Listar Ecas",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{raspberry}}:8000/eca/?osid=708637323",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"eca",
								""
							],
							"query": [
								{
									"key": "osid",
									"value": "708637323"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Apagar Ecas",
					"request": {
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{raspberry}}:8000/eca/?osid=708637323",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"eca",
								""
							],
							"query": [
								{
									"key": "osid",
									"value": "708637323"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Eliminar Eca",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{raspberry}}:8000/eca/?osid=708637323&eca_name=Luz_Led&user_eca=usuario@example.com",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"eca",
								""
							],
							"query": [
								{
									"key": "osid",
									"value": "708637323"
								},
								{
									"key": "eca_name",
									"value": "Luz_Led"
								},
								{
									"key": "user_eca",
									"value": "usuario@example.com"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Cambiar de estado",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"comando\": \"on\",\n  \"nombreECA\": \"Temperatura_Led\",\n  \"osid\": \"708637323\",\n  \"userECA\": \"usuario@example.com\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}:8000/eca/state",
							"host": [
								"{{host}}"
							],
							"port": "8000",
							"path": [
								"eca",
								"state"
							],
							"query": [
								{
									"key": "osid",
									"value": "objeto_123",
									"disabled": true
								},
								{
									"key": "eca_name",
									"value": "eca",
									"disabled": true
								},
								{
									"key": "user_eca",
									"value": "user",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Editar eca",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"contrato\": {\n    \"action\": {\n      \"comparator_action\": \"igual\",\n      \"id_action_object\": \"708637323\",\n      \"id_action_resource\": \"led\",\n      \"ip_action_object\": \"192.168.8.208\",\n      \"meaning_action\": \"turn_on\",\n      \"name_action_object\": \"Actuador Ventilador\",\n      \"name_action_resource\": \"Ventilador\",\n      \"unit_action\": \"state\",\n      \"variable_action\": {\n        \"type\": \"bool\",\n        \"value\": \"on\"\n      }\n    },\n    \"condition\": {\n      \"comparator_condition\": \"mayor\",\n      \"meaning_condition\": \"threshold\",\n      \"unit_condition\": \"C\",\n      \"variable_condition\": {\n        \"type\": \"float\",\n        \"value\": \"200.0\"\n      }\n    },\n    \"eca_state\": \"active\",\n    \"event\": {\n      \"id_event_object\": \"708637323\",\n      \"id_event_resource\": \"luz\",\n      \"ip_event_object\": \"192.168.8.208\",\n      \"name_event_object\": \"Sensor Temperatura\",\n      \"name_event_resource\": \"Temperatura\"\n    },\n    \"interest_entity_eca\": \"Ambiente\",\n    \"name_eca\": \"Luz_Led\",\n    \"state_eca\": \"on\",\n    \"user_eca\": \"usuario@example.com\"\n  },\n  \"email\": \"usuario@example.com\",\n  \"osid\": \"708637323\",\n  \"osidDestino\": \"708637323\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{raspberry}}:8000/eca/edit",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"eca",
								"edit"
							]
						}
					},
					"response": []
				},
				{
					"name": "Send Command",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"comando\": {\n    \"comparator_action\": \"igual\",\n    \"id_action_resource\": \"relay\",\n    \"type_variable_action\": \"bool\",\n    \"variable_action\": \"on\"\n  },\n  \"osid\": \"708637323\",\n  \"osidDestino\": \"708637323\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{raspberry}}:8000/eca/send_command",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"eca",
								"send_command"
							]
						}
					},
					"response": []
				}
			],
			"description": "En esta carpeta se encuentran peticiones de ejemplo para el microservicio de gestión de ecas"
		},
		{
			"name": "Personalización",
			"item": [
				{
					"name": "CrearPreferencia",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"contrato\": {\n    \"action\": {\n      \"comparator_action\": \"igual\",\n      \"id_action_object\": \"708637323\",\n      \"id_action_resource\": \"relay\",\n      \"ip_action_object\": \"192.168.8.208\",\n      \"meaning_action\": \"turn_on\",\n      \"name_action_object\": \"Actuador Ventilador\",\n      \"name_action_resource\": \"Ventilador\",\n      \"unit_action\": \"state\",\n      \"variable_action\": {\n        \"type\": \"bool\",\n        \"value\": \"on\"\n      }\n    },\n    \"condition\": {\n      \"comparator_condition\": \"mayor\",\n      \"meaning_condition\": \"threshold\",\n      \"unit_condition\": \"C\",\n      \"variable_condition\": {\n        \"type\": \"float\",\n        \"value\": \"40.5\"\n      }\n    },\n    \"eca_state\": \"active\",\n    \"event\": {\n      \"id_event_object\": \"708637323\",\n      \"id_event_resource\": \"temperatura\",\n      \"ip_event_object\": \"192.168.8.208\",\n      \"name_event_object\": \"Sensor Temperatura\",\n      \"name_event_resource\": \"Temperatura\"\n    },\n    \"interest_entity_eca\": \"Ambiente\",\n    \"name_eca\": \"Temperatura_Led22\",\n    \"state_eca\": \"on\",\n    \"user_eca\": \"usuario@example.com\"\n  },\n  \"email\": \"usuario@example.com\",\n  \"osid\": \"708637323\",\n  \"osidDestino\": \"708637323\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{raspberry}}:8000/personalizacion/CrearPreferencia",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"personalizacion",
								"CrearPreferencia"
							]
						}
					},
					"response": []
				},
				{
					"name": "Recibir Ontologia",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": "/mnt/Datos/Docs_U/Semestre_8/Proyecto_I/objeto_inteligente/Ejemplo/UsuarioActual.owl"
								},
								{
									"key": "nombre",
									"value": "UsuarioActual.owl",
									"type": "text"
								},
								{
									"key": "ipCoordinador",
									"value": "192.168.0.1",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{raspberry}}:8000/personalizacion/RecibirOntologia",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"personalizacion",
								"RecibirOntologia"
							]
						}
					},
					"response": []
				},
				{
					"name": "NotificarSalidaDeUsuario",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{raspberry}}:8000/personalizacion/NotificarSalidaDeUsuario",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"personalizacion",
								"NotificarSalidaDeUsuario"
							]
						}
					},
					"response": []
				},
				{
					"name": "Registrar Interaccion",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"accion\": \"CARGAR\",\n  \"comando\": \"on\",\n  \"dateInteraction\": \"15/09/23 14:30:00\",\n  \"email\": \"usuario@example.com\",\n  \"idDataStream\": \"relay\",\n  \"idUsuario\": \"user_123\",\n  \"mac\": \"00:1A:7D:DA:71:13\",\n  \"osid\": \"ESP32_Sala\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{raspberry}}:8000/personalizacion/RegistroInteraccionUsuarioObjeto",
							"host": [
								"{{raspberry}}"
							],
							"port": "8000",
							"path": [
								"personalizacion",
								"RegistroInteraccionUsuarioObjeto"
							]
						}
					},
					"response": []
				}
			],
			"description": "En esta carpeta se encuentran peticiones de ejemplo para el microservicio de personalización de usuario"
		},
		{
			"name": "ESP32",
			"item": [
				{
					"name": "Send State",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "192.168.8.207:8003/Datastreams/SendState?osid=ObjetoESP32",
							"host": [
								"192",
								"168",
								"8",
								"207"
							],
							"port": "8003",
							"path": [
								"Datastreams",
								"SendState"
							],
							"query": [
								{
									"key": "osid",
									"value": "ObjetoESP32"
								}
							]
						}
					},
					"response": []
				}
			],
			"description": "En esta carpeta se entraran las peticiones hechas a la ESP32"
		},
		{
			"name": "Prueba hacia micro ontologia",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{raspberry}}:8000/ontology/consultas/consultar_id",
					"host": [
						"{{raspberry}}"
					],
					"port": "8000",
					"path": [
						"ontology",
						"consultas",
						"consultar_id"
					]
				},
				"description": "En este endpoint se prueba que desde la gateway no se tiene acceso al micro de ontologia"
			},
			"response": []
		}
	]
}