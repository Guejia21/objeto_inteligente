<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="es">
  <compounddef id="easy__install_8py" kind="file" language="Python">
    <compoundname>easy_install.py</compoundname>
    <innerclass refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install" prot="public">setuptools::command::easy_install::easy_install</innerclass>
    <innerclass refid="classsetuptools_1_1command_1_1easy__install_1_1_pth_distributions" prot="public">setuptools::command::easy_install::PthDistributions</innerclass>
    <innerclass refid="classsetuptools_1_1command_1_1easy__install_1_1_rewrite_pth_distributions" prot="public">setuptools::command::easy_install::RewritePthDistributions</innerclass>
    <innerclass refid="classsetuptools_1_1command_1_1easy__install_1_1_command_spec" prot="public">setuptools::command::easy_install::CommandSpec</innerclass>
    <innerclass refid="classsetuptools_1_1command_1_1easy__install_1_1_windows_command_spec" prot="public">setuptools::command::easy_install::WindowsCommandSpec</innerclass>
    <innerclass refid="classsetuptools_1_1command_1_1easy__install_1_1_script_writer" prot="public">setuptools::command::easy_install::ScriptWriter</innerclass>
    <innerclass refid="classsetuptools_1_1command_1_1easy__install_1_1_windows_script_writer" prot="public">setuptools::command::easy_install::WindowsScriptWriter</innerclass>
    <innerclass refid="classsetuptools_1_1command_1_1easy__install_1_1_windows_executable_launcher_writer" prot="public">setuptools::command::easy_install::WindowsExecutableLauncherWriter</innerclass>
    <innerclass refid="classsetuptools_1_1command_1_1easy__install_1_1_easy_install_deprecation_warning" prot="public">setuptools::command::easy_install::EasyInstallDeprecationWarning</innerclass>
    <innernamespace refid="namespacesetuptools">setuptools</innernamespace>
    <innernamespace refid="namespacesetuptools_1_1command">setuptools::command</innernamespace>
    <innernamespace refid="namespacesetuptools_1_1command_1_1easy__install">setuptools::command::easy_install</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacesetuptools_1_1command_1_1easy__install" refkind="compound"><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2"><highlight class="stringliteral">Easy<sp/>Install</highlight></codeline>
<codeline lineno="3"><highlight class="stringliteral">------------</highlight></codeline>
<codeline lineno="4"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="5"><highlight class="stringliteral">A<sp/>tool<sp/>for<sp/>doing<sp/>automatic<sp/>download/extract/build<sp/>of<sp/>distutils-based<sp/>Python</highlight></codeline>
<codeline lineno="6"><highlight class="stringliteral">packages.<sp/><sp/>For<sp/>detailed<sp/>documentation,<sp/>see<sp/>the<sp/>accompanying<sp/>EasyInstall.txt</highlight></codeline>
<codeline lineno="7"><highlight class="stringliteral">file,<sp/>or<sp/>visit<sp/>the<sp/>`EasyInstall<sp/>home<sp/>page`__.</highlight></codeline>
<codeline lineno="8"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="9"><highlight class="stringliteral">__<sp/>https://setuptools.pypa.io/en/latest/deprecated/easy_install.html</highlight></codeline>
<codeline lineno="10"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="11"><highlight class="stringliteral">&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>glob<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>glob</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.util<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>get_platform</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.util<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>convert_path,<sp/>subst_vars</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.errors<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/>DistutilsArgError,<sp/>DistutilsOptionError,</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/>DistutilsError,<sp/>DistutilsPlatformError,</highlight></codeline>
<codeline lineno="19"><highlight class="normal">)</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>log,<sp/>dir_util</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.command.build_scripts<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>first_line_re</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.spawn<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>find_executable</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.command<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>install</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sys</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>os</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>zipimport</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>shutil</highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>tempfile</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>zipfile</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>re</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>stat</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>random</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>textwrap</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>warnings</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>site</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>struct</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>contextlib</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>subprocess</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>shlex</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>io</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>configparser</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sysconfig</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>sysconfig<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>get_path</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>setuptools<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>SetuptoolsDeprecationWarning</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>setuptools<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Command</highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1sandbox" kindref="compound">setuptools.sandbox</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>run_setup</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1command" kindref="compound">setuptools.command</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>setopt</highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1archive__util" kindref="compound">setuptools.archive_util</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>unpack_archive</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1package__index" kindref="compound">setuptools.package_index</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>PackageIndex,<sp/>parse_requirement_arg,<sp/>URL_SCHEME,</highlight></codeline>
<codeline lineno="55"><highlight class="normal">)</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1command" kindref="compound">setuptools.command</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>bdist_egg,<sp/>egg_info</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1wheel" kindref="compound">setuptools.wheel</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Wheel</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>pkg_resources<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/>normalize_path,<sp/>resource_string,</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>get_distribution,<sp/>find_distributions,<sp/>Environment,<sp/>Requirement,</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>Distribution,<sp/>PathMetadata,<sp/>EggMetadata,<sp/>WorkingSet,<sp/>DistributionNotFound,</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/>VersionConflict,<sp/>DEVELOP_DIST,</highlight></codeline>
<codeline lineno="63"><highlight class="normal">)</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>pkg_resources</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.._path<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ensure_directory</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>..extern.jaraco.text<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>yield_lines</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Turn<sp/>on<sp/>PEP440Warnings</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70" refid="namespacesetuptools_1_1command_1_1easy__install_1aee298a1c6afa16b18a8b1ad432b6f88a" refkind="member"><highlight class="normal">warnings.filterwarnings(</highlight><highlight class="stringliteral">&quot;default&quot;</highlight><highlight class="normal">,<sp/>category=<ref refid="classpkg__resources_1_1_p_e_p440_warning" kindref="compound">pkg_resources.PEP440Warning</ref>)</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal">__all__<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;easy_install&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;PthDistributions&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;extract_wininst_cfg&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;get_exe_prefixes&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="75"><highlight class="normal">]</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78" refid="namespacesetuptools_1_1command_1_1easy__install_1a7cd44ad96e2f34d0a88dffcdc08f985b" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1command_1_1easy__install_1a7cd44ad96e2f34d0a88dffcdc08f985b" kindref="member">is_64bit</ref>():</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>struct.calcsize(</highlight><highlight class="stringliteral">&quot;P&quot;</highlight><highlight class="normal">)<sp/>==<sp/>8</highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82" refid="namespacesetuptools_1_1command_1_1easy__install_1ab70875d36aa0f47b70b8f371f3d07b9b" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1command_1_1easy__install_1ab70875d36aa0f47b70b8f371f3d07b9b" kindref="member">_to_bytes</ref>(s):</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>s.encode(</highlight><highlight class="stringliteral">&apos;utf8&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86" refid="namespacesetuptools_1_1command_1_1easy__install_1abd3ccb1a95863043ddf79a83c834373d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1command_1_1easy__install_1abd3ccb1a95863043ddf79a83c834373d" kindref="member">isascii</ref>(s):</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.encode(</highlight><highlight class="stringliteral">&apos;ascii&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>UnicodeError:</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94" refid="namespacesetuptools_1_1command_1_1easy__install_1a72ccb6f61edac8f04488816b9f3a01c9" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1command_1_1easy__install_1a72ccb6f61edac8f04488816b9f3a01c9" kindref="member">_one_liner</ref>(text):</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>textwrap.dedent(text).strip().replace(</highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;;<sp/>&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install" kindref="compound">easy_install</ref>(<ref refid="classsetuptools_1_1_command" kindref="compound">Command</ref>):</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Manage<sp/>a<sp/>download/build/install<sp/>process&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a4c4a6b86499f6d4a867ebde1450c3833" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>description<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Find/get/install<sp/>Python<sp/>packages&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/>command_consumes_arguments<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a0b3f110c5afd8ba998ae1bcadf434b83" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>user_options<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;prefix=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;installation<sp/>prefix&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&quot;zip-ok&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;z&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;install<sp/>package<sp/>as<sp/>a<sp/>zipfile&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&quot;multi-version&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;m&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;make<sp/>apps<sp/>have<sp/>to<sp/>require()<sp/>a<sp/>version&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&quot;upgrade&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;U&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;force<sp/>upgrade<sp/>(searches<sp/>PyPI<sp/>for<sp/>latest<sp/>versions)&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&quot;install-dir=&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;d&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;install<sp/>package<sp/>to<sp/>DIR&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&quot;script-dir=&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;s&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;install<sp/>scripts<sp/>to<sp/>DIR&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&quot;exclude-scripts&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;x&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Don&apos;t<sp/>install<sp/>scripts&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&quot;always-copy&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;a&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Copy<sp/>all<sp/>needed<sp/>packages<sp/>to<sp/>install<sp/>dir&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&quot;index-url=&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;i&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;base<sp/>URL<sp/>of<sp/>Python<sp/>Package<sp/>Index&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&quot;find-links=&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;f&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;additional<sp/>URL(s)<sp/>to<sp/>search<sp/>for<sp/>packages&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&quot;build-directory=&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;b&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;download/extract/build<sp/>in<sp/>DIR;<sp/>keep<sp/>the<sp/>results&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;optimize=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;O&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;also<sp/>compile<sp/>with<sp/>optimization:<sp/>-O1<sp/>for<sp/>\&quot;python<sp/>-O\&quot;,<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;-O2<sp/>for<sp/>\&quot;python<sp/>-OO\&quot;,<sp/>and<sp/>-O0<sp/>to<sp/>disable<sp/>[default:<sp/>-O0]&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;record=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;filename<sp/>in<sp/>which<sp/>to<sp/>record<sp/>list<sp/>of<sp/>installed<sp/>files&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;always-unzip&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;Z&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;don&apos;t<sp/>install<sp/>as<sp/>a<sp/>zipfile,<sp/>no<sp/>matter<sp/>what&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;site-dirs=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;list<sp/>of<sp/>directories<sp/>where<sp/>.pth<sp/>files<sp/>work&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;editable&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;e&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Install<sp/>specified<sp/>packages<sp/>in<sp/>editable<sp/>form&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;no-deps&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;N&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;don&apos;t<sp/>install<sp/>dependencies&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;allow-hosts=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;H&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;pattern(s)<sp/>that<sp/>hostnames<sp/>must<sp/>match&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;local-snapshots-ok&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;l&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;allow<sp/>building<sp/>eggs<sp/>from<sp/>local<sp/>checkouts&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;version&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;print<sp/>version<sp/>information<sp/>and<sp/>exit&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;no-find-links&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Don&apos;t<sp/>load<sp/>find-links<sp/>defined<sp/>in<sp/>packages<sp/>being<sp/>installed&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;user&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;install<sp/>in<sp/>user<sp/>site-package<sp/>&apos;%s&apos;&quot;</highlight><highlight class="normal"><sp/>%<sp/>site.USER_SITE)</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="133" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a088d7b675b927bb22a3678eb5f3d567e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>boolean_options<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;zip-ok&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;multi-version&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;exclude-scripts&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;upgrade&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;always-copy&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;editable&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;no-deps&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;local-snapshots-ok&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;version&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;user&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight></codeline>
<codeline lineno="140" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a998f2467f82cf26ba58226f4f0cb9be0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>negative_opt<sp/>=<sp/>{</highlight><highlight class="stringliteral">&apos;always-unzip&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;zip-ok&apos;</highlight><highlight class="normal">}</highlight></codeline>
<codeline lineno="141" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a0fa9610fc4bff94a9847b570edc6b825" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>create_index<sp/>=<sp/>PackageIndex</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a74e154b14bd29232e727e5ee9e6af080" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a74e154b14bd29232e727e5ee9e6af080" kindref="member">initialize_options</ref>(self):</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>warnings.warn(</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;easy_install<sp/>command<sp/>is<sp/>deprecated.<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Use<sp/>build<sp/>and<sp/>pip<sp/>and<sp/>other<sp/>standards-based<sp/>tools.&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>EasyInstallDeprecationWarning,</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>--user<sp/>option<sp/>seems<sp/>to<sp/>be<sp/>an<sp/>opt-in<sp/>one,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>so<sp/>the<sp/>default<sp/>should<sp/>be<sp/>False.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a325d3af6fdcaf663c20a2814768dfde6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a325d3af6fdcaf663c20a2814768dfde6" kindref="member">user</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="153" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a3cf027b47425e5bdedb5b0c6929346ba" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a3cf027b47425e5bdedb5b0c6929346ba" kindref="member">zip_ok</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ac990ee964a5fffad9b74da0491be48ea" kindref="member">local_snapshots_ok</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1b80f13e00ade511bf1823bddce3341a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1b80f13e00ade511bf1823bddce3341a" kindref="member">install_dir</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1acf30ffa16f1af2199c6342c4c7eae53c" kindref="member">script_dir</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ad4f35f8a4e3aede4547ac57640dce932" kindref="member">exclude_scripts</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a4f86d2376a54281ba9f8d503ba8cfcb4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a4f86d2376a54281ba9f8d503ba8cfcb4" kindref="member">index_url</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ad44d29a7b59632e3860ec11bf8b3845d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ad44d29a7b59632e3860ec11bf8b3845d" kindref="member">find_links</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1addd15d5fea61ff7542f5330e1d5305c6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1addd15d5fea61ff7542f5330e1d5305c6" kindref="member">build_directory</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="158" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a245326eef92af2fd2490071ec2fa271b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a245326eef92af2fd2490071ec2fa271b" kindref="member">args</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1acd3bdda216b3dad1afe4f777866190fc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1acd3bdda216b3dad1afe4f777866190fc" kindref="member">optimize</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a5fed7200760a507706498813f350a424" kindref="member">record</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a320116ea1771a34a2097eb2922d78a0e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a320116ea1771a34a2097eb2922d78a0e" kindref="member">upgrade</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a81a4e66536cc8daacb77994c1dfee99d" kindref="member">always_copy</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1bf70a7cc16cbed120893c9bf246ffbb" kindref="member">multi_version</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="161" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a41e6e9237912d2f506304c5f03d3e234" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a41e6e9237912d2f506304c5f03d3e234" kindref="member">editable</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a7c34692c66dff65bee93b3e5fe7d1392" kindref="member">no_deps</ref><sp/>=<sp/>self.allow_hosts<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ac08b899fca071968fe261ac0e9cade76" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ac08b899fca071968fe261ac0e9cade76" kindref="member">root</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1ac7b7cab639fd8035e270c02a66879c" kindref="member">prefix</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a604927b48bfd9a0e30353bb9430c8848" kindref="member">no_report</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="163" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1dabe7d517c80ceab2f0c8f34c50127d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1dabe7d517c80ceab2f0c8f34c50127d" kindref="member">version</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a06c24f5c8fb159e4537b44f4ada6e28a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a06c24f5c8fb159e4537b44f4ada6e28a" kindref="member">install_purelib</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>for<sp/>pure<sp/>module<sp/>distributions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ad58dc56fe97c32fb74141a04a78bb239" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ad58dc56fe97c32fb74141a04a78bb239" kindref="member">install_platlib</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>non-pure<sp/>(dists<sp/>w/<sp/>extensions)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1af1bca371f6ae50a0a9f84ef04cddccee" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1af1bca371f6ae50a0a9f84ef04cddccee" kindref="member">install_headers</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>for<sp/>C/C++<sp/>headers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a3345000b9f1131ca48ee7ce797bba7ea" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a3345000b9f1131ca48ee7ce797bba7ea" kindref="member">install_lib</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>set<sp/>to<sp/>either<sp/>purelib<sp/>or<sp/>platlib</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a9c7c4a4c65c75a9f1306d44fcdf8b4e1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a9c7c4a4c65c75a9f1306d44fcdf8b4e1" kindref="member">install_scripts</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aad507434e8bb6fb6d356d7d320e607a3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aad507434e8bb6fb6d356d7d320e607a3" kindref="member">install_data</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a297d0f1cea13c5ecff6d6019cb17475a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a297d0f1cea13c5ecff6d6019cb17475a" kindref="member">install_base</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ab83a0722afcb8d9d540adfc82a53b9c7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ab83a0722afcb8d9d540adfc82a53b9c7" kindref="member">install_platbase</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a65cacd24de32bfe91a6a2e77c0f4679f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a65cacd24de32bfe91a6a2e77c0f4679f" kindref="member">install_userbase</ref><sp/>=<sp/>site.USER_BASE</highlight></codeline>
<codeline lineno="173" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aec48ff867415e917b9b9aeb5908e2360" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aec48ff867415e917b9b9aeb5908e2360" kindref="member">install_usersite</ref><sp/>=<sp/>site.USER_SITE</highlight></codeline>
<codeline lineno="174" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a858e0baf8ad46260f5f0d3ff59febcf4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a858e0baf8ad46260f5f0d3ff59febcf4" kindref="member">no_find_links</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Options<sp/>not<sp/>specifiable<sp/>via<sp/>command<sp/>line</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1191f5f45cbbcc0e6bcf87107818eaca" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1191f5f45cbbcc0e6bcf87107818eaca" kindref="member">package_index</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a034c522ba3d984174ee2696c60acb2ad" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a034c522ba3d984174ee2696c60acb2ad" kindref="member">pth_file</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a48d4ae1820588aaa68b80249564a6126" kindref="member">always_copy_from</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a2fdab5357478e3ecbde56e3985a822b5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a2fdab5357478e3ecbde56e3985a822b5" kindref="member">site_dirs</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a79c98249a4bfd172c579949c89f4a36b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a79c98249a4bfd172c579949c89f4a36b" kindref="member">installed_projects</ref><sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Always<sp/>read<sp/>easy_install<sp/>options,<sp/>even<sp/>if<sp/>we<sp/>are<sp/>subclassed,<sp/>or<sp/>have</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>an<sp/>independent<sp/>instance<sp/>created.<sp/><sp/>This<sp/>ensures<sp/>that<sp/>defaults<sp/>will</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>always<sp/>come<sp/>from<sp/>the<sp/>standard<sp/>configuration<sp/>file(s)&apos;<sp/>&quot;easy_install&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>section,<sp/>even<sp/>if<sp/>this<sp/>is<sp/>a<sp/>&quot;develop&quot;<sp/>or<sp/>&quot;install&quot;<sp/>command,<sp/>or<sp/>some</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>other<sp/>embedding.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a8c1b2f256e2ff46d0fed86711fa025aa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a8c1b2f256e2ff46d0fed86711fa025aa" kindref="member">_dry_run</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a113bb07d18e0a6a9c495c3aa733b69a9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a113bb07d18e0a6a9c495c3aa733b69a9" kindref="member">verbose</ref><sp/>=<sp/>self.distribution.verbose</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.distribution._set_command_options(</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,<sp/>self.distribution.get_option_dict(</highlight><highlight class="stringliteral">&apos;easy_install&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="191"><highlight class="normal"></highlight></codeline>
<codeline lineno="192" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a026daac811853807b043f97e93daf20a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a026daac811853807b043f97e93daf20a" kindref="member">delete_blockers</ref>(self,<sp/>blockers):</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extant_blockers<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filename<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>filename<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>blockers</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.exists(filename)<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>os.path.islink(filename)</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="197" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a6f7e0314ca9eb7b1121efeae3036da2e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>list(map(self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a6f7e0314ca9eb7b1121efeae3036da2e" kindref="member">_delete_path</ref>,<sp/>extant_blockers))</highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="199" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1afed75ed5c4ec00d5e7a86ab3fd6a9e20" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a6f7e0314ca9eb7b1121efeae3036da2e" kindref="member">_delete_path</ref>(self,<sp/>path):</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.info(</highlight><highlight class="stringliteral">&quot;Deleting<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>path)</highlight></codeline>
<codeline lineno="201" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aee0629ae4a4657d3c7528d112fb0178e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aee0629ae4a4657d3c7528d112fb0178e" kindref="member">dry_run</ref>:</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_tree<sp/>=<sp/>os.path.isdir(path)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>os.path.islink(path)</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>remover<sp/>=<sp/>rmtree<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>is_tree<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>os.unlink</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>remover(path)</highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a3c844d57f7a6ae26dd158edb866bb891" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a3c844d57f7a6ae26dd158edb866bb891" kindref="member">_render_version</ref>():</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="211"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Render<sp/>the<sp/>Setuptools<sp/>version<sp/>and<sp/>installation<sp/>details,<sp/>then<sp/>exit.</highlight></codeline>
<codeline lineno="212"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ver<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;{}.{}&apos;</highlight><highlight class="normal">.format(*sys.version_info)</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist<sp/>=<sp/>get_distribution(</highlight><highlight class="stringliteral">&apos;setuptools&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tmpl<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;setuptools<sp/>{dist.version}<sp/>from<sp/>{dist.location}<sp/>(Python<sp/>{ver})&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(tmpl.format(**locals()))</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>SystemExit()</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="219" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a66bc28801c39ae65342cc621450d91d6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a66bc28801c39ae65342cc621450d91d6" kindref="member">finalize_options</ref>(self):<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>C901<sp/><sp/>#<sp/>is<sp/>too<sp/>complex<sp/>(25)<sp/><sp/>#<sp/>FIXME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1dabe7d517c80ceab2f0c8f34c50127d" kindref="member">version</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a3c844d57f7a6ae26dd158edb866bb891" kindref="member">_render_version</ref>()</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>py_version<sp/>=<sp/>sys.version.split()[0]</highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight></codeline>
<codeline lineno="224" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a7e25342d01bb4a59df3ece931a8e6c22" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a7e25342d01bb4a59df3ece931a8e6c22" kindref="member">config_vars</ref><sp/>=<sp/>dict(sysconfig.get_config_vars())</highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a7e25342d01bb4a59df3ece931a8e6c22" kindref="member">config_vars</ref>.update({</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;dist_name&apos;</highlight><highlight class="normal">:<sp/>self.distribution.get_name(),</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;dist_version&apos;</highlight><highlight class="normal">:<sp/>self.distribution.get_version(),</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;dist_fullname&apos;</highlight><highlight class="normal">:<sp/>self.distribution.get_fullname(),</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;py_version&apos;</highlight><highlight class="normal">:<sp/>py_version,</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;py_version_short&apos;</highlight><highlight class="normal">:<sp/>f</highlight><highlight class="stringliteral">&apos;{sys.version_info.major}.{sys.version_info.minor}&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;py_version_nodot&apos;</highlight><highlight class="normal">:<sp/>f</highlight><highlight class="stringliteral">&apos;{sys.version_info.major}{sys.version_info.minor}&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;sys_prefix&apos;</highlight><highlight class="normal">:<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a7e25342d01bb4a59df3ece931a8e6c22" kindref="member">config_vars</ref>[</highlight><highlight class="stringliteral">&apos;prefix&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;sys_exec_prefix&apos;</highlight><highlight class="normal">:<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a7e25342d01bb4a59df3ece931a8e6c22" kindref="member">config_vars</ref>[</highlight><highlight class="stringliteral">&apos;exec_prefix&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Only<sp/>python<sp/>3.2+<sp/>has<sp/>abiflags</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;abiflags&apos;</highlight><highlight class="normal">:<sp/>getattr(sys,<sp/></highlight><highlight class="stringliteral">&apos;abiflags&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;platlibdir&apos;</highlight><highlight class="normal">:<sp/>getattr(sys,<sp/></highlight><highlight class="stringliteral">&apos;platlibdir&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;lib&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>})</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>contextlib.suppress(AttributeError):</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>only<sp/>for<sp/>distutils<sp/>outside<sp/>stdlib</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a7e25342d01bb4a59df3ece931a8e6c22" kindref="member">config_vars</ref>.update({</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;implementation_lower&apos;</highlight><highlight class="normal">:<sp/>install._get_implementation().lower(),</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;implementation&apos;</highlight><highlight class="normal">:<sp/>install._get_implementation(),</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>})</highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>pypa/distutils#113<sp/>Python<sp/>3.9<sp/>compat</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a7e25342d01bb4a59df3ece931a8e6c22" kindref="member">config_vars</ref>.setdefault(</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;py_version_nodot_plat&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>getattr(sys,<sp/></highlight><highlight class="stringliteral">&apos;windir&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">).replace(</highlight><highlight class="stringliteral">&apos;.&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a7e25342d01bb4a59df3ece931a8e6c22" kindref="member">config_vars</ref>[</highlight><highlight class="stringliteral">&apos;userbase&apos;</highlight><highlight class="normal">]<sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a65cacd24de32bfe91a6a2e77c0f4679f" kindref="member">install_userbase</ref></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a7e25342d01bb4a59df3ece931a8e6c22" kindref="member">config_vars</ref>[</highlight><highlight class="stringliteral">&apos;usersite&apos;</highlight><highlight class="normal">]<sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aec48ff867415e917b9b9aeb5908e2360" kindref="member">install_usersite</ref></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a325d3af6fdcaf663c20a2814768dfde6" kindref="member">user</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>site.ENABLE_USER_SITE:</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.warn(</highlight><highlight class="stringliteral">&quot;WARNING:<sp/>The<sp/>user<sp/>site-packages<sp/>directory<sp/>is<sp/>disabled.&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aa38a6f5d8ea5aade4d9dcc814897be3a" kindref="member">_fix_install_dir_for_user_site</ref>()</highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a5ff7b43f6cc8a8b7f5269911805c7c78" kindref="member">expand_basedirs</ref>()</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a09975014e6c2d5fcde741cb6c5cc110e" kindref="member">expand_dirs</ref>()</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a4a064bcd62298040ff3a92775853a586" kindref="member">_expand</ref>(</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;install_dir&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;script_dir&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;build_directory&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;site_dirs&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>a<sp/>non-default<sp/>installation<sp/>directory<sp/>was<sp/>specified,<sp/>default<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>script<sp/>directory<sp/>to<sp/>match<sp/>it.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1acf30ffa16f1af2199c6342c4c7eae53c" kindref="member">script_dir</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="269" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1acf30ffa16f1af2199c6342c4c7eae53c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1acf30ffa16f1af2199c6342c4c7eae53c" kindref="member">script_dir</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1b80f13e00ade511bf1823bddce3341a" kindref="member">install_dir</ref></highlight></codeline>
<codeline lineno="270"><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a858e0baf8ad46260f5f0d3ff59febcf4" kindref="member">no_find_links</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a858e0baf8ad46260f5f0d3ff59febcf4" kindref="member">no_find_links</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Let<sp/>install_dir<sp/>get<sp/>set<sp/>by<sp/>install_lib<sp/>command,<sp/>which<sp/>in<sp/>turn</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>gets<sp/>its<sp/>info<sp/>from<sp/>the<sp/>install<sp/>command,<sp/>and<sp/>takes<sp/>into<sp/>account</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>--prefix<sp/>and<sp/>--home<sp/>and<sp/>all<sp/>that<sp/>other<sp/>crud.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.set_undefined_options(</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;install_lib&apos;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="stringliteral">&apos;install_dir&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;install_dir&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Likewise,<sp/>set<sp/>default<sp/>script_dir<sp/>from<sp/>&apos;install_scripts.install_dir&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.set_undefined_options(</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;install_scripts&apos;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="stringliteral">&apos;install_dir&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;script_dir&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a325d3af6fdcaf663c20a2814768dfde6" kindref="member">user</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a06c24f5c8fb159e4537b44f4ada6e28a" kindref="member">install_purelib</ref>:</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1b80f13e00ade511bf1823bddce3341a" kindref="member">install_dir</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a06c24f5c8fb159e4537b44f4ada6e28a" kindref="member">install_purelib</ref></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1acf30ffa16f1af2199c6342c4c7eae53c" kindref="member">script_dir</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a9c7c4a4c65c75a9f1306d44fcdf8b4e1" kindref="member">install_scripts</ref></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>default<sp/>--record<sp/>from<sp/>the<sp/>install<sp/>command</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.set_undefined_options(</highlight><highlight class="stringliteral">&apos;install&apos;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="stringliteral">&apos;record&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;record&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="290" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a80712638561c8b3901dcced8f6b1de85" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a80712638561c8b3901dcced8f6b1de85" kindref="member">all_site_dirs</ref><sp/>=<sp/><ref refid="namespacesetuptools_1_1command_1_1easy__install_1a54dafb326804a55fa32b02d770c3acf3" kindref="member">get_site_dirs</ref>()</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a80712638561c8b3901dcced8f6b1de85" kindref="member">all_site_dirs</ref>.extend(self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aed3858ce623e6e9a95f3c81e9a31cfa6" kindref="member">_process_site_dirs</ref>(self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a2fdab5357478e3ecbde56e3985a822b5" kindref="member">site_dirs</ref>))</highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a41e6e9237912d2f506304c5f03d3e234" kindref="member">editable</ref>:</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a100653b0cd0777d3871a807d65957bb9" kindref="member">check_site_dir</ref>()</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>default_index<sp/>=<sp/>os.getenv(</highlight><highlight class="stringliteral">&quot;__EASYINSTALL_INDEX&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;https://pypi.org/simple/&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>^<sp/>Private<sp/>API<sp/>for<sp/>testing<sp/>purposes<sp/>only</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a4f86d2376a54281ba9f8d503ba8cfcb4" kindref="member">index_url</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a4f86d2376a54281ba9f8d503ba8cfcb4" kindref="member">index_url</ref><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>default_index</highlight></codeline>
<codeline lineno="298" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a8abc42ccfe2411ff44d04d70ebf24a87" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a8abc42ccfe2411ff44d04d70ebf24a87" kindref="member">shadow_path</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a80712638561c8b3901dcced8f6b1de85" kindref="member">all_site_dirs</ref>[:]</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>path_item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1b80f13e00ade511bf1823bddce3341a" kindref="member">install_dir</ref>,<sp/>normalize_path(self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1acf30ffa16f1af2199c6342c4c7eae53c" kindref="member">script_dir</ref>):</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>path_item<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a8abc42ccfe2411ff44d04d70ebf24a87" kindref="member">shadow_path</ref>:</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a8abc42ccfe2411ff44d04d70ebf24a87" kindref="member">shadow_path</ref>.insert(0,<sp/>path_item)</highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.allow_hosts<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hosts<sp/>=<sp/>[s.strip()<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>s<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.allow_hosts.split(</highlight><highlight class="stringliteral">&apos;,&apos;</highlight><highlight class="normal">)]</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hosts<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;*&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1191f5f45cbbcc0e6bcf87107818eaca" kindref="member">package_index</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1191f5f45cbbcc0e6bcf87107818eaca" kindref="member">package_index</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a0fa9610fc4bff94a9847b570edc6b825" kindref="member">create_index</ref>(</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a4f86d2376a54281ba9f8d503ba8cfcb4" kindref="member">index_url</ref>,<sp/>search_path=self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a8abc42ccfe2411ff44d04d70ebf24a87" kindref="member">shadow_path</ref>,<sp/>hosts=hosts,</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="311" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ae806f358b843ab11069622e9d4df984b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ae806f358b843ab11069622e9d4df984b" kindref="member">local_index</ref><sp/>=<sp/><ref refid="classpkg__resources_1_1_environment" kindref="compound">Environment</ref>(self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a8abc42ccfe2411ff44d04d70ebf24a87" kindref="member">shadow_path</ref><sp/>+<sp/>sys.path)</highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ad44d29a7b59632e3860ec11bf8b3845d" kindref="member">find_links</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ad44d29a7b59632e3860ec11bf8b3845d" kindref="member">find_links</ref>,<sp/>str):</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ad44d29a7b59632e3860ec11bf8b3845d" kindref="member">find_links</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ad44d29a7b59632e3860ec11bf8b3845d" kindref="member">find_links</ref>.split()</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ad44d29a7b59632e3860ec11bf8b3845d" kindref="member">find_links</ref><sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="318" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ac990ee964a5fffad9b74da0491be48ea" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ac990ee964a5fffad9b74da0491be48ea" kindref="member">local_snapshots_ok</ref>:</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1191f5f45cbbcc0e6bcf87107818eaca" kindref="member">package_index</ref>.scan_egg_links(self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a8abc42ccfe2411ff44d04d70ebf24a87" kindref="member">shadow_path</ref><sp/>+<sp/>sys.path)</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a858e0baf8ad46260f5f0d3ff59febcf4" kindref="member">no_find_links</ref>:</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1191f5f45cbbcc0e6bcf87107818eaca" kindref="member">package_index</ref>.add_find_links(self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ad44d29a7b59632e3860ec11bf8b3845d" kindref="member">find_links</ref>)</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.set_undefined_options(</highlight><highlight class="stringliteral">&apos;install_lib&apos;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="stringliteral">&apos;optimize&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;optimize&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1acd3bdda216b3dad1afe4f777866190fc" kindref="member">optimize</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1abc13647276cd601802538694a49e0d3f" kindref="member">_validate_optimize</ref>(self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1acd3bdda216b3dad1afe4f777866190fc" kindref="member">optimize</ref>)</highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a41e6e9237912d2f506304c5f03d3e234" kindref="member">editable</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1addd15d5fea61ff7542f5330e1d5305c6" kindref="member">build_directory</ref>:</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsArgError(</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Must<sp/>specify<sp/>a<sp/>build<sp/>directory<sp/>(-b)<sp/>when<sp/>using<sp/>--editable&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a245326eef92af2fd2490071ec2fa271b" kindref="member">args</ref>:</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsArgError(</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;No<sp/>urls,<sp/>filenames,<sp/>or<sp/>requirements<sp/>specified<sp/>(see<sp/>--help)&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="333" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ac07bb3b372c0f499fe723873ee2033ce" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ac07bb3b372c0f499fe723873ee2033ce" kindref="member">outputs</ref><sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="334"><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="336" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aed3858ce623e6e9a95f3c81e9a31cfa6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aed3858ce623e6e9a95f3c81e9a31cfa6" kindref="member">_process_site_dirs</ref>(site_dirs):</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>site_dirs<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>normpath<sp/>=<sp/>map(normalize_path,<sp/>sys.path)</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>site_dirs<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.expanduser(s.strip())<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>s<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>site_dirs.split(</highlight><highlight class="stringliteral">&apos;,&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>d<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>site_dirs:</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>os.path.isdir(d):</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.warn(</highlight><highlight class="stringliteral">&quot;%s<sp/>(in<sp/>--site-dirs)<sp/>does<sp/>not<sp/>exist&quot;</highlight><highlight class="normal">,<sp/>d)</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>normalize_path(d)<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>normpath:</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsOptionError(</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>(in<sp/>--site-dirs)<sp/>is<sp/>not<sp/>on<sp/>sys.path&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>normalize_path(d)</highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="356" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1abc13647276cd601802538694a49e0d3f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1abc13647276cd601802538694a49e0d3f" kindref="member">_validate_optimize</ref>(value):</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/>int(value)</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>value<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(3):</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>ValueError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>e:</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsOptionError(</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;--optimize<sp/>must<sp/>be<sp/>0,<sp/>1,<sp/>or<sp/>2&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>e</highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>value</highlight></codeline>
<codeline lineno="367"><highlight class="normal"></highlight></codeline>
<codeline lineno="368" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aa38a6f5d8ea5aade4d9dcc814897be3a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aa38a6f5d8ea5aade4d9dcc814897be3a" kindref="member">_fix_install_dir_for_user_site</ref>(self):</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="370"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Fix<sp/>the<sp/>install_dir<sp/>if<sp/>&quot;--user&quot;<sp/>was<sp/>used.</highlight></codeline>
<codeline lineno="371"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a325d3af6fdcaf663c20a2814768dfde6" kindref="member">user</ref>:</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a2dbfcb6c3c84b6178287a21f0f79028f" kindref="member">create_home_path</ref>()</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a65cacd24de32bfe91a6a2e77c0f4679f" kindref="member">install_userbase</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;User<sp/>base<sp/>directory<sp/>is<sp/>not<sp/>specified&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsPlatformError(msg)</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a297d0f1cea13c5ecff6d6019cb17475a" kindref="member">install_base</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ab83a0722afcb8d9d540adfc82a53b9c7" kindref="member">install_platbase</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a65cacd24de32bfe91a6a2e77c0f4679f" kindref="member">install_userbase</ref></highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scheme_name<sp/>=<sp/>f</highlight><highlight class="stringliteral">&apos;{os.name}_user&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a8050979ec0c62899afa31136d56cf6c5" kindref="member">select_scheme</ref>(scheme_name)</highlight></codeline>
<codeline lineno="382"><highlight class="normal"></highlight></codeline>
<codeline lineno="383" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a11496a9c5a68f3861623c673566c8bd2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a11496a9c5a68f3861623c673566c8bd2" kindref="member">_expand_attrs</ref>(self,<sp/>attrs):</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>attr<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>attrs:</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>val<sp/>=<sp/>getattr(self,<sp/>attr)</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>val<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.name<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;posix&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>os.name<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;nt&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>val<sp/>=<sp/>os.path.expanduser(val)</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>val<sp/>=<sp/>subst_vars(val,<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a7e25342d01bb4a59df3ece931a8e6c22" kindref="member">config_vars</ref>)</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setattr(self,<sp/>attr,<sp/>val)</highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight></codeline>
<codeline lineno="392" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a5ff7b43f6cc8a8b7f5269911805c7c78" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a5ff7b43f6cc8a8b7f5269911805c7c78" kindref="member">expand_basedirs</ref>(self):</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Calls<sp/>`os.path.expanduser`<sp/>on<sp/>install_base,<sp/>install_platbase<sp/>and</highlight></codeline>
<codeline lineno="394"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>root.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a11496a9c5a68f3861623c673566c8bd2" kindref="member">_expand_attrs</ref>([</highlight><highlight class="stringliteral">&apos;install_base&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;install_platbase&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;root&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="396"><highlight class="normal"></highlight></codeline>
<codeline lineno="397" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a09975014e6c2d5fcde741cb6c5cc110e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a09975014e6c2d5fcde741cb6c5cc110e" kindref="member">expand_dirs</ref>(self):</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Calls<sp/>`os.path.expanduser`<sp/>on<sp/>install<sp/>dirs.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dirs<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;install_purelib&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;install_platlib&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;install_lib&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;install_headers&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;install_scripts&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;install_data&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a11496a9c5a68f3861623c673566c8bd2" kindref="member">_expand_attrs</ref>(dirs)</highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight></codeline>
<codeline lineno="409" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a5baa3609420e4ff45d361d1b0f042273" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a5baa3609420e4ff45d361d1b0f042273" kindref="member">run</ref>(self,<sp/>show_deprecation=True):</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>show_deprecation:</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.announce(</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;WARNING:<sp/>The<sp/>easy_install<sp/>command<sp/>is<sp/>deprecated<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;and<sp/>will<sp/>be<sp/>removed<sp/>in<sp/>a<sp/>future<sp/>version.&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.WARN,</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a113bb07d18e0a6a9c495c3aa733b69a9" kindref="member">verbose</ref><sp/>!=<sp/>self.distribution.verbose:</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.set_verbosity(self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a113bb07d18e0a6a9c495c3aa733b69a9" kindref="member">verbose</ref>)</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>spec<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a245326eef92af2fd2490071ec2fa271b" kindref="member">args</ref>:</highlight></codeline>
<codeline lineno="420" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a7c34692c66dff65bee93b3e5fe7d1392" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a5d8266dcdcdeec2c80c569de9755bfc5" kindref="member">easy_install</ref>(spec,<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a7c34692c66dff65bee93b3e5fe7d1392" kindref="member">no_deps</ref>)</highlight></codeline>
<codeline lineno="421" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a5fed7200760a507706498813f350a424" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a5fed7200760a507706498813f350a424" kindref="member">record</ref>:</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outputs<sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ac07bb3b372c0f499fe723873ee2033ce" kindref="member">outputs</ref></highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ac08b899fca071968fe261ac0e9cade76" kindref="member">root</ref>:<sp/><sp/></highlight><highlight class="comment">#<sp/>strip<sp/>any<sp/>package<sp/>prefix</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>root_len<sp/>=<sp/>len(self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ac08b899fca071968fe261ac0e9cade76" kindref="member">root</ref>)</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>counter<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(outputs)):</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outputs[counter]<sp/>=<sp/>outputs[counter][root_len:]</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>file_util</highlight></codeline>
<codeline lineno="428"><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.execute(</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>file_util.write_file,<sp/>(self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a5fed7200760a507706498813f350a424" kindref="member">record</ref>,<sp/>outputs),</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;writing<sp/>list<sp/>of<sp/>installed<sp/>files<sp/>to<sp/>&apos;%s&apos;&quot;</highlight><highlight class="normal"><sp/>%</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a5fed7200760a507706498813f350a424" kindref="member">record</ref></highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a22c0a068dd3ab6cea8f1ce796e0d222c" kindref="member">warn_deprecated_options</ref>()</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">finally</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.set_verbosity(self.distribution.verbose)</highlight></codeline>
<codeline lineno="437"><highlight class="normal"></highlight></codeline>
<codeline lineno="438" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aa25116a512caf39d307474a33db12160" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aa25116a512caf39d307474a33db12160" kindref="member">pseudo_tempname</ref>(self):</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>a<sp/>pseudo-tempname<sp/>base<sp/>in<sp/>the<sp/>install<sp/>directory.</highlight></codeline>
<codeline lineno="440"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>code<sp/>is<sp/>intentionally<sp/>naive;<sp/>if<sp/>a<sp/>malicious<sp/>party<sp/>can<sp/>write<sp/>to</highlight></codeline>
<codeline lineno="441"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>target<sp/>directory<sp/>you&apos;re<sp/>already<sp/>in<sp/>deep<sp/>doodoo.</highlight></codeline>
<codeline lineno="442"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pid<sp/>=<sp/>os.getpid()</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>Exception:</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pid<sp/>=<sp/>random.randint(0,<sp/>sys.maxsize)</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>os.path.join(self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1b80f13e00ade511bf1823bddce3341a" kindref="member">install_dir</ref>,<sp/></highlight><highlight class="stringliteral">&quot;test-easy-install-%s&quot;</highlight><highlight class="normal"><sp/>%<sp/>pid)</highlight></codeline>
<codeline lineno="448"><highlight class="normal"></highlight></codeline>
<codeline lineno="449" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a22c0a068dd3ab6cea8f1ce796e0d222c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a22c0a068dd3ab6cea8f1ce796e0d222c" kindref="member">warn_deprecated_options</ref>(self):</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight></codeline>
<codeline lineno="452" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a100653b0cd0777d3871a807d65957bb9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a100653b0cd0777d3871a807d65957bb9" kindref="member">check_site_dir</ref>(self):<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>C901<sp/><sp/>#<sp/>is<sp/>too<sp/>complex<sp/>(12)<sp/><sp/>#<sp/>FIXME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Verify<sp/>that<sp/>self.install_dir<sp/>is<sp/>.pth-capable<sp/>dir,<sp/>if<sp/>needed&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal"></highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>instdir<sp/>=<sp/>normalize_path(self.install_dir)</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pth_file<sp/>=<sp/>os.path.join(instdir,<sp/></highlight><highlight class="stringliteral">&apos;easy-install.pth&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="457"><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>os.path.exists(instdir):</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.makedirs(instdir)</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>(OSError,<sp/>IOError):</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.cant_write_to_target()</highlight></codeline>
<codeline lineno="463"><highlight class="normal"></highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Is<sp/>it<sp/>a<sp/>configured,<sp/>PYTHONPATH,<sp/>implicit,<sp/>or<sp/>explicit<sp/>site<sp/>dir?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_site_dir<sp/>=<sp/>instdir<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.all_site_dirs</highlight></codeline>
<codeline lineno="466"><highlight class="normal"></highlight></codeline>
<codeline lineno="467" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1bf70a7cc16cbed120893c9bf246ffbb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>is_site_dir<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1bf70a7cc16cbed120893c9bf246ffbb" kindref="member">multi_version</ref>:</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>No?<sp/><sp/>Then<sp/>directly<sp/>test<sp/>whether<sp/>it<sp/>does<sp/>.pth<sp/>file<sp/>processing</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_site_dir<sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a600c4edb3ac4a5abfc7fb179990f8313" kindref="member">check_pth_processing</ref>()</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>make<sp/>sure<sp/>we<sp/>can<sp/>write<sp/>to<sp/>target<sp/>dir</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>testfile<sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aa25116a512caf39d307474a33db12160" kindref="member">pseudo_tempname</ref>()<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;.write-test&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>test_exists<sp/>=<sp/>os.path.exists(testfile)</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>test_exists:</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.unlink(testfile)</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>open(testfile,<sp/></highlight><highlight class="stringliteral">&apos;w&apos;</highlight><highlight class="normal">).close()</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.unlink(testfile)</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>(OSError,<sp/>IOError):</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1acb8ea2d5d8dba0a4ceec66a684cafd8b" kindref="member">cant_write_to_target</ref>()</highlight></codeline>
<codeline lineno="481"><highlight class="normal"></highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>is_site_dir<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1bf70a7cc16cbed120893c9bf246ffbb" kindref="member">multi_version</ref>:</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Can&apos;t<sp/>install<sp/>non-multi<sp/>to<sp/>non-site<sp/>dir<sp/>with<sp/>easy_install</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pythonpath<sp/>=<sp/>os.environ.get(</highlight><highlight class="stringliteral">&apos;PYTHONPATH&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.warn(self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install" kindref="compound">__no_default_msg</ref>,<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1b80f13e00ade511bf1823bddce3341a" kindref="member">install_dir</ref>,<sp/>pythonpath)</highlight></codeline>
<codeline lineno="486"><highlight class="normal"></highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>is_site_dir:</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a034c522ba3d984174ee2696c60acb2ad" kindref="member">pth_file</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a034c522ba3d984174ee2696c60acb2ad" kindref="member">pth_file</ref><sp/>=<sp/><ref refid="classsetuptools_1_1command_1_1easy__install_1_1_pth_distributions" kindref="compound">PthDistributions</ref>(pth_file,<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a80712638561c8b3901dcced8f6b1de85" kindref="member">all_site_dirs</ref>)</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a034c522ba3d984174ee2696c60acb2ad" kindref="member">pth_file</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="492"><highlight class="normal"></highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1bf70a7cc16cbed120893c9bf246ffbb" kindref="member">multi_version</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>os.path.exists(pth_file):</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a034c522ba3d984174ee2696c60acb2ad" kindref="member">pth_file</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>don&apos;t<sp/>create<sp/>a<sp/>.pth<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1b80f13e00ade511bf1823bddce3341a" kindref="member">install_dir</ref><sp/>=<sp/>instdir</highlight></codeline>
<codeline lineno="496"><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/>__cant_write_msg<sp/>=<sp/>textwrap.dedent(</highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="498"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>can&apos;t<sp/>create<sp/>or<sp/>remove<sp/>files<sp/>in<sp/>install<sp/>directory</highlight></codeline>
<codeline lineno="499"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="500"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>following<sp/>error<sp/>occurred<sp/>while<sp/>trying<sp/>to<sp/>add<sp/>or<sp/>remove<sp/>files<sp/>in<sp/>the</highlight></codeline>
<codeline lineno="501"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>installation<sp/>directory:</highlight></codeline>
<codeline lineno="502"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="503"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>%s</highlight></codeline>
<codeline lineno="504"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="505"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>installation<sp/>directory<sp/>you<sp/>specified<sp/>(via<sp/>--install-dir,<sp/>--prefix,<sp/>or</highlight></codeline>
<codeline lineno="506"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>distutils<sp/>default<sp/>setting)<sp/>was:</highlight></codeline>
<codeline lineno="507"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="508"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>%s</highlight></codeline>
<codeline lineno="509"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal">).lstrip()<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="510"><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/>__not_exists_id<sp/>=<sp/>textwrap.dedent(</highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="512"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>directory<sp/>does<sp/>not<sp/>currently<sp/>exist.<sp/><sp/>Please<sp/>create<sp/>it<sp/>and<sp/>try<sp/>again,<sp/>or</highlight></codeline>
<codeline lineno="513"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>choose<sp/>a<sp/>different<sp/>installation<sp/>directory<sp/>(using<sp/>the<sp/>-d<sp/>or<sp/>--install-dir</highlight></codeline>
<codeline lineno="514"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>option).</highlight></codeline>
<codeline lineno="515"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal">).lstrip()<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/>__access_msg<sp/>=<sp/>textwrap.dedent(</highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="518"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Perhaps<sp/>your<sp/>account<sp/>does<sp/>not<sp/>have<sp/>write<sp/>access<sp/>to<sp/>this<sp/>directory?<sp/><sp/>If<sp/>the</highlight></codeline>
<codeline lineno="519"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>installation<sp/>directory<sp/>is<sp/>a<sp/>system-owned<sp/>directory,<sp/>you<sp/>may<sp/>need<sp/>to<sp/>sign<sp/>in</highlight></codeline>
<codeline lineno="520"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>as<sp/>the<sp/>administrator<sp/>or<sp/>&quot;root&quot;<sp/>account.<sp/><sp/>If<sp/>you<sp/>do<sp/>not<sp/>have<sp/>administrative</highlight></codeline>
<codeline lineno="521"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>access<sp/>to<sp/>this<sp/>machine,<sp/>you<sp/>may<sp/>wish<sp/>to<sp/>choose<sp/>a<sp/>different<sp/>installation</highlight></codeline>
<codeline lineno="522"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>directory,<sp/>preferably<sp/>one<sp/>that<sp/>is<sp/>listed<sp/>in<sp/>your<sp/>PYTHONPATH<sp/>environment</highlight></codeline>
<codeline lineno="523"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>variable.</highlight></codeline>
<codeline lineno="524"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="525"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>For<sp/>information<sp/>on<sp/>other<sp/>options,<sp/>you<sp/>may<sp/>wish<sp/>to<sp/>consult<sp/>the</highlight></codeline>
<codeline lineno="526"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>documentation<sp/>at:</highlight></codeline>
<codeline lineno="527"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="528"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>https://setuptools.pypa.io/en/latest/deprecated/easy_install.html</highlight></codeline>
<codeline lineno="529"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="530"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Please<sp/>make<sp/>the<sp/>appropriate<sp/>changes<sp/>for<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.</highlight></codeline>
<codeline lineno="531"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal">).lstrip()<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="532"><highlight class="normal"></highlight></codeline>
<codeline lineno="533" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1acb8ea2d5d8dba0a4ceec66a684cafd8b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1acb8ea2d5d8dba0a4ceec66a684cafd8b" kindref="member">cant_write_to_target</ref>(self):</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>=<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install" kindref="compound">__cant_write_msg</ref><sp/>%<sp/>(sys.exc_info()[1],<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1b80f13e00ade511bf1823bddce3341a" kindref="member">install_dir</ref>,)</highlight></codeline>
<codeline lineno="535"><highlight class="normal"></highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>os.path.exists(self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1b80f13e00ade511bf1823bddce3341a" kindref="member">install_dir</ref>):</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>+=<sp/></highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal"><sp/>+<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install" kindref="compound">__not_exists_id</ref></highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>+=<sp/></highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal"><sp/>+<sp/>self.<ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install" kindref="compound">__access_msg</ref></highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsError(msg)</highlight></codeline>
<codeline lineno="541"><highlight class="normal"></highlight></codeline>
<codeline lineno="542" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a600c4edb3ac4a5abfc7fb179990f8313" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a600c4edb3ac4a5abfc7fb179990f8313" kindref="member">check_pth_processing</ref>(self):</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Empirically<sp/>verify<sp/>whether<sp/>.pth<sp/>files<sp/>are<sp/>supported<sp/>in<sp/>inst.<sp/>dir&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="544"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>instdir<sp/>=<sp/>self.install_dir</highlight></codeline>
<codeline lineno="545"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.info(&quot;Checking<sp/>.pth<sp/>file<sp/>support<sp/>in<sp/>%s&quot;,<sp/>instdir)</highlight></codeline>
<codeline lineno="546"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pth_file<sp/>=<sp/>self.pseudo_tempname()<sp/>+<sp/>&quot;.pth&quot;</highlight></codeline>
<codeline lineno="547"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ok_file<sp/>=<sp/>pth_file<sp/>+<sp/>&apos;.ok&apos;</highlight></codeline>
<codeline lineno="548"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ok_exists<sp/>=<sp/>os.path.exists(ok_file)</highlight></codeline>
<codeline lineno="549"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tmpl<sp/>=<sp/>_one_liner(&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>import<sp/>os</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f<sp/>=<sp/>open({ok_file!r},<sp/>&apos;w&apos;)</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.write(&apos;OK&apos;)</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.close()</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;)<sp/>+<sp/>&apos;\n&apos;</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>ok_exists:</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.unlink(ok_file)</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dirname<sp/>=<sp/>os.path.dirname(ok_file)</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.makedirs(dirname,<sp/>exist_ok=True)</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f<sp/>=<sp/>open(pth_file,<sp/>&apos;w&apos;)</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>except<sp/>(OSError,<sp/>IOError):</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.cant_write_to_target()</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.write(tmpl.format(**locals()))</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.close()</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f<sp/>=<sp/>None</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>executable<sp/>=<sp/>sys.executable</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.name<sp/>==<sp/>&apos;nt&apos;:</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dirname,<sp/>basename<sp/>=<sp/>os.path.split(executable)</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>alt<sp/>=<sp/>os.path.join(dirname,<sp/>&apos;pythonw.exe&apos;)</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>use_alt<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>basename.lower()<sp/>==<sp/>&apos;python.exe&apos;<sp/>and</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.exists(alt)</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>use_alt:</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>use<sp/>pythonw.exe<sp/>to<sp/>avoid<sp/>opening<sp/>a<sp/>console<sp/>window</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>executable<sp/>=<sp/>alt</highlight></codeline>
<codeline lineno="579"><highlight class="normal"></highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>from<sp/>distutils.spawn<sp/>import<sp/>spawn</highlight></codeline>
<codeline lineno="581"><highlight class="normal"></highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spawn([executable,<sp/>&apos;-E&apos;,<sp/>&apos;-c&apos;,<sp/>&apos;pass&apos;],<sp/>0)</highlight></codeline>
<codeline lineno="583"><highlight class="normal"></highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.exists(ok_file):</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.info(</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;TEST<sp/>PASSED:<sp/>%s<sp/>appears<sp/>to<sp/>support<sp/>.pth<sp/>files&quot;,</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>instdir</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>True</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>finally:</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>f:</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.close()</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.exists(ok_file):</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.unlink(ok_file)</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.exists(pth_file):</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.unlink(pth_file)</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>self.multi_version:</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.warn(&quot;TEST<sp/>FAILED:<sp/>%s<sp/>does<sp/>NOT<sp/>support<sp/>.pth<sp/>files&quot;,<sp/>instdir)</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>False</highlight></codeline>
<codeline lineno="600"><highlight class="normal"></highlight></codeline>
<codeline lineno="601" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ae778ee913aa85a7faac77a9a0201dc37" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>install_egg_scripts(self,<sp/>dist):</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;Write<sp/>all<sp/>the<sp/>scripts<sp/>for<sp/>`dist`,<sp/>unless<sp/>scripts<sp/>are<sp/>excluded&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>self.exclude_scripts<sp/>and<sp/>dist.metadata_isdir(&apos;scripts&apos;):</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>script_name<sp/>in<sp/>dist.metadata_listdir(&apos;scripts&apos;):</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>dist.metadata_isdir(&apos;scripts/&apos;<sp/>+<sp/>script_name):</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>The<sp/>&quot;script&quot;<sp/>is<sp/>a<sp/>directory,<sp/>likely<sp/>a<sp/>Python<sp/>3</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>__pycache__<sp/>directory,<sp/>so<sp/>skip<sp/>it.</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.install_script(</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist,<sp/>script_name,</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist.get_metadata(&apos;scripts/&apos;<sp/>+<sp/>script_name)</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.install_wrapper_scripts(dist)</highlight></codeline>
<codeline lineno="614"><highlight class="normal"></highlight></codeline>
<codeline lineno="615" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a2530749051c6a9bc7a7ff63ad702e832" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>add_output(self,<sp/>path):</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.isdir(path):</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>base,<sp/>dirs,<sp/>files<sp/>in<sp/>os.walk(path):</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>filename<sp/>in<sp/>files:</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.outputs.append(os.path.join(base,<sp/>filename))</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.outputs.append(path)</highlight></codeline>
<codeline lineno="622"><highlight class="normal"></highlight></codeline>
<codeline lineno="623" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aa662bb68d804cb8b5e02d47e8748b4dc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>not_editable(self,<sp/>spec):</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>self.editable:</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>raise<sp/>DistutilsArgError(</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;Invalid<sp/>argument<sp/>%r:<sp/>you<sp/>can&apos;t<sp/>use<sp/>filenames<sp/>or<sp/>URLs<sp/>&quot;</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;with<sp/>--editable<sp/>(except<sp/>via<sp/>the<sp/>--find-links<sp/>option).&quot;</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>%<sp/>(spec,)</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="630"><highlight class="normal"></highlight></codeline>
<codeline lineno="631" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a790e411d67f84d9463357b2aca9fa8fb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>check_editable(self,<sp/>spec):</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>self.editable:</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return</highlight></codeline>
<codeline lineno="634"><highlight class="normal"></highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.exists(os.path.join(self.build_directory,<sp/>spec.key)):</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>raise<sp/>DistutilsArgError(</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;%r<sp/>already<sp/>exists<sp/>in<sp/>%s;<sp/>can&apos;t<sp/>do<sp/>a<sp/>checkout<sp/>there&quot;<sp/>%</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(spec.key,<sp/>self.build_directory)</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="640"><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/>@contextlib.contextmanager</highlight></codeline>
<codeline lineno="642" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aff406c05169ac4eaa94ec4eede08e1d1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_tmpdir(self):</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tmpdir<sp/>=<sp/>tempfile.mkdtemp(prefix=u&quot;easy_install-&quot;)</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>cast<sp/>to<sp/>str<sp/>as<sp/>workaround<sp/>for<sp/>#709<sp/>and<sp/>#710<sp/>and<sp/>#712</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yield<sp/>str(tmpdir)</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>finally:</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.exists(tmpdir)<sp/>and<sp/>rmtree(tmpdir)</highlight></codeline>
<codeline lineno="649"><highlight class="normal"></highlight></codeline>
<codeline lineno="650" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a5d8266dcdcdeec2c80c569de9755bfc5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>easy_install(self,<sp/>spec,<sp/>deps=False):</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>with<sp/>self._tmpdir()<sp/>as<sp/>tmpdir:</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>isinstance(spec,<sp/>Requirement):</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>URL_SCHEME(spec):</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>It&apos;s<sp/>a<sp/>url,<sp/>download<sp/>it<sp/>to<sp/>tmpdir<sp/>and<sp/>process</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.not_editable(spec)</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dl<sp/>=<sp/>self.package_index.download(spec,<sp/>tmpdir)</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>self.install_item(None,<sp/>dl,<sp/>tmpdir,<sp/>deps,<sp/>True)</highlight></codeline>
<codeline lineno="658"><highlight class="normal"></highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>elif<sp/>os.path.exists(spec):</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Existing<sp/>file<sp/>or<sp/>directory,<sp/>just<sp/>process<sp/>it<sp/>directly</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.not_editable(spec)</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>self.install_item(None,<sp/>spec,<sp/>tmpdir,<sp/>deps,<sp/>True)</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spec<sp/>=<sp/>parse_requirement_arg(spec)</highlight></codeline>
<codeline lineno="665"><highlight class="normal"></highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.check_editable(spec)</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist<sp/>=<sp/>self.package_index.fetch_distribution(</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spec,<sp/>tmpdir,<sp/>self.upgrade,<sp/>self.editable,</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>not<sp/>self.always_copy,<sp/>self.local_index</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>dist<sp/>is<sp/>None:</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>=<sp/>&quot;Could<sp/>not<sp/>find<sp/>suitable<sp/>distribution<sp/>for<sp/>%r&quot;<sp/>%<sp/>spec</highlight></codeline>
<codeline lineno="673" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a81a4e66536cc8daacb77994c1dfee99d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>self.always_copy:</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>+=<sp/>&quot;<sp/>(--always-copy<sp/>skips<sp/>system<sp/>and<sp/>development<sp/>eggs)&quot;</highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>raise<sp/>DistutilsError(msg)</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>elif<sp/>dist.precedence<sp/>==<sp/>DEVELOP_DIST:</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>.egg-info<sp/>dists<sp/>don&apos;t<sp/>need<sp/>installing,<sp/>just<sp/>process<sp/>deps</highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.process_distribution(spec,<sp/>dist,<sp/>deps,<sp/>&quot;Using&quot;)</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>dist</highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>self.install_item(spec,<sp/>dist.location,<sp/>tmpdir,<sp/>deps)</highlight></codeline>
<codeline lineno="682"><highlight class="normal"></highlight></codeline>
<codeline lineno="683" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a00d8c896a442b8651ec4d2c5a3fb6959" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>install_item(self,<sp/>spec,<sp/>download,<sp/>tmpdir,<sp/>deps,<sp/>install_needed=False):</highlight></codeline>
<codeline lineno="684"><highlight class="normal"></highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Installation<sp/>is<sp/>also<sp/>needed<sp/>if<sp/>file<sp/>in<sp/>tmpdir<sp/>or<sp/>is<sp/>not<sp/>an<sp/>egg</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>install_needed<sp/>=<sp/>install_needed<sp/>or<sp/>self.always_copy</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>install_needed<sp/>=<sp/>install_needed<sp/>or<sp/>os.path.dirname(download)<sp/>==<sp/>tmpdir</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>install_needed<sp/>=<sp/>install_needed<sp/>or<sp/>not<sp/>download.endswith(&apos;.egg&apos;)</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>install_needed<sp/>=<sp/>install_needed<sp/>or<sp/>(</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.always_copy_from<sp/>is<sp/>not<sp/>None<sp/>and</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.dirname(normalize_path(download))<sp/>==</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>normalize_path(self.always_copy_from)</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="694"><highlight class="normal"></highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>spec<sp/>and<sp/>not<sp/>install_needed:</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>at<sp/>this<sp/>point,<sp/>we<sp/>know<sp/>it&apos;s<sp/>a<sp/>local<sp/>.egg,<sp/>we<sp/>just<sp/>don&apos;t<sp/>know<sp/>if</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>it&apos;s<sp/>already<sp/>installed.</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>dist<sp/>in<sp/>self.local_index[spec.project_name]:</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>dist.location<sp/>==<sp/>download:</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break</highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>install_needed<sp/>=<sp/>True<sp/><sp/>#<sp/>it&apos;s<sp/>not<sp/>in<sp/>the<sp/>local<sp/>index</highlight></codeline>
<codeline lineno="703"><highlight class="normal"></highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.info(&quot;Processing<sp/>%s&quot;,<sp/>os.path.basename(download))</highlight></codeline>
<codeline lineno="705"><highlight class="normal"></highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>install_needed:</highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dists<sp/>=<sp/>self.install_eggs(spec,<sp/>download,<sp/>tmpdir)</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>dist<sp/>in<sp/>dists:</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.process_distribution(spec,<sp/>dist,<sp/>deps)</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dists<sp/>=<sp/>[self.egg_distribution(download)]</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.process_distribution(spec,<sp/>dists[0],<sp/>deps,<sp/>&quot;Using&quot;)</highlight></codeline>
<codeline lineno="713"><highlight class="normal"></highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>spec<sp/>is<sp/>not<sp/>None:</highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>dist<sp/>in<sp/>dists:</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>dist<sp/>in<sp/>spec:</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>dist</highlight></codeline>
<codeline lineno="718"><highlight class="normal"></highlight></codeline>
<codeline lineno="719" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a8050979ec0c62899afa31136d56cf6c5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>select_scheme(self,<sp/>name):</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>install._select_scheme(self,<sp/>name)</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>except<sp/>AttributeError:</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>stdlib<sp/>distutils</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>install.install.select_scheme(self,<sp/>name.replace(&apos;posix&apos;,<sp/>&apos;unix&apos;))</highlight></codeline>
<codeline lineno="725"><highlight class="normal"></highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/>FIXME:<sp/>&apos;easy_install.process_distribution&apos;<sp/>is<sp/>too<sp/>complex<sp/>(12)</highlight></codeline>
<codeline lineno="727" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a7fff0f4051552c83d9ba72ee1b37cb2e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>process_distribution(<sp/><sp/>#<sp/>noqa:<sp/>C901</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,<sp/>requirement,<sp/>dist,<sp/>deps=True,<sp/>*info,</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/>):</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.update_pth(dist)</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.package_index.add(dist)</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>dist<sp/>in<sp/>self.local_index[dist.key]:</highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.local_index.remove(dist)</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.local_index.add(dist)</highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.install_egg_scripts(dist)</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.installed_projects[dist.key]<sp/>=<sp/>dist</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.info(self.installation_report(requirement,<sp/>dist,<sp/>*info))</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(dist.has_metadata(&apos;dependency_links.txt&apos;)<sp/>and</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>not<sp/>self.no_find_links):</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.package_index.add_find_links(</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist.get_metadata_lines(&apos;dependency_links.txt&apos;)</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>deps<sp/>and<sp/>not<sp/>self.always_copy:</highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>elif<sp/>requirement<sp/>is<sp/>not<sp/>None<sp/>and<sp/>dist.key<sp/>!=<sp/>requirement.key:</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.warn(&quot;Skipping<sp/>dependencies<sp/>for<sp/>%s&quot;,<sp/>dist)</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/><sp/>#<sp/>XXX<sp/>this<sp/>is<sp/>not<sp/>the<sp/>distribution<sp/>we<sp/>were<sp/>looking<sp/>for</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>elif<sp/>requirement<sp/>is<sp/>None<sp/>or<sp/>dist<sp/>not<sp/>in<sp/>requirement:</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>if<sp/>we<sp/>wound<sp/>up<sp/>with<sp/>a<sp/>different<sp/>version,<sp/>resolve<sp/>what<sp/>we&apos;ve<sp/>got</highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>distreq<sp/>=<sp/>dist.as_requirement()</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>requirement<sp/>=<sp/>Requirement(str(distreq))</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.info(&quot;Processing<sp/>dependencies<sp/>for<sp/>%s&quot;,<sp/>requirement)</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>distros<sp/>=<sp/>WorkingSet([]).resolve(</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[requirement],<sp/>self.local_index,<sp/>self.easy_install</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>except<sp/>DistributionNotFound<sp/>as<sp/>e:</highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>raise<sp/>DistutilsError(str(e))<sp/>from<sp/>e</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>except<sp/>VersionConflict<sp/>as<sp/>e:</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>raise<sp/>DistutilsError(e.report())<sp/>from<sp/>e</highlight></codeline>
<codeline lineno="761" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a48d4ae1820588aaa68b80249564a6126" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>self.always_copy<sp/>or<sp/>self.always_copy_from:</highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Force<sp/>all<sp/>the<sp/>relevant<sp/>distros<sp/>to<sp/>be<sp/>copied<sp/>or<sp/>activated</highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>dist<sp/>in<sp/>distros:</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>dist.key<sp/>not<sp/>in<sp/>self.installed_projects:</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.easy_install(dist.as_requirement())</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.info(&quot;Finished<sp/>processing<sp/>dependencies<sp/>for<sp/>%s&quot;,<sp/>requirement)</highlight></codeline>
<codeline lineno="767"><highlight class="normal"></highlight></codeline>
<codeline lineno="768" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1acaadd7664312d2a0e37dc2fb2467a7e2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>should_unzip(self,<sp/>dist):</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>self.zip_ok<sp/>is<sp/>not<sp/>None:</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>not<sp/>self.zip_ok</highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>dist.has_metadata(&apos;not-zip-safe&apos;):</highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>True</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>dist.has_metadata(&apos;zip-safe&apos;):</highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>True</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>False</highlight></codeline>
<codeline lineno="776"><highlight class="normal"></highlight></codeline>
<codeline lineno="777" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a772c0322cd74fd06a221c49599da148c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>maybe_move(self,<sp/>spec,<sp/>dist_filename,<sp/>setup_base):</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dst<sp/>=<sp/>os.path.join(self.build_directory,<sp/>spec.key)</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.exists(dst):</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;%r<sp/>already<sp/>exists<sp/>in<sp/>%s;<sp/>build<sp/>directory<sp/>%s<sp/>will<sp/>not<sp/>be<sp/>kept&quot;</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.warn(msg,<sp/>spec.key,<sp/>self.build_directory,<sp/>setup_base)</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>setup_base</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.isdir(dist_filename):</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setup_base<sp/>=<sp/>dist_filename</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.dirname(dist_filename)<sp/>==<sp/>setup_base:</highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.unlink(dist_filename)<sp/><sp/>#<sp/>get<sp/>it<sp/>out<sp/>of<sp/>the<sp/>tmp<sp/>dir</highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>contents<sp/>=<sp/>os.listdir(setup_base)</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>len(contents)<sp/>==<sp/>1:</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist_filename<sp/>=<sp/>os.path.join(setup_base,<sp/>contents[0])</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.isdir(dist_filename):</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>if<sp/>the<sp/>only<sp/>thing<sp/>there<sp/>is<sp/>a<sp/>directory,<sp/>move<sp/>it<sp/>instead</highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setup_base<sp/>=<sp/>dist_filename</highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ensure_directory(dst)</highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>shutil.move(setup_base,<sp/>dst)</highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>dst</highlight></codeline>
<codeline lineno="799"><highlight class="normal"></highlight></codeline>
<codeline lineno="800" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1acee1a9e4215cba8882ced5517d058eab" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>install_wrapper_scripts(self,<sp/>dist):</highlight></codeline>
<codeline lineno="801" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ad4f35f8a4e3aede4547ac57640dce932" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>self.exclude_scripts:</highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return</highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>args<sp/>in<sp/>ScriptWriter.best().get_args(dist):</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.write_script(*args)</highlight></codeline>
<codeline lineno="805"><highlight class="normal"></highlight></codeline>
<codeline lineno="806" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a7ab5f41f3f1d16762c1690fab8f9a690" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>install_script(self,<sp/>dist,<sp/>script_name,<sp/>script_text,<sp/>dev_path=None):</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;Generate<sp/>a<sp/>legacy<sp/>script<sp/>wrapper<sp/>and<sp/>install<sp/>it&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spec<sp/>=<sp/>str(dist.as_requirement())</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_script<sp/>=<sp/>is_python_script(script_text,<sp/>script_name)</highlight></codeline>
<codeline lineno="810"><highlight class="normal"></highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>is_script:</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>body<sp/>=<sp/>self._load_template(dev_path)<sp/>%<sp/>locals()</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>script_text<sp/>=<sp/>ScriptWriter.get_header(script_text)<sp/>+<sp/>body</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.write_script(script_name,<sp/>_to_bytes(script_text),<sp/>&apos;b&apos;)</highlight></codeline>
<codeline lineno="815"><highlight class="normal"></highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/>@staticmethod</highlight></codeline>
<codeline lineno="817" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a231e72cb4c0838dee0df1dd46ffaa308" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_load_template(dev_path):</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>There<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>template<sp/>scripts<sp/>in<sp/>the<sp/>package.<sp/>This</highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>function<sp/>loads<sp/>one<sp/>of<sp/>them<sp/>and<sp/>prepares<sp/>it<sp/>for<sp/>use.</highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>See<sp/>https://github.com/pypa/setuptools/issues/134<sp/>for<sp/>info</highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>on<sp/>script<sp/>file<sp/>naming<sp/>and<sp/>downstream<sp/>issues<sp/>with<sp/>SVR4</highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>=<sp/>&apos;script.tmpl&apos;</highlight></codeline>
<codeline lineno="825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>dev_path:</highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>=<sp/>name.replace(&apos;.tmpl&apos;,<sp/>&apos;<sp/>(dev).tmpl&apos;)</highlight></codeline>
<codeline lineno="827"><highlight class="normal"></highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>raw_bytes<sp/>=<sp/>resource_string(&apos;setuptools&apos;,<sp/>name)</highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>raw_bytes.decode(&apos;utf-8&apos;)</highlight></codeline>
<codeline lineno="830"><highlight class="normal"></highlight></codeline>
<codeline lineno="831" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a31b27c6d6d969a79d2f547605df34215" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>write_script(self,<sp/>script_name,<sp/>contents,<sp/>mode=&quot;t&quot;,<sp/>blockers=()):</highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;Write<sp/>an<sp/>executable<sp/>file<sp/>to<sp/>the<sp/>scripts<sp/>directory&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.delete_blockers(<sp/><sp/>#<sp/>clean<sp/>up<sp/>old<sp/>.py/.pyw<sp/>w/o<sp/>a<sp/>script</highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[os.path.join(self.script_dir,<sp/>x)<sp/>for<sp/>x<sp/>in<sp/>blockers]</highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.info(&quot;Installing<sp/>%s<sp/>script<sp/>to<sp/>%s&quot;,<sp/>script_name,<sp/>self.script_dir)</highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target<sp/>=<sp/>os.path.join(self.script_dir,<sp/>script_name)</highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.add_output(target)</highlight></codeline>
<codeline lineno="839"><highlight class="normal"></highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>self.dry_run:</highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return</highlight></codeline>
<codeline lineno="842"><highlight class="normal"></highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mask<sp/>=<sp/>current_umask()</highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ensure_directory(target)</highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.exists(target):</highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.unlink(target)</highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>with<sp/>open(target,<sp/>&quot;w&quot;<sp/>+<sp/>mode)<sp/>as<sp/>f:</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.write(contents)</highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chmod(target,<sp/>0o777<sp/>-<sp/>mask)</highlight></codeline>
<codeline lineno="850"><highlight class="normal"></highlight></codeline>
<codeline lineno="851" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a083a166e543b063ee02b601876ec9c76" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>install_eggs(self,<sp/>spec,<sp/>dist_filename,<sp/>tmpdir):</highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>.egg<sp/>dirs<sp/>or<sp/>files<sp/>are<sp/>already<sp/>built,<sp/>so<sp/>just<sp/>return<sp/>them</highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>installer_map<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;.egg&apos;:<sp/>self.install_egg,</highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;.exe&apos;:<sp/>self.install_exe,</highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;.whl&apos;:<sp/>self.install_wheel,</highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>install_dist<sp/>=<sp/>installer_map[</highlight></codeline>
<codeline lineno="860"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist_filename.lower()[-4:]</highlight></codeline>
<codeline lineno="861"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>except<sp/>KeyError:</highlight></codeline>
<codeline lineno="863"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pass</highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>[install_dist(dist_filename,<sp/>tmpdir)]</highlight></codeline>
<codeline lineno="866"><highlight class="normal"></highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Anything<sp/>else,<sp/>try<sp/>to<sp/>extract<sp/>and<sp/>build</highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setup_base<sp/>=<sp/>tmpdir</highlight></codeline>
<codeline lineno="869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.isfile(dist_filename)<sp/>and<sp/>not<sp/>dist_filename.endswith(&apos;.py&apos;):</highlight></codeline>
<codeline lineno="870" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a8097b2408afa9e6977ef3f7b79757126" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>unpack_archive(dist_filename,<sp/>tmpdir,<sp/>self.unpack_progress)</highlight></codeline>
<codeline lineno="871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>elif<sp/>os.path.isdir(dist_filename):</highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setup_base<sp/>=<sp/>os.path.abspath(dist_filename)</highlight></codeline>
<codeline lineno="873"><highlight class="normal"></highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(setup_base.startswith(tmpdir)<sp/><sp/>#<sp/>something<sp/>we<sp/>downloaded</highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>self.build_directory<sp/>and<sp/>spec<sp/>is<sp/>not<sp/>None):</highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setup_base<sp/>=<sp/>self.maybe_move(spec,<sp/>dist_filename,<sp/>setup_base)</highlight></codeline>
<codeline lineno="877"><highlight class="normal"></highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Find<sp/>the<sp/>setup.py<sp/>file</highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setup_script<sp/>=<sp/>os.path.join(setup_base,<sp/>&apos;setup.py&apos;)</highlight></codeline>
<codeline lineno="880"><highlight class="normal"></highlight></codeline>
<codeline lineno="881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>os.path.exists(setup_script):</highlight></codeline>
<codeline lineno="882"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setups<sp/>=<sp/>glob(os.path.join(setup_base,<sp/>&apos;*&apos;,<sp/>&apos;setup.py&apos;))</highlight></codeline>
<codeline lineno="883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>setups:</highlight></codeline>
<codeline lineno="884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>raise<sp/>DistutilsError(</highlight></codeline>
<codeline lineno="885"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;Couldn&apos;t<sp/>find<sp/>a<sp/>setup<sp/>script<sp/>in<sp/>%s&quot;<sp/>%</highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.abspath(dist_filename)</highlight></codeline>
<codeline lineno="887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>len(setups)<sp/>&gt;<sp/>1:</highlight></codeline>
<codeline lineno="889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>raise<sp/>DistutilsError(</highlight></codeline>
<codeline lineno="890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;Multiple<sp/>setup<sp/>scripts<sp/>in<sp/>%s&quot;<sp/>%</highlight></codeline>
<codeline lineno="891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.abspath(dist_filename)</highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setup_script<sp/>=<sp/>setups[0]</highlight></codeline>
<codeline lineno="894"><highlight class="normal"></highlight></codeline>
<codeline lineno="895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Now<sp/>run<sp/>it,<sp/>and<sp/>return<sp/>the<sp/>result</highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>self.editable:</highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.info(self.report_editable(spec,<sp/>setup_script))</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>[]</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>self.build_and_install(setup_script,<sp/>setup_base)</highlight></codeline>
<codeline lineno="901"><highlight class="normal"></highlight></codeline>
<codeline lineno="902" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ae61025afe1867f42207293f3ef2e9d80" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>egg_distribution(self,<sp/>egg_path):</highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.isdir(egg_path):</highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metadata<sp/>=<sp/>PathMetadata(egg_path,<sp/>os.path.join(egg_path,</highlight></codeline>
<codeline lineno="905"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;EGG-INFO&apos;))</highlight></codeline>
<codeline lineno="906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metadata<sp/>=<sp/>EggMetadata(zipimport.zipimporter(egg_path))</highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>Distribution.from_filename(egg_path,<sp/>metadata=metadata)</highlight></codeline>
<codeline lineno="909"><highlight class="normal"></highlight></codeline>
<codeline lineno="910"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/>FIXME:<sp/>&apos;easy_install.install_egg&apos;<sp/>is<sp/>too<sp/>complex<sp/>(11)</highlight></codeline>
<codeline lineno="911" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a31e4ffe1c18030ea5d65bf1d78ae5363" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>install_egg(self,<sp/>egg_path,<sp/>tmpdir):<sp/><sp/>#<sp/>noqa:<sp/>C901</highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>destination<sp/>=<sp/>os.path.join(</highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.install_dir,</highlight></codeline>
<codeline lineno="914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.basename(egg_path),</highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>destination<sp/>=<sp/>os.path.abspath(destination)</highlight></codeline>
<codeline lineno="917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>self.dry_run:</highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ensure_directory(destination)</highlight></codeline>
<codeline lineno="919"><highlight class="normal"></highlight></codeline>
<codeline lineno="920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist<sp/>=<sp/>self.egg_distribution(egg_path)</highlight></codeline>
<codeline lineno="921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>(</highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.exists(destination)<sp/>and<sp/>os.path.samefile(egg_path,<sp/>destination)</highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>):</highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.isdir(destination)<sp/>and<sp/>not<sp/>os.path.islink(destination):</highlight></codeline>
<codeline lineno="925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dir_util.remove_tree(destination,<sp/>dry_run=self.dry_run)</highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>elif<sp/>os.path.exists(destination):</highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.execute(</highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.unlink,</highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(destination,),</highlight></codeline>
<codeline lineno="930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;Removing<sp/>&quot;<sp/>+<sp/>destination,</highlight></codeline>
<codeline lineno="931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_dist_is_zipped<sp/>=<sp/>False</highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.isdir(egg_path):</highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>egg_path.startswith(tmpdir):</highlight></codeline>
<codeline lineno="936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f,<sp/>m<sp/>=<sp/>shutil.move,<sp/>&quot;Moving&quot;</highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f,<sp/>m<sp/>=<sp/>shutil.copytree,<sp/>&quot;Copying&quot;</highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>elif<sp/>self.should_unzip(dist):</highlight></codeline>
<codeline lineno="940"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.mkpath(destination)</highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f,<sp/>m<sp/>=<sp/>self.unpack_and_compile,<sp/>&quot;Extracting&quot;</highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_dist_is_zipped<sp/>=<sp/>True</highlight></codeline>
<codeline lineno="944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>egg_path.startswith(tmpdir):</highlight></codeline>
<codeline lineno="945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f,<sp/>m<sp/>=<sp/>shutil.move,<sp/>&quot;Moving&quot;</highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f,<sp/>m<sp/>=<sp/>shutil.copy2,<sp/>&quot;Copying&quot;</highlight></codeline>
<codeline lineno="948"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.execute(</highlight></codeline>
<codeline lineno="949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f,</highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(egg_path,<sp/>destination),</highlight></codeline>
<codeline lineno="951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(m<sp/>+<sp/>&quot;<sp/>%s<sp/>to<sp/>%s&quot;)<sp/>%<sp/>(</highlight></codeline>
<codeline lineno="952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.basename(egg_path),</highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.dirname(destination)</highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>update_dist_caches(</highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>destination,</highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fix_zipimporter_caches=new_dist_is_zipped,</highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>except<sp/>Exception:</highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>update_dist_caches(destination,<sp/>fix_zipimporter_caches=False)</highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>raise</highlight></codeline>
<codeline lineno="963"><highlight class="normal"></highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.add_output(destination)</highlight></codeline>
<codeline lineno="965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>self.egg_distribution(destination)</highlight></codeline>
<codeline lineno="966"><highlight class="normal"></highlight></codeline>
<codeline lineno="967" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ac41dd562343651a5c159a3be83337f67" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>install_exe(self,<sp/>dist_filename,<sp/>tmpdir):</highlight></codeline>
<codeline lineno="968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>See<sp/>if<sp/>it&apos;s<sp/>valid,<sp/>get<sp/>data</highlight></codeline>
<codeline lineno="969"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cfg<sp/>=<sp/>extract_wininst_cfg(dist_filename)</highlight></codeline>
<codeline lineno="970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>cfg<sp/>is<sp/>None:</highlight></codeline>
<codeline lineno="971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>raise<sp/>DistutilsError(</highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;%s<sp/>is<sp/>not<sp/>a<sp/>valid<sp/>distutils<sp/>Windows<sp/>.exe&quot;<sp/>%<sp/>dist_filename</highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Create<sp/>a<sp/>dummy<sp/>distribution<sp/>object<sp/>until<sp/>we<sp/>build<sp/>the<sp/>real<sp/>distro</highlight></codeline>
<codeline lineno="975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist<sp/>=<sp/>Distribution(</highlight></codeline>
<codeline lineno="976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None,</highlight></codeline>
<codeline lineno="977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>project_name=cfg.get(&apos;metadata&apos;,<sp/>&apos;name&apos;),</highlight></codeline>
<codeline lineno="978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>version=cfg.get(&apos;metadata&apos;,<sp/>&apos;version&apos;),<sp/>platform=get_platform(),</highlight></codeline>
<codeline lineno="979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="980"><highlight class="normal"></highlight></codeline>
<codeline lineno="981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Convert<sp/>the<sp/>.exe<sp/>to<sp/>an<sp/>unpacked<sp/>egg</highlight></codeline>
<codeline lineno="982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>egg_path<sp/>=<sp/>os.path.join(tmpdir,<sp/>dist.egg_name()<sp/>+<sp/>&apos;.egg&apos;)</highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist.location<sp/>=<sp/>egg_path</highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>egg_tmp<sp/>=<sp/>egg_path<sp/>+<sp/>&apos;.tmp&apos;</highlight></codeline>
<codeline lineno="985"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_egg_info<sp/>=<sp/>os.path.join(egg_tmp,<sp/>&apos;EGG-INFO&apos;)</highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkg_inf<sp/>=<sp/>os.path.join(_egg_info,<sp/>&apos;PKG-INFO&apos;)</highlight></codeline>
<codeline lineno="987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ensure_directory(pkg_inf)<sp/><sp/>#<sp/>make<sp/>sure<sp/>EGG-INFO<sp/>dir<sp/>exists</highlight></codeline>
<codeline lineno="988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist._provider<sp/>=<sp/>PathMetadata(egg_tmp,<sp/>_egg_info)<sp/><sp/>#<sp/>XXX</highlight></codeline>
<codeline lineno="989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.exe_to_egg(dist_filename,<sp/>egg_tmp)</highlight></codeline>
<codeline lineno="990"><highlight class="normal"></highlight></codeline>
<codeline lineno="991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Write<sp/>EGG-INFO/PKG-INFO</highlight></codeline>
<codeline lineno="992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>os.path.exists(pkg_inf):</highlight></codeline>
<codeline lineno="993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f<sp/>=<sp/>open(pkg_inf,<sp/>&apos;w&apos;)</highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.write(&apos;Metadata-Version:<sp/>1.0\n&apos;)</highlight></codeline>
<codeline lineno="995"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>k,<sp/>v<sp/>in<sp/>cfg.items(&apos;metadata&apos;):</highlight></codeline>
<codeline lineno="996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>k<sp/>!=<sp/>&apos;target_version&apos;:</highlight></codeline>
<codeline lineno="997"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.write(&apos;%s:<sp/>%s\n&apos;<sp/>%<sp/>(k.replace(&apos;_&apos;,<sp/>&apos;-&apos;).title(),<sp/>v))</highlight></codeline>
<codeline lineno="998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.close()</highlight></codeline>
<codeline lineno="999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>script_dir<sp/>=<sp/>os.path.join(_egg_info,<sp/>&apos;scripts&apos;)</highlight></codeline>
<codeline lineno="1000"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>delete<sp/>entry-point<sp/>scripts<sp/>to<sp/>avoid<sp/>duping</highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.delete_blockers([</highlight></codeline>
<codeline lineno="1002"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.join(script_dir,<sp/>args[0])</highlight></codeline>
<codeline lineno="1003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>args<sp/>in<sp/>ScriptWriter.get_args(dist)</highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>])</highlight></codeline>
<codeline lineno="1005"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Build<sp/>.egg<sp/>file<sp/>from<sp/>tmpdir</highlight></codeline>
<codeline lineno="1006"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bdist_egg.make_zipfile(</highlight></codeline>
<codeline lineno="1007"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>egg_path,<sp/>egg_tmp,<sp/>verbose=self.verbose,<sp/>dry_run=self.dry_run,</highlight></codeline>
<codeline lineno="1008"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1009"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>install<sp/>the<sp/>.egg</highlight></codeline>
<codeline lineno="1010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>self.install_egg(egg_path,<sp/>tmpdir)</highlight></codeline>
<codeline lineno="1011"><highlight class="normal"></highlight></codeline>
<codeline lineno="1012"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/>FIXME:<sp/>&apos;easy_install.exe_to_egg&apos;<sp/>is<sp/>too<sp/>complex<sp/>(12)</highlight></codeline>
<codeline lineno="1013" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ada96a36a0c72eb1eec77b31477fde908" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>exe_to_egg(self,<sp/>dist_filename,<sp/>egg_tmp):<sp/><sp/>#<sp/>noqa:<sp/>C901</highlight></codeline>
<codeline lineno="1014"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;Extract<sp/>a<sp/>bdist_wininst<sp/>to<sp/>the<sp/>directories<sp/>an<sp/>egg<sp/>would<sp/>use&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1015"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Check<sp/>for<sp/>.pth<sp/>file<sp/>and<sp/>set<sp/>up<sp/>prefix<sp/>translations</highlight></codeline>
<codeline lineno="1016"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prefixes<sp/>=<sp/>get_exe_prefixes(dist_filename)</highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to_compile<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>native_libs<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>top_level<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="1020"><highlight class="normal"></highlight></codeline>
<codeline lineno="1021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>def<sp/>process(src,<sp/>dst):</highlight></codeline>
<codeline lineno="1022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s<sp/>=<sp/>src.lower()</highlight></codeline>
<codeline lineno="1023"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>old,<sp/>new<sp/>in<sp/>prefixes:</highlight></codeline>
<codeline lineno="1024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>s.startswith(old):</highlight></codeline>
<codeline lineno="1025"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>src<sp/>=<sp/>new<sp/>+<sp/>src[len(old):]</highlight></codeline>
<codeline lineno="1026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parts<sp/>=<sp/>src.split(&apos;/&apos;)</highlight></codeline>
<codeline lineno="1027"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dst<sp/>=<sp/>os.path.join(egg_tmp,<sp/>*parts)</highlight></codeline>
<codeline lineno="1028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dl<sp/>=<sp/>dst.lower()</highlight></codeline>
<codeline lineno="1029"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>dl.endswith(&apos;.pyd&apos;)<sp/>or<sp/>dl.endswith(&apos;.dll&apos;):</highlight></codeline>
<codeline lineno="1030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parts[-1]<sp/>=<sp/>bdist_egg.strip_module(parts[-1])</highlight></codeline>
<codeline lineno="1031"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>top_level[os.path.splitext(parts[0])[0]]<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="1032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>native_libs.append(src)</highlight></codeline>
<codeline lineno="1033"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>elif<sp/>dl.endswith(&apos;.py&apos;)<sp/>and<sp/>old<sp/>!=<sp/>&apos;SCRIPTS/&apos;:</highlight></codeline>
<codeline lineno="1034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>top_level[os.path.splitext(parts[0])[0]]<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="1035"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to_compile.append(dst)</highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>dst</highlight></codeline>
<codeline lineno="1037"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>src.endswith(&apos;.pth&apos;):</highlight></codeline>
<codeline lineno="1038"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.warn(&quot;WARNING:<sp/>can&apos;t<sp/>process<sp/>%s&quot;,<sp/>src)</highlight></codeline>
<codeline lineno="1039"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>None</highlight></codeline>
<codeline lineno="1040"><highlight class="normal"></highlight></codeline>
<codeline lineno="1041"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>extract,<sp/>tracking<sp/>.pyd/.dll-&gt;native_libs<sp/>and<sp/>.py<sp/>-&gt;<sp/>to_compile</highlight></codeline>
<codeline lineno="1042"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>unpack_archive(dist_filename,<sp/>egg_tmp,<sp/>process)</highlight></codeline>
<codeline lineno="1043"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stubs<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1044"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>res<sp/>in<sp/>native_libs:</highlight></codeline>
<codeline lineno="1045"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>res.lower().endswith(&apos;.pyd&apos;):<sp/><sp/>#<sp/>create<sp/>stubs<sp/>for<sp/>.pyd&apos;s</highlight></codeline>
<codeline lineno="1046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parts<sp/>=<sp/>res.split(&apos;/&apos;)</highlight></codeline>
<codeline lineno="1047"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>resource<sp/>=<sp/>parts[-1]</highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parts[-1]<sp/>=<sp/>bdist_egg.strip_module(parts[-1])<sp/>+<sp/>&apos;.py&apos;</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pyfile<sp/>=<sp/>os.path.join(egg_tmp,<sp/>*parts)</highlight></codeline>
<codeline lineno="1050"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to_compile.append(pyfile)</highlight></codeline>
<codeline lineno="1051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stubs.append(pyfile)</highlight></codeline>
<codeline lineno="1052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bdist_egg.write_stub(resource,<sp/>pyfile)</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.byte_compile(to_compile)<sp/><sp/>#<sp/>compile<sp/>.py&apos;s</highlight></codeline>
<codeline lineno="1054"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bdist_egg.write_safety_flag(</highlight></codeline>
<codeline lineno="1055"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.join(egg_tmp,<sp/>&apos;EGG-INFO&apos;),</highlight></codeline>
<codeline lineno="1056"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bdist_egg.analyze_egg(egg_tmp,<sp/>stubs))<sp/><sp/>#<sp/>write<sp/>zip-safety<sp/>flag</highlight></codeline>
<codeline lineno="1057"><highlight class="normal"></highlight></codeline>
<codeline lineno="1058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>name<sp/>in<sp/>&apos;top_level&apos;,<sp/>&apos;native_libs&apos;:</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>locals()[name]:</highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>txt<sp/>=<sp/>os.path.join(egg_tmp,<sp/>&apos;EGG-INFO&apos;,<sp/>name<sp/>+<sp/>&apos;.txt&apos;)</highlight></codeline>
<codeline lineno="1061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>os.path.exists(txt):</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f<sp/>=<sp/>open(txt,<sp/>&apos;w&apos;)</highlight></codeline>
<codeline lineno="1063"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.write(&apos;\n&apos;.join(locals()[name])<sp/>+<sp/>&apos;\n&apos;)</highlight></codeline>
<codeline lineno="1064"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.close()</highlight></codeline>
<codeline lineno="1065"><highlight class="normal"></highlight></codeline>
<codeline lineno="1066" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ab929804785dae7afeec991a18c07591b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>install_wheel(self,<sp/>wheel_path,<sp/>tmpdir):</highlight></codeline>
<codeline lineno="1067"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wheel<sp/>=<sp/>Wheel(wheel_path)</highlight></codeline>
<codeline lineno="1068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assert<sp/>wheel.is_compatible()</highlight></codeline>
<codeline lineno="1069"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>destination<sp/>=<sp/>os.path.join(self.install_dir,<sp/>wheel.egg_name())</highlight></codeline>
<codeline lineno="1070"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>destination<sp/>=<sp/>os.path.abspath(destination)</highlight></codeline>
<codeline lineno="1071"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>self.dry_run:</highlight></codeline>
<codeline lineno="1072"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ensure_directory(destination)</highlight></codeline>
<codeline lineno="1073"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.isdir(destination)<sp/>and<sp/>not<sp/>os.path.islink(destination):</highlight></codeline>
<codeline lineno="1074"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dir_util.remove_tree(destination,<sp/>dry_run=self.dry_run)</highlight></codeline>
<codeline lineno="1075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>elif<sp/>os.path.exists(destination):</highlight></codeline>
<codeline lineno="1076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.execute(</highlight></codeline>
<codeline lineno="1077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.unlink,</highlight></codeline>
<codeline lineno="1078"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(destination,),</highlight></codeline>
<codeline lineno="1079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;Removing<sp/>&quot;<sp/>+<sp/>destination,</highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="1082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.execute(</highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wheel.install_as_egg,</highlight></codeline>
<codeline lineno="1084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(destination,),</highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(&quot;Installing<sp/>%s<sp/>to<sp/>%s&quot;)<sp/>%<sp/>(</highlight></codeline>
<codeline lineno="1086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.basename(wheel_path),</highlight></codeline>
<codeline lineno="1087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.dirname(destination)</highlight></codeline>
<codeline lineno="1088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline lineno="1089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>finally:</highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>update_dist_caches(destination,<sp/>fix_zipimporter_caches=False)</highlight></codeline>
<codeline lineno="1092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.add_output(destination)</highlight></codeline>
<codeline lineno="1093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>self.egg_distribution(destination)</highlight></codeline>
<codeline lineno="1094"><highlight class="normal"></highlight></codeline>
<codeline lineno="1095"><highlight class="normal"><sp/><sp/><sp/><sp/>__mv_warning<sp/>=<sp/>textwrap.dedent(&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Because<sp/>this<sp/>distribution<sp/>was<sp/>installed<sp/>--multi-version,<sp/>before<sp/>you<sp/>can</highlight></codeline>
<codeline lineno="1097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>import<sp/>modules<sp/>from<sp/>this<sp/>package<sp/>in<sp/>an<sp/>application,<sp/>you<sp/>will<sp/>need<sp/>to</highlight></codeline>
<codeline lineno="1098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;import<sp/>pkg_resources&apos;<sp/>and<sp/>then<sp/>use<sp/>a<sp/>&apos;require()&apos;<sp/>call<sp/>similar<sp/>to<sp/>one<sp/>of</highlight></codeline>
<codeline lineno="1099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>these<sp/>examples,<sp/>in<sp/>order<sp/>to<sp/>select<sp/>the<sp/>desired<sp/>version:</highlight></codeline>
<codeline lineno="1100"><highlight class="normal"></highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkg_resources.require(&quot;%(name)s&quot;)<sp/><sp/>#<sp/>latest<sp/>installed<sp/>version</highlight></codeline>
<codeline lineno="1102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkg_resources.require(&quot;%(name)s==%(version)s&quot;)<sp/><sp/>#<sp/>this<sp/>exact<sp/>version</highlight></codeline>
<codeline lineno="1103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkg_resources.require(&quot;%(name)s&gt;=%(version)s&quot;)<sp/><sp/>#<sp/>this<sp/>version<sp/>or<sp/>higher</highlight></codeline>
<codeline lineno="1104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;).lstrip()<sp/><sp/>#<sp/>noqa</highlight></codeline>
<codeline lineno="1105"><highlight class="normal"></highlight></codeline>
<codeline lineno="1106"><highlight class="normal"><sp/><sp/><sp/><sp/>__id_warning<sp/>=<sp/>textwrap.dedent(&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Note<sp/>also<sp/>that<sp/>the<sp/>installation<sp/>directory<sp/>must<sp/>be<sp/>on<sp/>sys.path<sp/>at<sp/>runtime<sp/>for</highlight></codeline>
<codeline lineno="1108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this<sp/>to<sp/>work.<sp/><sp/>(e.g.<sp/>by<sp/>being<sp/>the<sp/>application&apos;s<sp/>script<sp/>directory,<sp/>by<sp/>being<sp/>on</highlight></codeline>
<codeline lineno="1109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PYTHONPATH,<sp/>or<sp/>by<sp/>being<sp/>added<sp/>to<sp/>sys.path<sp/>by<sp/>your<sp/>code.)</highlight></codeline>
<codeline lineno="1110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;)<sp/><sp/>#<sp/>noqa</highlight></codeline>
<codeline lineno="1111"><highlight class="normal"></highlight></codeline>
<codeline lineno="1112" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ad8420893bd6bd6e2d989e16b8c3271e4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>installation_report(self,<sp/>req,<sp/>dist,<sp/>what=&quot;Installed&quot;):</highlight></codeline>
<codeline lineno="1113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;Helpful<sp/>installation<sp/>message<sp/>for<sp/>display<sp/>to<sp/>package<sp/>users&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>=<sp/>&quot;\n%(what)s<sp/>%(eggloc)s%(extras)s&quot;</highlight></codeline>
<codeline lineno="1115" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a604927b48bfd9a0e30353bb9430c8848" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>self.multi_version<sp/>and<sp/>not<sp/>self.no_report:</highlight></codeline>
<codeline lineno="1116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>+=<sp/>&apos;\n&apos;<sp/>+<sp/>self.__mv_warning</highlight></codeline>
<codeline lineno="1117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>self.install_dir<sp/>not<sp/>in<sp/>map(normalize_path,<sp/>sys.path):</highlight></codeline>
<codeline lineno="1118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>+=<sp/>&apos;\n&apos;<sp/>+<sp/>self.__id_warning</highlight></codeline>
<codeline lineno="1119"><highlight class="normal"></highlight></codeline>
<codeline lineno="1120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eggloc<sp/>=<sp/>dist.location</highlight></codeline>
<codeline lineno="1121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>=<sp/>dist.project_name</highlight></codeline>
<codeline lineno="1122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>version<sp/>=<sp/>dist.version</highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extras<sp/>=<sp/>&apos;&apos;<sp/><sp/>#<sp/>TODO:<sp/>self.report_extras(req,<sp/>dist)</highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>msg<sp/>%<sp/>locals()</highlight></codeline>
<codeline lineno="1125"><highlight class="normal"></highlight></codeline>
<codeline lineno="1126"><highlight class="normal"><sp/><sp/><sp/><sp/>__editable_msg<sp/>=<sp/>textwrap.dedent(&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Extracted<sp/>editable<sp/>version<sp/>of<sp/>%(spec)s<sp/>to<sp/>%(dirname)s</highlight></codeline>
<codeline lineno="1128"><highlight class="normal"></highlight></codeline>
<codeline lineno="1129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>If<sp/>it<sp/>uses<sp/>setuptools<sp/>in<sp/>its<sp/>setup<sp/>script,<sp/>you<sp/>can<sp/>activate<sp/>it<sp/>in</highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;development&quot;<sp/>mode<sp/>by<sp/>going<sp/>to<sp/>that<sp/>directory<sp/>and<sp/>running::</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"></highlight></codeline>
<codeline lineno="1132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>%(python)s<sp/>setup.py<sp/>develop</highlight></codeline>
<codeline lineno="1133"><highlight class="normal"></highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>See<sp/>the<sp/>setuptools<sp/>documentation<sp/>for<sp/>the<sp/>&quot;develop&quot;<sp/>command<sp/>for<sp/>more<sp/>info.</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;).lstrip()<sp/><sp/>#<sp/>noqa</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"></highlight></codeline>
<codeline lineno="1137" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a3bef514e075989b1218733b6202c2abd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>report_editable(self,<sp/>spec,<sp/>setup_script):</highlight></codeline>
<codeline lineno="1138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dirname<sp/>=<sp/>os.path.dirname(setup_script)</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>python<sp/>=<sp/>sys.executable</highlight></codeline>
<codeline lineno="1140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>&apos;\n&apos;<sp/>+<sp/>self.__editable_msg<sp/>%<sp/>locals()</highlight></codeline>
<codeline lineno="1141"><highlight class="normal"></highlight></codeline>
<codeline lineno="1142" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a104a807b0b2c4c6225857490fa1d2d3c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>run_setup(self,<sp/>setup_script,<sp/>setup_base,<sp/>args):</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sys.modules.setdefault(&apos;distutils.command.bdist_egg&apos;,<sp/>bdist_egg)</highlight></codeline>
<codeline lineno="1144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sys.modules.setdefault(&apos;distutils.command.egg_info&apos;,<sp/>egg_info)</highlight></codeline>
<codeline lineno="1145"><highlight class="normal"></highlight></codeline>
<codeline lineno="1146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args<sp/>=<sp/>list(args)</highlight></codeline>
<codeline lineno="1147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>self.verbose<sp/>&gt;<sp/>2:</highlight></codeline>
<codeline lineno="1148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v<sp/>=<sp/>&apos;v&apos;<sp/>*<sp/>(self.verbose<sp/>-<sp/>1)</highlight></codeline>
<codeline lineno="1149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args.insert(0,<sp/>&apos;-&apos;<sp/>+<sp/>v)</highlight></codeline>
<codeline lineno="1150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>elif<sp/>self.verbose<sp/>&lt;<sp/>2:</highlight></codeline>
<codeline lineno="1151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args.insert(0,<sp/>&apos;-q&apos;)</highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>self.dry_run:</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args.insert(0,<sp/>&apos;-n&apos;)</highlight></codeline>
<codeline lineno="1154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.info(</highlight></codeline>
<codeline lineno="1155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;Running<sp/>%s<sp/>%s&quot;,<sp/>setup_script[len(setup_base)<sp/>+<sp/>1:],<sp/>&apos;<sp/>&apos;.join(args)</highlight></codeline>
<codeline lineno="1156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="1158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>run_setup(setup_script,<sp/>args)</highlight></codeline>
<codeline lineno="1159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>except<sp/>SystemExit<sp/>as<sp/>v:</highlight></codeline>
<codeline lineno="1160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>raise<sp/>DistutilsError(</highlight></codeline>
<codeline lineno="1161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;Setup<sp/>script<sp/>exited<sp/>with<sp/>%s&quot;<sp/>%<sp/>(v.args[0],)</highlight></codeline>
<codeline lineno="1162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/>from<sp/>v</highlight></codeline>
<codeline lineno="1163"><highlight class="normal"></highlight></codeline>
<codeline lineno="1164" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a604234b59953ed7811711ee060e888bf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>build_and_install(self,<sp/>setup_script,<sp/>setup_base):</highlight></codeline>
<codeline lineno="1165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args<sp/>=<sp/>[&apos;bdist_egg&apos;,<sp/>&apos;--dist-dir&apos;]</highlight></codeline>
<codeline lineno="1166"><highlight class="normal"></highlight></codeline>
<codeline lineno="1167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist_dir<sp/>=<sp/>tempfile.mkdtemp(</highlight></codeline>
<codeline lineno="1168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prefix=&apos;egg-dist-tmp-&apos;,<sp/>dir=os.path.dirname(setup_script)</highlight></codeline>
<codeline lineno="1169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="1171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self._set_fetcher_options(os.path.dirname(setup_script))</highlight></codeline>
<codeline lineno="1172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args.append(dist_dir)</highlight></codeline>
<codeline lineno="1173"><highlight class="normal"></highlight></codeline>
<codeline lineno="1174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.run_setup(setup_script,<sp/>setup_base,<sp/>args)</highlight></codeline>
<codeline lineno="1175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all_eggs<sp/>=<sp/>Environment([dist_dir])</highlight></codeline>
<codeline lineno="1176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eggs<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>key<sp/>in<sp/>all_eggs:</highlight></codeline>
<codeline lineno="1178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>dist<sp/>in<sp/>all_eggs[key]:</highlight></codeline>
<codeline lineno="1179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eggs.append(self.install_egg(dist.location,<sp/>setup_base))</highlight></codeline>
<codeline lineno="1180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>eggs<sp/>and<sp/>not<sp/>self.dry_run:</highlight></codeline>
<codeline lineno="1181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.warn(&quot;No<sp/>eggs<sp/>found<sp/>in<sp/>%s<sp/>(setup<sp/>script<sp/>problem?)&quot;,</highlight></codeline>
<codeline lineno="1182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist_dir)</highlight></codeline>
<codeline lineno="1183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>eggs</highlight></codeline>
<codeline lineno="1184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>finally:</highlight></codeline>
<codeline lineno="1185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rmtree(dist_dir)</highlight></codeline>
<codeline lineno="1186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.set_verbosity(self.verbose)<sp/><sp/>#<sp/>restore<sp/>our<sp/>log<sp/>verbosity</highlight></codeline>
<codeline lineno="1187"><highlight class="normal"></highlight></codeline>
<codeline lineno="1188" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a4f9ddc685a50a09be9a7b508774ccddb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_set_fetcher_options(self,<sp/>base):</highlight></codeline>
<codeline lineno="1189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>When<sp/>easy_install<sp/>is<sp/>about<sp/>to<sp/>run<sp/>bdist_egg<sp/>on<sp/>a<sp/>source<sp/>dist,<sp/>that</highlight></codeline>
<codeline lineno="1191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>source<sp/>dist<sp/>might<sp/>have<sp/>&apos;setup_requires&apos;<sp/>directives,<sp/>requiring</highlight></codeline>
<codeline lineno="1192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>additional<sp/>fetching.<sp/>Ensure<sp/>the<sp/>fetcher<sp/>options<sp/>given<sp/>to<sp/>easy_install</highlight></codeline>
<codeline lineno="1193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>are<sp/>available<sp/>to<sp/>that<sp/>command<sp/>as<sp/>well.</highlight></codeline>
<codeline lineno="1194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>find<sp/>the<sp/>fetch<sp/>options<sp/>from<sp/>easy_install<sp/>and<sp/>write<sp/>them<sp/>out</highlight></codeline>
<codeline lineno="1196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>to<sp/>the<sp/>setup.cfg<sp/>file.</highlight></codeline>
<codeline lineno="1197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ei_opts<sp/>=<sp/>self.distribution.get_option_dict(&apos;easy_install&apos;).copy()</highlight></codeline>
<codeline lineno="1198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fetch_directives<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="1199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;find_links&apos;,<sp/>&apos;site_dirs&apos;,<sp/>&apos;index_url&apos;,<sp/>&apos;optimize&apos;,<sp/>&apos;allow_hosts&apos;,</highlight></codeline>
<codeline lineno="1200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fetch_options<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>key,<sp/>val<sp/>in<sp/>ei_opts.items():</highlight></codeline>
<codeline lineno="1203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>key<sp/>not<sp/>in<sp/>fetch_directives:</highlight></codeline>
<codeline lineno="1204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fetch_options[key]<sp/>=<sp/>val[1]</highlight></codeline>
<codeline lineno="1206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>create<sp/>a<sp/>settings<sp/>dictionary<sp/>suitable<sp/>for<sp/>`edit_config`</highlight></codeline>
<codeline lineno="1207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>settings<sp/>=<sp/>dict(easy_install=fetch_options)</highlight></codeline>
<codeline lineno="1208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cfg_filename<sp/>=<sp/>os.path.join(base,<sp/>&apos;setup.cfg&apos;)</highlight></codeline>
<codeline lineno="1209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setopt.edit_config(cfg_filename,<sp/>settings)</highlight></codeline>
<codeline lineno="1210"><highlight class="normal"></highlight></codeline>
<codeline lineno="1211" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a94d9e559f3438f4aa8938cbc394d7f47" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>update_pth(self,<sp/>dist):<sp/><sp/>#<sp/>noqa:<sp/>C901<sp/><sp/>#<sp/>is<sp/>too<sp/>complex<sp/>(11)<sp/><sp/>#<sp/>FIXME</highlight></codeline>
<codeline lineno="1212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>self.pth_file<sp/>is<sp/>None:</highlight></codeline>
<codeline lineno="1213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return</highlight></codeline>
<codeline lineno="1214"><highlight class="normal"></highlight></codeline>
<codeline lineno="1215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>d<sp/>in<sp/>self.pth_file[dist.key]:<sp/><sp/>#<sp/>drop<sp/>old<sp/>entries</highlight></codeline>
<codeline lineno="1216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>self.multi_version<sp/>and<sp/>d.location<sp/>==<sp/>dist.location:</highlight></codeline>
<codeline lineno="1217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1218"><highlight class="normal"></highlight></codeline>
<codeline lineno="1219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.info(&quot;Removing<sp/>%s<sp/>from<sp/>easy-install.pth<sp/>file&quot;,<sp/>d)</highlight></codeline>
<codeline lineno="1220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.pth_file.remove(d)</highlight></codeline>
<codeline lineno="1221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>d.location<sp/>in<sp/>self.shadow_path:</highlight></codeline>
<codeline lineno="1222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.shadow_path.remove(d.location)</highlight></codeline>
<codeline lineno="1223"><highlight class="normal"></highlight></codeline>
<codeline lineno="1224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>self.multi_version:</highlight></codeline>
<codeline lineno="1225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>dist.location<sp/>in<sp/>self.pth_file.paths:</highlight></codeline>
<codeline lineno="1226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.info(</highlight></codeline>
<codeline lineno="1227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;%s<sp/>is<sp/>already<sp/>the<sp/>active<sp/>version<sp/>in<sp/>easy-install.pth&quot;,</highlight></codeline>
<codeline lineno="1228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist,</highlight></codeline>
<codeline lineno="1229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="1231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.info(&quot;Adding<sp/>%s<sp/>to<sp/>easy-install.pth<sp/>file&quot;,<sp/>dist)</highlight></codeline>
<codeline lineno="1232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.pth_file.add(dist)<sp/><sp/>#<sp/>add<sp/>new<sp/>entry</highlight></codeline>
<codeline lineno="1233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>dist.location<sp/>not<sp/>in<sp/>self.shadow_path:</highlight></codeline>
<codeline lineno="1234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.shadow_path.append(dist.location)</highlight></codeline>
<codeline lineno="1235"><highlight class="normal"></highlight></codeline>
<codeline lineno="1236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>self.dry_run:</highlight></codeline>
<codeline lineno="1237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return</highlight></codeline>
<codeline lineno="1238"><highlight class="normal"></highlight></codeline>
<codeline lineno="1239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.pth_file.save()</highlight></codeline>
<codeline lineno="1240"><highlight class="normal"></highlight></codeline>
<codeline lineno="1241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>dist.key<sp/>!=<sp/>&apos;setuptools&apos;:</highlight></codeline>
<codeline lineno="1242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return</highlight></codeline>
<codeline lineno="1243"><highlight class="normal"></highlight></codeline>
<codeline lineno="1244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Ensure<sp/>that<sp/>setuptools<sp/>itself<sp/>never<sp/>becomes<sp/>unavailable!</highlight></codeline>
<codeline lineno="1245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>XXX<sp/>should<sp/>this<sp/>check<sp/>for<sp/>latest<sp/>version?</highlight></codeline>
<codeline lineno="1246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filename<sp/>=<sp/>os.path.join(self.install_dir,<sp/>&apos;setuptools.pth&apos;)</highlight></codeline>
<codeline lineno="1247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.islink(filename):</highlight></codeline>
<codeline lineno="1248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.unlink(filename)</highlight></codeline>
<codeline lineno="1249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>with<sp/>open(filename,<sp/>&apos;wt&apos;)<sp/>as<sp/>f:</highlight></codeline>
<codeline lineno="1250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.write(self.pth_file.make_relative(dist.location)<sp/>+<sp/>&apos;\n&apos;)</highlight></codeline>
<codeline lineno="1251"><highlight class="normal"></highlight></codeline>
<codeline lineno="1252" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1ad45b1645cacc83f0e871b9a48b021b47" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>unpack_progress(self,<sp/>src,<sp/>dst):</highlight></codeline>
<codeline lineno="1253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Progress<sp/>filter<sp/>for<sp/>unpacking</highlight></codeline>
<codeline lineno="1254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.debug(&quot;Unpacking<sp/>%s<sp/>to<sp/>%s&quot;,<sp/>src,<sp/>dst)</highlight></codeline>
<codeline lineno="1255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>dst<sp/><sp/>#<sp/>only<sp/>unpack-and-compile<sp/>skips<sp/>files<sp/>for<sp/>dry<sp/>run</highlight></codeline>
<codeline lineno="1256"><highlight class="normal"></highlight></codeline>
<codeline lineno="1257" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a91c6452841187a75a8fe3d36d92c88b3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>unpack_and_compile(self,<sp/>egg_path,<sp/>destination):</highlight></codeline>
<codeline lineno="1258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to_compile<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to_chmod<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1260"><highlight class="normal"></highlight></codeline>
<codeline lineno="1261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>def<sp/>pf(src,<sp/>dst):</highlight></codeline>
<codeline lineno="1262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>dst.endswith(&apos;.py&apos;)<sp/>and<sp/>not<sp/>src.startswith(&apos;EGG-INFO/&apos;):</highlight></codeline>
<codeline lineno="1263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to_compile.append(dst)</highlight></codeline>
<codeline lineno="1264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>elif<sp/>dst.endswith(&apos;.dll&apos;)<sp/>or<sp/>dst.endswith(&apos;.so&apos;):</highlight></codeline>
<codeline lineno="1265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to_chmod.append(dst)</highlight></codeline>
<codeline lineno="1266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.unpack_progress(src,<sp/>dst)</highlight></codeline>
<codeline lineno="1267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>not<sp/>self.dry_run<sp/>and<sp/>dst<sp/>or<sp/>None</highlight></codeline>
<codeline lineno="1268"><highlight class="normal"></highlight></codeline>
<codeline lineno="1269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>unpack_archive(egg_path,<sp/>destination,<sp/>pf)</highlight></codeline>
<codeline lineno="1270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.byte_compile(to_compile)</highlight></codeline>
<codeline lineno="1271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>self.dry_run:</highlight></codeline>
<codeline lineno="1272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>f<sp/>in<sp/>to_chmod:</highlight></codeline>
<codeline lineno="1273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mode<sp/>=<sp/>((os.stat(f)[stat.ST_MODE])<sp/>|<sp/>0o555)<sp/>&amp;<sp/>0o7755</highlight></codeline>
<codeline lineno="1274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chmod(f,<sp/>mode)</highlight></codeline>
<codeline lineno="1275"><highlight class="normal"></highlight></codeline>
<codeline lineno="1276" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aa3147ccf89c6bc0ee8cf30a45782914a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>byte_compile(self,<sp/>to_compile):</highlight></codeline>
<codeline lineno="1277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>sys.dont_write_bytecode:</highlight></codeline>
<codeline lineno="1278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return</highlight></codeline>
<codeline lineno="1279"><highlight class="normal"></highlight></codeline>
<codeline lineno="1280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>from<sp/>distutils.util<sp/>import<sp/>byte_compile</highlight></codeline>
<codeline lineno="1281"><highlight class="normal"></highlight></codeline>
<codeline lineno="1282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="1283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>try<sp/>to<sp/>make<sp/>the<sp/>byte<sp/>compile<sp/>messages<sp/>quieter</highlight></codeline>
<codeline lineno="1284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.set_verbosity(self.verbose<sp/>-<sp/>1)</highlight></codeline>
<codeline lineno="1285"><highlight class="normal"></highlight></codeline>
<codeline lineno="1286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>byte_compile(to_compile,<sp/>optimize=0,<sp/>force=1,<sp/>dry_run=self.dry_run)</highlight></codeline>
<codeline lineno="1287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>self.optimize:</highlight></codeline>
<codeline lineno="1288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>byte_compile(</highlight></codeline>
<codeline lineno="1289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to_compile,<sp/>optimize=self.optimize,<sp/>force=1,</highlight></codeline>
<codeline lineno="1290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dry_run=self.dry_run,</highlight></codeline>
<codeline lineno="1291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>finally:</highlight></codeline>
<codeline lineno="1293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.set_verbosity(self.verbose)<sp/><sp/>#<sp/>restore<sp/>original<sp/>verbosity</highlight></codeline>
<codeline lineno="1294"><highlight class="normal"></highlight></codeline>
<codeline lineno="1295"><highlight class="normal"><sp/><sp/><sp/><sp/>__no_default_msg<sp/>=<sp/>textwrap.dedent(&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bad<sp/>install<sp/>directory<sp/>or<sp/>PYTHONPATH</highlight></codeline>
<codeline lineno="1297"><highlight class="normal"></highlight></codeline>
<codeline lineno="1298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>You<sp/>are<sp/>attempting<sp/>to<sp/>install<sp/>a<sp/>package<sp/>to<sp/>a<sp/>directory<sp/>that<sp/>is<sp/>not</highlight></codeline>
<codeline lineno="1299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>on<sp/>PYTHONPATH<sp/>and<sp/>which<sp/>Python<sp/>does<sp/>not<sp/>read<sp/>&quot;.pth&quot;<sp/>files<sp/>from.<sp/><sp/>The</highlight></codeline>
<codeline lineno="1300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>installation<sp/>directory<sp/>you<sp/>specified<sp/>(via<sp/>--install-dir,<sp/>--prefix,<sp/>or</highlight></codeline>
<codeline lineno="1301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>distutils<sp/>default<sp/>setting)<sp/>was:</highlight></codeline>
<codeline lineno="1302"><highlight class="normal"></highlight></codeline>
<codeline lineno="1303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>%s</highlight></codeline>
<codeline lineno="1304"><highlight class="normal"></highlight></codeline>
<codeline lineno="1305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>your<sp/>PYTHONPATH<sp/>environment<sp/>variable<sp/>currently<sp/>contains:</highlight></codeline>
<codeline lineno="1306"><highlight class="normal"></highlight></codeline>
<codeline lineno="1307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>%r</highlight></codeline>
<codeline lineno="1308"><highlight class="normal"></highlight></codeline>
<codeline lineno="1309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Here<sp/>are<sp/>some<sp/>of<sp/>your<sp/>options<sp/>for<sp/>correcting<sp/>the<sp/>problem:</highlight></codeline>
<codeline lineno="1310"><highlight class="normal"></highlight></codeline>
<codeline lineno="1311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>You<sp/>can<sp/>choose<sp/>a<sp/>different<sp/>installation<sp/>directory,<sp/>i.e.,<sp/>one<sp/>that<sp/>is</highlight></codeline>
<codeline lineno="1312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>on<sp/>PYTHONPATH<sp/>or<sp/>supports<sp/>.pth<sp/>files</highlight></codeline>
<codeline lineno="1313"><highlight class="normal"></highlight></codeline>
<codeline lineno="1314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>You<sp/>can<sp/>add<sp/>the<sp/>installation<sp/>directory<sp/>to<sp/>the<sp/>PYTHONPATH<sp/>environment</highlight></codeline>
<codeline lineno="1315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>variable.<sp/><sp/>(It<sp/>must<sp/>then<sp/>also<sp/>be<sp/>on<sp/>PYTHONPATH<sp/>whenever<sp/>you<sp/>run</highlight></codeline>
<codeline lineno="1316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Python<sp/>and<sp/>want<sp/>to<sp/>use<sp/>the<sp/>package(s)<sp/>you<sp/>are<sp/>installing.)</highlight></codeline>
<codeline lineno="1317"><highlight class="normal"></highlight></codeline>
<codeline lineno="1318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>You<sp/>can<sp/>set<sp/>up<sp/>the<sp/>installation<sp/>directory<sp/>to<sp/>support<sp/>&quot;.pth&quot;<sp/>files<sp/>by</highlight></codeline>
<codeline lineno="1319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>using<sp/>one<sp/>of<sp/>the<sp/>approaches<sp/>described<sp/>here:</highlight></codeline>
<codeline lineno="1320"><highlight class="normal"></highlight></codeline>
<codeline lineno="1321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>https://setuptools.pypa.io/en/latest/deprecated/easy_install.html#custom-installation-locations</highlight></codeline>
<codeline lineno="1322"><highlight class="normal"></highlight></codeline>
<codeline lineno="1323"><highlight class="normal"></highlight></codeline>
<codeline lineno="1324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Please<sp/>make<sp/>the<sp/>appropriate<sp/>changes<sp/>for<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.</highlight></codeline>
<codeline lineno="1325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;).strip()</highlight></codeline>
<codeline lineno="1326"><highlight class="normal"></highlight></codeline>
<codeline lineno="1327" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a2dbfcb6c3c84b6178287a21f0f79028f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>create_home_path(self):</highlight></codeline>
<codeline lineno="1328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;Create<sp/>directories<sp/>under<sp/>~.&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>self.user:</highlight></codeline>
<codeline lineno="1330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return</highlight></codeline>
<codeline lineno="1331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>home<sp/>=<sp/>convert_path(os.path.expanduser(&quot;~&quot;))</highlight></codeline>
<codeline lineno="1332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>path<sp/>in<sp/>only_strs(self.config_vars.values()):</highlight></codeline>
<codeline lineno="1333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>path.startswith(home)<sp/>and<sp/>not<sp/>os.path.isdir(path):</highlight></codeline>
<codeline lineno="1334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.debug_print(&quot;os.makedirs(&apos;%s&apos;,<sp/>0o700)&quot;<sp/>%<sp/>path)</highlight></codeline>
<codeline lineno="1335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.makedirs(path,<sp/>0o700)</highlight></codeline>
<codeline lineno="1336"><highlight class="normal"></highlight></codeline>
<codeline lineno="1337" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a61688ced2ba513587927ddedcc08eddc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>INSTALL_SCHEMES<sp/>=<sp/>dict(</highlight></codeline>
<codeline lineno="1338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>posix=dict(</highlight></codeline>
<codeline lineno="1339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>install_dir=&apos;$base/lib/python$py_version_short/site-packages&apos;,</highlight></codeline>
<codeline lineno="1340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>script_dir=&apos;$base/bin&apos;,</highlight></codeline>
<codeline lineno="1341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline lineno="1342"><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1343"><highlight class="normal"></highlight></codeline>
<codeline lineno="1344" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1aba43a198d3a4f7404585c479e30f9293" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>DEFAULT_SCHEME<sp/>=<sp/>dict(</highlight></codeline>
<codeline lineno="1345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>install_dir=&apos;$base/Lib/site-packages&apos;,</highlight></codeline>
<codeline lineno="1346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>script_dir=&apos;$base/Scripts&apos;,</highlight></codeline>
<codeline lineno="1347"><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1348"><highlight class="normal"></highlight></codeline>
<codeline lineno="1349" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a4a064bcd62298040ff3a92775853a586" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_expand(self,<sp/>*attrs):</highlight></codeline>
<codeline lineno="1350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>config_vars<sp/>=<sp/>self.get_finalized_command(&apos;install&apos;).config_vars</highlight></codeline>
<codeline lineno="1351"><highlight class="normal"></highlight></codeline>
<codeline lineno="1352" refid="classsetuptools_1_1command_1_1easy__install_1_1easy__install_1a1ac7b7cab639fd8035e270c02a66879c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>self.prefix:</highlight></codeline>
<codeline lineno="1353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Set<sp/>default<sp/>install_dir/scripts<sp/>from<sp/>--prefix</highlight></codeline>
<codeline lineno="1354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>config_vars<sp/>=<sp/>dict(config_vars)</highlight></codeline>
<codeline lineno="1355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>config_vars[&apos;base&apos;]<sp/>=<sp/>self.prefix</highlight></codeline>
<codeline lineno="1356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scheme<sp/>=<sp/>self.INSTALL_SCHEMES.get(os.name,<sp/>self.DEFAULT_SCHEME)</highlight></codeline>
<codeline lineno="1357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>attr,<sp/>val<sp/>in<sp/>scheme.items():</highlight></codeline>
<codeline lineno="1358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>getattr(self,<sp/>attr,<sp/>None)<sp/>is<sp/>None:</highlight></codeline>
<codeline lineno="1359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setattr(self,<sp/>attr,<sp/>val)</highlight></codeline>
<codeline lineno="1360"><highlight class="normal"></highlight></codeline>
<codeline lineno="1361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>from<sp/>distutils.util<sp/>import<sp/>subst_vars</highlight></codeline>
<codeline lineno="1362"><highlight class="normal"></highlight></codeline>
<codeline lineno="1363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>attr<sp/>in<sp/>attrs:</highlight></codeline>
<codeline lineno="1364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>val<sp/>=<sp/>getattr(self,<sp/>attr)</highlight></codeline>
<codeline lineno="1365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>val<sp/>is<sp/>not<sp/>None:</highlight></codeline>
<codeline lineno="1366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>val<sp/>=<sp/>subst_vars(val,<sp/>config_vars)</highlight></codeline>
<codeline lineno="1367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.name<sp/>==<sp/>&apos;posix&apos;:</highlight></codeline>
<codeline lineno="1368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>val<sp/>=<sp/>os.path.expanduser(val)</highlight></codeline>
<codeline lineno="1369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setattr(self,<sp/>attr,<sp/>val)</highlight></codeline>
<codeline lineno="1370"><highlight class="normal"></highlight></codeline>
<codeline lineno="1371"><highlight class="normal"></highlight></codeline>
<codeline lineno="1372" refid="namespacesetuptools_1_1command_1_1easy__install_1ae14a920fe31f94e8a60e9ac20daa0c1f" refkind="member"><highlight class="normal">def<sp/>_pythonpath():</highlight></codeline>
<codeline lineno="1373"><highlight class="normal"><sp/><sp/><sp/><sp/>items<sp/>=<sp/>os.environ.get(&apos;PYTHONPATH&apos;,<sp/>&apos;&apos;).split(os.pathsep)</highlight></codeline>
<codeline lineno="1374"><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>filter(None,<sp/>items)</highlight></codeline>
<codeline lineno="1375"><highlight class="normal"></highlight></codeline>
<codeline lineno="1376"><highlight class="normal"></highlight></codeline>
<codeline lineno="1377" refid="namespacesetuptools_1_1command_1_1easy__install_1a54dafb326804a55fa32b02d770c3acf3" refkind="member"><highlight class="normal">def<sp/>get_site_dirs():</highlight></codeline>
<codeline lineno="1378"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1379"><highlight class="normal"><sp/><sp/><sp/><sp/>Return<sp/>a<sp/>list<sp/>of<sp/>&apos;site&apos;<sp/>dirs</highlight></codeline>
<codeline lineno="1380"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1381"><highlight class="normal"></highlight></codeline>
<codeline lineno="1382"><highlight class="normal"><sp/><sp/><sp/><sp/>sitedirs<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1383"><highlight class="normal"></highlight></codeline>
<codeline lineno="1384"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/>start<sp/>with<sp/>PYTHONPATH</highlight></codeline>
<codeline lineno="1385"><highlight class="normal"><sp/><sp/><sp/><sp/>sitedirs.extend(_pythonpath())</highlight></codeline>
<codeline lineno="1386"><highlight class="normal"></highlight></codeline>
<codeline lineno="1387"><highlight class="normal"><sp/><sp/><sp/><sp/>prefixes<sp/>=<sp/>[sys.prefix]</highlight></codeline>
<codeline lineno="1388"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>sys.exec_prefix<sp/>!=<sp/>sys.prefix:</highlight></codeline>
<codeline lineno="1389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prefixes.append(sys.exec_prefix)</highlight></codeline>
<codeline lineno="1390"><highlight class="normal"><sp/><sp/><sp/><sp/>for<sp/>prefix<sp/>in<sp/>prefixes:</highlight></codeline>
<codeline lineno="1391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>prefix:</highlight></codeline>
<codeline lineno="1392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1393"><highlight class="normal"></highlight></codeline>
<codeline lineno="1394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>sys.platform<sp/>in<sp/>(&apos;os2emx&apos;,<sp/>&apos;riscos&apos;):</highlight></codeline>
<codeline lineno="1395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sitedirs.append(os.path.join(prefix,<sp/>&quot;Lib&quot;,<sp/>&quot;site-packages&quot;))</highlight></codeline>
<codeline lineno="1396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>elif<sp/>os.sep<sp/>==<sp/>&apos;/&apos;:</highlight></codeline>
<codeline lineno="1397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sitedirs.extend([</highlight></codeline>
<codeline lineno="1398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.join(</highlight></codeline>
<codeline lineno="1399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prefix,</highlight></codeline>
<codeline lineno="1400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lib&quot;,</highlight></codeline>
<codeline lineno="1401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;python{}.{}&quot;.format(*sys.version_info),</highlight></codeline>
<codeline lineno="1402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;site-packages&quot;,</highlight></codeline>
<codeline lineno="1403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline lineno="1404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.join(prefix,<sp/>&quot;lib&quot;,<sp/>&quot;site-python&quot;),</highlight></codeline>
<codeline lineno="1405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>])</highlight></codeline>
<codeline lineno="1406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="1407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sitedirs.extend([</highlight></codeline>
<codeline lineno="1408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prefix,</highlight></codeline>
<codeline lineno="1409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.join(prefix,<sp/>&quot;lib&quot;,<sp/>&quot;site-packages&quot;),</highlight></codeline>
<codeline lineno="1410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>])</highlight></codeline>
<codeline lineno="1411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>sys.platform<sp/>!=<sp/>&apos;darwin&apos;:</highlight></codeline>
<codeline lineno="1412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1413"><highlight class="normal"></highlight></codeline>
<codeline lineno="1414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>for<sp/>framework<sp/>builds<sp/>*only*<sp/>we<sp/>add<sp/>the<sp/>standard<sp/>Apple</highlight></codeline>
<codeline lineno="1415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>locations.<sp/>Currently<sp/>only<sp/>per-user,<sp/>but<sp/>/Library<sp/>and</highlight></codeline>
<codeline lineno="1416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>/Network/Library<sp/>could<sp/>be<sp/>added<sp/>too</highlight></codeline>
<codeline lineno="1417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>&apos;Python.framework&apos;<sp/>not<sp/>in<sp/>prefix:</highlight></codeline>
<codeline lineno="1418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1419"><highlight class="normal"></highlight></codeline>
<codeline lineno="1420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>home<sp/>=<sp/>os.environ.get(&apos;HOME&apos;)</highlight></codeline>
<codeline lineno="1421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>home:</highlight></codeline>
<codeline lineno="1422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1423"><highlight class="normal"></highlight></codeline>
<codeline lineno="1424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>home_sp<sp/>=<sp/>os.path.join(</highlight></codeline>
<codeline lineno="1425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>home,</highlight></codeline>
<codeline lineno="1426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;Library&apos;,</highlight></codeline>
<codeline lineno="1427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;Python&apos;,</highlight></codeline>
<codeline lineno="1428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;{}.{}&apos;.format(*sys.version_info),</highlight></codeline>
<codeline lineno="1429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;site-packages&apos;,</highlight></codeline>
<codeline lineno="1430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sitedirs.append(home_sp)</highlight></codeline>
<codeline lineno="1432"><highlight class="normal"><sp/><sp/><sp/><sp/>lib_paths<sp/>=<sp/>get_path(&apos;purelib&apos;),<sp/>get_path(&apos;platlib&apos;)</highlight></codeline>
<codeline lineno="1433"><highlight class="normal"></highlight></codeline>
<codeline lineno="1434"><highlight class="normal"><sp/><sp/><sp/><sp/>sitedirs.extend(s<sp/>for<sp/>s<sp/>in<sp/>lib_paths<sp/>if<sp/>s<sp/>not<sp/>in<sp/>sitedirs)</highlight></codeline>
<codeline lineno="1435"><highlight class="normal"></highlight></codeline>
<codeline lineno="1436"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>site.ENABLE_USER_SITE:</highlight></codeline>
<codeline lineno="1437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sitedirs.append(site.USER_SITE)</highlight></codeline>
<codeline lineno="1438"><highlight class="normal"></highlight></codeline>
<codeline lineno="1439"><highlight class="normal"><sp/><sp/><sp/><sp/>with<sp/>contextlib.suppress(AttributeError):</highlight></codeline>
<codeline lineno="1440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sitedirs.extend(site.getsitepackages())</highlight></codeline>
<codeline lineno="1441"><highlight class="normal"></highlight></codeline>
<codeline lineno="1442"><highlight class="normal"><sp/><sp/><sp/><sp/>sitedirs<sp/>=<sp/>list(map(normalize_path,<sp/>sitedirs))</highlight></codeline>
<codeline lineno="1443"><highlight class="normal"></highlight></codeline>
<codeline lineno="1444"><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>sitedirs</highlight></codeline>
<codeline lineno="1445"><highlight class="normal"></highlight></codeline>
<codeline lineno="1446"><highlight class="normal"></highlight></codeline>
<codeline lineno="1447" refid="namespacesetuptools_1_1command_1_1easy__install_1ab7251077fa57ffd399a873d4286e7da7" refkind="member"><highlight class="normal">def<sp/>expand_paths(inputs):<sp/><sp/>#<sp/>noqa:<sp/>C901<sp/><sp/>#<sp/>is<sp/>too<sp/>complex<sp/>(11)<sp/><sp/>#<sp/>FIXME</highlight></codeline>
<codeline lineno="1448"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;Yield<sp/>sys.path<sp/>directories<sp/>that<sp/>might<sp/>contain<sp/>&quot;old-style&quot;<sp/>packages&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1449"><highlight class="normal"></highlight></codeline>
<codeline lineno="1450"><highlight class="normal"><sp/><sp/><sp/><sp/>seen<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="1451"><highlight class="normal"></highlight></codeline>
<codeline lineno="1452"><highlight class="normal"><sp/><sp/><sp/><sp/>for<sp/>dirname<sp/>in<sp/>inputs:</highlight></codeline>
<codeline lineno="1453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dirname<sp/>=<sp/>normalize_path(dirname)</highlight></codeline>
<codeline lineno="1454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>dirname<sp/>in<sp/>seen:</highlight></codeline>
<codeline lineno="1455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1456"><highlight class="normal"></highlight></codeline>
<codeline lineno="1457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>seen[dirname]<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="1458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>os.path.isdir(dirname):</highlight></codeline>
<codeline lineno="1459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1460"><highlight class="normal"></highlight></codeline>
<codeline lineno="1461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>files<sp/>=<sp/>os.listdir(dirname)</highlight></codeline>
<codeline lineno="1462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yield<sp/>dirname,<sp/>files</highlight></codeline>
<codeline lineno="1463"><highlight class="normal"></highlight></codeline>
<codeline lineno="1464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>name<sp/>in<sp/>files:</highlight></codeline>
<codeline lineno="1465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>name.endswith(&apos;.pth&apos;):</highlight></codeline>
<codeline lineno="1466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>We<sp/>only<sp/>care<sp/>about<sp/>the<sp/>.pth<sp/>files</highlight></codeline>
<codeline lineno="1467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>name<sp/>in<sp/>(&apos;easy-install.pth&apos;,<sp/>&apos;setuptools.pth&apos;):</highlight></codeline>
<codeline lineno="1469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Ignore<sp/>.pth<sp/>files<sp/>that<sp/>we<sp/>control</highlight></codeline>
<codeline lineno="1470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1471"><highlight class="normal"></highlight></codeline>
<codeline lineno="1472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Read<sp/>the<sp/>.pth<sp/>file</highlight></codeline>
<codeline lineno="1473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f<sp/>=<sp/>open(os.path.join(dirname,<sp/>name))</highlight></codeline>
<codeline lineno="1474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lines<sp/>=<sp/>list(yield_lines(f))</highlight></codeline>
<codeline lineno="1475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.close()</highlight></codeline>
<codeline lineno="1476"><highlight class="normal"></highlight></codeline>
<codeline lineno="1477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Yield<sp/>existing<sp/>non-dupe,<sp/>non-import<sp/>directory<sp/>lines<sp/>from<sp/>it</highlight></codeline>
<codeline lineno="1478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>line<sp/>in<sp/>lines:</highlight></codeline>
<codeline lineno="1479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>line.startswith(&quot;import&quot;):</highlight></codeline>
<codeline lineno="1480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1481"><highlight class="normal"></highlight></codeline>
<codeline lineno="1482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line<sp/>=<sp/>normalize_path(line.rstrip())</highlight></codeline>
<codeline lineno="1483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>line<sp/>in<sp/>seen:</highlight></codeline>
<codeline lineno="1484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1485"><highlight class="normal"></highlight></codeline>
<codeline lineno="1486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>seen[line]<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="1487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>os.path.isdir(line):</highlight></codeline>
<codeline lineno="1488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1489"><highlight class="normal"></highlight></codeline>
<codeline lineno="1490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yield<sp/>line,<sp/>os.listdir(line)</highlight></codeline>
<codeline lineno="1491"><highlight class="normal"></highlight></codeline>
<codeline lineno="1492"><highlight class="normal"></highlight></codeline>
<codeline lineno="1493" refid="namespacesetuptools_1_1command_1_1easy__install_1a57ca2b27c0217079d7e2b4a3121cdf35" refkind="member"><highlight class="normal">def<sp/>extract_wininst_cfg(dist_filename):</highlight></codeline>
<codeline lineno="1494"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;Extract<sp/>configuration<sp/>data<sp/>from<sp/>a<sp/>bdist_wininst<sp/>.exe</highlight></codeline>
<codeline lineno="1495"><highlight class="normal"></highlight></codeline>
<codeline lineno="1496"><highlight class="normal"><sp/><sp/><sp/><sp/>Returns<sp/>a<sp/>configparser.RawConfigParser,<sp/>or<sp/>None</highlight></codeline>
<codeline lineno="1497"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1498"><highlight class="normal"><sp/><sp/><sp/><sp/>f<sp/>=<sp/>open(dist_filename,<sp/>&apos;rb&apos;)</highlight></codeline>
<codeline lineno="1499"><highlight class="normal"><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="1500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endrec<sp/>=<sp/>zipfile._EndRecData(f)</highlight></codeline>
<codeline lineno="1501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>endrec<sp/>is<sp/>None:</highlight></codeline>
<codeline lineno="1502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>None</highlight></codeline>
<codeline lineno="1503"><highlight class="normal"></highlight></codeline>
<codeline lineno="1504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prepended<sp/>=<sp/>(endrec[9]<sp/>-<sp/>endrec[5])<sp/>-<sp/>endrec[6]</highlight></codeline>
<codeline lineno="1505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>prepended<sp/>&lt;<sp/>12:<sp/><sp/>#<sp/>no<sp/>wininst<sp/>data<sp/>here</highlight></codeline>
<codeline lineno="1506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>None</highlight></codeline>
<codeline lineno="1507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.seek(prepended<sp/>-<sp/>12)</highlight></codeline>
<codeline lineno="1508"><highlight class="normal"></highlight></codeline>
<codeline lineno="1509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tag,<sp/>cfglen,<sp/>bmlen<sp/>=<sp/>struct.unpack(&quot;&lt;iii&quot;,<sp/>f.read(12))</highlight></codeline>
<codeline lineno="1510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>tag<sp/>not<sp/>in<sp/>(0x1234567A,<sp/>0x1234567B):</highlight></codeline>
<codeline lineno="1511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>None<sp/><sp/>#<sp/>not<sp/>a<sp/>valid<sp/>tag</highlight></codeline>
<codeline lineno="1512"><highlight class="normal"></highlight></codeline>
<codeline lineno="1513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.seek(prepended<sp/>-<sp/>(12<sp/>+<sp/>cfglen))</highlight></codeline>
<codeline lineno="1514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>init<sp/>=<sp/>{&apos;version&apos;:<sp/>&apos;&apos;,<sp/>&apos;target_version&apos;:<sp/>&apos;&apos;}</highlight></codeline>
<codeline lineno="1515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cfg<sp/>=<sp/>configparser.RawConfigParser(init)</highlight></codeline>
<codeline lineno="1516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="1517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>part<sp/>=<sp/>f.read(cfglen)</highlight></codeline>
<codeline lineno="1518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Read<sp/>up<sp/>to<sp/>the<sp/>first<sp/>null<sp/>byte.</highlight></codeline>
<codeline lineno="1519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>config<sp/>=<sp/>part.split(b&apos;\0&apos;,<sp/>1)[0]</highlight></codeline>
<codeline lineno="1520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Now<sp/>the<sp/>config<sp/>is<sp/>in<sp/>bytes,<sp/>but<sp/>for<sp/>RawConfigParser,<sp/>it<sp/>should</highlight></codeline>
<codeline lineno="1521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/>be<sp/>text,<sp/>so<sp/>decode<sp/>it.</highlight></codeline>
<codeline lineno="1522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>config<sp/>=<sp/>config.decode(sys.getfilesystemencoding())</highlight></codeline>
<codeline lineno="1523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cfg.read_file(io.StringIO(config))</highlight></codeline>
<codeline lineno="1524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>except<sp/>configparser.Error:</highlight></codeline>
<codeline lineno="1525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>None</highlight></codeline>
<codeline lineno="1526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>cfg.has_section(&apos;metadata&apos;)<sp/>or<sp/>not<sp/>cfg.has_section(&apos;Setup&apos;):</highlight></codeline>
<codeline lineno="1527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>None</highlight></codeline>
<codeline lineno="1528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>cfg</highlight></codeline>
<codeline lineno="1529"><highlight class="normal"></highlight></codeline>
<codeline lineno="1530"><highlight class="normal"><sp/><sp/><sp/><sp/>finally:</highlight></codeline>
<codeline lineno="1531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.close()</highlight></codeline>
<codeline lineno="1532"><highlight class="normal"></highlight></codeline>
<codeline lineno="1533"><highlight class="normal"></highlight></codeline>
<codeline lineno="1534" refid="namespacesetuptools_1_1command_1_1easy__install_1ada736831d1b4420ab4fdd590cb8b647f" refkind="member"><highlight class="normal">def<sp/>get_exe_prefixes(exe_filename):</highlight></codeline>
<codeline lineno="1535"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;Get<sp/>exe-&gt;egg<sp/>path<sp/>translations<sp/>for<sp/>a<sp/>given<sp/>.exe<sp/>file&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1536"><highlight class="normal"></highlight></codeline>
<codeline lineno="1537"><highlight class="normal"><sp/><sp/><sp/><sp/>prefixes<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="1538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(&apos;PURELIB/&apos;,<sp/>&apos;&apos;),</highlight></codeline>
<codeline lineno="1539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(&apos;PLATLIB/pywin32_system32&apos;,<sp/>&apos;&apos;),</highlight></codeline>
<codeline lineno="1540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(&apos;PLATLIB/&apos;,<sp/>&apos;&apos;),</highlight></codeline>
<codeline lineno="1541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(&apos;SCRIPTS/&apos;,<sp/>&apos;EGG-INFO/scripts/&apos;),</highlight></codeline>
<codeline lineno="1542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(&apos;DATA/lib/site-packages&apos;,<sp/>&apos;&apos;),</highlight></codeline>
<codeline lineno="1543"><highlight class="normal"><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="1544"><highlight class="normal"><sp/><sp/><sp/><sp/>z<sp/>=<sp/>zipfile.ZipFile(exe_filename)</highlight></codeline>
<codeline lineno="1545"><highlight class="normal"><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="1546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>info<sp/>in<sp/>z.infolist():</highlight></codeline>
<codeline lineno="1547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>=<sp/>info.filename</highlight></codeline>
<codeline lineno="1548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parts<sp/>=<sp/>name.split(&apos;/&apos;)</highlight></codeline>
<codeline lineno="1549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>len(parts)<sp/>==<sp/>3<sp/>and<sp/>parts[2]<sp/>==<sp/>&apos;PKG-INFO&apos;:</highlight></codeline>
<codeline lineno="1550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>parts[1].endswith(&apos;.egg-info&apos;):</highlight></codeline>
<codeline lineno="1551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prefixes.insert(0,<sp/>(&apos;/&apos;.join(parts[:2]),<sp/>&apos;EGG-INFO/&apos;))</highlight></codeline>
<codeline lineno="1552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break</highlight></codeline>
<codeline lineno="1553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>len(parts)<sp/>!=<sp/>2<sp/>or<sp/>not<sp/>name.endswith(&apos;.pth&apos;):</highlight></codeline>
<codeline lineno="1554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>name.endswith(&apos;-nspkg.pth&apos;):</highlight></codeline>
<codeline lineno="1556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>parts[0].upper()<sp/>in<sp/>(&apos;PURELIB&apos;,<sp/>&apos;PLATLIB&apos;):</highlight></codeline>
<codeline lineno="1558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>contents<sp/>=<sp/>z.read(name).decode()</highlight></codeline>
<codeline lineno="1559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>pth<sp/>in<sp/>yield_lines(contents):</highlight></codeline>
<codeline lineno="1560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pth<sp/>=<sp/>pth.strip().replace(&apos;\\&apos;,<sp/>&apos;/&apos;)</highlight></codeline>
<codeline lineno="1561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>pth.startswith(&apos;import&apos;):</highlight></codeline>
<codeline lineno="1562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prefixes.append(((&apos;%s/%s/&apos;<sp/>%<sp/>(parts[0],<sp/>pth)),<sp/>&apos;&apos;))</highlight></codeline>
<codeline lineno="1563"><highlight class="normal"><sp/><sp/><sp/><sp/>finally:</highlight></codeline>
<codeline lineno="1564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z.close()</highlight></codeline>
<codeline lineno="1565"><highlight class="normal"><sp/><sp/><sp/><sp/>prefixes<sp/>=<sp/>[(x.lower(),<sp/>y)<sp/>for<sp/>x,<sp/>y<sp/>in<sp/>prefixes]</highlight></codeline>
<codeline lineno="1566"><highlight class="normal"><sp/><sp/><sp/><sp/>prefixes.sort()</highlight></codeline>
<codeline lineno="1567"><highlight class="normal"><sp/><sp/><sp/><sp/>prefixes.reverse()</highlight></codeline>
<codeline lineno="1568"><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>prefixes</highlight></codeline>
<codeline lineno="1569"><highlight class="normal"></highlight></codeline>
<codeline lineno="1570"><highlight class="normal"></highlight></codeline>
<codeline lineno="1571" refid="classsetuptools_1_1command_1_1easy__install_1_1_pth_distributions" refkind="compound"><highlight class="normal">class<sp/>PthDistributions(Environment):</highlight></codeline>
<codeline lineno="1572"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;A<sp/>.pth<sp/>file<sp/>with<sp/>Distribution<sp/>paths<sp/>in<sp/>it&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1573"><highlight class="normal"></highlight></codeline>
<codeline lineno="1574" refid="classsetuptools_1_1command_1_1easy__install_1_1_pth_distributions_1a9d4d591dc4f6e5fd37aa0ad55ce9da9a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>dirty<sp/>=<sp/>False</highlight></codeline>
<codeline lineno="1575"><highlight class="normal"></highlight></codeline>
<codeline lineno="1576"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>__init__(self,<sp/>filename,<sp/>sitedirs=()):</highlight></codeline>
<codeline lineno="1577" refid="classsetuptools_1_1command_1_1easy__install_1_1_pth_distributions_1ad28df9eb65540b9f423ed563a51eec10" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.filename<sp/>=<sp/>filename</highlight></codeline>
<codeline lineno="1578" refid="classsetuptools_1_1command_1_1easy__install_1_1_pth_distributions_1a23bbbd0c5ba2b4108d346559451b5788" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.sitedirs<sp/>=<sp/>list(map(normalize_path,<sp/>sitedirs))</highlight></codeline>
<codeline lineno="1579" refid="classsetuptools_1_1command_1_1easy__install_1_1_pth_distributions_1a4ae0b9878f4e790842de737042c8e276" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.basedir<sp/>=<sp/>normalize_path(os.path.dirname(self.filename))</highlight></codeline>
<codeline lineno="1580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self._load()</highlight></codeline>
<codeline lineno="1581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().__init__([],<sp/>None,<sp/>None)</highlight></codeline>
<codeline lineno="1582" refid="classsetuptools_1_1command_1_1easy__install_1_1_pth_distributions_1a4a5a5da9424df46b0e569cc36cf4be64" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>path<sp/>in<sp/>yield_lines(self.paths):</highlight></codeline>
<codeline lineno="1583" refid="classsetuptools_1_1command_1_1easy__install_1_1_pth_distributions" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>list(map(self.add,<sp/>find_distributions(path,<sp/>True)))</highlight></codeline>
<codeline lineno="1584"><highlight class="normal"></highlight></codeline>
<codeline lineno="1585" refid="classsetuptools_1_1command_1_1easy__install_1_1_pth_distributions_1ae0052dcf33e18e32395edc2654df2393" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_load(self):</highlight></codeline>
<codeline lineno="1586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.paths<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>saw_import<sp/>=<sp/>False</highlight></codeline>
<codeline lineno="1588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>seen<sp/>=<sp/>dict.fromkeys(self.sitedirs)</highlight></codeline>
<codeline lineno="1589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.isfile(self.filename):</highlight></codeline>
<codeline lineno="1590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f<sp/>=<sp/>open(self.filename,<sp/>&apos;rt&apos;)</highlight></codeline>
<codeline lineno="1591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>line<sp/>in<sp/>f:</highlight></codeline>
<codeline lineno="1592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>line.startswith(&apos;import&apos;):</highlight></codeline>
<codeline lineno="1593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>saw_import<sp/>=<sp/>True</highlight></codeline>
<codeline lineno="1594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>path<sp/>=<sp/>line.rstrip()</highlight></codeline>
<codeline lineno="1596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.paths.append(path)</highlight></codeline>
<codeline lineno="1597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>path.strip()<sp/>or<sp/>path.strip().startswith(&apos;#&apos;):</highlight></codeline>
<codeline lineno="1598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>skip<sp/>non-existent<sp/>paths,<sp/>in<sp/>case<sp/>somebody<sp/>deleted<sp/>a<sp/>package</highlight></codeline>
<codeline lineno="1600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>manually,<sp/>and<sp/>duplicate<sp/>paths<sp/>as<sp/>well</highlight></codeline>
<codeline lineno="1601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>path<sp/>=<sp/>self.paths[-1]<sp/>=<sp/>normalize_path(</highlight></codeline>
<codeline lineno="1602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.join(self.basedir,<sp/>path)</highlight></codeline>
<codeline lineno="1603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>os.path.exists(path)<sp/>or<sp/>path<sp/>in<sp/>seen:</highlight></codeline>
<codeline lineno="1605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.paths.pop()<sp/><sp/>#<sp/>skip<sp/>it</highlight></codeline>
<codeline lineno="1606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.dirty<sp/>=<sp/>True<sp/><sp/>#<sp/>we<sp/>cleaned<sp/>up,<sp/>so<sp/>we&apos;re<sp/>dirty<sp/>now<sp/>:)</highlight></codeline>
<codeline lineno="1607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue</highlight></codeline>
<codeline lineno="1608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>seen[path]<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="1609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.close()</highlight></codeline>
<codeline lineno="1610"><highlight class="normal"></highlight></codeline>
<codeline lineno="1611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>self.paths<sp/>and<sp/>not<sp/>saw_import:</highlight></codeline>
<codeline lineno="1612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.dirty<sp/>=<sp/>True<sp/><sp/>#<sp/>ensure<sp/>anything<sp/>we<sp/>touch<sp/>has<sp/>import<sp/>wrappers</highlight></codeline>
<codeline lineno="1613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>while<sp/>self.paths<sp/>and<sp/>not<sp/>self.paths[-1].strip():</highlight></codeline>
<codeline lineno="1614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.paths.pop()</highlight></codeline>
<codeline lineno="1615"><highlight class="normal"></highlight></codeline>
<codeline lineno="1616" refid="classsetuptools_1_1command_1_1easy__install_1_1_pth_distributions_1a21dd9ec63d1c970fd2b4495c512007aa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>save(self):</highlight></codeline>
<codeline lineno="1617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;Write<sp/>changed<sp/>.pth<sp/>file<sp/>back<sp/>to<sp/>disk&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>self.dirty:</highlight></codeline>
<codeline lineno="1619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return</highlight></codeline>
<codeline lineno="1620"><highlight class="normal"></highlight></codeline>
<codeline lineno="1621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rel_paths<sp/>=<sp/>list(map(self.make_relative,<sp/>self.paths))</highlight></codeline>
<codeline lineno="1622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>rel_paths:</highlight></codeline>
<codeline lineno="1623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.debug(&quot;Saving<sp/>%s&quot;,<sp/>self.filename)</highlight></codeline>
<codeline lineno="1624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lines<sp/>=<sp/>self._wrap_lines(rel_paths)</highlight></codeline>
<codeline lineno="1625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>=<sp/>&apos;\n&apos;.join(lines)<sp/>+<sp/>&apos;\n&apos;</highlight></codeline>
<codeline lineno="1626"><highlight class="normal"></highlight></codeline>
<codeline lineno="1627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>os.path.islink(self.filename):</highlight></codeline>
<codeline lineno="1628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.unlink(self.filename)</highlight></codeline>
<codeline lineno="1629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>with<sp/>open(self.filename,<sp/>&apos;wt&apos;)<sp/>as<sp/>f:</highlight></codeline>
<codeline lineno="1630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f.write(data)</highlight></codeline>
<codeline lineno="1631"><highlight class="normal"></highlight></codeline>
<codeline lineno="1632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>elif<sp/>os.path.exists(self.filename):</highlight></codeline>
<codeline lineno="1633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.debug(&quot;Deleting<sp/>empty<sp/>%s&quot;,<sp/>self.filename)</highlight></codeline>
<codeline lineno="1634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.unlink(self.filename)</highlight></codeline>
<codeline lineno="1635"><highlight class="normal"></highlight></codeline>
<codeline lineno="1636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.dirty<sp/>=<sp/>False</highlight></codeline>
<codeline lineno="1637"><highlight class="normal"></highlight></codeline>
<codeline lineno="1638"><highlight class="normal"><sp/><sp/><sp/><sp/>@staticmethod</highlight></codeline>
<codeline lineno="1639" refid="classsetuptools_1_1command_1_1easy__install_1_1_pth_distributions_1a1cf9f16ef34b032c731888bf2cb54ffa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_wrap_lines(lines):</highlight></codeline>
<codeline lineno="1640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>lines</highlight></codeline>
<codeline lineno="1641"><highlight class="normal"></highlight></codeline>
<codeline lineno="1642" refid="classsetuptools_1_1command_1_1easy__install_1_1_pth_distributions_1a91a3ab7cd55167132b4b83cf307b0963" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>add(self,<sp/>dist):</highlight></codeline>
<codeline lineno="1643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;Add<sp/>`dist`<sp/>to<sp/>the<sp/>distribution<sp/>map&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_path<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="1645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist.location<sp/>not<sp/>in<sp/>self.paths<sp/>and<sp/>(</highlight></codeline>
<codeline lineno="1646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist.location<sp/>not<sp/>in<sp/>self.sitedirs<sp/>or</highlight></codeline>
<codeline lineno="1647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>account<sp/>for<sp/>&apos;.&apos;<sp/>being<sp/>in<sp/>PYTHONPATH</highlight></codeline>
<codeline lineno="1648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist.location<sp/>==<sp/>os.getcwd()</highlight></codeline>
<codeline lineno="1649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>new_path:</highlight></codeline>
<codeline lineno="1652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.paths.append(dist.location)</highlight></codeline>
<codeline lineno="1653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.dirty<sp/>=<sp/>True</highlight></codeline>
<codeline lineno="1654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().add(dist)</highlight></codeline>
<codeline lineno="1655"><highlight class="normal"></highlight></codeline>
<codeline lineno="1656" refid="classsetuptools_1_1command_1_1easy__install_1_1_pth_distributions_1a987093972f1a2a65c7eeb8804b2685c2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>remove(self,<sp/>dist):</highlight></codeline>
<codeline lineno="1657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;Remove<sp/>`dist`<sp/>from<sp/>the<sp/>distribution<sp/>map&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>while<sp/>dist.location<sp/>in<sp/>self.paths:</highlight></codeline>
<codeline lineno="1659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.paths.remove(dist.location)</highlight></codeline>
<codeline lineno="1660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.dirty<sp/>=<sp/>True</highlight></codeline>
<codeline lineno="1661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().remove(dist)</highlight></codeline>
<codeline lineno="1662"><highlight class="normal"></highlight></codeline>
<codeline lineno="1663" refid="classsetuptools_1_1command_1_1easy__install_1_1_pth_distributions_1add1d9db551309f1b46bb2d7c5b3c51fd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>make_relative(self,<sp/>path):</highlight></codeline>
<codeline lineno="1664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>npath,<sp/>last<sp/>=<sp/>os.path.split(normalize_path(path))</highlight></codeline>
<codeline lineno="1665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>baselen<sp/>=<sp/>len(self.basedir)</highlight></codeline>
<codeline lineno="1666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parts<sp/>=<sp/>[last]</highlight></codeline>
<codeline lineno="1667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sep<sp/>=<sp/>os.altsep<sp/>==<sp/>&apos;/&apos;<sp/>and<sp/>&apos;/&apos;<sp/>or<sp/>os.sep</highlight></codeline>
<codeline lineno="1668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>while<sp/>len(npath)<sp/>&gt;=<sp/>baselen:</highlight></codeline>
<codeline lineno="1669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>npath<sp/>==<sp/>self.basedir:</highlight></codeline>
<codeline lineno="1670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parts.append(os.curdir)</highlight></codeline>
<codeline lineno="1671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parts.reverse()</highlight></codeline>
<codeline lineno="1672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>sep.join(parts)</highlight></codeline>
<codeline lineno="1673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>npath,<sp/>last<sp/>=<sp/>os.path.split(npath)</highlight></codeline>
<codeline lineno="1674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parts.append(last)</highlight></codeline>
<codeline lineno="1675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="1676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>path</highlight></codeline>
<codeline lineno="1677"><highlight class="normal"></highlight></codeline>
<codeline lineno="1678"><highlight class="normal"></highlight></codeline>
<codeline lineno="1679" refid="classsetuptools_1_1command_1_1easy__install_1_1_rewrite_pth_distributions" refkind="compound"><highlight class="normal">class<sp/>RewritePthDistributions(PthDistributions):</highlight></codeline>
<codeline lineno="1680"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="1681" refid="classsetuptools_1_1command_1_1easy__install_1_1_rewrite_pth_distributions_1a1eeae73c3f29122e6053aecec621257c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_wrap_lines(cls,<sp/>lines):</highlight></codeline>
<codeline lineno="1682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yield<sp/>cls.prelude</highlight></codeline>
<codeline lineno="1683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>line<sp/>in<sp/>lines:</highlight></codeline>
<codeline lineno="1684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yield<sp/>line</highlight></codeline>
<codeline lineno="1685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yield<sp/>cls.postlude</highlight></codeline>
<codeline lineno="1686"><highlight class="normal"></highlight></codeline>
<codeline lineno="1687" refid="classsetuptools_1_1command_1_1easy__install_1_1_rewrite_pth_distributions_1ad1ffbf540c109cc88d058bb5c60d430c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>prelude<sp/>=<sp/>_one_liner(&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>import<sp/>sys</highlight></codeline>
<codeline lineno="1689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sys.__plen<sp/>=<sp/>len(sys.path)</highlight></codeline>
<codeline lineno="1690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;)</highlight></codeline>
<codeline lineno="1691" refid="classsetuptools_1_1command_1_1easy__install_1_1_rewrite_pth_distributions_1a943b2162a2c74a485ec67d178737d045" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>postlude<sp/>=<sp/>_one_liner(&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>import<sp/>sys</highlight></codeline>
<codeline lineno="1693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new<sp/>=<sp/>sys.path[sys.__plen:]</highlight></codeline>
<codeline lineno="1694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>del<sp/>sys.path[sys.__plen:]</highlight></codeline>
<codeline lineno="1695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>getattr(sys,<sp/>&apos;__egginsert&apos;,<sp/>0)</highlight></codeline>
<codeline lineno="1696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sys.path[p:p]<sp/>=<sp/>new</highlight></codeline>
<codeline lineno="1697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sys.__egginsert<sp/>=<sp/>p<sp/>+<sp/>len(new)</highlight></codeline>
<codeline lineno="1698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;)</highlight></codeline>
<codeline lineno="1699"><highlight class="normal"></highlight></codeline>
<codeline lineno="1700"><highlight class="normal"></highlight></codeline>
<codeline lineno="1701"><highlight class="normal">if<sp/>os.environ.get(&apos;SETUPTOOLS_SYS_PATH_TECHNIQUE&apos;,<sp/>&apos;raw&apos;)<sp/>==<sp/>&apos;rewrite&apos;:</highlight></codeline>
<codeline lineno="1702" refid="namespacesetuptools_1_1command_1_1easy__install_1a08d9dd33967b4546f8c8ab0f1d299915" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>PthDistributions<sp/>=<sp/>RewritePthDistributions</highlight></codeline>
<codeline lineno="1703"><highlight class="normal"></highlight></codeline>
<codeline lineno="1704"><highlight class="normal"></highlight></codeline>
<codeline lineno="1705" refid="namespacesetuptools_1_1command_1_1easy__install_1a404a34b3ee97e6350f06eef31b21023c" refkind="member"><highlight class="normal">def<sp/>_first_line_re():</highlight></codeline>
<codeline lineno="1706"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1707"><highlight class="normal"><sp/><sp/><sp/><sp/>Return<sp/>a<sp/>regular<sp/>expression<sp/>based<sp/>on<sp/>first_line_re<sp/>suitable<sp/>for<sp/>matching</highlight></codeline>
<codeline lineno="1708"><highlight class="normal"><sp/><sp/><sp/><sp/>strings.</highlight></codeline>
<codeline lineno="1709"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1710"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>isinstance(first_line_re.pattern,<sp/>str):</highlight></codeline>
<codeline lineno="1711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>first_line_re</highlight></codeline>
<codeline lineno="1712"><highlight class="normal"></highlight></codeline>
<codeline lineno="1713"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/>first_line_re<sp/>in<sp/>Python<sp/>&gt;=3.1.4<sp/>and<sp/>&gt;=3.2.1<sp/>is<sp/>a<sp/>bytes<sp/>pattern.</highlight></codeline>
<codeline lineno="1714"><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>re.compile(first_line_re.pattern.decode())</highlight></codeline>
<codeline lineno="1715"><highlight class="normal"></highlight></codeline>
<codeline lineno="1716"><highlight class="normal"></highlight></codeline>
<codeline lineno="1717" refid="namespacesetuptools_1_1command_1_1easy__install_1a19141a34d7faa21c47a89572761c6d10" refkind="member"><highlight class="normal">def<sp/>auto_chmod(func,<sp/>arg,<sp/>exc):</highlight></codeline>
<codeline lineno="1718"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>func<sp/>in<sp/>[os.unlink,<sp/>os.remove]<sp/>and<sp/>os.name<sp/>==<sp/>&apos;nt&apos;:</highlight></codeline>
<codeline lineno="1719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chmod(arg,<sp/>stat.S_IWRITE)</highlight></codeline>
<codeline lineno="1720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>func(arg)</highlight></codeline>
<codeline lineno="1721"><highlight class="normal"><sp/><sp/><sp/><sp/>et,<sp/>ev,<sp/>_<sp/>=<sp/>sys.exc_info()</highlight></codeline>
<codeline lineno="1722"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/>TODO:<sp/>This<sp/>code<sp/>doesn&apos;t<sp/>make<sp/>sense.<sp/>What<sp/>is<sp/>it<sp/>trying<sp/>to<sp/>do?</highlight></codeline>
<codeline lineno="1723"><highlight class="normal"><sp/><sp/><sp/><sp/>raise<sp/>(ev[0],<sp/>ev[1]<sp/>+<sp/>(&quot;<sp/>%s<sp/>%s&quot;<sp/>%<sp/>(func,<sp/>arg)))</highlight></codeline>
<codeline lineno="1724"><highlight class="normal"></highlight></codeline>
<codeline lineno="1725"><highlight class="normal"></highlight></codeline>
<codeline lineno="1726" refid="namespacesetuptools_1_1command_1_1easy__install_1a8f139f5074732f3db51b3ae4f5b12b7c" refkind="member"><highlight class="normal">def<sp/>update_dist_caches(dist_path,<sp/>fix_zipimporter_caches):</highlight></codeline>
<codeline lineno="1727"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1728"><highlight class="normal"><sp/><sp/><sp/><sp/>Fix<sp/>any<sp/>globally<sp/>cached<sp/>`dist_path`<sp/>related<sp/>data</highlight></codeline>
<codeline lineno="1729"><highlight class="normal"></highlight></codeline>
<codeline lineno="1730"><highlight class="normal"><sp/><sp/><sp/><sp/>`dist_path`<sp/>should<sp/>be<sp/>a<sp/>path<sp/>of<sp/>a<sp/>newly<sp/>installed<sp/>egg<sp/>distribution<sp/>(zipped</highlight></codeline>
<codeline lineno="1731"><highlight class="normal"><sp/><sp/><sp/><sp/>or<sp/>unzipped).</highlight></codeline>
<codeline lineno="1732"><highlight class="normal"></highlight></codeline>
<codeline lineno="1733"><highlight class="normal"><sp/><sp/><sp/><sp/>sys.path_importer_cache<sp/>contains<sp/>finder<sp/>objects<sp/>that<sp/>have<sp/>been<sp/>cached<sp/>when</highlight></codeline>
<codeline lineno="1734"><highlight class="normal"><sp/><sp/><sp/><sp/>importing<sp/>data<sp/>from<sp/>the<sp/>original<sp/>distribution.<sp/>Any<sp/>such<sp/>finders<sp/>need<sp/>to<sp/>be</highlight></codeline>
<codeline lineno="1735"><highlight class="normal"><sp/><sp/><sp/><sp/>cleared<sp/>since<sp/>the<sp/>replacement<sp/>distribution<sp/>might<sp/>be<sp/>packaged<sp/>differently,</highlight></codeline>
<codeline lineno="1736"><highlight class="normal"><sp/><sp/><sp/><sp/>e.g.<sp/>a<sp/>zipped<sp/>egg<sp/>distribution<sp/>might<sp/>get<sp/>replaced<sp/>with<sp/>an<sp/>unzipped<sp/>egg</highlight></codeline>
<codeline lineno="1737"><highlight class="normal"><sp/><sp/><sp/><sp/>folder<sp/>or<sp/>vice<sp/>versa.<sp/>Having<sp/>the<sp/>old<sp/>finders<sp/>cached<sp/>may<sp/>then<sp/>cause<sp/>Python</highlight></codeline>
<codeline lineno="1738"><highlight class="normal"><sp/><sp/><sp/><sp/>to<sp/>attempt<sp/>loading<sp/>modules<sp/>from<sp/>the<sp/>replacement<sp/>distribution<sp/>using<sp/>an</highlight></codeline>
<codeline lineno="1739"><highlight class="normal"><sp/><sp/><sp/><sp/>incorrect<sp/>loader.</highlight></codeline>
<codeline lineno="1740"><highlight class="normal"></highlight></codeline>
<codeline lineno="1741"><highlight class="normal"><sp/><sp/><sp/><sp/>zipimport.zipimporter<sp/>objects<sp/>are<sp/>Python<sp/>loaders<sp/>charged<sp/>with<sp/>importing</highlight></codeline>
<codeline lineno="1742"><highlight class="normal"><sp/><sp/><sp/><sp/>data<sp/>packaged<sp/>inside<sp/>zip<sp/>archives.<sp/>If<sp/>stale<sp/>loaders<sp/>referencing<sp/>the</highlight></codeline>
<codeline lineno="1743"><highlight class="normal"><sp/><sp/><sp/><sp/>original<sp/>distribution,<sp/>are<sp/>left<sp/>behind,<sp/>they<sp/>can<sp/>fail<sp/>to<sp/>load<sp/>modules<sp/>from</highlight></codeline>
<codeline lineno="1744"><highlight class="normal"><sp/><sp/><sp/><sp/>the<sp/>replacement<sp/>distribution.<sp/>E.g.<sp/>if<sp/>an<sp/>old<sp/>zipimport.zipimporter<sp/>instance</highlight></codeline>
<codeline lineno="1745"><highlight class="normal"><sp/><sp/><sp/><sp/>is<sp/>used<sp/>to<sp/>load<sp/>data<sp/>from<sp/>a<sp/>new<sp/>zipped<sp/>egg<sp/>archive,<sp/>it<sp/>may<sp/>cause<sp/>the</highlight></codeline>
<codeline lineno="1746"><highlight class="normal"><sp/><sp/><sp/><sp/>operation<sp/>to<sp/>attempt<sp/>to<sp/>locate<sp/>the<sp/>requested<sp/>data<sp/>in<sp/>the<sp/>wrong<sp/>location<sp/>-</highlight></codeline>
<codeline lineno="1747"><highlight class="normal"><sp/><sp/><sp/><sp/>one<sp/>indicated<sp/>by<sp/>the<sp/>original<sp/>distribution&apos;s<sp/>zip<sp/>archive<sp/>directory</highlight></codeline>
<codeline lineno="1748"><highlight class="normal"><sp/><sp/><sp/><sp/>information.<sp/>Such<sp/>an<sp/>operation<sp/>may<sp/>then<sp/>fail<sp/>outright,<sp/>e.g.<sp/>report<sp/>having</highlight></codeline>
<codeline lineno="1749"><highlight class="normal"><sp/><sp/><sp/><sp/>read<sp/>a<sp/>&apos;bad<sp/>local<sp/>file<sp/>header&apos;,<sp/>or<sp/>even<sp/>worse,<sp/>it<sp/>may<sp/>fail<sp/>silently<sp/>&amp;</highlight></codeline>
<codeline lineno="1750"><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>invalid<sp/>data.</highlight></codeline>
<codeline lineno="1751"><highlight class="normal"></highlight></codeline>
<codeline lineno="1752"><highlight class="normal"><sp/><sp/><sp/><sp/>zipimport._zip_directory_cache<sp/>contains<sp/>cached<sp/>zip<sp/>archive<sp/>directory</highlight></codeline>
<codeline lineno="1753"><highlight class="normal"><sp/><sp/><sp/><sp/>information<sp/>for<sp/>all<sp/>existing<sp/>zipimport.zipimporter<sp/>instances<sp/>and<sp/>all<sp/>such</highlight></codeline>
<codeline lineno="1754"><highlight class="normal"><sp/><sp/><sp/><sp/>instances<sp/>connected<sp/>to<sp/>the<sp/>same<sp/>archive<sp/>share<sp/>the<sp/>same<sp/>cached<sp/>directory</highlight></codeline>
<codeline lineno="1755"><highlight class="normal"><sp/><sp/><sp/><sp/>information.</highlight></codeline>
<codeline lineno="1756"><highlight class="normal"></highlight></codeline>
<codeline lineno="1757"><highlight class="normal"><sp/><sp/><sp/><sp/>If<sp/>asked,<sp/>and<sp/>the<sp/>underlying<sp/>Python<sp/>implementation<sp/>allows<sp/>it,<sp/>we<sp/>can<sp/>fix</highlight></codeline>
<codeline lineno="1758"><highlight class="normal"><sp/><sp/><sp/><sp/>all<sp/>existing<sp/>zipimport.zipimporter<sp/>instances<sp/>instead<sp/>of<sp/>having<sp/>to<sp/>track</highlight></codeline>
<codeline lineno="1759"><highlight class="normal"><sp/><sp/><sp/><sp/>them<sp/>down<sp/>and<sp/>remove<sp/>them<sp/>one<sp/>by<sp/>one,<sp/>by<sp/>updating<sp/>their<sp/>shared<sp/>cached<sp/>zip</highlight></codeline>
<codeline lineno="1760"><highlight class="normal"><sp/><sp/><sp/><sp/>archive<sp/>directory<sp/>information.<sp/>This,<sp/>of<sp/>course,<sp/>assumes<sp/>that<sp/>the</highlight></codeline>
<codeline lineno="1761"><highlight class="normal"><sp/><sp/><sp/><sp/>replacement<sp/>distribution<sp/>is<sp/>packaged<sp/>as<sp/>a<sp/>zipped<sp/>egg.</highlight></codeline>
<codeline lineno="1762"><highlight class="normal"></highlight></codeline>
<codeline lineno="1763"><highlight class="normal"><sp/><sp/><sp/><sp/>If<sp/>not<sp/>asked<sp/>to<sp/>fix<sp/>existing<sp/>zipimport.zipimporter<sp/>instances,<sp/>we<sp/>still<sp/>do</highlight></codeline>
<codeline lineno="1764"><highlight class="normal"><sp/><sp/><sp/><sp/>our<sp/>best<sp/>to<sp/>clear<sp/>any<sp/>remaining<sp/>zipimport.zipimporter<sp/>related<sp/>cached<sp/>data</highlight></codeline>
<codeline lineno="1765"><highlight class="normal"><sp/><sp/><sp/><sp/>that<sp/>might<sp/>somehow<sp/>later<sp/>get<sp/>used<sp/>when<sp/>attempting<sp/>to<sp/>load<sp/>data<sp/>from<sp/>the<sp/>new</highlight></codeline>
<codeline lineno="1766"><highlight class="normal"><sp/><sp/><sp/><sp/>distribution<sp/>and<sp/>thus<sp/>cause<sp/>such<sp/>load<sp/>operations<sp/>to<sp/>fail.<sp/>Note<sp/>that<sp/>when</highlight></codeline>
<codeline lineno="1767"><highlight class="normal"><sp/><sp/><sp/><sp/>tracking<sp/>down<sp/>such<sp/>remaining<sp/>stale<sp/>data,<sp/>we<sp/>can<sp/>not<sp/>catch<sp/>every<sp/>conceivable</highlight></codeline>
<codeline lineno="1768"><highlight class="normal"><sp/><sp/><sp/><sp/>usage<sp/>from<sp/>here,<sp/>and<sp/>we<sp/>clear<sp/>only<sp/>those<sp/>that<sp/>we<sp/>know<sp/>of<sp/>and<sp/>have<sp/>found<sp/>to</highlight></codeline>
<codeline lineno="1769"><highlight class="normal"><sp/><sp/><sp/><sp/>cause<sp/>problems<sp/>if<sp/>left<sp/>alive.<sp/>Any<sp/>remaining<sp/>caches<sp/>should<sp/>be<sp/>updated<sp/>by</highlight></codeline>
<codeline lineno="1770"><highlight class="normal"><sp/><sp/><sp/><sp/>whomever<sp/>is<sp/>in<sp/>charge<sp/>of<sp/>maintaining<sp/>them,<sp/>i.e.<sp/>they<sp/>should<sp/>be<sp/>ready<sp/>to</highlight></codeline>
<codeline lineno="1771"><highlight class="normal"><sp/><sp/><sp/><sp/>handle<sp/>us<sp/>replacing<sp/>their<sp/>zip<sp/>archives<sp/>with<sp/>new<sp/>distributions<sp/>at<sp/>runtime.</highlight></codeline>
<codeline lineno="1772"><highlight class="normal"></highlight></codeline>
<codeline lineno="1773"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1774"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/>There<sp/>are<sp/>several<sp/>other<sp/>known<sp/>sources<sp/>of<sp/>stale<sp/>zipimport.zipimporter</highlight></codeline>
<codeline lineno="1775"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/>instances<sp/>that<sp/>we<sp/>do<sp/>not<sp/>clear<sp/>here,<sp/>but<sp/>might<sp/>if<sp/>ever<sp/>given<sp/>a<sp/>reason<sp/>to</highlight></codeline>
<codeline lineno="1776"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/>do<sp/>so:</highlight></codeline>
<codeline lineno="1777"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/>*<sp/>Global<sp/>setuptools<sp/>pkg_resources.working_set<sp/>(a.k.a.<sp/>&apos;master<sp/>working</highlight></codeline>
<codeline lineno="1778"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/>set&apos;)<sp/>may<sp/>contain<sp/>distributions<sp/>which<sp/>may<sp/>in<sp/>turn<sp/>contain<sp/>their</highlight></codeline>
<codeline lineno="1779"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/>zipimport.zipimporter<sp/>loaders.</highlight></codeline>
<codeline lineno="1780"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/>*<sp/>Several<sp/>zipimport.zipimporter<sp/>loaders<sp/>held<sp/>by<sp/>local<sp/>variables<sp/>further</highlight></codeline>
<codeline lineno="1781"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/>up<sp/>the<sp/>function<sp/>call<sp/>stack<sp/>when<sp/>running<sp/>the<sp/>setuptools<sp/>installation.</highlight></codeline>
<codeline lineno="1782"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/>*<sp/>Already<sp/>loaded<sp/>modules<sp/>may<sp/>have<sp/>their<sp/>__loader__<sp/>attribute<sp/>set<sp/>to<sp/>the</highlight></codeline>
<codeline lineno="1783"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/>exact<sp/>loader<sp/>instance<sp/>used<sp/>when<sp/>importing<sp/>them.<sp/>Python<sp/>3.4<sp/>docs<sp/>state</highlight></codeline>
<codeline lineno="1784"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/>that<sp/>this<sp/>information<sp/>is<sp/>intended<sp/>mostly<sp/>for<sp/>introspection<sp/>and<sp/>so<sp/>is</highlight></codeline>
<codeline lineno="1785"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/>not<sp/>expected<sp/>to<sp/>cause<sp/>us<sp/>problems.</highlight></codeline>
<codeline lineno="1786"><highlight class="normal"><sp/><sp/><sp/><sp/>normalized_path<sp/>=<sp/>normalize_path(dist_path)</highlight></codeline>
<codeline lineno="1787"><highlight class="normal"><sp/><sp/><sp/><sp/>_uncache(normalized_path,<sp/>sys.path_importer_cache)</highlight></codeline>
<codeline lineno="1788"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>fix_zipimporter_caches:</highlight></codeline>
<codeline lineno="1789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_replace_zip_directory_cache_data(normalized_path)</highlight></codeline>
<codeline lineno="1790"><highlight class="normal"><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="1791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Here,<sp/>even<sp/>though<sp/>we<sp/>do<sp/>not<sp/>want<sp/>to<sp/>fix<sp/>existing<sp/>and<sp/>now<sp/>stale</highlight></codeline>
<codeline lineno="1792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>zipimporter<sp/>cache<sp/>information,<sp/>we<sp/>still<sp/>want<sp/>to<sp/>remove<sp/>it.<sp/>Related<sp/>to</highlight></codeline>
<codeline lineno="1793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Python&apos;s<sp/>zip<sp/>archive<sp/>directory<sp/>information<sp/>cache,<sp/>we<sp/>clear<sp/>each<sp/>of</highlight></codeline>
<codeline lineno="1794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>its<sp/>stale<sp/>entries<sp/>in<sp/>two<sp/>phases:</highlight></codeline>
<codeline lineno="1795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/>1.<sp/>Clear<sp/>the<sp/>entry<sp/>so<sp/>attempting<sp/>to<sp/>access<sp/>zip<sp/>archive<sp/>information</highlight></codeline>
<codeline lineno="1796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/><sp/><sp/><sp/>via<sp/>any<sp/>existing<sp/>stale<sp/>zipimport.zipimporter<sp/>instances<sp/>fails.</highlight></codeline>
<codeline lineno="1797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/>2.<sp/>Remove<sp/>the<sp/>entry<sp/>from<sp/>the<sp/>cache<sp/>so<sp/>any<sp/>newly<sp/>constructed</highlight></codeline>
<codeline lineno="1798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/><sp/><sp/><sp/>zipimport.zipimporter<sp/>instances<sp/>do<sp/>not<sp/>end<sp/>up<sp/>using<sp/>old<sp/>stale</highlight></codeline>
<codeline lineno="1799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/><sp/><sp/><sp/>zip<sp/>archive<sp/>directory<sp/>information.</highlight></codeline>
<codeline lineno="1800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>This<sp/>whole<sp/>stale<sp/>data<sp/>removal<sp/>step<sp/>does<sp/>not<sp/>seem<sp/>strictly<sp/>necessary,</highlight></codeline>
<codeline lineno="1801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>but<sp/>has<sp/>been<sp/>left<sp/>in<sp/>because<sp/>it<sp/>was<sp/>done<sp/>before<sp/>we<sp/>started<sp/>replacing</highlight></codeline>
<codeline lineno="1802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>the<sp/>zip<sp/>archive<sp/>directory<sp/>information<sp/>cache<sp/>content<sp/>if<sp/>possible,<sp/>and</highlight></codeline>
<codeline lineno="1803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>there<sp/>are<sp/>no<sp/>relevant<sp/>unit<sp/>tests<sp/>that<sp/>we<sp/>can<sp/>depend<sp/>on<sp/>to<sp/>tell<sp/>us<sp/>if</highlight></codeline>
<codeline lineno="1804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>this<sp/>is<sp/>really<sp/>needed.</highlight></codeline>
<codeline lineno="1805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_remove_and_clear_zip_directory_cache_data(normalized_path)</highlight></codeline>
<codeline lineno="1806"><highlight class="normal"></highlight></codeline>
<codeline lineno="1807"><highlight class="normal"></highlight></codeline>
<codeline lineno="1808" refid="namespacesetuptools_1_1command_1_1easy__install_1a3e21aa9487300697f59935a3b0502407" refkind="member"><highlight class="normal">def<sp/>_collect_zipimporter_cache_entries(normalized_path,<sp/>cache):</highlight></codeline>
<codeline lineno="1809"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1810"><highlight class="normal"><sp/><sp/><sp/><sp/>Return<sp/>zipimporter<sp/>cache<sp/>entry<sp/>keys<sp/>related<sp/>to<sp/>a<sp/>given<sp/>normalized<sp/>path.</highlight></codeline>
<codeline lineno="1811"><highlight class="normal"></highlight></codeline>
<codeline lineno="1812"><highlight class="normal"><sp/><sp/><sp/><sp/>Alternative<sp/>path<sp/>spellings<sp/>(e.g.<sp/>those<sp/>using<sp/>different<sp/>character<sp/>case<sp/>or</highlight></codeline>
<codeline lineno="1813"><highlight class="normal"><sp/><sp/><sp/><sp/>those<sp/>using<sp/>alternative<sp/>path<sp/>separators)<sp/>related<sp/>to<sp/>the<sp/>same<sp/>path<sp/>are</highlight></codeline>
<codeline lineno="1814"><highlight class="normal"><sp/><sp/><sp/><sp/>included.<sp/>Any<sp/>sub-path<sp/>entries<sp/>are<sp/>included<sp/>as<sp/>well,<sp/>i.e.<sp/>those</highlight></codeline>
<codeline lineno="1815"><highlight class="normal"><sp/><sp/><sp/><sp/>corresponding<sp/>to<sp/>zip<sp/>archives<sp/>embedded<sp/>in<sp/>other<sp/>zip<sp/>archives.</highlight></codeline>
<codeline lineno="1816"><highlight class="normal"></highlight></codeline>
<codeline lineno="1817"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1818"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1819"><highlight class="normal"><sp/><sp/><sp/><sp/>prefix_len<sp/>=<sp/>len(normalized_path)</highlight></codeline>
<codeline lineno="1820"><highlight class="normal"><sp/><sp/><sp/><sp/>for<sp/>p<sp/>in<sp/>cache:</highlight></codeline>
<codeline lineno="1821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>np<sp/>=<sp/>normalize_path(p)</highlight></codeline>
<codeline lineno="1822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(np.startswith(normalized_path)<sp/>and</highlight></codeline>
<codeline lineno="1823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>np[prefix_len:prefix_len<sp/>+<sp/>1]<sp/>in<sp/>(os.sep,<sp/>&apos;&apos;)):</highlight></codeline>
<codeline lineno="1824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result.append(p)</highlight></codeline>
<codeline lineno="1825"><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>result</highlight></codeline>
<codeline lineno="1826"><highlight class="normal"></highlight></codeline>
<codeline lineno="1827"><highlight class="normal"></highlight></codeline>
<codeline lineno="1828" refid="namespacesetuptools_1_1command_1_1easy__install_1a827505a019531fb9980c4bf7033f7cc7" refkind="member"><highlight class="normal">def<sp/>_update_zipimporter_cache(normalized_path,<sp/>cache,<sp/>updater=None):</highlight></codeline>
<codeline lineno="1829"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1830"><highlight class="normal"><sp/><sp/><sp/><sp/>Update<sp/>zipimporter<sp/>cache<sp/>data<sp/>for<sp/>a<sp/>given<sp/>normalized<sp/>path.</highlight></codeline>
<codeline lineno="1831"><highlight class="normal"></highlight></codeline>
<codeline lineno="1832"><highlight class="normal"><sp/><sp/><sp/><sp/>Any<sp/>sub-path<sp/>entries<sp/>are<sp/>processed<sp/>as<sp/>well,<sp/>i.e.<sp/>those<sp/>corresponding<sp/>to<sp/>zip</highlight></codeline>
<codeline lineno="1833"><highlight class="normal"><sp/><sp/><sp/><sp/>archives<sp/>embedded<sp/>in<sp/>other<sp/>zip<sp/>archives.</highlight></codeline>
<codeline lineno="1834"><highlight class="normal"></highlight></codeline>
<codeline lineno="1835"><highlight class="normal"><sp/><sp/><sp/><sp/>Given<sp/>updater<sp/>is<sp/>a<sp/>callable<sp/>taking<sp/>a<sp/>cache<sp/>entry<sp/>key<sp/>and<sp/>the<sp/>original<sp/>entry</highlight></codeline>
<codeline lineno="1836"><highlight class="normal"><sp/><sp/><sp/><sp/>(after<sp/>already<sp/>removing<sp/>the<sp/>entry<sp/>from<sp/>the<sp/>cache),<sp/>and<sp/>expected<sp/>to<sp/>update</highlight></codeline>
<codeline lineno="1837"><highlight class="normal"><sp/><sp/><sp/><sp/>the<sp/>entry<sp/>and<sp/>possibly<sp/>return<sp/>a<sp/>new<sp/>one<sp/>to<sp/>be<sp/>inserted<sp/>in<sp/>its<sp/>place.</highlight></codeline>
<codeline lineno="1838"><highlight class="normal"><sp/><sp/><sp/><sp/>Returning<sp/>None<sp/>indicates<sp/>that<sp/>the<sp/>entry<sp/>should<sp/>not<sp/>be<sp/>replaced<sp/>with<sp/>a<sp/>new</highlight></codeline>
<codeline lineno="1839"><highlight class="normal"><sp/><sp/><sp/><sp/>one.<sp/>If<sp/>no<sp/>updater<sp/>is<sp/>given,<sp/>the<sp/>cache<sp/>entries<sp/>are<sp/>simply<sp/>removed<sp/>without</highlight></codeline>
<codeline lineno="1840"><highlight class="normal"><sp/><sp/><sp/><sp/>any<sp/>additional<sp/>processing,<sp/>the<sp/>same<sp/>as<sp/>if<sp/>the<sp/>updater<sp/>simply<sp/>returned<sp/>None.</highlight></codeline>
<codeline lineno="1841"><highlight class="normal"></highlight></codeline>
<codeline lineno="1842"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1843"><highlight class="normal"><sp/><sp/><sp/><sp/>for<sp/>p<sp/>in<sp/>_collect_zipimporter_cache_entries(normalized_path,<sp/>cache):</highlight></codeline>
<codeline lineno="1844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>N.B.<sp/>pypy&apos;s<sp/>custom<sp/>zipimport._zip_directory_cache<sp/>implementation<sp/>does</highlight></codeline>
<codeline lineno="1845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>not<sp/>support<sp/>the<sp/>complete<sp/>dict<sp/>interface:</highlight></codeline>
<codeline lineno="1846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>*<sp/>Does<sp/>not<sp/>support<sp/>item<sp/>assignment,<sp/>thus<sp/>not<sp/>allowing<sp/>this<sp/>function</highlight></codeline>
<codeline lineno="1847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/><sp/>to<sp/>be<sp/>used<sp/>only<sp/>for<sp/>removing<sp/>existing<sp/>cache<sp/>entries.</highlight></codeline>
<codeline lineno="1848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/>*<sp/>Does<sp/>not<sp/>support<sp/>the<sp/>dict.pop()<sp/>method,<sp/>forcing<sp/>us<sp/>to<sp/>use<sp/>the</highlight></codeline>
<codeline lineno="1849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/><sp/>get/del<sp/>patterns<sp/>instead.<sp/>For<sp/>more<sp/>detailed<sp/>information<sp/>see<sp/>the</highlight></codeline>
<codeline lineno="1850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/><sp/>following<sp/>links:</highlight></codeline>
<codeline lineno="1851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/><sp/><sp/><sp/>https://github.com/pypa/setuptools/issues/202#issuecomment-202913420</highlight></codeline>
<codeline lineno="1852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/><sp/><sp/><sp/>http://bit.ly/2h9itJX</highlight></codeline>
<codeline lineno="1853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>old_entry<sp/>=<sp/>cache[p]</highlight></codeline>
<codeline lineno="1854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>del<sp/>cache[p]</highlight></codeline>
<codeline lineno="1855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_entry<sp/>=<sp/>updater<sp/>and<sp/>updater(p,<sp/>old_entry)</highlight></codeline>
<codeline lineno="1856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>new_entry<sp/>is<sp/>not<sp/>None:</highlight></codeline>
<codeline lineno="1857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cache[p]<sp/>=<sp/>new_entry</highlight></codeline>
<codeline lineno="1858"><highlight class="normal"></highlight></codeline>
<codeline lineno="1859"><highlight class="normal"></highlight></codeline>
<codeline lineno="1860" refid="namespacesetuptools_1_1command_1_1easy__install_1af06f1ee30bfe4eab570b8bc78a44f05f" refkind="member"><highlight class="normal">def<sp/>_uncache(normalized_path,<sp/>cache):</highlight></codeline>
<codeline lineno="1861"><highlight class="normal"><sp/><sp/><sp/><sp/>_update_zipimporter_cache(normalized_path,<sp/>cache)</highlight></codeline>
<codeline lineno="1862"><highlight class="normal"></highlight></codeline>
<codeline lineno="1863"><highlight class="normal"></highlight></codeline>
<codeline lineno="1864" refid="namespacesetuptools_1_1command_1_1easy__install_1a5bad839f98a5b692be394024ee8c51a0" refkind="member"><highlight class="normal">def<sp/>_remove_and_clear_zip_directory_cache_data(normalized_path):</highlight></codeline>
<codeline lineno="1865"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>clear_and_remove_cached_zip_archive_directory_data(path,<sp/>old_entry):</highlight></codeline>
<codeline lineno="1866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>old_entry.clear()</highlight></codeline>
<codeline lineno="1867"><highlight class="normal"></highlight></codeline>
<codeline lineno="1868"><highlight class="normal"><sp/><sp/><sp/><sp/>_update_zipimporter_cache(</highlight></codeline>
<codeline lineno="1869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>normalized_path,<sp/>zipimport._zip_directory_cache,</highlight></codeline>
<codeline lineno="1870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>updater=clear_and_remove_cached_zip_archive_directory_data)</highlight></codeline>
<codeline lineno="1871"><highlight class="normal"></highlight></codeline>
<codeline lineno="1872"><highlight class="normal"></highlight></codeline>
<codeline lineno="1873"><highlight class="normal">#<sp/>PyPy<sp/>Python<sp/>implementation<sp/>does<sp/>not<sp/>allow<sp/>directly<sp/>writing<sp/>to<sp/>the</highlight></codeline>
<codeline lineno="1874"><highlight class="normal">#<sp/>zipimport._zip_directory_cache<sp/>and<sp/>so<sp/>prevents<sp/>us<sp/>from<sp/>attempting<sp/>to<sp/>correct</highlight></codeline>
<codeline lineno="1875"><highlight class="normal">#<sp/>its<sp/>content.<sp/>The<sp/>best<sp/>we<sp/>can<sp/>do<sp/>there<sp/>is<sp/>clear<sp/>the<sp/>problematic<sp/>cache<sp/>content</highlight></codeline>
<codeline lineno="1876"><highlight class="normal">#<sp/>and<sp/>have<sp/>PyPy<sp/>repopulate<sp/>it<sp/>as<sp/>needed.<sp/>The<sp/>downside<sp/>is<sp/>that<sp/>if<sp/>there<sp/>are<sp/>any</highlight></codeline>
<codeline lineno="1877"><highlight class="normal">#<sp/>stale<sp/>zipimport.zipimporter<sp/>instances<sp/>laying<sp/>around,<sp/>attempting<sp/>to<sp/>use<sp/>them</highlight></codeline>
<codeline lineno="1878"><highlight class="normal">#<sp/>will<sp/>fail<sp/>due<sp/>to<sp/>not<sp/>having<sp/>its<sp/>zip<sp/>archive<sp/>directory<sp/>information<sp/>available</highlight></codeline>
<codeline lineno="1879"><highlight class="normal">#<sp/>instead<sp/>of<sp/>being<sp/>automatically<sp/>corrected<sp/>to<sp/>use<sp/>the<sp/>new<sp/>correct<sp/>zip<sp/>archive</highlight></codeline>
<codeline lineno="1880"><highlight class="normal">#<sp/>directory<sp/>information.</highlight></codeline>
<codeline lineno="1881"><highlight class="normal">if<sp/>&apos;__pypy__&apos;<sp/>in<sp/>sys.builtin_module_names:</highlight></codeline>
<codeline lineno="1882" refid="namespacesetuptools_1_1command_1_1easy__install_1aa9f7d6a38e2d4a1ad18d11a1e978de2b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>_replace_zip_directory_cache_data<sp/>=<sp/>\</highlight></codeline>
<codeline lineno="1883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_remove_and_clear_zip_directory_cache_data</highlight></codeline>
<codeline lineno="1884"><highlight class="normal">else:</highlight></codeline>
<codeline lineno="1885"><highlight class="normal"></highlight></codeline>
<codeline lineno="1886" refid="namespacesetuptools_1_1command_1_1easy__install_1a29752b1da382e580feaffef15b5a38fd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_replace_zip_directory_cache_data(normalized_path):</highlight></codeline>
<codeline lineno="1887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>def<sp/>replace_cached_zip_archive_directory_data(path,<sp/>old_entry):</highlight></codeline>
<codeline lineno="1888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>N.B.<sp/>In<sp/>theory,<sp/>we<sp/>could<sp/>load<sp/>the<sp/>zip<sp/>directory<sp/>information<sp/>just</highlight></codeline>
<codeline lineno="1889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>once<sp/>for<sp/>all<sp/>updated<sp/>path<sp/>spellings,<sp/>and<sp/>then<sp/>copy<sp/>it<sp/>locally<sp/>and</highlight></codeline>
<codeline lineno="1890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>update<sp/>its<sp/>contained<sp/>path<sp/>strings<sp/>to<sp/>contain<sp/>the<sp/>correct</highlight></codeline>
<codeline lineno="1891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>spelling,<sp/>but<sp/>that<sp/>seems<sp/>like<sp/>a<sp/>way<sp/>too<sp/>invasive<sp/>move<sp/>(this<sp/>cache</highlight></codeline>
<codeline lineno="1892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>structure<sp/>is<sp/>not<sp/>officially<sp/>documented<sp/>anywhere<sp/>and<sp/>could<sp/>in</highlight></codeline>
<codeline lineno="1893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>theory<sp/>change<sp/>with<sp/>new<sp/>Python<sp/>releases)<sp/>for<sp/>no<sp/>significant</highlight></codeline>
<codeline lineno="1894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>benefit.</highlight></codeline>
<codeline lineno="1895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>old_entry.clear()</highlight></codeline>
<codeline lineno="1896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>zipimport.zipimporter(path)</highlight></codeline>
<codeline lineno="1897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>old_entry.update(zipimport._zip_directory_cache[path])</highlight></codeline>
<codeline lineno="1898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>old_entry</highlight></codeline>
<codeline lineno="1899"><highlight class="normal"></highlight></codeline>
<codeline lineno="1900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_update_zipimporter_cache(</highlight></codeline>
<codeline lineno="1901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>normalized_path,<sp/>zipimport._zip_directory_cache,</highlight></codeline>
<codeline lineno="1902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>updater=replace_cached_zip_archive_directory_data)</highlight></codeline>
<codeline lineno="1903"><highlight class="normal"></highlight></codeline>
<codeline lineno="1904"><highlight class="normal"></highlight></codeline>
<codeline lineno="1905" refid="namespacesetuptools_1_1command_1_1easy__install_1ac493c235520af40addae2d71dc30b1ef" refkind="member"><highlight class="normal">def<sp/>is_python(text,<sp/>filename=&apos;&lt;string&gt;&apos;):</highlight></codeline>
<codeline lineno="1906"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;Is<sp/>this<sp/>string<sp/>a<sp/>valid<sp/>Python<sp/>script?&quot;</highlight></codeline>
<codeline lineno="1907"><highlight class="normal"><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="1908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>compile(text,<sp/>filename,<sp/>&apos;exec&apos;)</highlight></codeline>
<codeline lineno="1909"><highlight class="normal"><sp/><sp/><sp/><sp/>except<sp/>(SyntaxError,<sp/>TypeError):</highlight></codeline>
<codeline lineno="1910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>False</highlight></codeline>
<codeline lineno="1911"><highlight class="normal"><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="1912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>True</highlight></codeline>
<codeline lineno="1913"><highlight class="normal"></highlight></codeline>
<codeline lineno="1914"><highlight class="normal"></highlight></codeline>
<codeline lineno="1915" refid="namespacesetuptools_1_1command_1_1easy__install_1a5877d4bbb8c34cf17b2787aad1cb7850" refkind="member"><highlight class="normal">def<sp/>is_sh(executable):</highlight></codeline>
<codeline lineno="1916"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;Determine<sp/>if<sp/>the<sp/>specified<sp/>executable<sp/>is<sp/>a<sp/>.sh<sp/>(contains<sp/>a<sp/>#!<sp/>line)&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1917"><highlight class="normal"><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="1918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>with<sp/>io.open(executable,<sp/>encoding=&apos;latin-1&apos;)<sp/>as<sp/>fp:</highlight></codeline>
<codeline lineno="1919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>magic<sp/>=<sp/>fp.read(2)</highlight></codeline>
<codeline lineno="1920"><highlight class="normal"><sp/><sp/><sp/><sp/>except<sp/>(OSError,<sp/>IOError):</highlight></codeline>
<codeline lineno="1921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>executable</highlight></codeline>
<codeline lineno="1922"><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>magic<sp/>==<sp/>&apos;#!&apos;</highlight></codeline>
<codeline lineno="1923"><highlight class="normal"></highlight></codeline>
<codeline lineno="1924"><highlight class="normal"></highlight></codeline>
<codeline lineno="1925" refid="namespacesetuptools_1_1command_1_1easy__install_1aa47444cfc181c0fd8eb1a63ed40ed69c" refkind="member"><highlight class="normal">def<sp/>nt_quote_arg(arg):</highlight></codeline>
<codeline lineno="1926"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;Quote<sp/>a<sp/>command<sp/>line<sp/>argument<sp/>according<sp/>to<sp/>Windows<sp/>parsing<sp/>rules&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1927"><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>subprocess.list2cmdline([arg])</highlight></codeline>
<codeline lineno="1928"><highlight class="normal"></highlight></codeline>
<codeline lineno="1929"><highlight class="normal"></highlight></codeline>
<codeline lineno="1930" refid="namespacesetuptools_1_1command_1_1easy__install_1aa53e87b1d2e3c0574b10d20b02b722a8" refkind="member"><highlight class="normal">def<sp/>is_python_script(script_text,<sp/>filename):</highlight></codeline>
<codeline lineno="1931"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;Is<sp/>this<sp/>text,<sp/>as<sp/>a<sp/>whole,<sp/>a<sp/>Python<sp/>script?<sp/>(as<sp/>opposed<sp/>to<sp/>shell/bat/etc.</highlight></codeline>
<codeline lineno="1932"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1933"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>filename.endswith(&apos;.py&apos;)<sp/>or<sp/>filename.endswith(&apos;.pyw&apos;):</highlight></codeline>
<codeline lineno="1934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>True<sp/><sp/>#<sp/>extension<sp/>says<sp/>it&apos;s<sp/>Python</highlight></codeline>
<codeline lineno="1935"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>is_python(script_text,<sp/>filename):</highlight></codeline>
<codeline lineno="1936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>True<sp/><sp/>#<sp/>it&apos;s<sp/>syntactically<sp/>valid<sp/>Python</highlight></codeline>
<codeline lineno="1937"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>script_text.startswith(&apos;#!&apos;):</highlight></codeline>
<codeline lineno="1938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>It<sp/>begins<sp/>with<sp/>a<sp/>&apos;#!&apos;<sp/>line,<sp/>so<sp/>check<sp/>if<sp/>&apos;python&apos;<sp/>is<sp/>in<sp/>it<sp/>somewhere</highlight></codeline>
<codeline lineno="1939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>&apos;python&apos;<sp/>in<sp/>script_text.splitlines()[0].lower()</highlight></codeline>
<codeline lineno="1940"><highlight class="normal"></highlight></codeline>
<codeline lineno="1941"><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>False<sp/><sp/>#<sp/>Not<sp/>any<sp/>Python<sp/>I<sp/>can<sp/>recognize</highlight></codeline>
<codeline lineno="1942"><highlight class="normal"></highlight></codeline>
<codeline lineno="1943"><highlight class="normal"></highlight></codeline>
<codeline lineno="1944"><highlight class="normal">try:</highlight></codeline>
<codeline lineno="1945"><highlight class="normal"><sp/><sp/><sp/><sp/>from<sp/>os<sp/>import<sp/>chmod<sp/>as<sp/>_chmod</highlight></codeline>
<codeline lineno="1946"><highlight class="normal">except<sp/>ImportError:</highlight></codeline>
<codeline lineno="1947"><highlight class="normal"><sp/><sp/><sp/><sp/>#<sp/>Jython<sp/>compatibility</highlight></codeline>
<codeline lineno="1948" refid="namespacesetuptools_1_1command_1_1easy__install_1abf93c928e39a51c5d030fd8d01db077c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_chmod(*args):</highlight></codeline>
<codeline lineno="1949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pass</highlight></codeline>
<codeline lineno="1950"><highlight class="normal"></highlight></codeline>
<codeline lineno="1951"><highlight class="normal"></highlight></codeline>
<codeline lineno="1952" refid="namespacesetuptools_1_1command_1_1easy__install_1afbec0bf51c671631cd22d2a605117dd0" refkind="member"><highlight class="normal">def<sp/>chmod(path,<sp/>mode):</highlight></codeline>
<codeline lineno="1953"><highlight class="normal"><sp/><sp/><sp/><sp/>log.debug(&quot;changing<sp/>mode<sp/>of<sp/>%s<sp/>to<sp/>%o&quot;,<sp/>path,<sp/>mode)</highlight></codeline>
<codeline lineno="1954"><highlight class="normal"><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="1955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_chmod(path,<sp/>mode)</highlight></codeline>
<codeline lineno="1956"><highlight class="normal"><sp/><sp/><sp/><sp/>except<sp/>os.error<sp/>as<sp/>e:</highlight></codeline>
<codeline lineno="1957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.debug(&quot;chmod<sp/>failed:<sp/>%s&quot;,<sp/>e)</highlight></codeline>
<codeline lineno="1958"><highlight class="normal"></highlight></codeline>
<codeline lineno="1959"><highlight class="normal"></highlight></codeline>
<codeline lineno="1960" refid="classsetuptools_1_1command_1_1easy__install_1_1_command_spec" refkind="compound"><highlight class="normal">class<sp/>CommandSpec(list):</highlight></codeline>
<codeline lineno="1961"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1962"><highlight class="normal"><sp/><sp/><sp/><sp/>A<sp/>command<sp/>spec<sp/>for<sp/>a<sp/>#!<sp/>header,<sp/>specified<sp/>as<sp/>a<sp/>list<sp/>of<sp/>arguments<sp/>akin<sp/>to</highlight></codeline>
<codeline lineno="1963"><highlight class="normal"><sp/><sp/><sp/><sp/>those<sp/>passed<sp/>to<sp/>Popen.</highlight></codeline>
<codeline lineno="1964"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1965"><highlight class="normal"></highlight></codeline>
<codeline lineno="1966" refid="classsetuptools_1_1command_1_1easy__install_1_1_command_spec_1af903823d2b8b78c41780cdf6268bd81e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>options<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1967" refid="classsetuptools_1_1command_1_1easy__install_1_1_command_spec_1ad018294d1fc138784632eceabaf1aa48" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>split_args<sp/>=<sp/>dict()</highlight></codeline>
<codeline lineno="1968"><highlight class="normal"></highlight></codeline>
<codeline lineno="1969"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="1970" refid="classsetuptools_1_1command_1_1easy__install_1_1_command_spec_1a7e89290c6e68bfe28c336e1c31d5baaa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>best(cls):</highlight></codeline>
<codeline lineno="1971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Choose<sp/>the<sp/>best<sp/>CommandSpec<sp/>class<sp/>based<sp/>on<sp/>environmental<sp/>conditions.</highlight></codeline>
<codeline lineno="1973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>cls</highlight></codeline>
<codeline lineno="1975"><highlight class="normal"></highlight></codeline>
<codeline lineno="1976"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="1977" refid="classsetuptools_1_1command_1_1easy__install_1_1_command_spec_1a5b2473dbb8cb92d6daddbc86653a9261" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_sys_executable(cls):</highlight></codeline>
<codeline lineno="1978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_default<sp/>=<sp/>os.path.normpath(sys.executable)</highlight></codeline>
<codeline lineno="1979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>os.environ.get(&apos;__PYVENV_LAUNCHER__&apos;,<sp/>_default)</highlight></codeline>
<codeline lineno="1980"><highlight class="normal"></highlight></codeline>
<codeline lineno="1981"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="1982" refid="classsetuptools_1_1command_1_1easy__install_1_1_command_spec_1aa3d0ce9ebebd142ac19022f9a36deba3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>from_param(cls,<sp/>param):</highlight></codeline>
<codeline lineno="1983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Construct<sp/>a<sp/>CommandSpec<sp/>from<sp/>a<sp/>parameter<sp/>to<sp/>build_scripts,<sp/>which<sp/>may</highlight></codeline>
<codeline lineno="1985"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>be<sp/>None.</highlight></codeline>
<codeline lineno="1986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>isinstance(param,<sp/>cls):</highlight></codeline>
<codeline lineno="1988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>param</highlight></codeline>
<codeline lineno="1989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>isinstance(param,<sp/>list):</highlight></codeline>
<codeline lineno="1990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>cls(param)</highlight></codeline>
<codeline lineno="1991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>param<sp/>is<sp/>None:</highlight></codeline>
<codeline lineno="1992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>cls.from_environment()</highlight></codeline>
<codeline lineno="1993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>otherwise,<sp/>assume<sp/>it&apos;s<sp/>a<sp/>string.</highlight></codeline>
<codeline lineno="1994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>cls.from_string(param)</highlight></codeline>
<codeline lineno="1995"><highlight class="normal"></highlight></codeline>
<codeline lineno="1996"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="1997" refid="classsetuptools_1_1command_1_1easy__install_1_1_command_spec_1afcdd997715ae06447dd260ba6f5aa8d3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>from_environment(cls):</highlight></codeline>
<codeline lineno="1998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>cls([cls._sys_executable()])</highlight></codeline>
<codeline lineno="1999"><highlight class="normal"></highlight></codeline>
<codeline lineno="2000"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="2001" refid="classsetuptools_1_1command_1_1easy__install_1_1_command_spec_1a3aafdaedf551a96a377a38ba6925ec0c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>from_string(cls,<sp/>string):</highlight></codeline>
<codeline lineno="2002"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Construct<sp/>a<sp/>command<sp/>spec<sp/>from<sp/>a<sp/>simple<sp/>string<sp/>representing<sp/>a<sp/>command</highlight></codeline>
<codeline lineno="2004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line<sp/>parseable<sp/>by<sp/>shlex.split.</highlight></codeline>
<codeline lineno="2005"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2006"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>items<sp/>=<sp/>shlex.split(string,<sp/>**cls.split_args)</highlight></codeline>
<codeline lineno="2007"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>cls(items)</highlight></codeline>
<codeline lineno="2008"><highlight class="normal"></highlight></codeline>
<codeline lineno="2009" refid="classsetuptools_1_1command_1_1easy__install_1_1_command_spec_1a56a6bc01f848d91ca2a505cdece04508" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>install_options(self,<sp/>script_text):</highlight></codeline>
<codeline lineno="2010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.options<sp/>=<sp/>shlex.split(self._extract_options(script_text))</highlight></codeline>
<codeline lineno="2011"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmdline<sp/>=<sp/>subprocess.list2cmdline(self)</highlight></codeline>
<codeline lineno="2012"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>isascii(cmdline):</highlight></codeline>
<codeline lineno="2013"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.options[:0]<sp/>=<sp/>[&apos;-x&apos;]</highlight></codeline>
<codeline lineno="2014"><highlight class="normal"></highlight></codeline>
<codeline lineno="2015"><highlight class="normal"><sp/><sp/><sp/><sp/>@staticmethod</highlight></codeline>
<codeline lineno="2016" refid="classsetuptools_1_1command_1_1easy__install_1_1_command_spec_1af499511d4638cb4cbf47370ec857aa24" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_extract_options(orig_script):</highlight></codeline>
<codeline lineno="2017"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Extract<sp/>any<sp/>options<sp/>from<sp/>the<sp/>first<sp/>line<sp/>of<sp/>the<sp/>script.</highlight></codeline>
<codeline lineno="2019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2020"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>first<sp/>=<sp/>(orig_script<sp/>+<sp/>&apos;\n&apos;).splitlines()[0]</highlight></codeline>
<codeline lineno="2021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>match<sp/>=<sp/>_first_line_re().match(first)</highlight></codeline>
<codeline lineno="2022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>options<sp/>=<sp/>match.group(1)<sp/>or<sp/>&apos;&apos;<sp/>if<sp/>match<sp/>else<sp/>&apos;&apos;</highlight></codeline>
<codeline lineno="2023"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>options.strip()</highlight></codeline>
<codeline lineno="2024"><highlight class="normal"></highlight></codeline>
<codeline lineno="2025" refid="classsetuptools_1_1command_1_1easy__install_1_1_command_spec_1ad8774d446a2f4c9d132519b88deb5986" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>as_header(self):</highlight></codeline>
<codeline lineno="2026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>self._render(self<sp/>+<sp/>list(self.options))</highlight></codeline>
<codeline lineno="2027"><highlight class="normal"></highlight></codeline>
<codeline lineno="2028"><highlight class="normal"><sp/><sp/><sp/><sp/>@staticmethod</highlight></codeline>
<codeline lineno="2029" refid="classsetuptools_1_1command_1_1easy__install_1_1_command_spec_1accc80300ad5071ed7caa697988a55c8b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_strip_quotes(item):</highlight></codeline>
<codeline lineno="2030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_QUOTES<sp/>=<sp/>&apos;&quot;\&apos;&apos;</highlight></codeline>
<codeline lineno="2031"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>q<sp/>in<sp/>_QUOTES:</highlight></codeline>
<codeline lineno="2032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>item.startswith(q)<sp/>and<sp/>item.endswith(q):</highlight></codeline>
<codeline lineno="2033"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>item[1:-1]</highlight></codeline>
<codeline lineno="2034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>item</highlight></codeline>
<codeline lineno="2035"><highlight class="normal"></highlight></codeline>
<codeline lineno="2036"><highlight class="normal"><sp/><sp/><sp/><sp/>@staticmethod</highlight></codeline>
<codeline lineno="2037" refid="classsetuptools_1_1command_1_1easy__install_1_1_command_spec_1ac8f3ba4801b0e4ebac19a84a7999fd0a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_render(items):</highlight></codeline>
<codeline lineno="2038"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmdline<sp/>=<sp/>subprocess.list2cmdline(</highlight></codeline>
<codeline lineno="2039"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CommandSpec._strip_quotes(item.strip())<sp/>for<sp/>item<sp/>in<sp/>items)</highlight></codeline>
<codeline lineno="2040"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>&apos;#!&apos;<sp/>+<sp/>cmdline<sp/>+<sp/>&apos;\n&apos;</highlight></codeline>
<codeline lineno="2041"><highlight class="normal"></highlight></codeline>
<codeline lineno="2042"><highlight class="normal"></highlight></codeline>
<codeline lineno="2043"><highlight class="normal">#<sp/>For<sp/>pbr<sp/>compat;<sp/>will<sp/>be<sp/>removed<sp/>in<sp/>a<sp/>future<sp/>version.</highlight></codeline>
<codeline lineno="2044" refid="namespacesetuptools_1_1command_1_1easy__install_1a48f76612889173175965851e9c795b8a" refkind="member"><highlight class="normal">sys_executable<sp/>=<sp/>CommandSpec._sys_executable()</highlight></codeline>
<codeline lineno="2045"><highlight class="normal"></highlight></codeline>
<codeline lineno="2046"><highlight class="normal"></highlight></codeline>
<codeline lineno="2047" refid="classsetuptools_1_1command_1_1easy__install_1_1_windows_command_spec" refkind="compound"><highlight class="normal">class<sp/>WindowsCommandSpec(CommandSpec):</highlight></codeline>
<codeline lineno="2048" refid="classsetuptools_1_1command_1_1easy__install_1_1_windows_command_spec" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/>split_args<sp/>=<sp/>dict(posix=False)</highlight></codeline>
<codeline lineno="2049"><highlight class="normal"></highlight></codeline>
<codeline lineno="2050"><highlight class="normal"></highlight></codeline>
<codeline lineno="2051" refid="classsetuptools_1_1command_1_1easy__install_1_1_script_writer" refkind="compound"><highlight class="normal">class<sp/>ScriptWriter:</highlight></codeline>
<codeline lineno="2052"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2053"><highlight class="normal"><sp/><sp/><sp/><sp/>Encapsulates<sp/>behavior<sp/>around<sp/>writing<sp/>entry<sp/>point<sp/>scripts<sp/>for<sp/>console<sp/>and</highlight></codeline>
<codeline lineno="2054"><highlight class="normal"><sp/><sp/><sp/><sp/>gui<sp/>apps.</highlight></codeline>
<codeline lineno="2055"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2056"><highlight class="normal"></highlight></codeline>
<codeline lineno="2057" refid="classsetuptools_1_1command_1_1easy__install_1_1_script_writer_1add87ac1a8190275eb8e549a38aa3763b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>template<sp/>=<sp/>textwrap.dedent(</highlight><highlight class="stringliteral">r&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2058"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>EASY-INSTALL-ENTRY-SCRIPT:<sp/>%(spec)r,%(group)r,%(name)r</highlight></codeline>
<codeline lineno="2059"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>import<sp/>re</highlight></codeline>
<codeline lineno="2060"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>import<sp/>sys</highlight></codeline>
<codeline lineno="2061"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2062"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>for<sp/>compatibility<sp/>with<sp/>easy_install;<sp/>see<sp/>#2198</highlight></codeline>
<codeline lineno="2063"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__requires__<sp/>=<sp/>%(spec)r</highlight></codeline>
<codeline lineno="2064"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2065"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="2066"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>from<sp/>importlib.metadata<sp/>import<sp/>distribution</highlight></codeline>
<codeline lineno="2067"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>except<sp/>ImportError:</highlight></codeline>
<codeline lineno="2068"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="2069"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>from<sp/>importlib_metadata<sp/>import<sp/>distribution</highlight></codeline>
<codeline lineno="2070"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>except<sp/>ImportError:</highlight></codeline>
<codeline lineno="2071"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>from<sp/>pkg_resources<sp/>import<sp/>load_entry_point</highlight></codeline>
<codeline lineno="2072"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2073"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2074"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>def<sp/>importlib_load_entry_point(spec,<sp/>group,<sp/>name):</highlight></codeline>
<codeline lineno="2075"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist_name,<sp/>_,<sp/>_<sp/>=<sp/>spec.partition(&apos;==&apos;)</highlight></codeline>
<codeline lineno="2076"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>matches<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="2077"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry_point</highlight></codeline>
<codeline lineno="2078"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>entry_point<sp/>in<sp/>distribution(dist_name).entry_points</highlight></codeline>
<codeline lineno="2079"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>entry_point.group<sp/>==<sp/>group<sp/>and<sp/>entry_point.name<sp/>==<sp/>name</highlight></codeline>
<codeline lineno="2080"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="2081"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>next(matches).load()</highlight></codeline>
<codeline lineno="2082"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2083"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2084"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>globals().setdefault(&apos;load_entry_point&apos;,<sp/>importlib_load_entry_point)</highlight></codeline>
<codeline lineno="2085"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2086"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2087"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>__name__<sp/>==<sp/>&apos;__main__&apos;:</highlight></codeline>
<codeline lineno="2088"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sys.argv[0]<sp/>=<sp/>re.sub(r&apos;(-script\.pyw?|\.exe)?$&apos;,<sp/>&apos;&apos;,<sp/>sys.argv[0])</highlight></codeline>
<codeline lineno="2089"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sys.exit(load_entry_point(%(spec)r,<sp/>%(group)r,<sp/>%(name)r)())</highlight></codeline>
<codeline lineno="2090"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal">).lstrip()</highlight></codeline>
<codeline lineno="2091"><highlight class="normal"></highlight></codeline>
<codeline lineno="2092" refid="classsetuptools_1_1command_1_1easy__install_1_1_script_writer_1ac4fc67e6673d774cd6af71b6eb982eb9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>command_spec_class<sp/>=<sp/>CommandSpec</highlight></codeline>
<codeline lineno="2093"><highlight class="normal"></highlight></codeline>
<codeline lineno="2094"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="2095" refid="classsetuptools_1_1command_1_1easy__install_1_1_script_writer_1a339248af6e182f60bf8b0fc06dcfcb9d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>get_script_args(cls,<sp/>dist,<sp/>executable=None,<sp/>wininst=False):</highlight></codeline>
<codeline lineno="2096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>for<sp/>backward<sp/>compatibility</highlight></codeline>
<codeline lineno="2097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>warnings.warn(&quot;Use<sp/>get_args&quot;,<sp/>EasyInstallDeprecationWarning)</highlight></codeline>
<codeline lineno="2098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>writer<sp/>=<sp/>(WindowsScriptWriter<sp/>if<sp/>wininst<sp/>else<sp/>ScriptWriter).best()</highlight></codeline>
<codeline lineno="2099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>header<sp/>=<sp/>cls.get_script_header(&quot;&quot;,<sp/>executable,<sp/>wininst)</highlight></codeline>
<codeline lineno="2100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>writer.get_args(dist,<sp/>header)</highlight></codeline>
<codeline lineno="2101"><highlight class="normal"></highlight></codeline>
<codeline lineno="2102"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="2103" refid="classsetuptools_1_1command_1_1easy__install_1_1_script_writer_1a3750a5cf6b5e417ecc43165cac663a8c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>get_script_header(cls,<sp/>script_text,<sp/>executable=None,<sp/>wininst=False):</highlight></codeline>
<codeline lineno="2104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>for<sp/>backward<sp/>compatibility</highlight></codeline>
<codeline lineno="2105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>warnings.warn(</highlight></codeline>
<codeline lineno="2106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;Use<sp/>get_header&quot;,<sp/>EasyInstallDeprecationWarning,<sp/>stacklevel=2)</highlight></codeline>
<codeline lineno="2107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>wininst:</highlight></codeline>
<codeline lineno="2108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>executable<sp/>=<sp/>&quot;python.exe&quot;</highlight></codeline>
<codeline lineno="2109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>cls.get_header(script_text,<sp/>executable)</highlight></codeline>
<codeline lineno="2110"><highlight class="normal"></highlight></codeline>
<codeline lineno="2111"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="2112" refid="classsetuptools_1_1command_1_1easy__install_1_1_script_writer_1aab86cbc076b7e4a3c598a25aa9153557" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>get_args(cls,<sp/>dist,<sp/>header=None):</highlight></codeline>
<codeline lineno="2113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Yield<sp/>write_script()<sp/>argument<sp/>tuples<sp/>for<sp/>a<sp/>distribution&apos;s</highlight></codeline>
<codeline lineno="2115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>console_scripts<sp/>and<sp/>gui_scripts<sp/>entry<sp/>points.</highlight></codeline>
<codeline lineno="2116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>header<sp/>is<sp/>None:</highlight></codeline>
<codeline lineno="2118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>header<sp/>=<sp/>cls.get_header()</highlight></codeline>
<codeline lineno="2119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spec<sp/>=<sp/>str(dist.as_requirement())</highlight></codeline>
<codeline lineno="2120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>type_<sp/>in<sp/>&apos;console&apos;,<sp/>&apos;gui&apos;:</highlight></codeline>
<codeline lineno="2121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>group<sp/>=<sp/>type_<sp/>+<sp/>&apos;_scripts&apos;</highlight></codeline>
<codeline lineno="2122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>name,<sp/>ep<sp/>in<sp/>dist.get_entry_map(group).items():</highlight></codeline>
<codeline lineno="2123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls._ensure_safe_name(name)</highlight></codeline>
<codeline lineno="2124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>script_text<sp/>=<sp/>cls.template<sp/>%<sp/>locals()</highlight></codeline>
<codeline lineno="2125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args<sp/>=<sp/>cls._get_script_args(type_,<sp/>name,<sp/>header,<sp/>script_text)</highlight></codeline>
<codeline lineno="2126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>res<sp/>in<sp/>args:</highlight></codeline>
<codeline lineno="2127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yield<sp/>res</highlight></codeline>
<codeline lineno="2128"><highlight class="normal"></highlight></codeline>
<codeline lineno="2129"><highlight class="normal"><sp/><sp/><sp/><sp/>@staticmethod</highlight></codeline>
<codeline lineno="2130" refid="classsetuptools_1_1command_1_1easy__install_1_1_script_writer_1ab8dc5d11c4db1c4d5d3f4d970b99c88c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_ensure_safe_name(name):</highlight></codeline>
<codeline lineno="2131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Prevent<sp/>paths<sp/>in<sp/>*_scripts<sp/>entry<sp/>point<sp/>names.</highlight></codeline>
<codeline lineno="2133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>has_path_sep<sp/>=<sp/>re.search(r&apos;[\\/]&apos;,<sp/>name)</highlight></codeline>
<codeline lineno="2135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>has_path_sep:</highlight></codeline>
<codeline lineno="2136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>raise<sp/>ValueError(&quot;Path<sp/>separators<sp/>not<sp/>allowed<sp/>in<sp/>script<sp/>names&quot;)</highlight></codeline>
<codeline lineno="2137"><highlight class="normal"></highlight></codeline>
<codeline lineno="2138"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="2139" refid="classsetuptools_1_1command_1_1easy__install_1_1_script_writer_1a6282c2290df07faf458d6e9aa4e1db60" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>get_writer(cls,<sp/>force_windows):</highlight></codeline>
<codeline lineno="2140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>for<sp/>backward<sp/>compatibility</highlight></codeline>
<codeline lineno="2141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>warnings.warn(&quot;Use<sp/>best&quot;,<sp/>EasyInstallDeprecationWarning)</highlight></codeline>
<codeline lineno="2142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>WindowsScriptWriter.best()<sp/>if<sp/>force_windows<sp/>else<sp/>cls.best()</highlight></codeline>
<codeline lineno="2143"><highlight class="normal"></highlight></codeline>
<codeline lineno="2144"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="2145" refid="classsetuptools_1_1command_1_1easy__install_1_1_script_writer_1aa29f4b781b4f075920c6c40b65109204" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>best(cls):</highlight></codeline>
<codeline lineno="2146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Select<sp/>the<sp/>best<sp/>ScriptWriter<sp/>for<sp/>this<sp/>environment.</highlight></codeline>
<codeline lineno="2148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>sys.platform<sp/>==<sp/>&apos;win32&apos;<sp/>or<sp/>(os.name<sp/>==<sp/>&apos;java&apos;<sp/>and<sp/>os._name<sp/>==<sp/>&apos;nt&apos;):</highlight></codeline>
<codeline lineno="2150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>WindowsScriptWriter.best()</highlight></codeline>
<codeline lineno="2151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="2152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>cls</highlight></codeline>
<codeline lineno="2153"><highlight class="normal"></highlight></codeline>
<codeline lineno="2154"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="2155" refid="classsetuptools_1_1command_1_1easy__install_1_1_script_writer_1af51567b52dd618d8596728bf2a1d0b39" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_get_script_args(cls,<sp/>type_,<sp/>name,<sp/>header,<sp/>script_text):</highlight></codeline>
<codeline lineno="2156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Simply<sp/>write<sp/>the<sp/>stub<sp/>with<sp/>no<sp/>extension.</highlight></codeline>
<codeline lineno="2157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yield<sp/>(name,<sp/>header<sp/>+<sp/>script_text)</highlight></codeline>
<codeline lineno="2158"><highlight class="normal"></highlight></codeline>
<codeline lineno="2159"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="2160" refid="classsetuptools_1_1command_1_1easy__install_1_1_script_writer_1ad49641db8e7c087628ffac269bf5e4dc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>get_header(cls,<sp/>script_text=&quot;&quot;,<sp/>executable=None):</highlight></codeline>
<codeline lineno="2161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;Create<sp/>a<sp/>#!<sp/>line,<sp/>getting<sp/>options<sp/>(if<sp/>any)<sp/>from<sp/>script_text&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd<sp/>=<sp/>cls.command_spec_class.best().from_param(executable)</highlight></codeline>
<codeline lineno="2163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.install_options(script_text)</highlight></codeline>
<codeline lineno="2164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>cmd.as_header()</highlight></codeline>
<codeline lineno="2165"><highlight class="normal"></highlight></codeline>
<codeline lineno="2166"><highlight class="normal"></highlight></codeline>
<codeline lineno="2167" refid="classsetuptools_1_1command_1_1easy__install_1_1_windows_script_writer" refkind="compound"><highlight class="normal">class<sp/>WindowsScriptWriter(ScriptWriter):</highlight></codeline>
<codeline lineno="2168" refid="classsetuptools_1_1command_1_1easy__install_1_1_windows_script_writer" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/>command_spec_class<sp/>=<sp/>WindowsCommandSpec</highlight></codeline>
<codeline lineno="2169"><highlight class="normal"></highlight></codeline>
<codeline lineno="2170"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="2171" refid="classsetuptools_1_1command_1_1easy__install_1_1_windows_script_writer_1ae2871adc23219c37ca4fe4ec1683cc55" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>get_writer(cls):</highlight></codeline>
<codeline lineno="2172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>for<sp/>backward<sp/>compatibility</highlight></codeline>
<codeline lineno="2173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>warnings.warn(&quot;Use<sp/>best&quot;,<sp/>EasyInstallDeprecationWarning)</highlight></codeline>
<codeline lineno="2174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>cls.best()</highlight></codeline>
<codeline lineno="2175"><highlight class="normal"></highlight></codeline>
<codeline lineno="2176"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="2177" refid="classsetuptools_1_1command_1_1easy__install_1_1_windows_script_writer_1a281c7e10e2efb884501bf0ad3852fd02" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>best(cls):</highlight></codeline>
<codeline lineno="2178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Select<sp/>the<sp/>best<sp/>ScriptWriter<sp/>suitable<sp/>for<sp/>Windows</highlight></codeline>
<codeline lineno="2180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>writer_lookup<sp/>=<sp/>dict(</highlight></codeline>
<codeline lineno="2182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>executable=WindowsExecutableLauncherWriter,</highlight></codeline>
<codeline lineno="2183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>natural=cls,</highlight></codeline>
<codeline lineno="2184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="2185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>for<sp/>compatibility,<sp/>use<sp/>the<sp/>executable<sp/>launcher<sp/>by<sp/>default</highlight></codeline>
<codeline lineno="2186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>launcher<sp/>=<sp/>os.environ.get(&apos;SETUPTOOLS_LAUNCHER&apos;,<sp/>&apos;executable&apos;)</highlight></codeline>
<codeline lineno="2187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>writer_lookup[launcher]</highlight></codeline>
<codeline lineno="2188"><highlight class="normal"></highlight></codeline>
<codeline lineno="2189"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="2190" refid="classsetuptools_1_1command_1_1easy__install_1_1_windows_script_writer_1aa481370e3c7e9039ff6bd59fc5872309" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_get_script_args(cls,<sp/>type_,<sp/>name,<sp/>header,<sp/>script_text):</highlight></codeline>
<codeline lineno="2191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;For<sp/>Windows,<sp/>add<sp/>a<sp/>.py<sp/>extension&quot;</highlight></codeline>
<codeline lineno="2192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext<sp/>=<sp/>dict(console=&apos;.pya&apos;,<sp/>gui=&apos;.pyw&apos;)[type_]</highlight></codeline>
<codeline lineno="2193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>ext<sp/>not<sp/>in<sp/>os.environ[&apos;PATHEXT&apos;].lower().split(&apos;;&apos;):</highlight></codeline>
<codeline lineno="2194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="2195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;{ext}<sp/>not<sp/>listed<sp/>in<sp/>PATHEXT;<sp/>scripts<sp/>will<sp/>not<sp/>be<sp/>&quot;</highlight></codeline>
<codeline lineno="2196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;recognized<sp/>as<sp/>executables.&quot;</highlight></codeline>
<codeline lineno="2197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>).format(**locals())</highlight></codeline>
<codeline lineno="2198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>warnings.warn(msg,<sp/>UserWarning)</highlight></codeline>
<codeline lineno="2199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>old<sp/>=<sp/>[&apos;.pya&apos;,<sp/>&apos;.py&apos;,<sp/>&apos;-script.py&apos;,<sp/>&apos;.pyc&apos;,<sp/>&apos;.pyo&apos;,<sp/>&apos;.pyw&apos;,<sp/>&apos;.exe&apos;]</highlight></codeline>
<codeline lineno="2200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>old.remove(ext)</highlight></codeline>
<codeline lineno="2201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>header<sp/>=<sp/>cls._adjust_header(type_,<sp/>header)</highlight></codeline>
<codeline lineno="2202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blockers<sp/>=<sp/>[name<sp/>+<sp/>x<sp/>for<sp/>x<sp/>in<sp/>old]</highlight></codeline>
<codeline lineno="2203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yield<sp/>name<sp/>+<sp/>ext,<sp/>header<sp/>+<sp/>script_text,<sp/>&apos;t&apos;,<sp/>blockers</highlight></codeline>
<codeline lineno="2204"><highlight class="normal"></highlight></codeline>
<codeline lineno="2205"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="2206" refid="classsetuptools_1_1command_1_1easy__install_1_1_windows_script_writer_1a58a4637825187861c59e893046f5cadd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_adjust_header(cls,<sp/>type_,<sp/>orig_header):</highlight></codeline>
<codeline lineno="2207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Make<sp/>sure<sp/>&apos;pythonw&apos;<sp/>is<sp/>used<sp/>for<sp/>gui<sp/>and<sp/>&apos;python&apos;<sp/>is<sp/>used<sp/>for</highlight></codeline>
<codeline lineno="2209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>console<sp/>(regardless<sp/>of<sp/>what<sp/>sys.executable<sp/>is).</highlight></codeline>
<codeline lineno="2210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pattern<sp/>=<sp/>&apos;pythonw.exe&apos;</highlight></codeline>
<codeline lineno="2212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>repl<sp/>=<sp/>&apos;python.exe&apos;</highlight></codeline>
<codeline lineno="2213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>type_<sp/>==<sp/>&apos;gui&apos;:</highlight></codeline>
<codeline lineno="2214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pattern,<sp/>repl<sp/>=<sp/>repl,<sp/>pattern</highlight></codeline>
<codeline lineno="2215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pattern_ob<sp/>=<sp/>re.compile(re.escape(pattern),<sp/>re.IGNORECASE)</highlight></codeline>
<codeline lineno="2216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_header<sp/>=<sp/>pattern_ob.sub(string=orig_header,<sp/>repl=repl)</highlight></codeline>
<codeline lineno="2217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>new_header<sp/>if<sp/>cls._use_header(new_header)<sp/>else<sp/>orig_header</highlight></codeline>
<codeline lineno="2218"><highlight class="normal"></highlight></codeline>
<codeline lineno="2219"><highlight class="normal"><sp/><sp/><sp/><sp/>@staticmethod</highlight></codeline>
<codeline lineno="2220" refid="classsetuptools_1_1command_1_1easy__install_1_1_windows_script_writer_1afae9fc76756d7a6eacba9ca2ddf0aa36" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_use_header(new_header):</highlight></codeline>
<codeline lineno="2221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Should<sp/>_adjust_header<sp/>use<sp/>the<sp/>replaced<sp/>header?</highlight></codeline>
<codeline lineno="2223"><highlight class="normal"></highlight></codeline>
<codeline lineno="2224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>On<sp/>non-windows<sp/>systems,<sp/>always<sp/>use.<sp/>On</highlight></codeline>
<codeline lineno="2225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Windows<sp/>systems,<sp/>only<sp/>use<sp/>the<sp/>replaced<sp/>header<sp/>if<sp/>it<sp/>resolves</highlight></codeline>
<codeline lineno="2226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to<sp/>an<sp/>executable<sp/>on<sp/>the<sp/>system.</highlight></codeline>
<codeline lineno="2227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clean_header<sp/>=<sp/>new_header[2:-1].strip(&apos;&quot;&apos;)</highlight></codeline>
<codeline lineno="2229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>sys.platform<sp/>!=<sp/>&apos;win32&apos;<sp/>or<sp/>find_executable(clean_header)</highlight></codeline>
<codeline lineno="2230"><highlight class="normal"></highlight></codeline>
<codeline lineno="2231"><highlight class="normal"></highlight></codeline>
<codeline lineno="2232" refid="classsetuptools_1_1command_1_1easy__install_1_1_windows_executable_launcher_writer" refkind="compound"><highlight class="normal">class<sp/>WindowsExecutableLauncherWriter(WindowsScriptWriter):</highlight></codeline>
<codeline lineno="2233"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="2234" refid="classsetuptools_1_1command_1_1easy__install_1_1_windows_executable_launcher_writer_1a651acc3a1beca8689993fbb37bffa358" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>def<sp/>_get_script_args(cls,<sp/>type_,<sp/>name,<sp/>header,<sp/>script_text):</highlight></codeline>
<codeline lineno="2235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>For<sp/>Windows,<sp/>add<sp/>a<sp/>.py<sp/>extension<sp/>and<sp/>an<sp/>.exe<sp/>launcher</highlight></codeline>
<codeline lineno="2237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>type_<sp/>==<sp/>&apos;gui&apos;:</highlight></codeline>
<codeline lineno="2239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>launcher_type<sp/>=<sp/>&apos;gui&apos;</highlight></codeline>
<codeline lineno="2240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext<sp/>=<sp/>&apos;-script.pyw&apos;</highlight></codeline>
<codeline lineno="2241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>old<sp/>=<sp/>[&apos;.pyw&apos;]</highlight></codeline>
<codeline lineno="2242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="2243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>launcher_type<sp/>=<sp/>&apos;cli&apos;</highlight></codeline>
<codeline lineno="2244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext<sp/>=<sp/>&apos;-script.py&apos;</highlight></codeline>
<codeline lineno="2245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>old<sp/>=<sp/>[&apos;.py&apos;,<sp/>&apos;.pyc&apos;,<sp/>&apos;.pyo&apos;]</highlight></codeline>
<codeline lineno="2246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hdr<sp/>=<sp/>cls._adjust_header(type_,<sp/>header)</highlight></codeline>
<codeline lineno="2247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blockers<sp/>=<sp/>[name<sp/>+<sp/>x<sp/>for<sp/>x<sp/>in<sp/>old]</highlight></codeline>
<codeline lineno="2248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yield<sp/>(name<sp/>+<sp/>ext,<sp/>hdr<sp/>+<sp/>script_text,<sp/>&apos;t&apos;,<sp/>blockers)</highlight></codeline>
<codeline lineno="2249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yield<sp/>(</highlight></codeline>
<codeline lineno="2250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>+<sp/>&apos;.exe&apos;,<sp/>get_win_launcher(launcher_type),</highlight></codeline>
<codeline lineno="2251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;b&apos;<sp/><sp/>#<sp/>write<sp/>in<sp/>binary<sp/>mode</highlight></codeline>
<codeline lineno="2252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="2253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>not<sp/>is_64bit():</highlight></codeline>
<codeline lineno="2254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>install<sp/>a<sp/>manifest<sp/>for<sp/>the<sp/>launcher<sp/>to<sp/>prevent<sp/>Windows</highlight></codeline>
<codeline lineno="2255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>from<sp/>detecting<sp/>it<sp/>as<sp/>an<sp/>installer<sp/>(which<sp/>it<sp/>will<sp/>for</highlight></codeline>
<codeline lineno="2256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/>launchers<sp/>like<sp/>easy_install.exe).<sp/>Consider<sp/>only</highlight></codeline>
<codeline lineno="2257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/>adding<sp/>a<sp/>manifest<sp/>for<sp/>launchers<sp/>detected<sp/>as<sp/>installers.</highlight></codeline>
<codeline lineno="2258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/>See<sp/>Distribute<sp/>#143<sp/>for<sp/>details.</highlight></codeline>
<codeline lineno="2259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_name<sp/>=<sp/>name<sp/>+<sp/>&apos;.exe.manifest&apos;</highlight></codeline>
<codeline lineno="2260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yield<sp/>(m_name,<sp/>load_launcher_manifest(name),<sp/>&apos;t&apos;)</highlight></codeline>
<codeline lineno="2261"><highlight class="normal"></highlight></codeline>
<codeline lineno="2262"><highlight class="normal"></highlight></codeline>
<codeline lineno="2263"><highlight class="normal">#<sp/>for<sp/>backward-compatibility</highlight></codeline>
<codeline lineno="2264" refid="namespacesetuptools_1_1command_1_1easy__install_1a267b9ab1d7874774429df54a3da6ad66" refkind="member"><highlight class="normal">get_script_args<sp/>=<sp/>ScriptWriter.get_script_args</highlight></codeline>
<codeline lineno="2265" refid="namespacesetuptools_1_1command_1_1easy__install_1ab52dc3bb25810daf44071c5f8e29e1f1" refkind="member"><highlight class="normal">get_script_header<sp/>=<sp/>ScriptWriter.get_script_header</highlight></codeline>
<codeline lineno="2266"><highlight class="normal"></highlight></codeline>
<codeline lineno="2267"><highlight class="normal"></highlight></codeline>
<codeline lineno="2268" refid="namespacesetuptools_1_1command_1_1easy__install_1a7636b4283d02b92bc5ec763b3620bae0" refkind="member"><highlight class="normal">def<sp/>get_win_launcher(type):</highlight></codeline>
<codeline lineno="2269"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2270"><highlight class="normal"><sp/><sp/><sp/><sp/>Load<sp/>the<sp/>Windows<sp/>launcher<sp/>(executable)<sp/>suitable<sp/>for<sp/>launching<sp/>a<sp/>script.</highlight></codeline>
<codeline lineno="2271"><highlight class="normal"></highlight></codeline>
<codeline lineno="2272"><highlight class="normal"><sp/><sp/><sp/><sp/>`type`<sp/>should<sp/>be<sp/>either<sp/>&apos;cli&apos;<sp/>or<sp/>&apos;gui&apos;</highlight></codeline>
<codeline lineno="2273"><highlight class="normal"></highlight></codeline>
<codeline lineno="2274"><highlight class="normal"><sp/><sp/><sp/><sp/>Returns<sp/>the<sp/>executable<sp/>as<sp/>a<sp/>byte<sp/>string.</highlight></codeline>
<codeline lineno="2275"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2276"><highlight class="normal"><sp/><sp/><sp/><sp/>launcher_fn<sp/>=<sp/>&apos;%s.exe&apos;<sp/>%<sp/>type</highlight></codeline>
<codeline lineno="2277"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>is_64bit():</highlight></codeline>
<codeline lineno="2278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>get_platform()<sp/>==<sp/>&quot;win-arm64&quot;:</highlight></codeline>
<codeline lineno="2279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>launcher_fn<sp/>=<sp/>launcher_fn.replace(&quot;.&quot;,<sp/>&quot;-arm64.&quot;)</highlight></codeline>
<codeline lineno="2280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="2281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>launcher_fn<sp/>=<sp/>launcher_fn.replace(&quot;.&quot;,<sp/>&quot;-64.&quot;)</highlight></codeline>
<codeline lineno="2282"><highlight class="normal"><sp/><sp/><sp/><sp/>else:</highlight></codeline>
<codeline lineno="2283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>launcher_fn<sp/>=<sp/>launcher_fn.replace(&quot;.&quot;,<sp/>&quot;-32.&quot;)</highlight></codeline>
<codeline lineno="2284"><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>resource_string(&apos;setuptools&apos;,<sp/>launcher_fn)</highlight></codeline>
<codeline lineno="2285"><highlight class="normal"></highlight></codeline>
<codeline lineno="2286"><highlight class="normal"></highlight></codeline>
<codeline lineno="2287" refid="namespacesetuptools_1_1command_1_1easy__install_1a298a2fe60b783870f73bc03e4932efe0" refkind="member"><highlight class="normal">def<sp/>load_launcher_manifest(name):</highlight></codeline>
<codeline lineno="2288"><highlight class="normal"><sp/><sp/><sp/><sp/>manifest<sp/>=<sp/>pkg_resources.resource_string(__name__,<sp/>&apos;launcher<sp/>manifest.xml&apos;)</highlight></codeline>
<codeline lineno="2289"><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>manifest.decode(&apos;utf-8&apos;)<sp/>%<sp/>vars()</highlight></codeline>
<codeline lineno="2290"><highlight class="normal"></highlight></codeline>
<codeline lineno="2291"><highlight class="normal"></highlight></codeline>
<codeline lineno="2292" refid="namespacesetuptools_1_1command_1_1easy__install_1a0d3af19f7199f28f96b13c2fd73f2f4a" refkind="member"><highlight class="normal">def<sp/>rmtree(path,<sp/>ignore_errors=False,<sp/>onerror=auto_chmod):</highlight></codeline>
<codeline lineno="2293"><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>shutil.rmtree(path,<sp/>ignore_errors,<sp/>onerror)</highlight></codeline>
<codeline lineno="2294"><highlight class="normal"></highlight></codeline>
<codeline lineno="2295"><highlight class="normal"></highlight></codeline>
<codeline lineno="2296" refid="namespacesetuptools_1_1command_1_1easy__install_1a6e08822aa22d454edf5643de7eb0abb6" refkind="member"><highlight class="normal">def<sp/>current_umask():</highlight></codeline>
<codeline lineno="2297"><highlight class="normal"><sp/><sp/><sp/><sp/>tmp<sp/>=<sp/>os.umask(0o022)</highlight></codeline>
<codeline lineno="2298"><highlight class="normal"><sp/><sp/><sp/><sp/>os.umask(tmp)</highlight></codeline>
<codeline lineno="2299"><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>tmp</highlight></codeline>
<codeline lineno="2300"><highlight class="normal"></highlight></codeline>
<codeline lineno="2301"><highlight class="normal"></highlight></codeline>
<codeline lineno="2302" refid="namespacesetuptools_1_1command_1_1easy__install_1ad959794992a1c62241bd63ad2187af3b" refkind="member"><highlight class="normal">def<sp/>only_strs(values):</highlight></codeline>
<codeline lineno="2303"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2304"><highlight class="normal"><sp/><sp/><sp/><sp/>Exclude<sp/>non-str<sp/>values.<sp/>Ref<sp/>#3063.</highlight></codeline>
<codeline lineno="2305"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2306"><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>filter(lambda<sp/>val:<sp/>isinstance(val,<sp/>str),<sp/>values)</highlight></codeline>
<codeline lineno="2307"><highlight class="normal"></highlight></codeline>
<codeline lineno="2308"><highlight class="normal"></highlight></codeline>
<codeline lineno="2309" refid="classsetuptools_1_1command_1_1easy__install_1_1_easy_install_deprecation_warning" refkind="compound"><highlight class="normal">class<sp/>EasyInstallDeprecationWarning(SetuptoolsDeprecationWarning):</highlight></codeline>
<codeline lineno="2310"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2311"><highlight class="normal"><sp/><sp/><sp/><sp/>Warning<sp/>for<sp/>EasyInstall<sp/>deprecations,<sp/>bypassing<sp/>suppression.</highlight></codeline>
<codeline lineno="2312"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight></codeline>
    </programlisting>
    <location file="microservicio_data_stream/venv/Lib/site-packages/setuptools/command/easy_install.py"/>
  </compounddef>
</doxygen>
