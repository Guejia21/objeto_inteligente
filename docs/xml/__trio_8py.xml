<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="es">
  <compounddef id="__trio_8py" kind="file" language="Python">
    <compoundname>_trio.py</compoundname>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" prot="public">anyio::_backends::_trio::CancelScope</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_task_group" prot="public">anyio::_backends::_trio::TaskGroup</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_blocking_portal" prot="public">anyio::_backends::_trio::BlockingPortal</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_receive_stream_wrapper" prot="public">anyio::_backends::_trio::ReceiveStreamWrapper</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_send_stream_wrapper" prot="public">anyio::_backends::_trio::SendStreamWrapper</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_process" prot="public">anyio::_backends::_trio::Process</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1___process_pool_shutdown_instrument" prot="protected">anyio::_backends::_trio::_ProcessPoolShutdownInstrument</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin" prot="protected">anyio::_backends::_trio::_TrioSocketMixin</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream" prot="public">anyio::_backends::_trio::SocketStream</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_stream" prot="public">anyio::_backends::_trio::UNIXSocketStream</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_t_c_p_socket_listener" prot="public">anyio::_backends::_trio::TCPSocketListener</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_listener" prot="public">anyio::_backends::_trio::UNIXSocketListener</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_u_d_p_socket" prot="public">anyio::_backends::_trio::UDPSocket</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_d_p_socket" prot="public">anyio::_backends::_trio::ConnectedUDPSocket</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_datagram_socket" prot="public">anyio::_backends::_trio::UNIXDatagramSocket</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_n_i_x_datagram_socket" prot="public">anyio::_backends::_trio::ConnectedUNIXDatagramSocket</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_event" prot="public">anyio::_backends::_trio::Event</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_lock" prot="public">anyio::_backends::_trio::Lock</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore" prot="public">anyio::_backends::_trio::Semaphore</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" prot="public">anyio::_backends::_trio::CapacityLimiter</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1___signal_receiver" prot="protected">anyio::_backends::_trio::_SignalReceiver</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner" prot="public">anyio::_backends::_trio::TestRunner</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_trio_task_info" prot="public">anyio::_backends::_trio::TrioTaskInfo</innerclass>
    <innerclass refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend" prot="public">anyio::_backends::_trio::TrioBackend</innerclass>
    <innernamespace refid="namespaceanyio">anyio</innernamespace>
    <innernamespace refid="namespaceanyio_1_1__backends">anyio::_backends</innernamespace>
    <innernamespace refid="namespaceanyio_1_1__backends_1_1__trio">anyio::_backends::_trio</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespaceanyio_1_1__backends_1_1__trio" refkind="compound"><highlight class="keyword">from</highlight><highlight class="normal"><sp/>__future__<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>annotations</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>array</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>math</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>os</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>socket</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sys</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>types</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>weakref</highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacecollections_1_1abc" kindref="compound">collections.abc</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/>AsyncGenerator,</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/>AsyncIterator,</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/>Awaitable,</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/>Callable,</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/>Collection,</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/>Coroutine,</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/>Iterable,</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/>Sequence,</highlight></codeline>
<codeline lineno="19"><highlight class="normal">)</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>concurrent.futures<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Future</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>contextlib<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>AbstractContextManager</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>dataclasses<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>dataclass</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>functools<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>partial</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>io<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>IOBase</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>os<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>PathLike</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>signal<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Signals</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>socket<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>AddressFamily,<sp/>SocketKind</highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>types<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>TracebackType</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/>IO,</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>TYPE_CHECKING,</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/>Any,</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/>Generic,</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>NoReturn,</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/>TypeVar,</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/>cast,</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>overload,</highlight></codeline>
<codeline lineno="38"><highlight class="normal">)</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>trio.from_thread</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>trio.lowlevel</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>outcome<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Error,<sp/>Outcome,<sp/>Value</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>trio.lowlevel<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>current_root_task,</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>current_task,</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>notify_closing,</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>wait_readable,</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>wait_writable,</highlight></codeline>
<codeline lineno="49"><highlight class="normal">)</highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>trio.socket<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>SocketType<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>TrioSocketType</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>trio.to_thread<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>run_sync</highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>..<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>CapacityLimiterStatistics,</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/>EventStatistics,</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/>LockStatistics,</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>RunFinishedError,</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>TaskInfo,</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/>WouldBlock,</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>abc,</highlight></codeline>
<codeline lineno="61"><highlight class="normal">)</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.._core._eventloop<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>claim_worker_thread</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.._core._exceptions<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>BrokenResourceError,</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/>BusyResourceError,</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/>ClosedResourceError,</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/>EndOfStream,</highlight></codeline>
<codeline lineno="68"><highlight class="normal">)</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.._core._sockets<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>convert_ipv6_sockaddr</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.._core._streams<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>create_memory_object_stream</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.._core._synchronization<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/>CapacityLimiter<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>BaseCapacityLimiter,</highlight></codeline>
<codeline lineno="73"><highlight class="normal">)</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.._core._synchronization<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Event<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>BaseEvent</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.._core._synchronization<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Lock<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>BaseLock</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.._core._synchronization<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/>ResourceGuard,</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>SemaphoreStatistics,</highlight></codeline>
<codeline lineno="79"><highlight class="normal">)</highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.._core._synchronization<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Semaphore<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>BaseSemaphore</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.._core._tasks<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>CancelScope<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>BaseCancelScope</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>..abc<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>IPSockAddrType,<sp/>UDPPacketType,<sp/>UNIXDatagramPacketType</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>..abc._eventloop<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>AsyncBackend,<sp/>StrOrBytesPath</highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>..streams.memory<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>MemoryObjectSendStream</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>TYPE_CHECKING:</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>_typeshed<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>FileDescriptorLike</highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sys.version_info<sp/>&gt;=<sp/>(3,<sp/>10):</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ParamSpec</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing_extensions<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ParamSpec</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sys.version_info<sp/>&gt;=<sp/>(3,<sp/>11):</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>TypeVarTuple,<sp/>Unpack</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>exceptiongroup<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>BaseExceptionGroup</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing_extensions<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>TypeVarTuple,<sp/>Unpack</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100" refid="namespaceanyio_1_1__backends_1_1__trio_1a7d1889e3de047cb68c5cce07c054bfcf" refkind="member"><highlight class="normal">T<sp/>=<sp/>TypeVar(</highlight><highlight class="stringliteral">&quot;T&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="101" refid="namespaceanyio_1_1__backends_1_1__trio_1a35f49358d81e68ee4c1c754b74e2c129" refkind="member"><highlight class="normal">T_Retval<sp/>=<sp/>TypeVar(</highlight><highlight class="stringliteral">&quot;T_Retval&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="102" refid="namespaceanyio_1_1__backends_1_1__trio_1a78940e9805c3d3a5a7cf2fa975522266" refkind="member"><highlight class="normal">T_SockAddr<sp/>=<sp/>TypeVar(</highlight><highlight class="stringliteral">&quot;T_SockAddr&quot;</highlight><highlight class="normal">,<sp/>str,<sp/>IPSockAddrType)</highlight></codeline>
<codeline lineno="103" refid="namespaceanyio_1_1__backends_1_1__trio_1a1717a9dc2d73cd8759b768f10ab35b32" refkind="member"><highlight class="normal">PosArgsT<sp/>=<sp/><ref refid="classtyping__extensions_1_1_type_var_tuple" kindref="compound">TypeVarTuple</ref>(</highlight><highlight class="stringliteral">&quot;PosArgsT&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="104" refid="namespaceanyio_1_1__backends_1_1__trio_1a33f124fe1f1cb622a6cf0c2299cfe68a" refkind="member"><highlight class="normal">P<sp/>=<sp/><ref refid="classtyping__extensions_1_1_param_spec" kindref="compound">ParamSpec</ref>(</highlight><highlight class="stringliteral">&quot;P&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Event<sp/>loop</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111" refid="namespaceanyio_1_1__backends_1_1__trio_1ab30b93872512b2c6fa5c3efa586fed9b" refkind="member"><highlight class="normal">RunVar<sp/>=<sp/>trio.lowlevel.RunVar</highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Timeouts<sp/>and<sp/>cancellation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight></codeline>
<codeline lineno="119" refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" kindref="compound">CancelScope</ref>(BaseCancelScope):</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__new__(</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,<sp/>original:<sp/>trio.CancelScope<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>**kwargs:<sp/>object</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>CancelScope:</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>object.__new__(cls)</highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>original:<sp/>trio.CancelScope<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>**kwargs:<sp/>Any)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" kindref="compound">__original</ref><sp/>=<sp/>original<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>trio.CancelScope(**kwargs)</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__enter__(self)<sp/>-&gt;<sp/>CancelScope:</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" kindref="compound">__original</ref>.__enter__()</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__exit__(</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc_type:<sp/>type[BaseException]<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc_val:<sp/>BaseException<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc_tb:<sp/>TracebackType<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" kindref="compound">__original</ref>.__exit__(exc_type,<sp/>exc_val,<sp/>exc_tb)</highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight></codeline>
<codeline lineno="140" refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope_1a2ff7bf4d41dfa532240e2f7773526bb0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope_1a2ff7bf4d41dfa532240e2f7773526bb0" kindref="member">cancel</ref>(self,<sp/>reason:<sp/>str<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope_1a2ff7bf4d41dfa532240e2f7773526bb0" kindref="member">cancel</ref>(reason)</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144" refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope_1ab4a73f6827f70bc260aa604ee2eb43d6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope_1ab4a73f6827f70bc260aa604ee2eb43d6" kindref="member">deadline</ref>(self)<sp/>-&gt;<sp/>float:</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" kindref="compound">__original</ref>.deadline</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@deadline.setter</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148" refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope_1a26736ae56d179fb53d473f12e112af8d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope_1ab4a73f6827f70bc260aa604ee2eb43d6" kindref="member">deadline</ref>(self,<sp/>value:<sp/>float)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" kindref="compound">__original</ref>.deadline<sp/>=<sp/>value</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152" refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope_1af43eca1557fb1cff3f3a117c59fd71ed" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope_1af43eca1557fb1cff3f3a117c59fd71ed" kindref="member">cancel_called</ref>(self)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" kindref="compound">__original</ref>.cancel_called</highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156" refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope_1a5732e47a95b2b73afe87c0210c88c36f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope_1a5732e47a95b2b73afe87c0210c88c36f" kindref="member">cancelled_caught</ref>(self)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" kindref="compound">__original</ref>.cancelled_caught</highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160" refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope_1af20e85fcee3db954b8f4a03c008d96c9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope_1af20e85fcee3db954b8f4a03c008d96c9" kindref="member">shield</ref>(self)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" kindref="compound">__original</ref>.shield</highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@shield.setter</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164" refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope_1aa90b6cdb537ecf639f5ea69110b68658" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope_1af20e85fcee3db954b8f4a03c008d96c9" kindref="member">shield</ref>(self,<sp/>value:<sp/>bool)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" kindref="compound">__original</ref>.shield<sp/>=<sp/>value</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Task<sp/>groups</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173" refid="classanyio_1_1__backends_1_1__trio_1_1_task_group" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group" kindref="compound">TaskGroup</ref>(<ref refid="classanyio_1_1abc_1_1__tasks_1_1_task_group" kindref="compound">abc.TaskGroup</ref>):</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="175" refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a82d9fe446008824281268137ada88105" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a82d9fe446008824281268137ada88105" kindref="member">_active</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176" refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a6c2b4d065ceea65a82e176cb4409e307" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a6c2b4d065ceea65a82e176cb4409e307" kindref="member">_nursery_manager</ref><sp/>=<sp/>trio.open_nursery(strict_exception_groups=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="177" refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1aa802dbc8cfa68e7e37771689ecb7ce4a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1aa802dbc8cfa68e7e37771689ecb7ce4a" kindref="member">cancel_scope</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore[assignment]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal">__aenter__(self)<sp/>-&gt;<sp/>TaskGroup:</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a82d9fe446008824281268137ada88105" kindref="member">_active</ref><sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="181" refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a36dc04b8242c3291802e29e731e4a963" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a36dc04b8242c3291802e29e731e4a963" kindref="member">_nursery</ref><sp/>=<sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a6c2b4d065ceea65a82e176cb4409e307" kindref="member">_nursery_manager</ref>.__aenter__()</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1aa802dbc8cfa68e7e37771689ecb7ce4a" kindref="member">cancel_scope</ref><sp/>=<sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" kindref="compound">CancelScope</ref>(self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a36dc04b8242c3291802e29e731e4a963" kindref="member">_nursery</ref>.cancel_scope)</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal">__aexit__(</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc_type:<sp/>type[BaseException]<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc_val:<sp/>BaseException<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc_tb:<sp/>TracebackType<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>trio.Nursery.__exit__<sp/>returns<sp/>bool;<sp/>.open_nursery<sp/>has<sp/>wrong<sp/>type</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a6c2b4d065ceea65a82e176cb4409e307" kindref="member">_nursery_manager</ref>.__aexit__(exc_type,<sp/>exc_val,<sp/>exc_tb)<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore[return-value]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseExceptionGroup<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>exc.split(trio.Cancelled)[1]:</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>trio.Cancelled._create()<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>exc</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">finally</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>del<sp/>exc_val,<sp/>exc_tb</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a82d9fe446008824281268137ada88105" kindref="member">_active</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203" refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1af2b1f4daeb14a4746a428b5dd7089ec4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1af2b1f4daeb14a4746a428b5dd7089ec4" kindref="member">start_soon</ref>(</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>func:<sp/>Callable[[Unpack[PosArgsT]],<sp/>Awaitable[Any]],</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*args:<sp/>Unpack[PosArgsT],</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name:<sp/>object<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a82d9fe446008824281268137ada88105" kindref="member">_active</ref>:</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>RuntimeError(</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;This<sp/>task<sp/>group<sp/>is<sp/>not<sp/>active;<sp/>no<sp/>new<sp/>tasks<sp/>can<sp/>be<sp/>started.&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a36dc04b8242c3291802e29e731e4a963" kindref="member">_nursery</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1af2b1f4daeb14a4746a428b5dd7089ec4" kindref="member">start_soon</ref>(func,<sp/>*args,<sp/>name=name)</highlight></codeline>
<codeline lineno="215"><highlight class="normal"></highlight></codeline>
<codeline lineno="216" refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a714dfafe9bd1b4046baa7d476888101d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a714dfafe9bd1b4046baa7d476888101d" kindref="member">start</ref>(</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,<sp/>func:<sp/>Callable[...,<sp/>Awaitable[Any]],<sp/>*args:<sp/>object,<sp/>name:<sp/>object<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>Any:</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a82d9fe446008824281268137ada88105" kindref="member">_active</ref>:</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>RuntimeError(</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;This<sp/>task<sp/>group<sp/>is<sp/>not<sp/>active;<sp/>no<sp/>new<sp/>tasks<sp/>can<sp/>be<sp/>started.&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a36dc04b8242c3291802e29e731e4a963" kindref="member">_nursery</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group_1a714dfafe9bd1b4046baa7d476888101d" kindref="member">start</ref>(func,<sp/>*args,<sp/>name=name)</highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Threads</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232" refid="classanyio_1_1__backends_1_1__trio_1_1_blocking_portal" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_blocking_portal" kindref="compound">BlockingPortal</ref>(<ref refid="classanyio_1_1from__thread_1_1_blocking_portal" kindref="compound">abc.BlockingPortal</ref>):</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__new__(cls)<sp/>-&gt;<sp/>BlockingPortal:</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>object.__new__(cls)</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().__init__()</highlight></codeline>
<codeline lineno="238" refid="classanyio_1_1__backends_1_1__trio_1_1_blocking_portal_1ad0ba835c794973b56ad0284cd19ef7e4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_blocking_portal_1ad0ba835c794973b56ad0284cd19ef7e4" kindref="member">_token</ref><sp/>=<sp/>trio.lowlevel.current_trio_token()</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="240" refid="classanyio_1_1__backends_1_1__trio_1_1_blocking_portal_1add89405007978c72f7f8e86fbc882ab6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_blocking_portal_1add89405007978c72f7f8e86fbc882ab6" kindref="member">_spawn_task_from_thread</ref>(</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>func:<sp/>Callable[[Unpack[PosArgsT]],<sp/>Awaitable[T_Retval]<sp/>|<sp/>T_Retval],</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args:<sp/>tuple[Unpack[PosArgsT]],</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kwargs:<sp/>dict[str,<sp/>Any],</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name:<sp/>object,</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>future:<sp/>Future[T_Retval],</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio.from_thread.run_sync(</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>partial(self.<ref refid="classanyio_1_1from__thread_1_1_blocking_portal_1a8758409756ad99bd7fa7f0d3169e610c" kindref="member">_task_group</ref>.start_soon,<sp/>name=name),</highlight></codeline>
<codeline lineno="250" refid="classanyio_1_1__backends_1_1__trio_1_1_blocking_portal" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_blocking_portal" kindref="compound">_call_func</ref>,</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>func,</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args,</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kwargs,</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>future,</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_token=self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_blocking_portal_1ad0ba835c794973b56ad0284cd19ef7e4" kindref="member">_token</ref>,</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Subprocesses</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight><highlight class="preprocessor">@dataclass(eq=False)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="265" refid="classanyio_1_1__backends_1_1__trio_1_1_receive_stream_wrapper" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_receive_stream_wrapper" kindref="compound">ReceiveStreamWrapper</ref>(<ref refid="classanyio_1_1abc_1_1__streams_1_1_byte_receive_stream" kindref="compound">abc.ByteReceiveStream</ref>):</highlight></codeline>
<codeline lineno="266" refid="classanyio_1_1__backends_1_1__trio_1_1_receive_stream_wrapper_1a1eb872df4f36349fb3eb7a5bdc8f0af7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>_stream:<sp/>trio.abc.ReceiveStream</highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight></codeline>
<codeline lineno="268" refid="classanyio_1_1__backends_1_1__trio_1_1_receive_stream_wrapper_1a515f3039001301f764387b4abf8ba929" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_receive_stream_wrapper_1a515f3039001301f764387b4abf8ba929" kindref="member">receive</ref>(self,<sp/>max_bytes:<sp/>int<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/>-&gt;<sp/>bytes:</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>=<sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_receive_stream_wrapper_1a1eb872df4f36349fb3eb7a5bdc8f0af7" kindref="member">_stream</ref>.receive_some(max_bytes)</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>trio.ClosedResourceError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ClosedResourceError<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>exc.__cause__</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>trio.BrokenResourceError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>BrokenResourceError<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>exc.__cause__</highlight></codeline>
<codeline lineno="275"><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>data:</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>bytes(data)</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>EndOfStream</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="281" refid="classanyio_1_1__backends_1_1__trio_1_1_receive_stream_wrapper_1a0dea5cfb3e529c42c6e7074669244f7a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_receive_stream_wrapper_1a0dea5cfb3e529c42c6e7074669244f7a" kindref="member">aclose</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_receive_stream_wrapper_1a1eb872df4f36349fb3eb7a5bdc8f0af7" kindref="member">_stream</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_receive_stream_wrapper_1a0dea5cfb3e529c42c6e7074669244f7a" kindref="member">aclose</ref>()</highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight><highlight class="preprocessor">@dataclass(eq=False)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286" refid="classanyio_1_1__backends_1_1__trio_1_1_send_stream_wrapper" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_send_stream_wrapper" kindref="compound">SendStreamWrapper</ref>(<ref refid="classanyio_1_1abc_1_1__streams_1_1_byte_send_stream" kindref="compound">abc.ByteSendStream</ref>):</highlight></codeline>
<codeline lineno="287" refid="classanyio_1_1__backends_1_1__trio_1_1_send_stream_wrapper_1a39b999359bb4373c5c4eec5430d2d00a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>_stream:<sp/>trio.abc.SendStream</highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="289" refid="classanyio_1_1__backends_1_1__trio_1_1_send_stream_wrapper_1a76d0b3b9f16673a111936442262cb99a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_send_stream_wrapper_1a76d0b3b9f16673a111936442262cb99a" kindref="member">send</ref>(self,<sp/>item:<sp/>bytes)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_send_stream_wrapper_1a39b999359bb4373c5c4eec5430d2d00a" kindref="member">_stream</ref>.send_all(item)</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>trio.ClosedResourceError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ClosedResourceError<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>exc.__cause__</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>trio.BrokenResourceError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>BrokenResourceError<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>exc.__cause__</highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight></codeline>
<codeline lineno="297" refid="classanyio_1_1__backends_1_1__trio_1_1_send_stream_wrapper_1a9d9b0b9f4c27f15da8af3cfd41d63f41" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_send_stream_wrapper_1a9d9b0b9f4c27f15da8af3cfd41d63f41" kindref="member">aclose</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_send_stream_wrapper_1a39b999359bb4373c5c4eec5430d2d00a" kindref="member">_stream</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_send_stream_wrapper_1a9d9b0b9f4c27f15da8af3cfd41d63f41" kindref="member">aclose</ref>()</highlight></codeline>
<codeline lineno="299"><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight><highlight class="preprocessor">@dataclass(eq=False)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="302" refid="classanyio_1_1__backends_1_1__trio_1_1_process" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_process" kindref="compound">Process</ref>(<ref refid="classanyio_1_1abc_1_1__subprocesses_1_1_process" kindref="compound">abc.Process</ref>):</highlight></codeline>
<codeline lineno="303" refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a30e6c65988968d33d311b22a9e5002aa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>_process:<sp/>trio.Process</highlight></codeline>
<codeline lineno="304" refid="classanyio_1_1__backends_1_1__trio_1_1_process_1ac0d52caeaf8a71d5e6867ef9700328d7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>_stdin:<sp/><ref refid="classanyio_1_1abc_1_1__streams_1_1_byte_send_stream" kindref="compound">abc.ByteSendStream</ref><sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="305" refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a2be96354419c28d24fbe91b09774a0b8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>_stdout:<sp/><ref refid="classanyio_1_1abc_1_1__streams_1_1_byte_receive_stream" kindref="compound">abc.ByteReceiveStream</ref><sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306" refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a619e51dc72c8bd2bc336b7b4fb9c21fe" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>_stderr:<sp/><ref refid="classanyio_1_1abc_1_1__streams_1_1_byte_receive_stream" kindref="compound">abc.ByteReceiveStream</ref><sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308" refid="classanyio_1_1__backends_1_1__trio_1_1_process_1aadbbec7f2e22ec79e7515de8c9742661" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1aadbbec7f2e22ec79e7515de8c9742661" kindref="member">aclose</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" kindref="compound">CancelScope</ref>(shield=</highlight><highlight class="keyword">True</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1ac0d52caeaf8a71d5e6867ef9700328d7" kindref="member">_stdin</ref>:</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1ac0d52caeaf8a71d5e6867ef9700328d7" kindref="member">_stdin</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1aadbbec7f2e22ec79e7515de8c9742661" kindref="member">aclose</ref>()</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a2be96354419c28d24fbe91b09774a0b8" kindref="member">_stdout</ref>:</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a2be96354419c28d24fbe91b09774a0b8" kindref="member">_stdout</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1aadbbec7f2e22ec79e7515de8c9742661" kindref="member">aclose</ref>()</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a619e51dc72c8bd2bc336b7b4fb9c21fe" kindref="member">_stderr</ref>:</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a619e51dc72c8bd2bc336b7b4fb9c21fe" kindref="member">_stderr</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1aadbbec7f2e22ec79e7515de8c9742661" kindref="member">aclose</ref>()</highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1aad7ba4a1d14b0031cffcc4db2b18f586" kindref="member">wait</ref>()</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException:</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a6923b8229bff0996c4ecce7bde172a0c" kindref="member">kill</ref>()</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" kindref="compound">CancelScope</ref>(shield=</highlight><highlight class="keyword">True</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1aad7ba4a1d14b0031cffcc4db2b18f586" kindref="member">wait</ref>()</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight></codeline>
<codeline lineno="325" refid="classanyio_1_1__backends_1_1__trio_1_1_process_1aad7ba4a1d14b0031cffcc4db2b18f586" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1aad7ba4a1d14b0031cffcc4db2b18f586" kindref="member">wait</ref>(self)<sp/>-&gt;<sp/>int:</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a30e6c65988968d33d311b22a9e5002aa" kindref="member">_process</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1aad7ba4a1d14b0031cffcc4db2b18f586" kindref="member">wait</ref>()</highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight></codeline>
<codeline lineno="328" refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a76ba50d5f9525c5bc3578c393f4d4bd1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a76ba50d5f9525c5bc3578c393f4d4bd1" kindref="member">terminate</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a30e6c65988968d33d311b22a9e5002aa" kindref="member">_process</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a76ba50d5f9525c5bc3578c393f4d4bd1" kindref="member">terminate</ref>()</highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight></codeline>
<codeline lineno="331" refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a6923b8229bff0996c4ecce7bde172a0c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a6923b8229bff0996c4ecce7bde172a0c" kindref="member">kill</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a30e6c65988968d33d311b22a9e5002aa" kindref="member">_process</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a6923b8229bff0996c4ecce7bde172a0c" kindref="member">kill</ref>()</highlight></codeline>
<codeline lineno="333"><highlight class="normal"></highlight></codeline>
<codeline lineno="334" refid="classanyio_1_1__backends_1_1__trio_1_1_process_1af4d4147b3a3acf37cbeb3104410104d3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1af4d4147b3a3acf37cbeb3104410104d3" kindref="member">send_signal</ref>(self,<sp/>signal:<sp/>Signals)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a30e6c65988968d33d311b22a9e5002aa" kindref="member">_process</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1af4d4147b3a3acf37cbeb3104410104d3" kindref="member">send_signal</ref>(signal)</highlight></codeline>
<codeline lineno="336"><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="338" refid="classanyio_1_1__backends_1_1__trio_1_1_process_1ac0343f7e2840c945ec479015463e0e13" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1ac0343f7e2840c945ec479015463e0e13" kindref="member">pid</ref>(self)<sp/>-&gt;<sp/>int:</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a30e6c65988968d33d311b22a9e5002aa" kindref="member">_process</ref>.pid</highlight></codeline>
<codeline lineno="340"><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="342" refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a254fdcd4f4f897dd88c965315ddc347c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a254fdcd4f4f897dd88c965315ddc347c" kindref="member">returncode</ref>(self)<sp/>-&gt;<sp/>int<sp/>|<sp/>None:</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a30e6c65988968d33d311b22a9e5002aa" kindref="member">_process</ref>.returncode</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="346" refid="classanyio_1_1__backends_1_1__trio_1_1_process_1ab98b6aea2594a94f03ba29646a3329d6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1ab98b6aea2594a94f03ba29646a3329d6" kindref="member">stdin</ref>(self)<sp/>-&gt;<sp/>abc.ByteSendStream<sp/>|<sp/>None:</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1ac0d52caeaf8a71d5e6867ef9700328d7" kindref="member">_stdin</ref></highlight></codeline>
<codeline lineno="348"><highlight class="normal"></highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="350" refid="classanyio_1_1__backends_1_1__trio_1_1_process_1af82f9d74b61cbfd38a897b09a012cfd3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1af82f9d74b61cbfd38a897b09a012cfd3" kindref="member">stdout</ref>(self)<sp/>-&gt;<sp/>abc.ByteReceiveStream<sp/>|<sp/>None:</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a2be96354419c28d24fbe91b09774a0b8" kindref="member">_stdout</ref></highlight></codeline>
<codeline lineno="352"><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="354" refid="classanyio_1_1__backends_1_1__trio_1_1_process_1ad24051eeb2b3f0668ce4193c17adda02" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1ad24051eeb2b3f0668ce4193c17adda02" kindref="member">stderr</ref>(self)<sp/>-&gt;<sp/>abc.ByteReceiveStream<sp/>|<sp/>None:</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_process_1a619e51dc72c8bd2bc336b7b4fb9c21fe" kindref="member">_stderr</ref></highlight></codeline>
<codeline lineno="356"><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"></highlight></codeline>
<codeline lineno="358" refid="classanyio_1_1__backends_1_1__trio_1_1___process_pool_shutdown_instrument" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1___process_pool_shutdown_instrument" kindref="compound">_ProcessPoolShutdownInstrument</ref>(trio.abc.Instrument):</highlight></codeline>
<codeline lineno="359" refid="classanyio_1_1__backends_1_1__trio_1_1___process_pool_shutdown_instrument_1a440e53b431c9aa86c7867a6d6c881a28" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1___process_pool_shutdown_instrument_1a440e53b431c9aa86c7867a6d6c881a28" kindref="member">after_run</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().<ref refid="classanyio_1_1__backends_1_1__trio_1_1___process_pool_shutdown_instrument_1a440e53b431c9aa86c7867a6d6c881a28" kindref="member">after_run</ref>()</highlight></codeline>
<codeline lineno="361"><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight></codeline>
<codeline lineno="363" refid="classanyio_1_1__backends_1_1__trio_1_1___process_pool_shutdown_instrument_1a05e249b85e5ea00712c6212095a5ec5b" refkind="member"><highlight class="normal">current_default_worker_process_limiter:<sp/>trio.lowlevel.RunVar<sp/>=<sp/><ref refid="namespaceanyio_1_1__backends_1_1__trio_1ab30b93872512b2c6fa5c3efa586fed9b" kindref="member">RunVar</ref>(</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;current_default_worker_process_limiter&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="normal">)</highlight></codeline>
<codeline lineno="366"><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"></highlight></codeline>
<codeline lineno="368" refid="namespaceanyio_1_1__backends_1_1__trio_1af5813293f840903bbd28ac3dc9006d93" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="namespaceanyio_1_1__backends_1_1__trio_1af5813293f840903bbd28ac3dc9006d93" kindref="member">_shutdown_process_pool</ref>(workers:<sp/>set[<ref refid="classanyio_1_1abc_1_1__subprocesses_1_1_process" kindref="compound">abc.Process</ref>])<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>trio.sleep(math.inf)</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>trio.Cancelled:</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>process<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>workers:</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>process.returncode<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>process.kill()</highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" kindref="compound">CancelScope</ref>(shield=</highlight><highlight class="keyword">True</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>process<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>workers:</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>process.aclose()</highlight></codeline>
<codeline lineno="379"><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Sockets<sp/>and<sp/>networking</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"></highlight></codeline>
<codeline lineno="386" refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin" kindref="compound">_TrioSocketMixin</ref>(Generic[T_SockAddr]):</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>trio_socket:<sp/>TrioSocketType)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="388" refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref><sp/>=<sp/>trio_socket</highlight></codeline>
<codeline lineno="389" refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ab61def72128c2c28459fdb49932422bb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ab61def72128c2c28459fdb49932422bb" kindref="member">_closed</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391" refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a552a36fa9786f05be5049d07df433a13" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a552a36fa9786f05be5049d07df433a13" kindref="member">_check_closed</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ab61def72128c2c28459fdb49932422bb" kindref="member">_closed</ref>:</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ClosedResourceError</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.fileno()<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>BrokenResourceError</highlight></codeline>
<codeline lineno="396"><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="398" refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a11c94d2aaf0e030fe43ed0d9dabe9298" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a11c94d2aaf0e030fe43ed0d9dabe9298" kindref="member">_raw_socket</ref>(self)<sp/>-&gt;<sp/>socket.socket:</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>._sock<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore[attr-defined]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="400"><highlight class="normal"></highlight></codeline>
<codeline lineno="401" refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1aaec91acb1d4064cb58fec01c6188c43c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1aaec91acb1d4064cb58fec01c6188c43c" kindref="member">aclose</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.fileno()<sp/>&gt;=<sp/>0:</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ab61def72128c2c28459fdb49932422bb" kindref="member">_closed</ref><sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.close()</highlight></codeline>
<codeline lineno="405"><highlight class="normal"></highlight></codeline>
<codeline lineno="406" refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a1ec9cbedda52ff6479765e51f8177980" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a1ec9cbedda52ff6479765e51f8177980" kindref="member">_convert_socket_error</ref>(self,<sp/>exc:<sp/>BaseException)<sp/>-&gt;<sp/>NoReturn:</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(exc,<sp/>trio.ClosedResourceError):</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ClosedResourceError<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>exc</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.fileno()<sp/>&lt;<sp/>0<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ab61def72128c2c28459fdb49932422bb" kindref="member">_closed</ref>:</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ClosedResourceError<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>isinstance(exc,<sp/>OSError):</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>BrokenResourceError<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>exc</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>exc</highlight></codeline>
<codeline lineno="415"><highlight class="normal"></highlight></codeline>
<codeline lineno="416"><highlight class="normal"></highlight></codeline>
<codeline lineno="417" refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream" kindref="compound">SocketStream</ref>(<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin" kindref="compound">_TrioSocketMixin</ref>,<sp/><ref refid="classanyio_1_1abc_1_1__sockets_1_1_socket_stream" kindref="compound">abc.SocketStream</ref>):</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>trio_socket:<sp/>TrioSocketType)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().__init__(trio_socket)</highlight></codeline>
<codeline lineno="420" refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream_1ae2e7e9edae2e032d58a0e7365719f3d2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream_1ae2e7e9edae2e032d58a0e7365719f3d2" kindref="member">_receive_guard</ref><sp/>=<sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_resource_guard" kindref="compound">ResourceGuard</ref>(</highlight><highlight class="stringliteral">&quot;reading<sp/>from&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="421" refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream_1a04615d1c30af8e5fb6f3276a0872a100" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream_1a04615d1c30af8e5fb6f3276a0872a100" kindref="member">_send_guard</ref><sp/>=<sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_resource_guard" kindref="compound">ResourceGuard</ref>(</highlight><highlight class="stringliteral">&quot;writing<sp/>to&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="422"><highlight class="normal"></highlight></codeline>
<codeline lineno="423" refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream_1ae70856a13302c2199b76f85414a040a5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream_1ae70856a13302c2199b76f85414a040a5" kindref="member">receive</ref>(self,<sp/>max_bytes:<sp/>int<sp/>=<sp/>65536)<sp/>-&gt;<sp/>bytes:</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream_1ae2e7e9edae2e032d58a0e7365719f3d2" kindref="member">_receive_guard</ref>:</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>=<sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.recv(max_bytes)</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a1ec9cbedda52ff6479765e51f8177980" kindref="member">_convert_socket_error</ref>(exc)</highlight></codeline>
<codeline lineno="429"><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>data:</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>data</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>EndOfStream</highlight></codeline>
<codeline lineno="434"><highlight class="normal"></highlight></codeline>
<codeline lineno="435" refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream_1ab50290668e4c67a68f5f1639459ace3b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream_1ab50290668e4c67a68f5f1639459ace3b" kindref="member">send</ref>(self,<sp/>item:<sp/>bytes)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream_1a04615d1c30af8e5fb6f3276a0872a100" kindref="member">_send_guard</ref>:</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>view<sp/>=<sp/>memoryview(item)</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>view:</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bytes_sent<sp/>=<sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream_1ab50290668e4c67a68f5f1639459ace3b" kindref="member">send</ref>(view)</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a1ec9cbedda52ff6479765e51f8177980" kindref="member">_convert_socket_error</ref>(exc)</highlight></codeline>
<codeline lineno="443"><highlight class="normal"></highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>view<sp/>=<sp/>view[bytes_sent:]</highlight></codeline>
<codeline lineno="445"><highlight class="normal"></highlight></codeline>
<codeline lineno="446" refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream_1af60fce1fd1f0f6aac624927906eb624e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream_1af60fce1fd1f0f6aac624927906eb624e" kindref="member">send_eof</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.shutdown(socket.SHUT_WR)</highlight></codeline>
<codeline lineno="448"><highlight class="normal"></highlight></codeline>
<codeline lineno="449"><highlight class="normal"></highlight></codeline>
<codeline lineno="450" refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_stream" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_stream" kindref="compound">UNIXSocketStream</ref>(<ref refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream" kindref="compound">SocketStream</ref>,<sp/><ref refid="classanyio_1_1abc_1_1__sockets_1_1_u_n_i_x_socket_stream" kindref="compound">abc.UNIXSocketStream</ref>):</highlight></codeline>
<codeline lineno="451" refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_stream_1ad609f3b1d92f7c4861d62da0ab1dba6d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_stream_1ad609f3b1d92f7c4861d62da0ab1dba6d" kindref="member">receive_fds</ref>(self,<sp/>msglen:<sp/>int,<sp/>maxfds:<sp/>int)<sp/>-&gt;<sp/>tuple[bytes,<sp/>list[int]]:</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(msglen,<sp/>int)<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>msglen<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&quot;msglen<sp/>must<sp/>be<sp/>a<sp/>non-negative<sp/>integer&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(maxfds,<sp/>int)<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>maxfds<sp/>&lt;<sp/>1:</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&quot;maxfds<sp/>must<sp/>be<sp/>a<sp/>positive<sp/>integer&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="456"><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fds<sp/>=<sp/>array.array(</highlight><highlight class="stringliteral">&quot;i&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>trio.lowlevel.checkpoint()</highlight></codeline>
<codeline lineno="459" refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_stream" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream_1ae2e7e9edae2e032d58a0e7365719f3d2" kindref="member">_receive_guard</ref>:</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>message,<sp/>ancdata,<sp/>flags,<sp/>addr<sp/>=<sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.recvmsg(</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msglen,<sp/>socket.CMSG_LEN(maxfds<sp/>*<sp/>fds.itemsize)</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a1ec9cbedda52ff6479765e51f8177980" kindref="member">_convert_socket_error</ref>(exc)</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>message<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>ancdata:</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>EndOfStream</highlight></codeline>
<codeline lineno="470"><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="472"><highlight class="normal"></highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>cmsg_level,<sp/>cmsg_type,<sp/>cmsg_data<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ancdata:</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>cmsg_level<sp/>!=<sp/>socket.SOL_SOCKET<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>cmsg_type<sp/>!=<sp/>socket.SCM_RIGHTS:</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>RuntimeError(</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;Received<sp/>unexpected<sp/>ancillary<sp/>data;<sp/>message<sp/>=<sp/>{message!r},<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;cmsg_level<sp/>=<sp/>{cmsg_level},<sp/>cmsg_type<sp/>=<sp/>{cmsg_type}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="479"><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fds.frombytes(cmsg_data[:<sp/>len(cmsg_data)<sp/>-<sp/>(len(cmsg_data)<sp/>%<sp/>fds.itemsize)])</highlight></codeline>
<codeline lineno="481"><highlight class="normal"></highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>message,<sp/>list(fds)</highlight></codeline>
<codeline lineno="483"><highlight class="normal"></highlight></codeline>
<codeline lineno="484" refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_stream_1a5db782b59d399aedf98153a4e36fba9c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_stream_1a5db782b59d399aedf98153a4e36fba9c" kindref="member">send_fds</ref>(self,<sp/>message:<sp/>bytes,<sp/>fds:<sp/>Collection[int<sp/>|<sp/>IOBase])<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>message:</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&quot;message<sp/>must<sp/>not<sp/>be<sp/>empty&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>fds:</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&quot;fds<sp/>must<sp/>not<sp/>be<sp/>empty&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="489"><highlight class="normal"></highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filenos:<sp/>list[int]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>fd<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>fds:</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(fd,<sp/>int):</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filenos.append(fd)</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>isinstance(fd,<sp/>IOBase):</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filenos.append(fd.fileno())</highlight></codeline>
<codeline lineno="496"><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fdarray<sp/>=<sp/>array.array(</highlight><highlight class="stringliteral">&quot;i&quot;</highlight><highlight class="normal">,<sp/>filenos)</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>trio.lowlevel.checkpoint()</highlight></codeline>
<codeline lineno="499" refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_stream" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream_1a04615d1c30af8e5fb6f3276a0872a100" kindref="member">_send_guard</ref>:</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.sendmsg(</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[message],</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>socket.SOL_SOCKET,</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>socket.SCM_RIGHTS,</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fdarray,</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>],</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a1ec9cbedda52ff6479765e51f8177980" kindref="member">_convert_socket_error</ref>(exc)</highlight></codeline>
<codeline lineno="515"><highlight class="normal"></highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight></codeline>
<codeline lineno="517" refid="classanyio_1_1__backends_1_1__trio_1_1_t_c_p_socket_listener" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_t_c_p_socket_listener" kindref="compound">TCPSocketListener</ref>(<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin" kindref="compound">_TrioSocketMixin</ref>,<sp/><ref refid="classanyio_1_1abc_1_1__sockets_1_1_socket_listener" kindref="compound">abc.SocketListener</ref>):</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>raw_socket:<sp/>socket.socket):</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().__init__(trio.socket.from_stdlib_socket(raw_socket))</highlight></codeline>
<codeline lineno="520" refid="classanyio_1_1__backends_1_1__trio_1_1_t_c_p_socket_listener_1ad2c2c0680a3ba071603684fa835a2859" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_t_c_p_socket_listener_1ad2c2c0680a3ba071603684fa835a2859" kindref="member">_accept_guard</ref><sp/>=<sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_resource_guard" kindref="compound">ResourceGuard</ref>(</highlight><highlight class="stringliteral">&quot;accepting<sp/>connections<sp/>from&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="521"><highlight class="normal"></highlight></codeline>
<codeline lineno="522" refid="classanyio_1_1__backends_1_1__trio_1_1_t_c_p_socket_listener_1ae62372002f9a53d6c887f937181f7b4d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_t_c_p_socket_listener_1ae62372002f9a53d6c887f937181f7b4d" kindref="member">accept</ref>(self)<sp/>-&gt;<sp/>SocketStream:</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_t_c_p_socket_listener_1ad2c2c0680a3ba071603684fa835a2859" kindref="member">_accept_guard</ref>:</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_socket,<sp/>_addr<sp/>=<sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_t_c_p_socket_listener_1ae62372002f9a53d6c887f937181f7b4d" kindref="member">accept</ref>()</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a1ec9cbedda52ff6479765e51f8177980" kindref="member">_convert_socket_error</ref>(exc)</highlight></codeline>
<codeline lineno="528"><highlight class="normal"></highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_socket.setsockopt(socket.IPPROTO_TCP,<sp/>socket.TCP_NODELAY,<sp/>1)</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream" kindref="compound">SocketStream</ref>(trio_socket)</highlight></codeline>
<codeline lineno="531"><highlight class="normal"></highlight></codeline>
<codeline lineno="532"><highlight class="normal"></highlight></codeline>
<codeline lineno="533" refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_listener" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_listener" kindref="compound">UNIXSocketListener</ref>(<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin" kindref="compound">_TrioSocketMixin</ref>,<sp/><ref refid="classanyio_1_1abc_1_1__sockets_1_1_socket_listener" kindref="compound">abc.SocketListener</ref>):</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>raw_socket:<sp/>socket.socket):</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().__init__(trio.socket.from_stdlib_socket(raw_socket))</highlight></codeline>
<codeline lineno="536" refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_listener_1ab996ca02f58849b29f3303439a6c8688" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_listener_1ab996ca02f58849b29f3303439a6c8688" kindref="member">_accept_guard</ref><sp/>=<sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_resource_guard" kindref="compound">ResourceGuard</ref>(</highlight><highlight class="stringliteral">&quot;accepting<sp/>connections<sp/>from&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="537"><highlight class="normal"></highlight></codeline>
<codeline lineno="538" refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_listener_1a123f00cdfef90cf1766da88ab1aea7b0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_listener_1a123f00cdfef90cf1766da88ab1aea7b0" kindref="member">accept</ref>(self)<sp/>-&gt;<sp/>UNIXSocketStream:</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_listener_1ab996ca02f58849b29f3303439a6c8688" kindref="member">_accept_guard</ref>:</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_socket,<sp/>_addr<sp/>=<sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_listener_1a123f00cdfef90cf1766da88ab1aea7b0" kindref="member">accept</ref>()</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a1ec9cbedda52ff6479765e51f8177980" kindref="member">_convert_socket_error</ref>(exc)</highlight></codeline>
<codeline lineno="544"><highlight class="normal"></highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_stream" kindref="compound">UNIXSocketStream</ref>(trio_socket)</highlight></codeline>
<codeline lineno="546"><highlight class="normal"></highlight></codeline>
<codeline lineno="547"><highlight class="normal"></highlight></codeline>
<codeline lineno="548" refid="classanyio_1_1__backends_1_1__trio_1_1_u_d_p_socket" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_d_p_socket" kindref="compound">UDPSocket</ref>(<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin" kindref="compound">_TrioSocketMixin</ref>[IPSockAddrType],<sp/><ref refid="classanyio_1_1abc_1_1__sockets_1_1_u_d_p_socket" kindref="compound">abc.UDPSocket</ref>):</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>trio_socket:<sp/>TrioSocketType)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().__init__(trio_socket)</highlight></codeline>
<codeline lineno="551" refid="classanyio_1_1__backends_1_1__trio_1_1_u_d_p_socket_1a41a5ac14a9466c564faa40721ff0a59f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_d_p_socket_1a41a5ac14a9466c564faa40721ff0a59f" kindref="member">_receive_guard</ref><sp/>=<sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_resource_guard" kindref="compound">ResourceGuard</ref>(</highlight><highlight class="stringliteral">&quot;reading<sp/>from&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="552" refid="classanyio_1_1__backends_1_1__trio_1_1_u_d_p_socket_1a583caeffccaab9a89392df3e54d2a82b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_d_p_socket_1a583caeffccaab9a89392df3e54d2a82b" kindref="member">_send_guard</ref><sp/>=<sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_resource_guard" kindref="compound">ResourceGuard</ref>(</highlight><highlight class="stringliteral">&quot;writing<sp/>to&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="553"><highlight class="normal"></highlight></codeline>
<codeline lineno="554" refid="classanyio_1_1__backends_1_1__trio_1_1_u_d_p_socket_1a0fb18965ade40533f759a7c0c7844f20" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_d_p_socket_1a0fb18965ade40533f759a7c0c7844f20" kindref="member">receive</ref>(self)<sp/>-&gt;<sp/>tuple[bytes,<sp/>IPSockAddrType]:</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_d_p_socket_1a41a5ac14a9466c564faa40721ff0a59f" kindref="member">_receive_guard</ref>:</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data,<sp/>addr<sp/>=<sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.recvfrom(65536)</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>data,<sp/>convert_ipv6_sockaddr(addr)</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a1ec9cbedda52ff6479765e51f8177980" kindref="member">_convert_socket_error</ref>(exc)</highlight></codeline>
<codeline lineno="561"><highlight class="normal"></highlight></codeline>
<codeline lineno="562" refid="classanyio_1_1__backends_1_1__trio_1_1_u_d_p_socket_1a518d1c087969d7384a4b0ca2a0161530" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_d_p_socket_1a518d1c087969d7384a4b0ca2a0161530" kindref="member">send</ref>(self,<sp/>item:<sp/>UDPPacketType)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_d_p_socket_1a583caeffccaab9a89392df3e54d2a82b" kindref="member">_send_guard</ref>:</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.<ref refid="classanyio_1_1abc_1_1__sockets_1_1_u_d_p_socket_1a99acda9ad63f25f30b741a2f68dda726" kindref="member">sendto</ref>(*item)</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a1ec9cbedda52ff6479765e51f8177980" kindref="member">_convert_socket_error</ref>(exc)</highlight></codeline>
<codeline lineno="568"><highlight class="normal"></highlight></codeline>
<codeline lineno="569"><highlight class="normal"></highlight></codeline>
<codeline lineno="570" refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_d_p_socket" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_d_p_socket" kindref="compound">ConnectedUDPSocket</ref>(<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin" kindref="compound">_TrioSocketMixin</ref>[IPSockAddrType],<sp/><ref refid="classanyio_1_1abc_1_1__sockets_1_1_connected_u_d_p_socket" kindref="compound">abc.ConnectedUDPSocket</ref>):</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>trio_socket:<sp/>TrioSocketType)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().__init__(trio_socket)</highlight></codeline>
<codeline lineno="573" refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_d_p_socket_1a8d15b6e255cb95d5607262679ba4351b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_d_p_socket_1a8d15b6e255cb95d5607262679ba4351b" kindref="member">_receive_guard</ref><sp/>=<sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_resource_guard" kindref="compound">ResourceGuard</ref>(</highlight><highlight class="stringliteral">&quot;reading<sp/>from&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="574" refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_d_p_socket_1a946829d6f65c54ef36f93f93e521e61e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_d_p_socket_1a946829d6f65c54ef36f93f93e521e61e" kindref="member">_send_guard</ref><sp/>=<sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_resource_guard" kindref="compound">ResourceGuard</ref>(</highlight><highlight class="stringliteral">&quot;writing<sp/>to&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight></codeline>
<codeline lineno="576" refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_d_p_socket_1aaa1eb51314d173b3b31f105d4a4eb9dc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_d_p_socket_1aaa1eb51314d173b3b31f105d4a4eb9dc" kindref="member">receive</ref>(self)<sp/>-&gt;<sp/>bytes:</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_d_p_socket_1a8d15b6e255cb95d5607262679ba4351b" kindref="member">_receive_guard</ref>:</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.recv(65536)</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a1ec9cbedda52ff6479765e51f8177980" kindref="member">_convert_socket_error</ref>(exc)</highlight></codeline>
<codeline lineno="582"><highlight class="normal"></highlight></codeline>
<codeline lineno="583" refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_d_p_socket_1a9f30f29c800edcaad4cc4c2dcaa58c3a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_d_p_socket_1a9f30f29c800edcaad4cc4c2dcaa58c3a" kindref="member">send</ref>(self,<sp/>item:<sp/>bytes)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_d_p_socket_1a946829d6f65c54ef36f93f93e521e61e" kindref="member">_send_guard</ref>:</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_d_p_socket_1a9f30f29c800edcaad4cc4c2dcaa58c3a" kindref="member">send</ref>(item)</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a1ec9cbedda52ff6479765e51f8177980" kindref="member">_convert_socket_error</ref>(exc)</highlight></codeline>
<codeline lineno="589"><highlight class="normal"></highlight></codeline>
<codeline lineno="590"><highlight class="normal"></highlight></codeline>
<codeline lineno="591" refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_datagram_socket" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_datagram_socket" kindref="compound">UNIXDatagramSocket</ref>(<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin" kindref="compound">_TrioSocketMixin</ref>[str],<sp/><ref refid="classanyio_1_1abc_1_1__sockets_1_1_u_n_i_x_datagram_socket" kindref="compound">abc.UNIXDatagramSocket</ref>):</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>trio_socket:<sp/>TrioSocketType)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().__init__(trio_socket)</highlight></codeline>
<codeline lineno="594" refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_datagram_socket_1abcfae8bc835a4bb9a37e5f73f8227f37" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_datagram_socket_1abcfae8bc835a4bb9a37e5f73f8227f37" kindref="member">_receive_guard</ref><sp/>=<sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_resource_guard" kindref="compound">ResourceGuard</ref>(</highlight><highlight class="stringliteral">&quot;reading<sp/>from&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="595" refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_datagram_socket_1ab6f3c00a0e72fc90e0fbf1509e5aed70" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_datagram_socket_1ab6f3c00a0e72fc90e0fbf1509e5aed70" kindref="member">_send_guard</ref><sp/>=<sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_resource_guard" kindref="compound">ResourceGuard</ref>(</highlight><highlight class="stringliteral">&quot;writing<sp/>to&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="596"><highlight class="normal"></highlight></codeline>
<codeline lineno="597" refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_datagram_socket_1a8dd4d2c8f494c1c9acd5fbc594605f97" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_datagram_socket_1a8dd4d2c8f494c1c9acd5fbc594605f97" kindref="member">receive</ref>(self)<sp/>-&gt;<sp/>UNIXDatagramPacketType:</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_datagram_socket_1abcfae8bc835a4bb9a37e5f73f8227f37" kindref="member">_receive_guard</ref>:</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data,<sp/>addr<sp/>=<sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.recvfrom(65536)</highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>data,<sp/>addr</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a1ec9cbedda52ff6479765e51f8177980" kindref="member">_convert_socket_error</ref>(exc)</highlight></codeline>
<codeline lineno="604"><highlight class="normal"></highlight></codeline>
<codeline lineno="605" refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_datagram_socket_1a5e2e0f7b9dac8a0b6c9c243c7ffc229e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_datagram_socket_1a5e2e0f7b9dac8a0b6c9c243c7ffc229e" kindref="member">send</ref>(self,<sp/>item:<sp/>UNIXDatagramPacketType)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_datagram_socket_1ab6f3c00a0e72fc90e0fbf1509e5aed70" kindref="member">_send_guard</ref>:</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.<ref refid="classanyio_1_1abc_1_1__sockets_1_1_u_n_i_x_datagram_socket_1a4db96518de741b64eac4f68957318ade" kindref="member">sendto</ref>(*item)</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a1ec9cbedda52ff6479765e51f8177980" kindref="member">_convert_socket_error</ref>(exc)</highlight></codeline>
<codeline lineno="611"><highlight class="normal"></highlight></codeline>
<codeline lineno="612"><highlight class="normal"></highlight></codeline>
<codeline lineno="613" refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_n_i_x_datagram_socket" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_n_i_x_datagram_socket" kindref="compound">ConnectedUNIXDatagramSocket</ref>(</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/>_TrioSocketMixin[str],<sp/><ref refid="classanyio_1_1abc_1_1__sockets_1_1_connected_u_n_i_x_datagram_socket" kindref="compound">abc.ConnectedUNIXDatagramSocket</ref></highlight></codeline>
<codeline lineno="615"><highlight class="normal">):</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>trio_socket:<sp/>TrioSocketType)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().__init__(trio_socket)</highlight></codeline>
<codeline lineno="618" refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_n_i_x_datagram_socket_1a08c781e02b50b62d71691a21ad9f3453" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_n_i_x_datagram_socket_1a08c781e02b50b62d71691a21ad9f3453" kindref="member">_receive_guard</ref><sp/>=<sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_resource_guard" kindref="compound">ResourceGuard</ref>(</highlight><highlight class="stringliteral">&quot;reading<sp/>from&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="619" refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_n_i_x_datagram_socket_1a5f9069e9eacd05b485ac2ced1fd4c303" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_n_i_x_datagram_socket_1a5f9069e9eacd05b485ac2ced1fd4c303" kindref="member">_send_guard</ref><sp/>=<sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_resource_guard" kindref="compound">ResourceGuard</ref>(</highlight><highlight class="stringliteral">&quot;writing<sp/>to&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="620"><highlight class="normal"></highlight></codeline>
<codeline lineno="621" refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_n_i_x_datagram_socket_1ae644b2ba4a6bf405ad57bb78a42c164e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_n_i_x_datagram_socket_1ae644b2ba4a6bf405ad57bb78a42c164e" kindref="member">receive</ref>(self)<sp/>-&gt;<sp/>bytes:</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_n_i_x_datagram_socket_1a08c781e02b50b62d71691a21ad9f3453" kindref="member">_receive_guard</ref>:</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.recv(65536)</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a1ec9cbedda52ff6479765e51f8177980" kindref="member">_convert_socket_error</ref>(exc)</highlight></codeline>
<codeline lineno="627"><highlight class="normal"></highlight></codeline>
<codeline lineno="628" refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_n_i_x_datagram_socket_1a353c34764b31ab9393a8d6a934fc3e01" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_n_i_x_datagram_socket_1a353c34764b31ab9393a8d6a934fc3e01" kindref="member">send</ref>(self,<sp/>item:<sp/>bytes)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_n_i_x_datagram_socket_1a5f9069e9eacd05b485ac2ced1fd4c303" kindref="member">_send_guard</ref>:</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1ad867e915f677d98677aab8197f2e1b2f" kindref="member">_trio_socket</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_n_i_x_datagram_socket_1a353c34764b31ab9393a8d6a934fc3e01" kindref="member">send</ref>(item)</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___trio_socket_mixin_1a1ec9cbedda52ff6479765e51f8177980" kindref="member">_convert_socket_error</ref>(exc)</highlight></codeline>
<codeline lineno="634"><highlight class="normal"></highlight></codeline>
<codeline lineno="635"><highlight class="normal"></highlight></codeline>
<codeline lineno="636"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Synchronization</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="638"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"></highlight></codeline>
<codeline lineno="641" refid="classanyio_1_1__backends_1_1__trio_1_1_event" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_event" kindref="compound">Event</ref>(BaseEvent):</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__new__(cls)<sp/>-&gt;<sp/>Event:</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>object.__new__(cls)</highlight></codeline>
<codeline lineno="644"><highlight class="normal"></highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_event" kindref="compound">__original</ref><sp/>=<sp/>trio.Event()</highlight></codeline>
<codeline lineno="647"><highlight class="normal"></highlight></codeline>
<codeline lineno="648" refid="classanyio_1_1__backends_1_1__trio_1_1_event_1a2173552bb4ee86ef7065d156084acc3d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_event_1a2173552bb4ee86ef7065d156084acc3d" kindref="member">is_set</ref>(self)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_event" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_event_1a2173552bb4ee86ef7065d156084acc3d" kindref="member">is_set</ref>()</highlight></codeline>
<codeline lineno="650"><highlight class="normal"></highlight></codeline>
<codeline lineno="651" refid="classanyio_1_1__backends_1_1__trio_1_1_event_1add6efbf18775a5e1758a15ace131ebb8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_event_1add6efbf18775a5e1758a15ace131ebb8" kindref="member">wait</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_event" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_event_1add6efbf18775a5e1758a15ace131ebb8" kindref="member">wait</ref>()</highlight></codeline>
<codeline lineno="653"><highlight class="normal"></highlight></codeline>
<codeline lineno="654" refid="classanyio_1_1__backends_1_1__trio_1_1_event_1a3f31a561cdca81c22da94bc0bf98b159" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_event_1a3f31a561cdca81c22da94bc0bf98b159" kindref="member">statistics</ref>(self)<sp/>-&gt;<sp/>EventStatistics:</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>orig_statistics<sp/>=<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_event" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_event_1a3f31a561cdca81c22da94bc0bf98b159" kindref="member">statistics</ref>()</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_event_statistics" kindref="compound">EventStatistics</ref>(tasks_waiting=orig_statistics.tasks_waiting)</highlight></codeline>
<codeline lineno="657"><highlight class="normal"></highlight></codeline>
<codeline lineno="658" refid="classanyio_1_1__backends_1_1__trio_1_1_event_1a77f25f8296c173c1aa0d5a2062f58556" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_event_1a77f25f8296c173c1aa0d5a2062f58556" kindref="member">set</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_event" kindref="compound">__original</ref>.set()</highlight></codeline>
<codeline lineno="660"><highlight class="normal"></highlight></codeline>
<codeline lineno="661"><highlight class="normal"></highlight></codeline>
<codeline lineno="662" refid="classanyio_1_1__backends_1_1__trio_1_1_lock" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock" kindref="compound">Lock</ref>(BaseLock):</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__new__(cls,<sp/>*,<sp/>fast_acquire:<sp/>bool<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">)<sp/>-&gt;<sp/>Lock:</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>object.__new__(cls)</highlight></codeline>
<codeline lineno="665"><highlight class="normal"></highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>*,<sp/>fast_acquire:<sp/>bool<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="667" refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1a1a2295fc5e3afba160fa3b788d492d37" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1a1a2295fc5e3afba160fa3b788d492d37" kindref="member">_fast_acquire</ref><sp/>=<sp/>fast_acquire</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock" kindref="compound">__original</ref><sp/>=<sp/>trio.Lock()</highlight></codeline>
<codeline lineno="669"><highlight class="normal"></highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="671" refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1ad68fa89e9dc2ca6d77060f9ef16c05af" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1ad68fa89e9dc2ca6d77060f9ef16c05af" kindref="member">_convert_runtime_error_msg</ref>(exc:<sp/>RuntimeError)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>exc.args<sp/>==<sp/>(</highlight><highlight class="stringliteral">&quot;attempt<sp/>to<sp/>re-acquire<sp/>an<sp/>already<sp/>held<sp/>Lock&quot;</highlight><highlight class="normal">,):</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc.args<sp/>=<sp/>(</highlight><highlight class="stringliteral">&quot;Attempted<sp/>to<sp/>acquire<sp/>an<sp/>already<sp/>held<sp/>Lock&quot;</highlight><highlight class="normal">,)</highlight></codeline>
<codeline lineno="674"><highlight class="normal"></highlight></codeline>
<codeline lineno="675" refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1ab84cdadf8214b0c4891c742d9b274503" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1ab84cdadf8214b0c4891c742d9b274503" kindref="member">acquire</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1a1a2295fc5e3afba160fa3b788d492d37" kindref="member">_fast_acquire</ref>:</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1ab84cdadf8214b0c4891c742d9b274503" kindref="member">acquire</ref>()</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>RuntimeError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1ad68fa89e9dc2ca6d77060f9ef16c05af" kindref="member">_convert_runtime_error_msg</ref>(exc)</highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="682"><highlight class="normal"></highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="684"><highlight class="normal"></highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>This<sp/>is<sp/>the<sp/>&quot;fast<sp/>path&quot;<sp/>where<sp/>we<sp/>don&apos;t<sp/>let<sp/>other<sp/>tasks<sp/>run</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>trio.lowlevel.checkpoint_if_cancelled()</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1ac73a83de737629c445d64307ad2107b1" kindref="member">acquire_nowait</ref>()</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>trio.WouldBlock:</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock" kindref="compound">__original</ref>._lot.park()</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>RuntimeError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1ad68fa89e9dc2ca6d77060f9ef16c05af" kindref="member">_convert_runtime_error_msg</ref>(exc)</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="694"><highlight class="normal"></highlight></codeline>
<codeline lineno="695" refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1ac73a83de737629c445d64307ad2107b1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1ac73a83de737629c445d64307ad2107b1" kindref="member">acquire_nowait</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1ac73a83de737629c445d64307ad2107b1" kindref="member">acquire_nowait</ref>()</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>trio.WouldBlock:</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>WouldBlock<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>RuntimeError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1ad68fa89e9dc2ca6d77060f9ef16c05af" kindref="member">_convert_runtime_error_msg</ref>(exc)</highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="703"><highlight class="normal"></highlight></codeline>
<codeline lineno="704" refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1a96e90ab57c14bdeea31b17181287c1a4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1a96e90ab57c14bdeea31b17181287c1a4" kindref="member">locked</ref>(self)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1a96e90ab57c14bdeea31b17181287c1a4" kindref="member">locked</ref>()</highlight></codeline>
<codeline lineno="706"><highlight class="normal"></highlight></codeline>
<codeline lineno="707" refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1a357ae158577e07fa13f985078082a790" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1a357ae158577e07fa13f985078082a790" kindref="member">release</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1a357ae158577e07fa13f985078082a790" kindref="member">release</ref>()</highlight></codeline>
<codeline lineno="709"><highlight class="normal"></highlight></codeline>
<codeline lineno="710" refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1ab3ec4879d191484a39f29fded1f74d6f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1ab3ec4879d191484a39f29fded1f74d6f" kindref="member">statistics</ref>(self)<sp/>-&gt;<sp/>LockStatistics:</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>orig_statistics<sp/>=<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock_1ab3ec4879d191484a39f29fded1f74d6f" kindref="member">statistics</ref>()</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>owner<sp/>=<sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_task_info" kindref="compound">TrioTaskInfo</ref>(orig_statistics.owner)<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>orig_statistics.owner<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_lock_statistics" kindref="compound">LockStatistics</ref>(</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>orig_statistics.locked,<sp/>owner,<sp/>orig_statistics.tasks_waiting</highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="716"><highlight class="normal"></highlight></codeline>
<codeline lineno="717"><highlight class="normal"></highlight></codeline>
<codeline lineno="718" refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore" kindref="compound">Semaphore</ref>(BaseSemaphore):</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__new__(</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>initial_value:<sp/>int,</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*,</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_value:<sp/>int<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fast_acquire:<sp/>bool<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>Semaphore:</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>object.__new__(cls)</highlight></codeline>
<codeline lineno="727"><highlight class="normal"></highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>initial_value:<sp/>int,</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*,</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_value:<sp/>int<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fast_acquire:<sp/>bool<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().__init__(initial_value,<sp/>max_value=max_value,<sp/>fast_acquire=fast_acquire)</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore" kindref="compound">__original</ref><sp/>=<sp/>trio.Semaphore(initial_value,<sp/>max_value=max_value)</highlight></codeline>
<codeline lineno="737"><highlight class="normal"></highlight></codeline>
<codeline lineno="738" refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1ad9f7e5ecda43d503973ad4f49fb4b837" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1ad9f7e5ecda43d503973ad4f49fb4b837" kindref="member">acquire</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="739" refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1a0fe10c535c879a9bc0f7e39bb0e123a7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1a0fe10c535c879a9bc0f7e39bb0e123a7" kindref="member">_fast_acquire</ref>:</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1ad9f7e5ecda43d503973ad4f49fb4b837" kindref="member">acquire</ref>()</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="742"><highlight class="normal"></highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>This<sp/>is<sp/>the<sp/>&quot;fast<sp/>path&quot;<sp/>where<sp/>we<sp/>don&apos;t<sp/>let<sp/>other<sp/>tasks<sp/>run</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>trio.lowlevel.checkpoint_if_cancelled()</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1a186a51f676d31f0bab5ba0f7b2f93bc2" kindref="member">acquire_nowait</ref>()</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>trio.WouldBlock:</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore" kindref="compound">__original</ref>._lot.park()</highlight></codeline>
<codeline lineno="749"><highlight class="normal"></highlight></codeline>
<codeline lineno="750" refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1a186a51f676d31f0bab5ba0f7b2f93bc2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1a186a51f676d31f0bab5ba0f7b2f93bc2" kindref="member">acquire_nowait</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1a186a51f676d31f0bab5ba0f7b2f93bc2" kindref="member">acquire_nowait</ref>()</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>trio.WouldBlock:</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>WouldBlock<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="755"><highlight class="normal"></highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="757" refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1ac9b2784eeeb3da59cab5a6644c79b16a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1ac9b2784eeeb3da59cab5a6644c79b16a" kindref="member">max_value</ref>(self)<sp/>-&gt;<sp/>int<sp/>|<sp/>None:</highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore" kindref="compound">__original</ref>.max_value</highlight></codeline>
<codeline lineno="759"><highlight class="normal"></highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="761" refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1a5a9a96f4a3ee6d5022de66f7ad7e77bd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1a5a9a96f4a3ee6d5022de66f7ad7e77bd" kindref="member">value</ref>(self)<sp/>-&gt;<sp/>int:</highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore" kindref="compound">__original</ref>.value</highlight></codeline>
<codeline lineno="763"><highlight class="normal"></highlight></codeline>
<codeline lineno="764" refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1acccb8cf9bcd4d660c502f6d7c0fb1d07" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1acccb8cf9bcd4d660c502f6d7c0fb1d07" kindref="member">release</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1acccb8cf9bcd4d660c502f6d7c0fb1d07" kindref="member">release</ref>()</highlight></codeline>
<codeline lineno="766"><highlight class="normal"></highlight></codeline>
<codeline lineno="767" refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1a6146f552c6a549cb15771f3a9a49c07f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1a6146f552c6a549cb15771f3a9a49c07f" kindref="member">statistics</ref>(self)<sp/>-&gt;<sp/>SemaphoreStatistics:</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>orig_statistics<sp/>=<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore_1a6146f552c6a549cb15771f3a9a49c07f" kindref="member">statistics</ref>()</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_semaphore_statistics" kindref="compound">SemaphoreStatistics</ref>(orig_statistics.tasks_waiting)</highlight></codeline>
<codeline lineno="770"><highlight class="normal"></highlight></codeline>
<codeline lineno="771"><highlight class="normal"></highlight></codeline>
<codeline lineno="772" refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">CapacityLimiter</ref>(BaseCapacityLimiter):</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__new__(</highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>total_tokens:<sp/>float<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*,</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>original:<sp/>trio.CapacityLimiter<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>CapacityLimiter:</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>object.__new__(cls)</highlight></codeline>
<codeline lineno="780"><highlight class="normal"></highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>total_tokens:<sp/>float<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*,</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>original:<sp/>trio.CapacityLimiter<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>original<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">__original</ref><sp/>=<sp/>original</highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>total_tokens<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">__original</ref><sp/>=<sp/>trio.CapacityLimiter(total_tokens)</highlight></codeline>
<codeline lineno="792"><highlight class="normal"></highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal">__aenter__(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">__original</ref>.__aenter__()</highlight></codeline>
<codeline lineno="795"><highlight class="normal"></highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal">__aexit__(</highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc_type:<sp/>type[BaseException]<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc_val:<sp/>BaseException<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc_tb:<sp/>TracebackType<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">__original</ref>.__aexit__(exc_type,<sp/>exc_val,<sp/>exc_tb)</highlight></codeline>
<codeline lineno="803"><highlight class="normal"></highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="805" refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1aaf96ba0cfa171d99f5c49c14107889fa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1aaf96ba0cfa171d99f5c49c14107889fa" kindref="member">total_tokens</ref>(self)<sp/>-&gt;<sp/>float:</highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">__original</ref>.total_tokens</highlight></codeline>
<codeline lineno="807"><highlight class="normal"></highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@total_tokens.setter</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="809" refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a5240de93d8ad2ea6d940a9b55936e8bd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1aaf96ba0cfa171d99f5c49c14107889fa" kindref="member">total_tokens</ref>(self,<sp/>value:<sp/>float)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">__original</ref>.total_tokens<sp/>=<sp/>value</highlight></codeline>
<codeline lineno="811"><highlight class="normal"></highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="813" refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a69087fdf6c5477676ead90a17f9bd379" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a69087fdf6c5477676ead90a17f9bd379" kindref="member">borrowed_tokens</ref>(self)<sp/>-&gt;<sp/>int:</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">__original</ref>.borrowed_tokens</highlight></codeline>
<codeline lineno="815"><highlight class="normal"></highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="817" refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a506582abc67acf4de9ef2f4b9fade4f2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a506582abc67acf4de9ef2f4b9fade4f2" kindref="member">available_tokens</ref>(self)<sp/>-&gt;<sp/>float:</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">__original</ref>.available_tokens</highlight></codeline>
<codeline lineno="819"><highlight class="normal"></highlight></codeline>
<codeline lineno="820" refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1abe74ef93c022535a9f3ee6dc04d1389c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1abe74ef93c022535a9f3ee6dc04d1389c" kindref="member">acquire_nowait</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1abe74ef93c022535a9f3ee6dc04d1389c" kindref="member">acquire_nowait</ref>()</highlight></codeline>
<codeline lineno="822"><highlight class="normal"></highlight></codeline>
<codeline lineno="823" refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a8b760f8143b73f73ed6d25fb56ed47dd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a8b760f8143b73f73ed6d25fb56ed47dd" kindref="member">acquire_on_behalf_of_nowait</ref>(self,<sp/>borrower:<sp/>object)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a8b760f8143b73f73ed6d25fb56ed47dd" kindref="member">acquire_on_behalf_of_nowait</ref>(borrower)</highlight></codeline>
<codeline lineno="825"><highlight class="normal"></highlight></codeline>
<codeline lineno="826" refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a3f7158fd9ea1cec0fcbf33219cdf229a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a3f7158fd9ea1cec0fcbf33219cdf229a" kindref="member">acquire</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a3f7158fd9ea1cec0fcbf33219cdf229a" kindref="member">acquire</ref>()</highlight></codeline>
<codeline lineno="828"><highlight class="normal"></highlight></codeline>
<codeline lineno="829" refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1ad694f1932722c9f44f45ce82bdbdcb8f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1ad694f1932722c9f44f45ce82bdbdcb8f" kindref="member">acquire_on_behalf_of</ref>(self,<sp/>borrower:<sp/>object)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1ad694f1932722c9f44f45ce82bdbdcb8f" kindref="member">acquire_on_behalf_of</ref>(borrower)</highlight></codeline>
<codeline lineno="831"><highlight class="normal"></highlight></codeline>
<codeline lineno="832" refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a9dd2dbaeace6880b6b079e7f148dd7a9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a9dd2dbaeace6880b6b079e7f148dd7a9" kindref="member">release</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a9dd2dbaeace6880b6b079e7f148dd7a9" kindref="member">release</ref>()</highlight></codeline>
<codeline lineno="834"><highlight class="normal"></highlight></codeline>
<codeline lineno="835" refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1aca5a7e08cdff2451b1fa9d70bb8d25db" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1aca5a7e08cdff2451b1fa9d70bb8d25db" kindref="member">release_on_behalf_of</ref>(self,<sp/>borrower:<sp/>object)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1aca5a7e08cdff2451b1fa9d70bb8d25db" kindref="member">release_on_behalf_of</ref>(borrower)</highlight></codeline>
<codeline lineno="837"><highlight class="normal"></highlight></codeline>
<codeline lineno="838" refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a2dba6e6a593fd8a894090bad8cd5ec6c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a2dba6e6a593fd8a894090bad8cd5ec6c" kindref="member">statistics</ref>(self)<sp/>-&gt;<sp/>CapacityLimiterStatistics:</highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>orig<sp/>=<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">__original</ref>.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a2dba6e6a593fd8a894090bad8cd5ec6c" kindref="member">statistics</ref>()</highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_capacity_limiter_statistics" kindref="compound">CapacityLimiterStatistics</ref>(</highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>borrowed_tokens=orig.borrowed_tokens,</highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>total_tokens=orig.total_tokens,</highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>borrowers=tuple(orig.borrowers),</highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tasks_waiting=orig.tasks_waiting,</highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="846"><highlight class="normal"></highlight></codeline>
<codeline lineno="847"><highlight class="normal"></highlight></codeline>
<codeline lineno="848" refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter_1a1b7c6b3e9d0dfb587c18ccb0c531afec" refkind="member"><highlight class="normal">_capacity_limiter_wrapper:<sp/>trio.lowlevel.RunVar<sp/>=<sp/><ref refid="namespaceanyio_1_1__backends_1_1__trio_1ab30b93872512b2c6fa5c3efa586fed9b" kindref="member">RunVar</ref>(</highlight><highlight class="stringliteral">&quot;_capacity_limiter_wrapper&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="849"><highlight class="normal"></highlight></codeline>
<codeline lineno="850"><highlight class="normal"></highlight></codeline>
<codeline lineno="851"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="852"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Signal<sp/>handling</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="853"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="854"><highlight class="normal"></highlight></codeline>
<codeline lineno="855"><highlight class="normal"></highlight></codeline>
<codeline lineno="856" refid="classanyio_1_1__backends_1_1__trio_1_1___signal_receiver" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1___signal_receiver" kindref="compound">_SignalReceiver</ref>:</highlight></codeline>
<codeline lineno="857" refid="classanyio_1_1__backends_1_1__trio_1_1___signal_receiver_1afb8117cfa2c8096749d7dbbc1b7971e4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>_iterator:<sp/>AsyncIterator[int]</highlight></codeline>
<codeline lineno="858"><highlight class="normal"></highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>signals:<sp/>tuple[Signals,<sp/>...]):</highlight></codeline>
<codeline lineno="860" refid="classanyio_1_1__backends_1_1__trio_1_1___signal_receiver_1a844ec3a31b83c638309e6e07c22cc3bf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___signal_receiver_1a844ec3a31b83c638309e6e07c22cc3bf" kindref="member">_signals</ref><sp/>=<sp/>signals</highlight></codeline>
<codeline lineno="861"><highlight class="normal"></highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__enter__(self)<sp/>-&gt;<sp/>_SignalReceiver:</highlight></codeline>
<codeline lineno="863" refid="classanyio_1_1__backends_1_1__trio_1_1___signal_receiver_1aa64efbab36e746f20915691fb90e8e5a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___signal_receiver_1aa64efbab36e746f20915691fb90e8e5a" kindref="member">_cm</ref><sp/>=<sp/>trio.open_signal_receiver(*self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___signal_receiver_1a844ec3a31b83c638309e6e07c22cc3bf" kindref="member">_signals</ref>)</highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___signal_receiver_1afb8117cfa2c8096749d7dbbc1b7971e4" kindref="member">_iterator</ref><sp/>=<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___signal_receiver_1aa64efbab36e746f20915691fb90e8e5a" kindref="member">_cm</ref>.__enter__()</highlight></codeline>
<codeline lineno="865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="866"><highlight class="normal"></highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__exit__(</highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc_type:<sp/>type[BaseException]<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc_val:<sp/>BaseException<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc_tb:<sp/>TracebackType<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>bool<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___signal_receiver_1aa64efbab36e746f20915691fb90e8e5a" kindref="member">_cm</ref>.__exit__(exc_type,<sp/>exc_val,<sp/>exc_tb)</highlight></codeline>
<codeline lineno="874"><highlight class="normal"></highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__aiter__(self)<sp/>-&gt;<sp/>_SignalReceiver:</highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="877"><highlight class="normal"></highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal">__anext__(self)<sp/>-&gt;<sp/>Signals:</highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>signum<sp/>=<sp/>await<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1___signal_receiver_1afb8117cfa2c8096749d7dbbc1b7971e4" kindref="member">_iterator</ref>.__anext__()</highlight></codeline>
<codeline lineno="880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Signals(signum)</highlight></codeline>
<codeline lineno="881"><highlight class="normal"></highlight></codeline>
<codeline lineno="882"><highlight class="normal"></highlight></codeline>
<codeline lineno="883"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="884"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Testing<sp/>and<sp/>debugging</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="885"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="886"><highlight class="normal"></highlight></codeline>
<codeline lineno="887"><highlight class="normal"></highlight></codeline>
<codeline lineno="888" refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner" kindref="compound">TestRunner</ref>(<ref refid="classanyio_1_1abc_1_1__testing_1_1_test_runner" kindref="compound">abc.TestRunner</ref>):</highlight></codeline>
<codeline lineno="889"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>**options:<sp/>Any)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>queue<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Queue</highlight></codeline>
<codeline lineno="891"><highlight class="normal"></highlight></codeline>
<codeline lineno="892" refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a2e2c8fe5c6e29f79c77712607fa373aa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a2e2c8fe5c6e29f79c77712607fa373aa" kindref="member">_call_queue</ref>:<sp/>Queue[Callable[[],<sp/>object]]<sp/>=<sp/>Queue()</highlight></codeline>
<codeline lineno="893" refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a8d9128c0d6fa37328b95b621374df1e8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a8d9128c0d6fa37328b95b621374df1e8" kindref="member">_send_stream</ref>:<sp/>MemoryObjectSendStream<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="894" refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a597a088935170e8c8930c783ee9cc18c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a597a088935170e8c8930c783ee9cc18c" kindref="member">_options</ref><sp/>=<sp/>options</highlight></codeline>
<codeline lineno="895"><highlight class="normal"></highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__exit__(</highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc_type:<sp/>type[BaseException]<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc_val:<sp/>BaseException<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc_tb:<sp/>types.TracebackType<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a8d9128c0d6fa37328b95b621374df1e8" kindref="member">_send_stream</ref>:</highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a8d9128c0d6fa37328b95b621374df1e8" kindref="member">_send_stream</ref>.close()</highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a8d9128c0d6fa37328b95b621374df1e8" kindref="member">_send_stream</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="905"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a2e2c8fe5c6e29f79c77712607fa373aa" kindref="member">_call_queue</ref>.get()()</highlight></codeline>
<codeline lineno="906"><highlight class="normal"></highlight></codeline>
<codeline lineno="907" refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a05a22e941a48acd8d79bc0b956505603" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a72ba28c8f9b117b21868311ce95cec5b" kindref="member">_run_tests_and_fixtures</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a8d9128c0d6fa37328b95b621374df1e8" kindref="member">_send_stream</ref>,<sp/>receive_stream<sp/>=<sp/><ref refid="classanyio_1_1__core_1_1__streams_1_1create__memory__object__stream" kindref="compound">create_memory_object_stream</ref>(1)</highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>receive_stream:</highlight></codeline>
<codeline lineno="910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>coro,<sp/>outcome_holder<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>receive_stream:</highlight></codeline>
<codeline lineno="911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retval<sp/>=<sp/>await<sp/>coro</highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outcome_holder.append(Error(exc))</highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outcome_holder.append(Value(retval))</highlight></codeline>
<codeline lineno="917"><highlight class="normal"></highlight></codeline>
<codeline lineno="918" refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a60b84bf4ba10b655917624d4d7de7ddb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a60b84bf4ba10b655917624d4d7de7ddb" kindref="member">_main_task_finished</ref>(self,<sp/>outcome:<sp/>object)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a8d9128c0d6fa37328b95b621374df1e8" kindref="member">_send_stream</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="920"><highlight class="normal"></highlight></codeline>
<codeline lineno="921" refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a7884bda99367db2a6b27e70d2d3b6578" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a7884bda99367db2a6b27e70d2d3b6578" kindref="member">_call_in_runner_task</ref>(</highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>func:<sp/>Callable[P,<sp/>Awaitable[T_Retval]],</highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*args:<sp/>P.args,</highlight></codeline>
<codeline lineno="925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**kwargs:<sp/>P.kwargs,</highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>T_Retval:</highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a8d9128c0d6fa37328b95b621374df1e8" kindref="member">_send_stream</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio.lowlevel.start_guest_run(</highlight></codeline>
<codeline lineno="929" refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a72ba28c8f9b117b21868311ce95cec5b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a72ba28c8f9b117b21868311ce95cec5b" kindref="member">_run_tests_and_fixtures</ref>,</highlight></codeline>
<codeline lineno="930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>run_sync_soon_threadsafe=self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a2e2c8fe5c6e29f79c77712607fa373aa" kindref="member">_call_queue</ref>.put,</highlight></codeline>
<codeline lineno="931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>done_callback=self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a60b84bf4ba10b655917624d4d7de7ddb" kindref="member">_main_task_finished</ref>,</highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a597a088935170e8c8930c783ee9cc18c" kindref="member">_options</ref>,</highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a8d9128c0d6fa37328b95b621374df1e8" kindref="member">_send_stream</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a2e2c8fe5c6e29f79c77712607fa373aa" kindref="member">_call_queue</ref>.get()()</highlight></codeline>
<codeline lineno="936"><highlight class="normal"></highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outcome_holder:<sp/>list[Outcome]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a8d9128c0d6fa37328b95b621374df1e8" kindref="member">_send_stream</ref>.send_nowait((func(*args,<sp/>**kwargs),<sp/>outcome_holder))</highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>outcome_holder:</highlight></codeline>
<codeline lineno="940"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a2e2c8fe5c6e29f79c77712607fa373aa" kindref="member">_call_queue</ref>.get()()</highlight></codeline>
<codeline lineno="941"><highlight class="normal"></highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>outcome_holder[0].unwrap()</highlight></codeline>
<codeline lineno="943"><highlight class="normal"></highlight></codeline>
<codeline lineno="944" refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a2a1eebb0cd3804e7a81292c084ed8b4e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a2a1eebb0cd3804e7a81292c084ed8b4e" kindref="member">run_asyncgen_fixture</ref>(</highlight></codeline>
<codeline lineno="945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fixture_func:<sp/>Callable[...,<sp/>AsyncGenerator[T_Retval,<sp/>Any]],</highlight></codeline>
<codeline lineno="947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kwargs:<sp/>dict[str,<sp/>Any],</highlight></codeline>
<codeline lineno="948"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>Iterable[T_Retval]:</highlight></codeline>
<codeline lineno="949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>asyncgen<sp/>=<sp/>fixture_func(**kwargs)</highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fixturevalue:<sp/>T_Retval<sp/>=<sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a7884bda99367db2a6b27e70d2d3b6578" kindref="member">_call_in_runner_task</ref>(asyncgen.asend,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="951"><highlight class="normal"></highlight></codeline>
<codeline lineno="952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>fixturevalue</highlight></codeline>
<codeline lineno="953"><highlight class="normal"></highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a7884bda99367db2a6b27e70d2d3b6578" kindref="member">_call_in_runner_task</ref>(asyncgen.asend,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopAsyncIteration:</highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a7884bda99367db2a6b27e70d2d3b6578" kindref="member">_call_in_runner_task</ref>(asyncgen.aclose)</highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>RuntimeError(</highlight><highlight class="stringliteral">&quot;Async<sp/>generator<sp/>fixture<sp/>did<sp/>not<sp/>stop&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="961"><highlight class="normal"></highlight></codeline>
<codeline lineno="962" refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a530c78bdf5304b078bb21c580de77485" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a530c78bdf5304b078bb21c580de77485" kindref="member">run_fixture</ref>(</highlight></codeline>
<codeline lineno="963"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fixture_func:<sp/>Callable[...,<sp/>Coroutine[Any,<sp/>Any,<sp/>T_Retval]],</highlight></codeline>
<codeline lineno="965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kwargs:<sp/>dict[str,<sp/>Any],</highlight></codeline>
<codeline lineno="966"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>T_Retval:</highlight></codeline>
<codeline lineno="967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a7884bda99367db2a6b27e70d2d3b6578" kindref="member">_call_in_runner_task</ref>(fixture_func,<sp/>**kwargs)</highlight></codeline>
<codeline lineno="968"><highlight class="normal"></highlight></codeline>
<codeline lineno="969" refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1adacfa5f961d5c0f8fa72692405373aff" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1adacfa5f961d5c0f8fa72692405373aff" kindref="member">run_test</ref>(</highlight></codeline>
<codeline lineno="970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,<sp/>test_func:<sp/>Callable[...,<sp/>Coroutine[Any,<sp/>Any,<sp/>Any]],<sp/>kwargs:<sp/>dict[str,<sp/>Any]</highlight></codeline>
<codeline lineno="971"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner_1a7884bda99367db2a6b27e70d2d3b6578" kindref="member">_call_in_runner_task</ref>(test_func,<sp/>**kwargs)</highlight></codeline>
<codeline lineno="973"><highlight class="normal"></highlight></codeline>
<codeline lineno="974"><highlight class="normal"></highlight></codeline>
<codeline lineno="975" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_task_info" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_task_info" kindref="compound">TrioTaskInfo</ref>(<ref refid="classanyio_1_1__core_1_1__testing_1_1_task_info" kindref="compound">TaskInfo</ref>):</highlight></codeline>
<codeline lineno="976"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>task:<sp/>trio.lowlevel.Task):</highlight></codeline>
<codeline lineno="977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parent_id<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>task.parent_nursery<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>task.parent_nursery.parent_task:</highlight></codeline>
<codeline lineno="979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parent_id<sp/>=<sp/><ref refid="classanyio_1_1__core_1_1__testing_1_1_task_info_1a3d83ae8e53906a4f48a1d9866c1d4b82" kindref="member">id</ref>(task.parent_nursery.parent_task)</highlight></codeline>
<codeline lineno="980"><highlight class="normal"></highlight></codeline>
<codeline lineno="981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().__init__(<ref refid="classanyio_1_1__core_1_1__testing_1_1_task_info_1a3d83ae8e53906a4f48a1d9866c1d4b82" kindref="member">id</ref>(task),<sp/>parent_id,<sp/>task.name,<sp/>task.coro)</highlight></codeline>
<codeline lineno="982" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_task_info_1acc45a6cc1e4a3373b35a522dccf1a072" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_task_info_1acc45a6cc1e4a3373b35a522dccf1a072" kindref="member">_task</ref><sp/>=<sp/>weakref.proxy(task)</highlight></codeline>
<codeline lineno="983"><highlight class="normal"></highlight></codeline>
<codeline lineno="984" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_task_info_1a410c8b8dea879dbcba585eafb3f7a514" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_task_info_1a410c8b8dea879dbcba585eafb3f7a514" kindref="member">has_pending_cancellation</ref>(self)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="985"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_task_info_1acc45a6cc1e4a3373b35a522dccf1a072" kindref="member">_task</ref>._cancel_status.effectively_cancelled</highlight></codeline>
<codeline lineno="987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>ReferenceError:</highlight></codeline>
<codeline lineno="988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>the<sp/>task<sp/>is<sp/>no<sp/>longer<sp/>around,<sp/>it<sp/>surely<sp/>doesn&apos;t<sp/>have<sp/>a<sp/>cancellation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>pending</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="991"><highlight class="normal"></highlight></codeline>
<codeline lineno="992"><highlight class="normal"></highlight></codeline>
<codeline lineno="993" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend" kindref="compound">TrioBackend</ref>(<ref refid="classanyio_1_1abc_1_1__eventloop_1_1_async_backend" kindref="compound">AsyncBackend</ref>):</highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="995" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a9d664470c9e2cb220405731c6aac0e7b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a9d664470c9e2cb220405731c6aac0e7b" kindref="member">run</ref>(</highlight></codeline>
<codeline lineno="996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,</highlight></codeline>
<codeline lineno="997"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>func:<sp/>Callable[[Unpack[PosArgsT]],<sp/>Awaitable[T_Retval]],</highlight></codeline>
<codeline lineno="998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args:<sp/>tuple[Unpack[PosArgsT]],</highlight></codeline>
<codeline lineno="999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kwargs:<sp/>dict[str,<sp/>Any],</highlight></codeline>
<codeline lineno="1000"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>options:<sp/>dict[str,<sp/>Any],</highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>T_Retval:</highlight></codeline>
<codeline lineno="1002"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>trio.run(func,<sp/>*args)</highlight></codeline>
<codeline lineno="1003"><highlight class="normal"></highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1005" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a0dae466102a5c8cf0c43d260d8e953a1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a0dae466102a5c8cf0c43d260d8e953a1" kindref="member">current_token</ref>(cls)<sp/>-&gt;<sp/>object:</highlight></codeline>
<codeline lineno="1006"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>trio.lowlevel.current_trio_token()</highlight></codeline>
<codeline lineno="1007"><highlight class="normal"></highlight></codeline>
<codeline lineno="1008"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1009" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1af7cac55de0a8ca958c892c2206686f8e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1af7cac55de0a8ca958c892c2206686f8e" kindref="member">current_time</ref>(cls)<sp/>-&gt;<sp/>float:</highlight></codeline>
<codeline lineno="1010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>trio.current_time()</highlight></codeline>
<codeline lineno="1011"><highlight class="normal"></highlight></codeline>
<codeline lineno="1012"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1013" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1af908340b1ed209c9f5fb1f33e16a30b0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1af908340b1ed209c9f5fb1f33e16a30b0" kindref="member">cancelled_exception_class</ref>(cls)<sp/>-&gt;<sp/>type[BaseException]:</highlight></codeline>
<codeline lineno="1014"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>trio.Cancelled</highlight></codeline>
<codeline lineno="1015"><highlight class="normal"></highlight></codeline>
<codeline lineno="1016"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1017" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a00b660e28a0b3664e4fac784ab2430a2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a00b660e28a0b3664e4fac784ab2430a2" kindref="member">checkpoint</ref>(cls)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>trio.lowlevel.checkpoint()</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"></highlight></codeline>
<codeline lineno="1020"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1021" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1adec3d241c12e8e463342ce1bb51f706d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1adec3d241c12e8e463342ce1bb51f706d" kindref="member">checkpoint_if_cancelled</ref>(cls)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="1022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>trio.lowlevel.checkpoint_if_cancelled()</highlight></codeline>
<codeline lineno="1023"><highlight class="normal"></highlight></codeline>
<codeline lineno="1024"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1025" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a592d55ade16082d3ce1bb3a7afd285c9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a592d55ade16082d3ce1bb3a7afd285c9" kindref="member">cancel_shielded_checkpoint</ref>(cls)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="1026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>trio.lowlevel.cancel_shielded_checkpoint()</highlight></codeline>
<codeline lineno="1027"><highlight class="normal"></highlight></codeline>
<codeline lineno="1028"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1029" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a1719769b70ada3f980aa891b6f513fe1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a1719769b70ada3f980aa891b6f513fe1" kindref="member">sleep</ref>(cls,<sp/>delay:<sp/>float)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>trio.sleep(delay)</highlight></codeline>
<codeline lineno="1031"><highlight class="normal"></highlight></codeline>
<codeline lineno="1032"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1033" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a35002d094467fd760f03ab0eb44a15f5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a35002d094467fd760f03ab0eb44a15f5" kindref="member">create_cancel_scope</ref>(</highlight></codeline>
<codeline lineno="1034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,<sp/>*,<sp/>deadline:<sp/>float<sp/>=<sp/>math.inf,<sp/>shield:<sp/>bool<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1035"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/><ref refid="classanyio_1_1__core_1_1__tasks_1_1_cancel_scope" kindref="compound">abc.CancelScope</ref>:</highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_cancel_scope" kindref="compound">CancelScope</ref>(deadline=deadline,<sp/>shield=shield)</highlight></codeline>
<codeline lineno="1037"><highlight class="normal"></highlight></codeline>
<codeline lineno="1038"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1039" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a96420c315c76dd68386cac94241ea48b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a96420c315c76dd68386cac94241ea48b" kindref="member">current_effective_deadline</ref>(cls)<sp/>-&gt;<sp/>float:</highlight></codeline>
<codeline lineno="1040"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>trio.current_effective_deadline()</highlight></codeline>
<codeline lineno="1041"><highlight class="normal"></highlight></codeline>
<codeline lineno="1042"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1043" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1aacc8d311efd4c06c89a90d0e26b90a44" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1aacc8d311efd4c06c89a90d0e26b90a44" kindref="member">create_task_group</ref>(cls)<sp/>-&gt;<sp/>abc.TaskGroup:</highlight></codeline>
<codeline lineno="1044"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_task_group" kindref="compound">TaskGroup</ref>()</highlight></codeline>
<codeline lineno="1045"><highlight class="normal"></highlight></codeline>
<codeline lineno="1046"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1047" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1acb4d93563cdf861d9fdf6d194bbbb02d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1acb4d93563cdf861d9fdf6d194bbbb02d" kindref="member">create_event</ref>(cls)<sp/>-&gt;<sp/>abc.Event:</highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_event" kindref="compound">Event</ref>()</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"></highlight></codeline>
<codeline lineno="1050"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1051" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1af5dae78843c4174491ea2c4fad1c5c36" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1af5dae78843c4174491ea2c4fad1c5c36" kindref="member">create_lock</ref>(cls,<sp/>*,<sp/>fast_acquire:<sp/>bool)<sp/>-&gt;<sp/>Lock:</highlight></codeline>
<codeline lineno="1052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_lock" kindref="compound">Lock</ref>(fast_acquire=fast_acquire)</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"></highlight></codeline>
<codeline lineno="1054"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1055" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a685d2034500cfb3c17aaa67808a132c2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a685d2034500cfb3c17aaa67808a132c2" kindref="member">create_semaphore</ref>(</highlight></codeline>
<codeline lineno="1056"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,</highlight></codeline>
<codeline lineno="1057"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>initial_value:<sp/>int,</highlight></codeline>
<codeline lineno="1058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*,</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_value:<sp/>int<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fast_acquire:<sp/>bool<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1061"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_semaphore" kindref="compound">abc.Semaphore</ref>:</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_semaphore" kindref="compound">Semaphore</ref>(initial_value,<sp/>max_value=max_value,<sp/>fast_acquire=fast_acquire)</highlight></codeline>
<codeline lineno="1063"><highlight class="normal"></highlight></codeline>
<codeline lineno="1064"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1065" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1aee195fe0c35b2ca569c8ccad219166d9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1aee195fe0c35b2ca569c8ccad219166d9" kindref="member">create_capacity_limiter</ref>(cls,<sp/>total_tokens:<sp/>float)<sp/>-&gt;<sp/>CapacityLimiter:</highlight></codeline>
<codeline lineno="1066"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">CapacityLimiter</ref>(total_tokens)</highlight></codeline>
<codeline lineno="1067"><highlight class="normal"></highlight></codeline>
<codeline lineno="1068"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1069" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a00ad8b81c4b34b7306821d9add680e22" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a00ad8b81c4b34b7306821d9add680e22" kindref="member">run_sync_in_worker_thread</ref>(</highlight></codeline>
<codeline lineno="1070"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,</highlight></codeline>
<codeline lineno="1071"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>func:<sp/>Callable[[Unpack[PosArgsT]],<sp/>T_Retval],</highlight></codeline>
<codeline lineno="1072"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args:<sp/>tuple[Unpack[PosArgsT]],</highlight></codeline>
<codeline lineno="1073"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>abandon_on_cancel:<sp/>bool<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1074"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>limiter:<sp/><ref refid="classanyio_1_1__core_1_1__synchronization_1_1_capacity_limiter" kindref="compound">abc.CapacityLimiter</ref><sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1075"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>T_Retval:</highlight></codeline>
<codeline lineno="1076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">wrapper()<sp/>-&gt;<sp/>T_Retval:</highlight></codeline>
<codeline lineno="1077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>claim_worker_thread(TrioBackend,<sp/>token):</highlight></codeline>
<codeline lineno="1078"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>func(*args)</highlight></codeline>
<codeline lineno="1079"><highlight class="normal"></highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>token<sp/>=<sp/>TrioBackend.current_token()</highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>await<sp/>run_sync(</highlight></codeline>
<codeline lineno="1082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper,</highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>abandon_on_cancel=abandon_on_cancel,</highlight></codeline>
<codeline lineno="1084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>limiter=cast(trio.CapacityLimiter,<sp/>limiter),</highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1086"><highlight class="normal"></highlight></codeline>
<codeline lineno="1087"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1088" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a9772a88215e2dd676379e4a88300eb39" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a9772a88215e2dd676379e4a88300eb39" kindref="member">check_cancelled</ref>(cls)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="1089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio.from_thread.check_cancelled()</highlight></codeline>
<codeline lineno="1090"><highlight class="normal"></highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1092" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1afdd7fe6bbc9e15de30665571e2a2ef2b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1afdd7fe6bbc9e15de30665571e2a2ef2b" kindref="member">run_async_from_thread</ref>(</highlight></codeline>
<codeline lineno="1093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,</highlight></codeline>
<codeline lineno="1094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>func:<sp/>Callable[[Unpack[PosArgsT]],<sp/>Awaitable[T_Retval]],</highlight></codeline>
<codeline lineno="1095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args:<sp/>tuple[Unpack[PosArgsT]],</highlight></codeline>
<codeline lineno="1096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>token:<sp/>object,</highlight></codeline>
<codeline lineno="1097"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>T_Retval:</highlight></codeline>
<codeline lineno="1098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_token<sp/>=<sp/>cast(</highlight><highlight class="stringliteral">&quot;trio.lowlevel.TrioToken<sp/>|<sp/>None&quot;</highlight><highlight class="normal">,<sp/>token)</highlight></codeline>
<codeline lineno="1099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>trio.from_thread.run(func,<sp/>*args,<sp/>trio_token=trio_token)</highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>trio.RunFinishedError:</highlight></codeline>
<codeline lineno="1102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>RunFinishedError<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1103"><highlight class="normal"></highlight></codeline>
<codeline lineno="1104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1105" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1aa0a6d037552336ac21680478c5e0001a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1aa0a6d037552336ac21680478c5e0001a" kindref="member">run_sync_from_thread</ref>(</highlight></codeline>
<codeline lineno="1106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,</highlight></codeline>
<codeline lineno="1107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>func:<sp/>Callable[[Unpack[PosArgsT]],<sp/>T_Retval],</highlight></codeline>
<codeline lineno="1108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args:<sp/>tuple[Unpack[PosArgsT]],</highlight></codeline>
<codeline lineno="1109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>token:<sp/>object,</highlight></codeline>
<codeline lineno="1110"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>T_Retval:</highlight></codeline>
<codeline lineno="1111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_token<sp/>=<sp/>cast(</highlight><highlight class="stringliteral">&quot;trio.lowlevel.TrioToken<sp/>|<sp/>None&quot;</highlight><highlight class="normal">,<sp/>token)</highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>trio.from_thread.run_sync(func,<sp/>*args,<sp/>trio_token=trio_token)</highlight></codeline>
<codeline lineno="1114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>trio.RunFinishedError:</highlight></codeline>
<codeline lineno="1115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>RunFinishedError<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1116"><highlight class="normal"></highlight></codeline>
<codeline lineno="1117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1118" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1af30f61b719fb22d93063142e9462f946" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1af30f61b719fb22d93063142e9462f946" kindref="member">create_blocking_portal</ref>(cls)<sp/>-&gt;<sp/>abc.BlockingPortal:</highlight></codeline>
<codeline lineno="1119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_blocking_portal" kindref="compound">BlockingPortal</ref>()</highlight></codeline>
<codeline lineno="1120"><highlight class="normal"></highlight></codeline>
<codeline lineno="1121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1122" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a0d04914badbeeb623fb7c6043befb0fc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a0d04914badbeeb623fb7c6043befb0fc" kindref="member">open_process</ref>(</highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,</highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>command:<sp/>StrOrBytesPath<sp/>|<sp/>Sequence[StrOrBytesPath],</highlight></codeline>
<codeline lineno="1125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*,</highlight></codeline>
<codeline lineno="1126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stdin:<sp/>int<sp/>|<sp/>IO[Any]<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stdout:<sp/>int<sp/>|<sp/>IO[Any]<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stderr:<sp/>int<sp/>|<sp/>IO[Any]<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**kwargs:<sp/>Any,</highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>Process:</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">convert_item(item:<sp/>StrOrBytesPath)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="1132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>str_or_bytes<sp/>=<sp/>os.fspath(item)</highlight></codeline>
<codeline lineno="1133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(str_or_bytes,<sp/>str):</highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>str_or_bytes</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>os.fsdecode(str_or_bytes)</highlight></codeline>
<codeline lineno="1137"><highlight class="normal"></highlight></codeline>
<codeline lineno="1138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(command,<sp/>(str,<sp/>bytes,<sp/>PathLike)):</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>process<sp/>=<sp/>await<sp/>trio.lowlevel.open_process(</highlight></codeline>
<codeline lineno="1140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>convert_item(command),</highlight></codeline>
<codeline lineno="1141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stdin=stdin,</highlight></codeline>
<codeline lineno="1142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stdout=stdout,</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stderr=stderr,</highlight></codeline>
<codeline lineno="1144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>shell=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**kwargs,</highlight></codeline>
<codeline lineno="1146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>process<sp/>=<sp/>await<sp/>trio.lowlevel.open_process(</highlight></codeline>
<codeline lineno="1149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[convert_item(item)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>command],</highlight></codeline>
<codeline lineno="1150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stdin=stdin,</highlight></codeline>
<codeline lineno="1151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stdout=stdout,</highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stderr=stderr,</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>shell=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**kwargs,</highlight></codeline>
<codeline lineno="1155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1156"><highlight class="normal"></highlight></codeline>
<codeline lineno="1157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stdin_stream<sp/>=<sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_send_stream_wrapper" kindref="compound">SendStreamWrapper</ref>(process.stdin)<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>process.stdin<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stdout_stream<sp/>=<sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_receive_stream_wrapper" kindref="compound">ReceiveStreamWrapper</ref>(process.stdout)<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>process.stdout<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stderr_stream<sp/>=<sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_receive_stream_wrapper" kindref="compound">ReceiveStreamWrapper</ref>(process.stderr)<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>process.stderr<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_process" kindref="compound">Process</ref>(process,<sp/>stdin_stream,<sp/>stdout_stream,<sp/>stderr_stream)</highlight></codeline>
<codeline lineno="1161"><highlight class="normal"></highlight></codeline>
<codeline lineno="1162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1163" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a3c1f688e16d0f146933e1f0c5f9482d7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a3c1f688e16d0f146933e1f0c5f9482d7" kindref="member">setup_process_pool_exit_at_shutdown</ref>(cls,<sp/>workers:<sp/>set[<ref refid="classanyio_1_1abc_1_1__subprocesses_1_1_process" kindref="compound">abc.Process</ref>])<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio.lowlevel.spawn_system_task(_shutdown_process_pool,<sp/>workers)</highlight></codeline>
<codeline lineno="1165"><highlight class="normal"></highlight></codeline>
<codeline lineno="1166"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1167" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1ac3ab38963421fd2814e3f704f084b0a9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1ac3ab38963421fd2814e3f704f084b0a9" kindref="member">connect_tcp</ref>(</highlight></codeline>
<codeline lineno="1168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,<sp/>host:<sp/>str,<sp/>port:<sp/>int,<sp/>local_address:<sp/>IPSockAddrType<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1169"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>SocketStream:</highlight></codeline>
<codeline lineno="1170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>family<sp/>=<sp/>socket.AF_INET6<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;:&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>host<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>socket.AF_INET</highlight></codeline>
<codeline lineno="1171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_socket<sp/>=<sp/>trio.socket.socket(family)</highlight></codeline>
<codeline lineno="1172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_socket.setsockopt(socket.IPPROTO_TCP,<sp/>socket.TCP_NODELAY,<sp/>1)</highlight></codeline>
<codeline lineno="1173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>local_address:</highlight></codeline>
<codeline lineno="1174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>trio_socket.bind(local_address)</highlight></codeline>
<codeline lineno="1175"><highlight class="normal"></highlight></codeline>
<codeline lineno="1176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>trio_socket.connect((host,<sp/>port))</highlight></codeline>
<codeline lineno="1178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException:</highlight></codeline>
<codeline lineno="1179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_socket.close()</highlight></codeline>
<codeline lineno="1180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1181"><highlight class="normal"></highlight></codeline>
<codeline lineno="1182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream" kindref="compound">SocketStream</ref>(trio_socket)</highlight></codeline>
<codeline lineno="1183"><highlight class="normal"></highlight></codeline>
<codeline lineno="1184"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1185" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1af58b1e14ca5f4a375f8297d8fe16b044" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1af58b1e14ca5f4a375f8297d8fe16b044" kindref="member">connect_unix</ref>(cls,<sp/>path:<sp/>str<sp/>|<sp/>bytes)<sp/>-&gt;<sp/><ref refid="classanyio_1_1abc_1_1__sockets_1_1_u_n_i_x_socket_stream" kindref="compound">abc.UNIXSocketStream</ref>:</highlight></codeline>
<codeline lineno="1186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_socket<sp/>=<sp/>trio.socket.socket(socket.AF_UNIX)</highlight></codeline>
<codeline lineno="1187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>trio_socket.connect(path)</highlight></codeline>
<codeline lineno="1189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>BaseException:</highlight></codeline>
<codeline lineno="1190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_socket.close()</highlight></codeline>
<codeline lineno="1191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1192"><highlight class="normal"></highlight></codeline>
<codeline lineno="1193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_stream" kindref="compound">UNIXSocketStream</ref>(trio_socket)</highlight></codeline>
<codeline lineno="1194"><highlight class="normal"></highlight></codeline>
<codeline lineno="1195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1196" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a3041716361de43339548b1db17295eee" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a3041716361de43339548b1db17295eee" kindref="member">create_tcp_listener</ref>(cls,<sp/>sock:<sp/>socket.socket)<sp/>-&gt;<sp/><ref refid="classanyio_1_1abc_1_1__sockets_1_1_socket_listener" kindref="compound">abc.SocketListener</ref>:</highlight></codeline>
<codeline lineno="1197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_t_c_p_socket_listener" kindref="compound">TCPSocketListener</ref>(sock)</highlight></codeline>
<codeline lineno="1198"><highlight class="normal"></highlight></codeline>
<codeline lineno="1199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1200" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a5c6812806ebddd5befefdb3160716520" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a5c6812806ebddd5befefdb3160716520" kindref="member">create_unix_listener</ref>(cls,<sp/>sock:<sp/>socket.socket)<sp/>-&gt;<sp/><ref refid="classanyio_1_1abc_1_1__sockets_1_1_socket_listener" kindref="compound">abc.SocketListener</ref>:</highlight></codeline>
<codeline lineno="1201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_listener" kindref="compound">UNIXSocketListener</ref>(sock)</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"></highlight></codeline>
<codeline lineno="1203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1204" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a650ff9c1a8048e5f7c336d35efdfca00" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a650ff9c1a8048e5f7c336d35efdfca00" kindref="member">create_udp_socket</ref>(</highlight></codeline>
<codeline lineno="1205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,</highlight></codeline>
<codeline lineno="1206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>family:<sp/>socket.AddressFamily,</highlight></codeline>
<codeline lineno="1207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>local_address:<sp/>IPSockAddrType<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>remote_address:<sp/>IPSockAddrType<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reuse_port:<sp/>bool,</highlight></codeline>
<codeline lineno="1210"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>UDPSocket<sp/>|<sp/>ConnectedUDPSocket:</highlight></codeline>
<codeline lineno="1211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_socket<sp/>=<sp/>trio.socket.socket(family=family,<sp/>type=socket.SOCK_DGRAM)</highlight></codeline>
<codeline lineno="1212"><highlight class="normal"></highlight></codeline>
<codeline lineno="1213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>reuse_port:</highlight></codeline>
<codeline lineno="1214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_socket.setsockopt(socket.SOL_SOCKET,<sp/>socket.SO_REUSEPORT,<sp/>1)</highlight></codeline>
<codeline lineno="1215"><highlight class="normal"></highlight></codeline>
<codeline lineno="1216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>local_address:</highlight></codeline>
<codeline lineno="1217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>trio_socket.bind(local_address)</highlight></codeline>
<codeline lineno="1218"><highlight class="normal"></highlight></codeline>
<codeline lineno="1219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>remote_address:</highlight></codeline>
<codeline lineno="1220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>trio_socket.connect(remote_address)</highlight></codeline>
<codeline lineno="1221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_d_p_socket" kindref="compound">ConnectedUDPSocket</ref>(trio_socket)</highlight></codeline>
<codeline lineno="1222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_d_p_socket" kindref="compound">UDPSocket</ref>(trio_socket)</highlight></codeline>
<codeline lineno="1224"><highlight class="normal"></highlight></codeline>
<codeline lineno="1225"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@overload</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1227" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1adf62b32d78bf69fefba186037413ba32" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1adf62b32d78bf69fefba186037413ba32" kindref="member">create_unix_datagram_socket</ref>(</highlight></codeline>
<codeline lineno="1228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,<sp/>raw_socket:<sp/>socket.socket,<sp/>remote_path:<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1229"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/><ref refid="classanyio_1_1abc_1_1__sockets_1_1_u_n_i_x_datagram_socket" kindref="compound">abc.UNIXDatagramSocket</ref>:<sp/>...</highlight></codeline>
<codeline lineno="1230"><highlight class="normal"></highlight></codeline>
<codeline lineno="1231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@overload</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1233" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a4adb4bf0707b7d740b425aef9fe16f61" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1adf62b32d78bf69fefba186037413ba32" kindref="member">create_unix_datagram_socket</ref>(</highlight></codeline>
<codeline lineno="1234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,<sp/>raw_socket:<sp/>socket.socket,<sp/>remote_path:<sp/>str<sp/>|<sp/>bytes</highlight></codeline>
<codeline lineno="1235"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/><ref refid="classanyio_1_1abc_1_1__sockets_1_1_connected_u_n_i_x_datagram_socket" kindref="compound">abc.ConnectedUNIXDatagramSocket</ref>:<sp/>...</highlight></codeline>
<codeline lineno="1236"><highlight class="normal"></highlight></codeline>
<codeline lineno="1237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1238" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a70975eab5bb7607bf386aede723eea78" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1adf62b32d78bf69fefba186037413ba32" kindref="member">create_unix_datagram_socket</ref>(</highlight></codeline>
<codeline lineno="1239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,<sp/>raw_socket:<sp/>socket.socket,<sp/>remote_path:<sp/>str<sp/>|<sp/>bytes<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1240"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/><ref refid="classanyio_1_1abc_1_1__sockets_1_1_u_n_i_x_datagram_socket" kindref="compound">abc.UNIXDatagramSocket</ref><sp/>|<sp/><ref refid="classanyio_1_1abc_1_1__sockets_1_1_connected_u_n_i_x_datagram_socket" kindref="compound">abc.ConnectedUNIXDatagramSocket</ref>:</highlight></codeline>
<codeline lineno="1241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_socket<sp/>=<sp/>trio.socket.from_stdlib_socket(raw_socket)</highlight></codeline>
<codeline lineno="1242"><highlight class="normal"></highlight></codeline>
<codeline lineno="1243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>remote_path:</highlight></codeline>
<codeline lineno="1244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>trio_socket.connect(remote_path)</highlight></codeline>
<codeline lineno="1245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_n_i_x_datagram_socket" kindref="compound">ConnectedUNIXDatagramSocket</ref>(trio_socket)</highlight></codeline>
<codeline lineno="1246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_datagram_socket" kindref="compound">UNIXDatagramSocket</ref>(trio_socket)</highlight></codeline>
<codeline lineno="1248"><highlight class="normal"></highlight></codeline>
<codeline lineno="1249"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1250" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a03def0390b0b3dba293446afd0a4a252" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a03def0390b0b3dba293446afd0a4a252" kindref="member">getaddrinfo</ref>(</highlight></codeline>
<codeline lineno="1251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,</highlight></codeline>
<codeline lineno="1252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>host:<sp/>bytes<sp/>|<sp/>str<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>port:<sp/>str<sp/>|<sp/>int<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*,</highlight></codeline>
<codeline lineno="1255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>family:<sp/>int<sp/>|<sp/>AddressFamily<sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="1256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>type:<sp/>int<sp/>|<sp/>SocketKind<sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="1257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>proto:<sp/>int<sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="1258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flags:<sp/>int<sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="1259"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>Sequence[</highlight></codeline>
<codeline lineno="1260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tuple[</highlight></codeline>
<codeline lineno="1261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AddressFamily,</highlight></codeline>
<codeline lineno="1262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SocketKind,</highlight></codeline>
<codeline lineno="1263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int,</highlight></codeline>
<codeline lineno="1264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>str,</highlight></codeline>
<codeline lineno="1265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tuple[str,<sp/>int]<sp/>|<sp/>tuple[str,<sp/>int,<sp/>int,<sp/>int]<sp/>|<sp/>tuple[int,<sp/>bytes],</highlight></codeline>
<codeline lineno="1266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="1267"><highlight class="normal"><sp/><sp/><sp/><sp/>]:</highlight></codeline>
<codeline lineno="1268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>await<sp/>trio.socket.getaddrinfo(host,<sp/>port,<sp/>family,<sp/>type,<sp/>proto,<sp/>flags)</highlight></codeline>
<codeline lineno="1269"><highlight class="normal"></highlight></codeline>
<codeline lineno="1270"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1271" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a6daef34874e3aecaf95ebb210f02276b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a6daef34874e3aecaf95ebb210f02276b" kindref="member">getnameinfo</ref>(</highlight></codeline>
<codeline lineno="1272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,<sp/>sockaddr:<sp/>IPSockAddrType,<sp/>flags:<sp/>int<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="1273"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>tuple[str,<sp/>str]:</highlight></codeline>
<codeline lineno="1274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>await<sp/>trio.socket.getnameinfo(sockaddr,<sp/>flags)</highlight></codeline>
<codeline lineno="1275"><highlight class="normal"></highlight></codeline>
<codeline lineno="1276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1277" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a627a45f686f464d896c42d1b7bbd7af6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a627a45f686f464d896c42d1b7bbd7af6" kindref="member">wait_readable</ref>(cls,<sp/>obj:<sp/>FileDescriptorLike)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a627a45f686f464d896c42d1b7bbd7af6" kindref="member">wait_readable</ref>(obj)</highlight></codeline>
<codeline lineno="1280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>trio.ClosedResourceError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="1281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__core_1_1__exceptions_1_1_closed_resource_error" kindref="compound">ClosedResourceError</ref>().with_traceback(exc.__traceback__)<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>trio.BusyResourceError:</highlight></codeline>
<codeline lineno="1283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__core_1_1__exceptions_1_1_busy_resource_error" kindref="compound">BusyResourceError</ref>(</highlight><highlight class="stringliteral">&quot;reading<sp/>from&quot;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1284"><highlight class="normal"></highlight></codeline>
<codeline lineno="1285"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1286" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a57371766737e8fb88d2241e1fae36c87" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a57371766737e8fb88d2241e1fae36c87" kindref="member">wait_writable</ref>(cls,<sp/>obj:<sp/>FileDescriptorLike)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a57371766737e8fb88d2241e1fae36c87" kindref="member">wait_writable</ref>(obj)</highlight></codeline>
<codeline lineno="1289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>trio.ClosedResourceError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>exc:</highlight></codeline>
<codeline lineno="1290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__core_1_1__exceptions_1_1_closed_resource_error" kindref="compound">ClosedResourceError</ref>().with_traceback(exc.__traceback__)<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>trio.BusyResourceError:</highlight></codeline>
<codeline lineno="1292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__core_1_1__exceptions_1_1_busy_resource_error" kindref="compound">BusyResourceError</ref>(</highlight><highlight class="stringliteral">&quot;writing<sp/>to&quot;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1293"><highlight class="normal"></highlight></codeline>
<codeline lineno="1294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1295" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1adffbf3063c939106a25a4f3282926ec2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1adffbf3063c939106a25a4f3282926ec2" kindref="member">notify_closing</ref>(cls,<sp/>obj:<sp/>FileDescriptorLike)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1adffbf3063c939106a25a4f3282926ec2" kindref="member">notify_closing</ref>(obj)</highlight></codeline>
<codeline lineno="1297"><highlight class="normal"></highlight></codeline>
<codeline lineno="1298"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1299" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a60707314829161952e4effaca21a9efa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a60707314829161952e4effaca21a9efa" kindref="member">wrap_listener_socket</ref>(cls,<sp/>sock:<sp/>socket.socket)<sp/>-&gt;<sp/><ref refid="classanyio_1_1abc_1_1__sockets_1_1_socket_listener" kindref="compound">abc.SocketListener</ref>:</highlight></codeline>
<codeline lineno="1300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_t_c_p_socket_listener" kindref="compound">TCPSocketListener</ref>(sock)</highlight></codeline>
<codeline lineno="1301"><highlight class="normal"></highlight></codeline>
<codeline lineno="1302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1303" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1acee412ba854fb3e7aba66e43dd467562" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1acee412ba854fb3e7aba66e43dd467562" kindref="member">wrap_stream_socket</ref>(cls,<sp/>sock:<sp/>socket.socket)<sp/>-&gt;<sp/>SocketStream:</highlight></codeline>
<codeline lineno="1304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_sock<sp/>=<sp/>trio.socket.from_stdlib_socket(sock)</highlight></codeline>
<codeline lineno="1305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_socket_stream" kindref="compound">SocketStream</ref>(trio_sock)</highlight></codeline>
<codeline lineno="1306"><highlight class="normal"></highlight></codeline>
<codeline lineno="1307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1308" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a9141e63290b7dab122223a5f0af3cc2f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a9141e63290b7dab122223a5f0af3cc2f" kindref="member">wrap_unix_stream_socket</ref>(cls,<sp/>sock:<sp/>socket.socket)<sp/>-&gt;<sp/>UNIXSocketStream:</highlight></codeline>
<codeline lineno="1309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_sock<sp/>=<sp/>trio.socket.from_stdlib_socket(sock)</highlight></codeline>
<codeline lineno="1310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_socket_stream" kindref="compound">UNIXSocketStream</ref>(trio_sock)</highlight></codeline>
<codeline lineno="1311"><highlight class="normal"></highlight></codeline>
<codeline lineno="1312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1313" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a203a92378b29ce1c113bf476711b4e22" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a203a92378b29ce1c113bf476711b4e22" kindref="member">wrap_udp_socket</ref>(cls,<sp/>sock:<sp/>socket.socket)<sp/>-&gt;<sp/>UDPSocket:</highlight></codeline>
<codeline lineno="1314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_sock<sp/>=<sp/>trio.socket.from_stdlib_socket(sock)</highlight></codeline>
<codeline lineno="1315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_d_p_socket" kindref="compound">UDPSocket</ref>(trio_sock)</highlight></codeline>
<codeline lineno="1316"><highlight class="normal"></highlight></codeline>
<codeline lineno="1317"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1318" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1aa3b6e3139d64f2a188ecc487c93e47a7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1aa3b6e3139d64f2a188ecc487c93e47a7" kindref="member">wrap_connected_udp_socket</ref>(cls,<sp/>sock:<sp/>socket.socket)<sp/>-&gt;<sp/>ConnectedUDPSocket:</highlight></codeline>
<codeline lineno="1319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_sock<sp/>=<sp/>trio.socket.from_stdlib_socket(sock)</highlight></codeline>
<codeline lineno="1320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_d_p_socket" kindref="compound">ConnectedUDPSocket</ref>(trio_sock)</highlight></codeline>
<codeline lineno="1321"><highlight class="normal"></highlight></codeline>
<codeline lineno="1322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1323" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a40c948e8a9f86a1f5d1dcb59e0d8df5f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a40c948e8a9f86a1f5d1dcb59e0d8df5f" kindref="member">wrap_unix_datagram_socket</ref>(cls,<sp/>sock:<sp/>socket.socket)<sp/>-&gt;<sp/>UNIXDatagramSocket:</highlight></codeline>
<codeline lineno="1324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_sock<sp/>=<sp/>trio.socket.from_stdlib_socket(sock)</highlight></codeline>
<codeline lineno="1325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_u_n_i_x_datagram_socket" kindref="compound">UNIXDatagramSocket</ref>(trio_sock)</highlight></codeline>
<codeline lineno="1326"><highlight class="normal"></highlight></codeline>
<codeline lineno="1327"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1328" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a8f9d0d4be6c06527dda0c6c5725c4bac" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a8f9d0d4be6c06527dda0c6c5725c4bac" kindref="member">wrap_connected_unix_datagram_socket</ref>(</highlight></codeline>
<codeline lineno="1329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,<sp/>sock:<sp/>socket.socket</highlight></codeline>
<codeline lineno="1330"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>ConnectedUNIXDatagramSocket:</highlight></codeline>
<codeline lineno="1331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trio_sock<sp/>=<sp/>trio.socket.from_stdlib_socket(sock)</highlight></codeline>
<codeline lineno="1332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_connected_u_n_i_x_datagram_socket" kindref="compound">ConnectedUNIXDatagramSocket</ref>(trio_sock)</highlight></codeline>
<codeline lineno="1333"><highlight class="normal"></highlight></codeline>
<codeline lineno="1334"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1335" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a7ee325a39bd65e60b12153146e5b8a04" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a7ee325a39bd65e60b12153146e5b8a04" kindref="member">current_default_thread_limiter</ref>(cls)<sp/>-&gt;<sp/>CapacityLimiter:</highlight></codeline>
<codeline lineno="1336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_capacity_limiter_wrapper.get()</highlight></codeline>
<codeline lineno="1338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>LookupError:</highlight></codeline>
<codeline lineno="1339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>limiter<sp/>=<sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_capacity_limiter" kindref="compound">CapacityLimiter</ref>(</highlight></codeline>
<codeline lineno="1340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>original=trio.to_thread.current_default_thread_limiter()</highlight></codeline>
<codeline lineno="1341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_capacity_limiter_wrapper.set(limiter)</highlight></codeline>
<codeline lineno="1343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>limiter</highlight></codeline>
<codeline lineno="1344"><highlight class="normal"></highlight></codeline>
<codeline lineno="1345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1346" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1af35072dd41810a6cad5f08453f5430ce" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1af35072dd41810a6cad5f08453f5430ce" kindref="member">open_signal_receiver</ref>(</highlight></codeline>
<codeline lineno="1347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cls,<sp/>*signals:<sp/>Signals</highlight></codeline>
<codeline lineno="1348"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>AbstractContextManager[AsyncIterator[Signals]]:</highlight></codeline>
<codeline lineno="1349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1___signal_receiver" kindref="compound">_SignalReceiver</ref>(signals)</highlight></codeline>
<codeline lineno="1350"><highlight class="normal"></highlight></codeline>
<codeline lineno="1351"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1352" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a4f82ca101bf3bcd422605300f63cbe4b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a4f82ca101bf3bcd422605300f63cbe4b" kindref="member">get_current_task</ref>(cls)<sp/>-&gt;<sp/>TaskInfo:</highlight></codeline>
<codeline lineno="1353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>task<sp/>=<sp/>current_task()</highlight></codeline>
<codeline lineno="1354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_task_info" kindref="compound">TrioTaskInfo</ref>(task)</highlight></codeline>
<codeline lineno="1355"><highlight class="normal"></highlight></codeline>
<codeline lineno="1356"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1357" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1aee398e13a4d57117e78b901c21435206" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1aee398e13a4d57117e78b901c21435206" kindref="member">get_running_tasks</ref>(cls)<sp/>-&gt;<sp/>Sequence[TaskInfo]:</highlight></codeline>
<codeline lineno="1358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>root_task<sp/>=<sp/>current_root_task()</highlight></codeline>
<codeline lineno="1359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>root_task</highlight></codeline>
<codeline lineno="1360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>task_infos<sp/>=<sp/>[<ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_task_info" kindref="compound">TrioTaskInfo</ref>(root_task)]</highlight></codeline>
<codeline lineno="1361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nurseries<sp/>=<sp/>root_task.child_nurseries</highlight></codeline>
<codeline lineno="1362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>nurseries:</highlight></codeline>
<codeline lineno="1363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_nurseries:<sp/>list[trio.Nursery]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>nursery<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>nurseries:</highlight></codeline>
<codeline lineno="1365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>task<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>nursery.child_tasks:</highlight></codeline>
<codeline lineno="1366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>task_infos.append(<ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_task_info" kindref="compound">TrioTaskInfo</ref>(task))</highlight></codeline>
<codeline lineno="1367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_nurseries.extend(task.child_nurseries)</highlight></codeline>
<codeline lineno="1368"><highlight class="normal"></highlight></codeline>
<codeline lineno="1369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nurseries<sp/>=<sp/>new_nurseries</highlight></codeline>
<codeline lineno="1370"><highlight class="normal"></highlight></codeline>
<codeline lineno="1371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>task_infos</highlight></codeline>
<codeline lineno="1372"><highlight class="normal"></highlight></codeline>
<codeline lineno="1373"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1374" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a3014f1544977c8627a9eb250bbf022ca" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a3014f1544977c8627a9eb250bbf022ca" kindref="member">wait_all_tasks_blocked</ref>(cls)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="1375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>trio.testing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>wait_all_tasks_blocked</highlight></codeline>
<codeline lineno="1376"><highlight class="normal"></highlight></codeline>
<codeline lineno="1377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1a3014f1544977c8627a9eb250bbf022ca" kindref="member">wait_all_tasks_blocked</ref>()</highlight></codeline>
<codeline lineno="1378"><highlight class="normal"></highlight></codeline>
<codeline lineno="1379"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@classmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1380" refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1ac03532f5fec777036d2c39aa310640e6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classanyio_1_1__backends_1_1__trio_1_1_trio_backend_1ac03532f5fec777036d2c39aa310640e6" kindref="member">create_test_runner</ref>(cls,<sp/>options:<sp/>dict[str,<sp/>Any])<sp/>-&gt;<sp/>TestRunner:</highlight></codeline>
<codeline lineno="1381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classanyio_1_1__backends_1_1__trio_1_1_test_runner" kindref="compound">TestRunner</ref>(**options)</highlight></codeline>
<codeline lineno="1382"><highlight class="normal"></highlight></codeline>
<codeline lineno="1383"><highlight class="normal"></highlight></codeline>
<codeline lineno="1384" refid="namespaceanyio_1_1__backends_1_1__trio_1aae6a56fa97fb0f6aefc2d619c6f1c7b1" refkind="member"><highlight class="normal">backend_class<sp/>=<sp/>TrioBackend</highlight></codeline>
    </programlisting>
    <location file="micro_gestion_objetos/venv/Lib/site-packages/anyio/_backends/_trio.py"/>
  </compounddef>
</doxygen>
