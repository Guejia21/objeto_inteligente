<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="es">
  <compounddef id="v1_2typing_8py" kind="file" language="Python">
    <compoundname>typing.py</compoundname>
    <innernamespace refid="namespacepydantic">pydantic</innernamespace>
    <innernamespace refid="namespacepydantic_1_1v1">pydantic::v1</innernamespace>
    <innernamespace refid="namespacepydantic_1_1v1_1_1typing">pydantic::v1::typing</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacepydantic_1_1v1_1_1typing" refkind="compound"><highlight class="keyword">import</highlight><highlight class="normal"><sp/>functools</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>operator</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sys</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>typing</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacecollections_1_1abc" kindref="compound">collections.abc</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Callable</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>os<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>PathLike</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"><sp/><sp/><sp/><sp/>TYPE_CHECKING,</highlight></codeline>
<codeline lineno="9"><highlight class="normal"><sp/><sp/><sp/><sp/>AbstractSet,</highlight></codeline>
<codeline lineno="10"><highlight class="normal"><sp/><sp/><sp/><sp/>Any,</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/>Callable<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>TypingCallable,</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/>ClassVar,</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/>Dict,</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/>ForwardRef,</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/>Generator,</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/>Iterable,</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/>List,</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/>Mapping,</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/>NewType,</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/>Optional,</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/>Sequence,</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/>Set,</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/>Tuple,</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/>Type,</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/>TypeVar,</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/>Union,</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/>_eval_type,</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/>cast,</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/>get_type_hints,</highlight></codeline>
<codeline lineno="30"><highlight class="normal">)</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing_extensions<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/>Annotated,</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>Final,</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/>Literal,</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/>NotRequired<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>TypedDictNotRequired,</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>Required<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>TypedDictRequired,</highlight></codeline>
<codeline lineno="38"><highlight class="normal">)</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>_TypingBase<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>typing_base<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>ImportError:</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>_Final<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>typing_base<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>GenericAlias<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>TypingGenericAlias<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>ImportError:</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>python<sp/>&lt;<sp/>3.9<sp/>does<sp/>not<sp/>have<sp/>GenericAlias<sp/>(list[int],<sp/>tuple[str,<sp/>...]<sp/>and<sp/>so<sp/>on)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49" refid="namespacepydantic_1_1v1_1_1typing_1acc6821776e2fa8f34175db31ed059a67" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>TypingGenericAlias<sp/>=<sp/>()</highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>types<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>UnionType<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>TypesUnionType<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>ImportError:</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>python<sp/>&lt;<sp/>3.10<sp/>does<sp/>not<sp/>have<sp/>UnionType<sp/>(str<sp/>|<sp/>int,<sp/>byte<sp/>|<sp/>bool<sp/>and<sp/>so<sp/>on)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55" refid="namespacepydantic_1_1v1_1_1typing_1a95efa47a07d3ee1d6986360a1eddd82e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>TypesUnionType<sp/>=<sp/>()</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sys.version_info<sp/>&lt;<sp/>(3,<sp/>9):</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60" refid="namespacepydantic_1_1v1_1_1typing_1a806b7aab882b4af01306f61523d559af" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a806b7aab882b4af01306f61523d559af" kindref="member">evaluate_forwardref</ref>(type_:<sp/>ForwardRef,<sp/>globalns:<sp/>Any,<sp/>localns:<sp/>Any)<sp/>-&gt;<sp/>Any:</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>type_._evaluate(globalns,<sp/>localns)</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>sys.version_info<sp/>&lt;<sp/>(3,<sp/>12,<sp/>4):</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a806b7aab882b4af01306f61523d559af" kindref="member">evaluate_forwardref</ref>(type_:<sp/>ForwardRef,<sp/>globalns:<sp/>Any,<sp/>localns:<sp/>Any)<sp/>-&gt;<sp/>Any:</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Even<sp/>though<sp/>it<sp/>is<sp/>the<sp/>right<sp/>signature<sp/>for<sp/>python<sp/>3.9,<sp/>mypy<sp/>complains<sp/>with</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>`error:<sp/>Too<sp/>many<sp/>arguments<sp/>for<sp/>&quot;_evaluate&quot;<sp/>of<sp/>&quot;ForwardRef&quot;`<sp/>hence<sp/>the<sp/>cast...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Python<sp/>3.13/3.12.4+<sp/>made<sp/>`recursive_guard`<sp/>a<sp/>kwarg,<sp/>so<sp/>name<sp/>it<sp/>explicitly<sp/>to<sp/>avoid:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>TypeError:<sp/>ForwardRef._evaluate()<sp/>missing<sp/>1<sp/>required<sp/>keyword-only<sp/>argument:<sp/>&apos;recursive_guard&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>cast(Any,<sp/>type_)._evaluate(globalns,<sp/>localns,<sp/>recursive_guard=set())</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a806b7aab882b4af01306f61523d559af" kindref="member">evaluate_forwardref</ref>(type_:<sp/>ForwardRef,<sp/>globalns:<sp/>Any,<sp/>localns:<sp/>Any)<sp/>-&gt;<sp/>Any:</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Pydantic<sp/>1.x<sp/>will<sp/>not<sp/>support<sp/>PEP<sp/>695<sp/>syntax,<sp/>but<sp/>provide<sp/>`type_params`<sp/>to<sp/>avoid</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>warnings:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>cast(Any,<sp/>type_)._evaluate(globalns,<sp/>localns,<sp/>type_params=(),<sp/>recursive_guard=set())</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sys.version_info<sp/>&lt;<sp/>(3,<sp/>9):</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Ensure<sp/>we<sp/>always<sp/>get<sp/>all<sp/>the<sp/>whole<sp/>`Annotated`<sp/>hint,<sp/>not<sp/>just<sp/>the<sp/>annotated<sp/>type.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>For<sp/>3.7<sp/>to<sp/>3.8,<sp/>`get_type_hints`<sp/>doesn&apos;t<sp/>recognize<sp/>`typing_extensions.Annotated`,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>so<sp/>it<sp/>already<sp/>returns<sp/>the<sp/>full<sp/>annotation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84" refid="namespacepydantic_1_1v1_1_1typing_1aaa6424aca9fe56945d0fccc4348d9f64" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>get_all_type_hints<sp/>=<sp/>get_type_hints</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88" refid="namespacepydantic_1_1v1_1_1typing_1a1570b09155889e931852c67b5ebbd580" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1aaa6424aca9fe56945d0fccc4348d9f64" kindref="member">get_all_type_hints</ref>(obj:<sp/>Any,<sp/>globalns:<sp/>Any<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>localns:<sp/>Any<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/>-&gt;<sp/>Any:</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>get_type_hints(obj,<sp/>globalns,<sp/>localns,<sp/>include_extras=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92" refid="namespacepydantic_1_1v1_1_1typing_1a6b9e845411b45214bfca8baf8b777f77" refkind="member"><highlight class="normal">_T<sp/>=<sp/>TypeVar(</highlight><highlight class="stringliteral">&apos;_T&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94" refid="namespacepydantic_1_1v1_1_1typing_1aa83893a9490bf56b938c28fb11fc806e" refkind="member"><highlight class="normal">AnyCallable<sp/>=<sp/>TypingCallable[...,<sp/>Any]</highlight></codeline>
<codeline lineno="95" refid="namespacepydantic_1_1v1_1_1typing_1a83c795cca2d658d4fc2e766fe82815e2" refkind="member"><highlight class="normal">NoArgAnyCallable<sp/>=<sp/>TypingCallable[[],<sp/>Any]</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight><highlight class="comment">#<sp/>workaround<sp/>for<sp/>https://github.com/python/mypy/issues/9496</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98" refid="namespacepydantic_1_1v1_1_1typing_1a2a7e5df24e7a6196ca43348a9cdeab2e" refkind="member"><highlight class="normal">AnyArgTCallable<sp/>=<sp/>TypingCallable[...,<sp/>_T]</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Annotated[...]<sp/>is<sp/>implemented<sp/>by<sp/>returning<sp/>an<sp/>instance<sp/>of<sp/>one<sp/>of<sp/>these<sp/>classes,<sp/>depending<sp/>on</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight><highlight class="comment">#<sp/>python/typing_extensions<sp/>version.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103" refid="namespacepydantic_1_1v1_1_1typing_1a69465585c9b825df4568d0749e3d05a3" refkind="member"><highlight class="normal">AnnotatedTypeNames<sp/>=<sp/>{</highlight><highlight class="stringliteral">&apos;AnnotatedMeta&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;_AnnotatedAlias&apos;</highlight><highlight class="normal">}</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106" refid="namespacepydantic_1_1v1_1_1typing_1ab73b6c34eabd8c60ce9ea71e3dc3a637" refkind="member"><highlight class="normal">LITERAL_TYPES:<sp/>Set[Any]<sp/>=<sp/>{Literal}</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>hasattr(typing,<sp/></highlight><highlight class="stringliteral">&apos;Literal&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>LITERAL_TYPES.add(typing.Literal)</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sys.version_info<sp/>&lt;<sp/>(3,<sp/>8):</highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="113" refid="namespacepydantic_1_1v1_1_1typing_1a0a055398ff449feca995740441398000" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a0a055398ff449feca995740441398000" kindref="member">get_origin</ref>(t:<sp/>Type[Any])<sp/>-&gt;<sp/>Optional[Type[Any]]:</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>type(t).__name__<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>AnnotatedTypeNames:</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>weirdly<sp/>this<sp/>is<sp/>a<sp/>runtime<sp/>requirement,<sp/>as<sp/>well<sp/>as<sp/>for<sp/>mypy</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>cast(Type[Any],<sp/>Annotated)</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>getattr(t,<sp/></highlight><highlight class="stringliteral">&apos;__origin__&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>get_origin<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>_typing_get_origin</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a0a055398ff449feca995740441398000" kindref="member">get_origin</ref>(tp:<sp/>Type[Any])<sp/>-&gt;<sp/>Optional[Type[Any]]:</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="124"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>We<sp/>can&apos;t<sp/>directly<sp/>use<sp/>`typing.get_origin`<sp/>since<sp/>we<sp/>need<sp/>a<sp/>fallback<sp/>to<sp/>support</highlight></codeline>
<codeline lineno="125"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>custom<sp/>generic<sp/>classes<sp/>like<sp/>`ConstrainedList`</highlight></codeline>
<codeline lineno="126"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>It<sp/>should<sp/>be<sp/>useless<sp/>once<sp/>https://github.com/cython/cython/issues/3537<sp/>is</highlight></codeline>
<codeline lineno="127"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>solved<sp/>and<sp/>https://github.com/pydantic/pydantic/pull/1753<sp/>is<sp/>merged.</highlight></codeline>
<codeline lineno="128"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>type(tp).__name__<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>AnnotatedTypeNames:</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>cast(Type[Any],<sp/>Annotated)<sp/><sp/></highlight><highlight class="comment">#<sp/>mypy<sp/>complains<sp/>about<sp/>_SpecialForm</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_typing_get_origin(tp)<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>getattr(tp,<sp/></highlight><highlight class="stringliteral">&apos;__origin__&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sys.version_info<sp/>&lt;<sp/>(3,<sp/>8):</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>_GenericAlias</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137" refid="namespacepydantic_1_1v1_1_1typing_1a7ad4381cc6a038dc06f6bfd51bee9067" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a7ad4381cc6a038dc06f6bfd51bee9067" kindref="member">get_args</ref>(t:<sp/>Type[Any])<sp/>-&gt;<sp/>Tuple[Any,<sp/>...]:</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Compatibility<sp/>version<sp/>of<sp/>get_args<sp/>for<sp/>python<sp/>3.7.</highlight></codeline>
<codeline lineno="139"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="140"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Mostly<sp/>compatible<sp/>with<sp/>the<sp/>python<sp/>3.8<sp/>`typing`<sp/>module<sp/>version</highlight></codeline>
<codeline lineno="141"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>able<sp/>to<sp/>handle<sp/>almost<sp/>all<sp/>use<sp/>cases.</highlight></codeline>
<codeline lineno="142"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>type(t).__name__<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>AnnotatedTypeNames:</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>t.__args__<sp/>+<sp/>t.__metadata__</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(t,<sp/>_GenericAlias):</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/>t.__args__</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>t.__origin__<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>Callable<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>res<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>res[0]<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>Ellipsis:</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/>(list(res[:-1]),<sp/>res[-1])</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>getattr(t,<sp/></highlight><highlight class="stringliteral">&apos;__args__&apos;</highlight><highlight class="normal">,<sp/>())</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>get_args<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>_typing_get_args</highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155" refid="namespacepydantic_1_1v1_1_1typing_1accdb5700f873219d93db5f2a0f45ad59" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1accdb5700f873219d93db5f2a0f45ad59" kindref="member">_generic_get_args</ref>(tp:<sp/>Type[Any])<sp/>-&gt;<sp/>Tuple[Any,<sp/>...]:</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="157"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>In<sp/>python<sp/>3.9,<sp/>`typing.Dict`,<sp/>`typing.List`,<sp/>...</highlight></codeline>
<codeline lineno="158"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>do<sp/>have<sp/>an<sp/>empty<sp/>`__args__`<sp/>by<sp/>default<sp/>(instead<sp/>of<sp/>the<sp/>generic<sp/>~T<sp/>for<sp/>example).</highlight></codeline>
<codeline lineno="159"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>In<sp/>order<sp/>to<sp/>still<sp/>support<sp/>`Dict`<sp/>for<sp/>example<sp/>and<sp/>consider<sp/>it<sp/>as<sp/>`Dict[Any,<sp/>Any]`,</highlight></codeline>
<codeline lineno="160"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>we<sp/>retrieve<sp/>the<sp/>`_nparams`<sp/>value<sp/>that<sp/>tells<sp/>us<sp/>how<sp/>many<sp/>parameters<sp/>it<sp/>needs.</highlight></codeline>
<codeline lineno="161"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>hasattr(tp,<sp/></highlight><highlight class="stringliteral">&apos;_nparams&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(Any,)<sp/>*<sp/>tp._nparams</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Special<sp/>case<sp/>for<sp/>`tuple[()]`,<sp/>which<sp/>used<sp/>to<sp/>return<sp/>((),)<sp/>with<sp/>`typing.Tuple`</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>in<sp/>python<sp/>3.10-<sp/>but<sp/>now<sp/>returns<sp/>()<sp/>for<sp/>`tuple`<sp/>and<sp/>`Tuple`.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>This<sp/>will<sp/>probably<sp/>be<sp/>clarified<sp/>in<sp/>pydantic<sp/>v2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>tp<sp/>==<sp/>Tuple[()]<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>sys.version_info<sp/>&gt;=<sp/>(3,<sp/>9)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>tp<sp/>==<sp/>tuple[()]:<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore[misc]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>((),)</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>there<sp/>is<sp/>a<sp/>TypeError<sp/>when<sp/>compiled<sp/>with<sp/>cython</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>TypeError:<sp/><sp/></highlight><highlight class="comment">#<sp/>pragma:<sp/>no<sp/>cover</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>()</highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a7ad4381cc6a038dc06f6bfd51bee9067" kindref="member">get_args</ref>(tp:<sp/>Type[Any])<sp/>-&gt;<sp/>Tuple[Any,<sp/>...]:</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Get<sp/>type<sp/>arguments<sp/>with<sp/>all<sp/>substitutions<sp/>performed.</highlight></codeline>
<codeline lineno="177"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="178"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>For<sp/>unions,<sp/>basic<sp/>simplifications<sp/>used<sp/>by<sp/>Union<sp/>constructor<sp/>are<sp/>performed.</highlight></codeline>
<codeline lineno="179"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Examples::</highlight></codeline>
<codeline lineno="180"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>get_args(Dict[str,<sp/>int])<sp/>==<sp/>(str,<sp/>int)</highlight></codeline>
<codeline lineno="181"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>get_args(int)<sp/>==<sp/>()</highlight></codeline>
<codeline lineno="182"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>get_args(Union[int,<sp/>Union[T,<sp/>int],<sp/>str][int])<sp/>==<sp/>(int,<sp/>str)</highlight></codeline>
<codeline lineno="183"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>get_args(Union[int,<sp/>Tuple[T,<sp/>int]][str])<sp/>==<sp/>(int,<sp/>Tuple[str,<sp/>int])</highlight></codeline>
<codeline lineno="184"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>get_args(Callable[[],<sp/>T][int])<sp/>==<sp/>([],<sp/>int)</highlight></codeline>
<codeline lineno="185"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>type(tp).__name__<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>AnnotatedTypeNames:</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tp.__args__<sp/>+<sp/>tp.__metadata__</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>fallback<sp/>is<sp/>needed<sp/>for<sp/>the<sp/>same<sp/>reasons<sp/>as<sp/>`get_origin`<sp/>(see<sp/>above)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_typing_get_args(tp)<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>getattr(tp,<sp/></highlight><highlight class="stringliteral">&apos;__args__&apos;</highlight><highlight class="normal">,<sp/>())<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1accdb5700f873219d93db5f2a0f45ad59" kindref="member">_generic_get_args</ref>(tp)</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sys.version_info<sp/>&lt;<sp/>(3,<sp/>9):</highlight></codeline>
<codeline lineno="193"><highlight class="normal"></highlight></codeline>
<codeline lineno="194" refid="namespacepydantic_1_1v1_1_1typing_1a682a510e42d9ae8559796908dcd30ebc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a682a510e42d9ae8559796908dcd30ebc" kindref="member">convert_generics</ref>(tp:<sp/>Type[Any])<sp/>-&gt;<sp/>Type[Any]:</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Python<sp/>3.9<sp/>and<sp/>older<sp/>only<sp/>supports<sp/>generics<sp/>from<sp/>`typing`<sp/>module.</highlight></codeline>
<codeline lineno="196"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>They<sp/>convert<sp/>strings<sp/>to<sp/>ForwardRef<sp/>automatically.</highlight></codeline>
<codeline lineno="197"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="198"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Examples::</highlight></codeline>
<codeline lineno="199"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>typing.List[&apos;Hero&apos;]<sp/>==<sp/>typing.List[ForwardRef(&apos;Hero&apos;)]</highlight></codeline>
<codeline lineno="200"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tp</highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a682a510e42d9ae8559796908dcd30ebc" kindref="member">convert_generics</ref>(tp:<sp/>Type[Any])<sp/>-&gt;<sp/>Type[Any]:</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="207"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Recursively<sp/>searches<sp/>for<sp/>`str`<sp/>type<sp/>hints<sp/>and<sp/>replaces<sp/>them<sp/>with<sp/>ForwardRef.</highlight></codeline>
<codeline lineno="208"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="209"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Examples::</highlight></codeline>
<codeline lineno="210"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>convert_generics(list[&apos;Hero&apos;])<sp/>==<sp/>list[ForwardRef(&apos;Hero&apos;)]</highlight></codeline>
<codeline lineno="211"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>convert_generics(dict[&apos;Hero&apos;,<sp/>&apos;Team&apos;])<sp/>==<sp/>dict[ForwardRef(&apos;Hero&apos;),<sp/>ForwardRef(&apos;Team&apos;)]</highlight></codeline>
<codeline lineno="212"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>convert_generics(typing.Dict[&apos;Hero&apos;,<sp/>&apos;Team&apos;])<sp/>==<sp/>typing.Dict[ForwardRef(&apos;Hero&apos;),<sp/>ForwardRef(&apos;Team&apos;)]</highlight></codeline>
<codeline lineno="213"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>convert_generics(list[str<sp/>|<sp/>&apos;Hero&apos;]<sp/>|<sp/>int)<sp/>==<sp/>list[str<sp/>|<sp/>ForwardRef(&apos;Hero&apos;)]<sp/>|<sp/>int</highlight></codeline>
<codeline lineno="214"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>origin<sp/>=<sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a0a055398ff449feca995740441398000" kindref="member">get_origin</ref>(tp)</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>origin<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>hasattr(tp,<sp/></highlight><highlight class="stringliteral">&apos;__args__&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tp</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args<sp/>=<sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a7ad4381cc6a038dc06f6bfd51bee9067" kindref="member">get_args</ref>(tp)</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>typing.Annotated<sp/>needs<sp/>special<sp/>treatment</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>origin<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>Annotated:</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Annotated[(<ref refid="namespacepydantic_1_1v1_1_1typing_1a682a510e42d9ae8559796908dcd30ebc" kindref="member">convert_generics</ref>(args[0]),<sp/>*args[1:])]<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>recursively<sp/>replace<sp/>`str`<sp/>instances<sp/>inside<sp/>of<sp/>`GenericAlias`<sp/>with<sp/>`ForwardRef(arg)`</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>converted<sp/>=<sp/>tuple(</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ForwardRef(arg)<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(arg,<sp/>str)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>isinstance(tp,<sp/>TypingGenericAlias)<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a682a510e42d9ae8559796908dcd30ebc" kindref="member">convert_generics</ref>(arg)</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>arg<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>args</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>converted<sp/>==<sp/>args:</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tp</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>isinstance(tp,<sp/>TypingGenericAlias):</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1acc6821776e2fa8f34175db31ed059a67" kindref="member">TypingGenericAlias</ref>(origin,<sp/>converted)</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>isinstance(tp,<sp/>TypesUnionType):</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>recreate<sp/>types.UnionType<sp/>(PEP604,<sp/>Python<sp/>&gt;=<sp/>3.10)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>functools.reduce(operator.or_,<sp/>converted)<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setattr(tp,<sp/></highlight><highlight class="stringliteral">&apos;__args__&apos;</highlight><highlight class="normal">,<sp/>converted)</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>AttributeError:</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tp</highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sys.version_info<sp/>&lt;<sp/>(3,<sp/>10):</highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="248" refid="namespacepydantic_1_1v1_1_1typing_1af868db3c1e068507af32b28d70e26738" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1af868db3c1e068507af32b28d70e26738" kindref="member">is_union</ref>(tp:<sp/>Optional[Type[Any]])<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tp<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>Union</highlight></codeline>
<codeline lineno="250"><highlight class="normal"></highlight></codeline>
<codeline lineno="251" refid="namespacepydantic_1_1v1_1_1typing_1af2f5594520c40ac0abdeeab0c2854883" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>WithArgsTypes<sp/>=<sp/>(TypingGenericAlias,)</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>types</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>typing</highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1af868db3c1e068507af32b28d70e26738" kindref="member">is_union</ref>(tp:<sp/>Optional[Type[Any]])<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tp<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>Union<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>tp<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>types.UnionType<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>E721</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/>WithArgsTypes<sp/>=<sp/>(typing._GenericAlias,<sp/>types.GenericAlias,<sp/>types.UnionType)</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263" refid="namespacepydantic_1_1v1_1_1typing_1a22ae094369342aaa0cdf02a09ed21ebd" refkind="member"><highlight class="normal">StrPath<sp/>=<sp/>Union[str,<sp/>PathLike]</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>TYPE_CHECKING:</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1fields" kindref="compound">pydantic.v1.fields</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ModelField</highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269" refid="namespacepydantic_1_1v1_1_1typing_1a1ad71a34996c8b1482b7d0a3d1b224fc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>TupleGenerator<sp/>=<sp/>Generator[Tuple[str,<sp/>Any],<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="270" refid="namespacepydantic_1_1v1_1_1typing_1a1e77d7272ddfedcf78cc7e4606dcd753" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>DictStrAny<sp/>=<sp/>Dict[str,<sp/>Any]</highlight></codeline>
<codeline lineno="271" refid="namespacepydantic_1_1v1_1_1typing_1a6010d94859669d8f4bda33534133efcd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>DictAny<sp/>=<sp/>Dict[Any,<sp/>Any]</highlight></codeline>
<codeline lineno="272" refid="namespacepydantic_1_1v1_1_1typing_1a3d8ad8bf705ae5ffab1347e5e81b7fad" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>SetStr<sp/>=<sp/>Set[str]</highlight></codeline>
<codeline lineno="273" refid="namespacepydantic_1_1v1_1_1typing_1ae19b1a5afe4d7974255a2d7d1d1b262b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>ListStr<sp/>=<sp/>List[str]</highlight></codeline>
<codeline lineno="274" refid="namespacepydantic_1_1v1_1_1typing_1a0883a524fdf6523fdc51f693dffad5f9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>IntStr<sp/>=<sp/>Union[int,<sp/>str]</highlight></codeline>
<codeline lineno="275" refid="namespacepydantic_1_1v1_1_1typing_1afc03f1de97254c9b06452d5a57bed29a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>AbstractSetIntStr<sp/>=<sp/>AbstractSet[IntStr]</highlight></codeline>
<codeline lineno="276" refid="namespacepydantic_1_1v1_1_1typing_1af89ab702a0787a2cff0ce2b4a2a1cd3e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>DictIntStrAny<sp/>=<sp/>Dict[IntStr,<sp/>Any]</highlight></codeline>
<codeline lineno="277" refid="namespacepydantic_1_1v1_1_1typing_1a7cda995d0902bf3a791ff1fc56d879db" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>MappingIntStrAny<sp/>=<sp/>Mapping[IntStr,<sp/>Any]</highlight></codeline>
<codeline lineno="278" refid="namespacepydantic_1_1v1_1_1typing_1a1b0738db5cc2628eed177794c056a38e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CallableGenerator<sp/>=<sp/>Generator[AnyCallable,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="279" refid="namespacepydantic_1_1v1_1_1typing_1a4fbd1151323233e79ff6172db59e9e9c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>ReprArgs<sp/>=<sp/>Sequence[Tuple[Optional[str],<sp/>Any]]</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="281" refid="namespacepydantic_1_1v1_1_1typing_1afaea4c5a882e84210fcdc9610e2e838f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>MYPY<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>MYPY:</highlight></codeline>
<codeline lineno="283" refid="namespacepydantic_1_1v1_1_1typing_1a4874f297d391d2bd078cb365ee7a2c91" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AnyClassMethod<sp/>=<sp/>classmethod[Any]</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>classmethod[TargetType,<sp/>CallableParamSpecType,<sp/>CallableReturnType]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AnyClassMethod<sp/>=<sp/>classmethod[Any,<sp/>Any,<sp/>Any]</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal">__all__<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;AnyCallable&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;NoArgAnyCallable&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;NoneType&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;is_none_type&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;display_as_type&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;resolve_annotations&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;is_callable_type&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;is_literal_type&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;all_literal_values&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;is_namedtuple&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;is_typeddict&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;is_typeddict_special&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;is_new_type&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;new_type_supertype&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;is_classvar&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;is_finalvar&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;update_field_forward_refs&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;update_model_forward_refs&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;TupleGenerator&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;DictStrAny&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;DictAny&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;SetStr&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;ListStr&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;IntStr&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;AbstractSetIntStr&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;DictIntStrAny&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;CallableGenerator&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;ReprArgs&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;AnyClassMethod&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;CallableGenerator&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;WithArgsTypes&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;get_args&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;get_origin&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;get_sub_types&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;typing_base&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;get_all_type_hints&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;is_union&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;StrPath&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;MappingIntStrAny&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="328"><highlight class="normal">)</highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight></codeline>
<codeline lineno="331" refid="namespacepydantic_1_1v1_1_1typing_1a68c8770c342a92224bd1f311e02b2e7f" refkind="member"><highlight class="normal">NoneType<sp/>=<sp/>None.__class__</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"></highlight></codeline>
<codeline lineno="334" refid="namespacepydantic_1_1v1_1_1typing_1a3c0efcbd9f23355c0df14156ab0517fc" refkind="member"><highlight class="normal">NONE_TYPES:<sp/>Tuple[Any,<sp/>Any,<sp/>Any]<sp/>=<sp/>(</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>NoneType,<sp/>Literal[</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="335"><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sys.version_info<sp/>&lt;<sp/>(3,<sp/>8):</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Even<sp/>though<sp/>this<sp/>implementation<sp/>is<sp/>slower,<sp/>we<sp/>need<sp/>it<sp/>for<sp/>python<sp/>3.7:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>In<sp/>python<sp/>3.7<sp/>&quot;Literal&quot;<sp/>is<sp/>not<sp/>a<sp/>builtin<sp/>type<sp/>and<sp/>uses<sp/>a<sp/>different</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>mechanism.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>for<sp/>this<sp/>reason<sp/>`Literal[None]<sp/>is<sp/>Literal[None]`<sp/>evaluates<sp/>to<sp/>`False`,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>breaking<sp/>the<sp/>faster<sp/>implementation<sp/>used<sp/>for<sp/>the<sp/>other<sp/>python<sp/>versions.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"></highlight></codeline>
<codeline lineno="344" refid="namespacepydantic_1_1v1_1_1typing_1a8ffc8b9a7ba9617fa8a75fa10ea5582f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a8ffc8b9a7ba9617fa8a75fa10ea5582f" kindref="member">is_none_type</ref>(type_:<sp/>Any)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>type_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>NONE_TYPES</highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>sys.version_info[:2]<sp/>==<sp/>(3,<sp/>8):</highlight></codeline>
<codeline lineno="348"><highlight class="normal"></highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a8ffc8b9a7ba9617fa8a75fa10ea5582f" kindref="member">is_none_type</ref>(type_:<sp/>Any)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>none_type<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>NONE_TYPES:</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>type_<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>none_type:</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>With<sp/>python<sp/>3.8,<sp/>specifically<sp/>3.8.10,<sp/>Literal<sp/>&quot;is&quot;<sp/>check<sp/>sare<sp/>very<sp/>flakey</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>can<sp/>change<sp/>on<sp/>very<sp/>subtle<sp/>changes<sp/>like<sp/>use<sp/>of<sp/>types<sp/>in<sp/>other<sp/>modules,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>hopefully<sp/>this<sp/>check<sp/>avoids<sp/>that<sp/>issue.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a64098318fc3913feeb3578a0f4ac1214" kindref="member">is_literal_type</ref>(type_):<sp/><sp/></highlight><highlight class="comment">#<sp/>pragma:<sp/>no<sp/>cover</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a79bd0ce9a362403d003cc5907f55c725" kindref="member">all_literal_values</ref>(type_)<sp/>==<sp/>(</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,)</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="361"><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a8ffc8b9a7ba9617fa8a75fa10ea5582f" kindref="member">is_none_type</ref>(type_:<sp/>Any)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>type_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>NONE_TYPES</highlight></codeline>
<codeline lineno="364"><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight></codeline>
<codeline lineno="366" refid="namespacepydantic_1_1v1_1_1typing_1afaa582bc5801eb8e8550f003cdc0172b" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1afaa582bc5801eb8e8550f003cdc0172b" kindref="member">display_as_type</ref>(v:<sp/>Type[Any])<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(v,<sp/>typing_base)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(v,<sp/>WithArgsTypes)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(v,<sp/>type):</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v<sp/>=<sp/>v.__class__</highlight></codeline>
<codeline lineno="369"><highlight class="normal"></highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1af868db3c1e068507af32b28d70e26738" kindref="member">is_union</ref>(<ref refid="namespacepydantic_1_1v1_1_1typing_1a0a055398ff449feca995740441398000" kindref="member">get_origin</ref>(v)):</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>f</highlight><highlight class="stringliteral">&apos;Union[{&quot;,<sp/>&quot;.join(map(display_as_type,<sp/>get_args(v)))}]&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(v,<sp/>WithArgsTypes):</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Generic<sp/>alias<sp/>are<sp/>constructs<sp/>like<sp/>`list[int]`</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>str(v).replace(</highlight><highlight class="stringliteral">&apos;typing.&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>v.__name__</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>AttributeError:</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>happens<sp/>with<sp/>typing<sp/>objects</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>str(v).replace(</highlight><highlight class="stringliteral">&apos;typing.&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="382"><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"></highlight></codeline>
<codeline lineno="384" refid="namespacepydantic_1_1v1_1_1typing_1a95217737783e6c2ea9ec20e63334c563" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a95217737783e6c2ea9ec20e63334c563" kindref="member">resolve_annotations</ref>(raw_annotations:<sp/>Dict[str,<sp/>Type[Any]],<sp/>module_name:<sp/>Optional[str])<sp/>-&gt;<sp/>Dict[str,<sp/>Type[Any]]:</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="386"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Partially<sp/>taken<sp/>from<sp/>typing.get_type_hints.</highlight></codeline>
<codeline lineno="387"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="388"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Resolve<sp/>string<sp/>or<sp/>ForwardRef<sp/>annotations<sp/>into<sp/>type<sp/>objects<sp/>if<sp/>possible.</highlight></codeline>
<codeline lineno="389"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/>base_globals:<sp/>Optional[Dict[str,<sp/>Any]]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>module_name:</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>module<sp/>=<sp/>sys.modules[module_name]</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>KeyError:</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>happens<sp/>occasionally,<sp/>see<sp/>https://github.com/pydantic/pydantic/issues/2363</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base_globals<sp/>=<sp/>module.__dict__</highlight></codeline>
<codeline lineno="399"><highlight class="normal"></highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/>annotations<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>name,<sp/>value<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>raw_annotations.items():</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(value,<sp/>str):</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(3,<sp/>10)<sp/>&gt;<sp/>sys.version_info<sp/>&gt;=<sp/>(3,<sp/>9,<sp/>8)<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>sys.version_info<sp/>&gt;=<sp/>(3,<sp/>10,<sp/>1):</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/>ForwardRef(value,<sp/>is_argument=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>is_class=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/>ForwardRef(value,<sp/>is_argument=</highlight><highlight class="keyword">False</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sys.version_info<sp/>&gt;=<sp/>(3,<sp/>13):</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/>_eval_type(value,<sp/>base_globals,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>type_params=())</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/>_eval_type(value,<sp/>base_globals,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>NameError:</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>this<sp/>is<sp/>ok,<sp/>it<sp/>can<sp/>be<sp/>fixed<sp/>with<sp/>update_forward_refs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotations[name]<sp/>=<sp/>value</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>annotations</highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight></codeline>
<codeline lineno="419" refid="namespacepydantic_1_1v1_1_1typing_1a50c19713d9d213a1562f977a6cc8dc37" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a50c19713d9d213a1562f977a6cc8dc37" kindref="member">is_callable_type</ref>(type_:<sp/>Type[Any])<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>type_<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>Callable<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a0a055398ff449feca995740441398000" kindref="member">get_origin</ref>(type_)<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>Callable</highlight></codeline>
<codeline lineno="421"><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"></highlight></codeline>
<codeline lineno="423" refid="namespacepydantic_1_1v1_1_1typing_1a64098318fc3913feeb3578a0f4ac1214" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a64098318fc3913feeb3578a0f4ac1214" kindref="member">is_literal_type</ref>(type_:<sp/>Type[Any])<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Literal<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a0a055398ff449feca995740441398000" kindref="member">get_origin</ref>(type_)<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>LITERAL_TYPES</highlight></codeline>
<codeline lineno="425"><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"></highlight></codeline>
<codeline lineno="427" refid="namespacepydantic_1_1v1_1_1typing_1a0aeec617d667f0ec4c088b1c1befeef7" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a0aeec617d667f0ec4c088b1c1befeef7" kindref="member">literal_values</ref>(type_:<sp/>Type[Any])<sp/>-&gt;<sp/>Tuple[Any,<sp/>...]:</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a7ad4381cc6a038dc06f6bfd51bee9067" kindref="member">get_args</ref>(type_)</highlight></codeline>
<codeline lineno="429"><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"></highlight></codeline>
<codeline lineno="431" refid="namespacepydantic_1_1v1_1_1typing_1a79bd0ce9a362403d003cc5907f55c725" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a79bd0ce9a362403d003cc5907f55c725" kindref="member">all_literal_values</ref>(type_:<sp/>Type[Any])<sp/>-&gt;<sp/>Tuple[Any,<sp/>...]:</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="433"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>method<sp/>is<sp/>used<sp/>to<sp/>retrieve<sp/>all<sp/>Literal<sp/>values<sp/>as</highlight></codeline>
<codeline lineno="434"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Literal<sp/>can<sp/>be<sp/>used<sp/>recursively<sp/>(see<sp/>https://www.python.org/dev/peps/pep-0586)</highlight></codeline>
<codeline lineno="435"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>e.g.<sp/>`Literal[Literal[Literal[1,<sp/>2,<sp/>3],<sp/>&quot;foo&quot;],<sp/>5,<sp/>None]`</highlight></codeline>
<codeline lineno="436"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a64098318fc3913feeb3578a0f4ac1214" kindref="member">is_literal_type</ref>(type_):</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(type_,)</highlight></codeline>
<codeline lineno="439"><highlight class="normal"></highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/>values<sp/>=<sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a0aeec617d667f0ec4c088b1c1befeef7" kindref="member">literal_values</ref>(type_)</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tuple(x<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>value<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>values<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a79bd0ce9a362403d003cc5907f55c725" kindref="member">all_literal_values</ref>(value))</highlight></codeline>
<codeline lineno="442"><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"></highlight></codeline>
<codeline lineno="444" refid="namespacepydantic_1_1v1_1_1typing_1a76fd2fc97b2784d1f999eba011019706" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a76fd2fc97b2784d1f999eba011019706" kindref="member">is_namedtuple</ref>(type_:<sp/>Type[Any])<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="446"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Check<sp/>if<sp/>a<sp/>given<sp/>class<sp/>is<sp/>a<sp/>named<sp/>tuple.</highlight></codeline>
<codeline lineno="447"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>It<sp/>can<sp/>be<sp/>either<sp/>a<sp/>`typing.NamedTuple`<sp/>or<sp/>`collections.namedtuple`</highlight></codeline>
<codeline lineno="448"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1utils" kindref="compound">pydantic.v1.utils</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>lenient_issubclass</highlight></codeline>
<codeline lineno="450"><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lenient_issubclass(type_,<sp/>tuple)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>hasattr(type_,<sp/></highlight><highlight class="stringliteral">&apos;_fields&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="452"><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"></highlight></codeline>
<codeline lineno="454" refid="namespacepydantic_1_1v1_1_1typing_1ae5ba0efb9f937f1b2fb3170f5e2629d8" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1ae5ba0efb9f937f1b2fb3170f5e2629d8" kindref="member">is_typeddict</ref>(type_:<sp/>Type[Any])<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="456"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Check<sp/>if<sp/>a<sp/>given<sp/>class<sp/>is<sp/>a<sp/>typed<sp/>dict<sp/>(from<sp/>`typing`<sp/>or<sp/>`typing_extensions`)</highlight></codeline>
<codeline lineno="457"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>In<sp/>3.10,<sp/>there<sp/>will<sp/>be<sp/>a<sp/>public<sp/>method<sp/>(https://docs.python.org/3.10/library/typing.html#typing.is_typeddict)</highlight></codeline>
<codeline lineno="458"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1utils" kindref="compound">pydantic.v1.utils</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>lenient_issubclass</highlight></codeline>
<codeline lineno="460"><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lenient_issubclass(type_,<sp/>dict)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>hasattr(type_,<sp/></highlight><highlight class="stringliteral">&apos;__total__&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="462"><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"></highlight></codeline>
<codeline lineno="464" refid="namespacepydantic_1_1v1_1_1typing_1af4de42ecef3e0228fa279e551bd0ad88" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1af4de42ecef3e0228fa279e551bd0ad88" kindref="member">_check_typeddict_special</ref>(type_:<sp/>Any)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>type_<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>TypedDictRequired<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>type_<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>TypedDictNotRequired</highlight></codeline>
<codeline lineno="466"><highlight class="normal"></highlight></codeline>
<codeline lineno="467"><highlight class="normal"></highlight></codeline>
<codeline lineno="468" refid="namespacepydantic_1_1v1_1_1typing_1a42eaa7ac2c93e39f4fb6fbeb044a0f06" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a42eaa7ac2c93e39f4fb6fbeb044a0f06" kindref="member">is_typeddict_special</ref>(type_:<sp/>Any)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="470"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Check<sp/>if<sp/>type<sp/>is<sp/>a<sp/>TypedDict<sp/>special<sp/>form<sp/>(Required<sp/>or<sp/>NotRequired).</highlight></codeline>
<codeline lineno="471"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1af4de42ecef3e0228fa279e551bd0ad88" kindref="member">_check_typeddict_special</ref>(type_)<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1af4de42ecef3e0228fa279e551bd0ad88" kindref="member">_check_typeddict_special</ref>(<ref refid="namespacepydantic_1_1v1_1_1typing_1a0a055398ff449feca995740441398000" kindref="member">get_origin</ref>(type_))</highlight></codeline>
<codeline lineno="473"><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"></highlight></codeline>
<codeline lineno="475" refid="namespacepydantic_1_1v1_1_1typing_1a537922fec008881cc09f294f5266a2fe" refkind="member"><highlight class="normal">test_type<sp/>=<sp/>NewType(</highlight><highlight class="stringliteral">&apos;test_type&apos;</highlight><highlight class="normal">,<sp/>str)</highlight></codeline>
<codeline lineno="476"><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"></highlight></codeline>
<codeline lineno="478" refid="namespacepydantic_1_1v1_1_1typing_1a72de824bf61e1ab06a4b95f3839494e3" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a72de824bf61e1ab06a4b95f3839494e3" kindref="member">is_new_type</ref>(type_:<sp/>Type[Any])<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="480"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Check<sp/>whether<sp/>type_<sp/>was<sp/>created<sp/>using<sp/>typing.NewType</highlight></codeline>
<codeline lineno="481"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>isinstance(type_,<sp/>test_type.__class__)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>hasattr(type_,<sp/></highlight><highlight class="stringliteral">&apos;__supertype__&apos;</highlight><highlight class="normal">)<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="483"><highlight class="normal"></highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="485" refid="namespacepydantic_1_1v1_1_1typing_1a1d74b04d9941254e8e01e63f1a086286" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a1d74b04d9941254e8e01e63f1a086286" kindref="member">new_type_supertype</ref>(type_:<sp/>Type[Any])<sp/>-&gt;<sp/>Type[Any]:</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>hasattr(type_,<sp/></highlight><highlight class="stringliteral">&apos;__supertype__&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>type_<sp/>=<sp/>type_.__supertype__</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>type_</highlight></codeline>
<codeline lineno="489"><highlight class="normal"></highlight></codeline>
<codeline lineno="490"><highlight class="normal"></highlight></codeline>
<codeline lineno="491" refid="namespacepydantic_1_1v1_1_1typing_1abfceed890f1f8417c4ff465926b7134e" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1abfceed890f1f8417c4ff465926b7134e" kindref="member">_check_classvar</ref>(v:<sp/>Optional[Type[Any]])<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>v<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="494"><highlight class="normal"></highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>v.__class__<sp/>==<sp/>ClassVar.__class__<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>getattr(v,<sp/></highlight><highlight class="stringliteral">&apos;_name&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;ClassVar&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="496"><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"></highlight></codeline>
<codeline lineno="498" refid="namespacepydantic_1_1v1_1_1typing_1a0e326d1f65eefbbb64082a75fc886b4f" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a0e326d1f65eefbbb64082a75fc886b4f" kindref="member">_check_finalvar</ref>(v:<sp/>Optional[Type[Any]])<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="500"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Check<sp/>if<sp/>a<sp/>given<sp/>type<sp/>is<sp/>a<sp/>`typing.Final`<sp/>type.</highlight></codeline>
<codeline lineno="501"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>v<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="504"><highlight class="normal"></highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>v.__class__<sp/>==<sp/>Final.__class__<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>(sys.version_info<sp/>&lt;<sp/>(3,<sp/>8)<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>getattr(v,<sp/></highlight><highlight class="stringliteral">&apos;_name&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;Final&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="506"><highlight class="normal"></highlight></codeline>
<codeline lineno="507"><highlight class="normal"></highlight></codeline>
<codeline lineno="508" refid="namespacepydantic_1_1v1_1_1typing_1ad44959ad7517ae978db1e5f107f05c2d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1ad44959ad7517ae978db1e5f107f05c2d" kindref="member">is_classvar</ref>(ann_type:<sp/>Type[Any])<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1abfceed890f1f8417c4ff465926b7134e" kindref="member">_check_classvar</ref>(ann_type)<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1abfceed890f1f8417c4ff465926b7134e" kindref="member">_check_classvar</ref>(<ref refid="namespacepydantic_1_1v1_1_1typing_1a0a055398ff449feca995740441398000" kindref="member">get_origin</ref>(ann_type)):</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"></highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>this<sp/>is<sp/>an<sp/>ugly<sp/>workaround<sp/>for<sp/>class<sp/>vars<sp/>that<sp/>contain<sp/>forward<sp/>references<sp/>and<sp/>are<sp/>therefore<sp/>themselves</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>forward<sp/>references,<sp/>see<sp/>#3679</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ann_type.__class__<sp/>==<sp/>ForwardRef<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>ann_type.__forward_arg__.startswith(</highlight><highlight class="stringliteral">&apos;ClassVar[&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="518"><highlight class="normal"></highlight></codeline>
<codeline lineno="519"><highlight class="normal"></highlight></codeline>
<codeline lineno="520" refid="namespacepydantic_1_1v1_1_1typing_1aa3119fc17ff9a426c8f33b2b9b886f92" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1aa3119fc17ff9a426c8f33b2b9b886f92" kindref="member">is_finalvar</ref>(ann_type:<sp/>Type[Any])<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a0e326d1f65eefbbb64082a75fc886b4f" kindref="member">_check_finalvar</ref>(ann_type)<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a0e326d1f65eefbbb64082a75fc886b4f" kindref="member">_check_finalvar</ref>(<ref refid="namespacepydantic_1_1v1_1_1typing_1a0a055398ff449feca995740441398000" kindref="member">get_origin</ref>(ann_type))</highlight></codeline>
<codeline lineno="522"><highlight class="normal"></highlight></codeline>
<codeline lineno="523"><highlight class="normal"></highlight></codeline>
<codeline lineno="524" refid="namespacepydantic_1_1v1_1_1typing_1af01eb116b387629c0491b3d7bcaeb365" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1af01eb116b387629c0491b3d7bcaeb365" kindref="member">update_field_forward_refs</ref>(field:<sp/></highlight><highlight class="stringliteral">&apos;ModelField&apos;</highlight><highlight class="normal">,<sp/>globalns:<sp/>Any,<sp/>localns:<sp/>Any)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="526"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Try<sp/>to<sp/>update<sp/>ForwardRefs<sp/>on<sp/>fields<sp/>based<sp/>on<sp/>this<sp/>ModelField,<sp/>globalns<sp/>and<sp/>localns.</highlight></codeline>
<codeline lineno="527"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/>prepare<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>field.type_.__class__<sp/>==<sp/>ForwardRef:</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prepare<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field.type_<sp/>=<sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a806b7aab882b4af01306f61523d559af" kindref="member">evaluate_forwardref</ref>(field.type_,<sp/>globalns,<sp/>localns<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>field.outer_type_.__class__<sp/>==<sp/>ForwardRef:</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prepare<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field.outer_type_<sp/>=<sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a806b7aab882b4af01306f61523d559af" kindref="member">evaluate_forwardref</ref>(field.outer_type_,<sp/>globalns,<sp/>localns<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>prepare:</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field.prepare()</highlight></codeline>
<codeline lineno="537"><highlight class="normal"></highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>field.sub_fields:</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>sub_f<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>field.sub_fields:</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1af01eb116b387629c0491b3d7bcaeb365" kindref="member">update_field_forward_refs</ref>(sub_f,<sp/>globalns=globalns,<sp/>localns=localns)</highlight></codeline>
<codeline lineno="541"><highlight class="normal"></highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>field.discriminator_key<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field.prepare_discriminated_union_sub_fields()</highlight></codeline>
<codeline lineno="544"><highlight class="normal"></highlight></codeline>
<codeline lineno="545"><highlight class="normal"></highlight></codeline>
<codeline lineno="546" refid="namespacepydantic_1_1v1_1_1typing_1a5590e8b8dca2d2de9c78850d088bdc4f" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a5590e8b8dca2d2de9c78850d088bdc4f" kindref="member">update_model_forward_refs</ref>(</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/>model:<sp/>Type[Any],</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/>fields:<sp/>Iterable[</highlight><highlight class="stringliteral">&apos;ModelField&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/>json_encoders:<sp/>Dict[Union[Type[Any],<sp/>str,<sp/>ForwardRef],<sp/>AnyCallable],</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/>localns:<sp/></highlight><highlight class="stringliteral">&apos;DictStrAny&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/>exc_to_suppress:<sp/>Tuple[Type[BaseException],<sp/>...]<sp/>=<sp/>(),</highlight></codeline>
<codeline lineno="552"><highlight class="normal">)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="554"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Try<sp/>to<sp/>update<sp/>model<sp/>fields<sp/>ForwardRefs<sp/>based<sp/>on<sp/>model<sp/>and<sp/>localns.</highlight></codeline>
<codeline lineno="555"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>model.__module__<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>sys.modules:</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>globalns<sp/>=<sp/>sys.modules[model.__module__].__dict__.copy()</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>globalns<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="560"><highlight class="normal"></highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/>globalns.setdefault(model.__name__,<sp/>model)</highlight></codeline>
<codeline lineno="562"><highlight class="normal"></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>f<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>fields:</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1af01eb116b387629c0491b3d7bcaeb365" kindref="member">update_field_forward_refs</ref>(f,<sp/>globalns=globalns,<sp/>localns=localns)</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>exc_to_suppress:</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"></highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>key<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>set(json_encoders.keys()):</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(key,<sp/>str):</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fr:<sp/>ForwardRef<sp/>=<sp/>ForwardRef(key)</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>isinstance(key,<sp/>ForwardRef):</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fr<sp/>=<sp/>key</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_key<sp/>=<sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a806b7aab882b4af01306f61523d559af" kindref="member">evaluate_forwardref</ref>(fr,<sp/>globalns,<sp/>localns<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>exc_to_suppress:<sp/><sp/></highlight><highlight class="comment">#<sp/>pragma:<sp/>no<sp/>cover</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="581"><highlight class="normal"></highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>json_encoders[new_key]<sp/>=<sp/>json_encoders.pop(key)</highlight></codeline>
<codeline lineno="583"><highlight class="normal"></highlight></codeline>
<codeline lineno="584"><highlight class="normal"></highlight></codeline>
<codeline lineno="585" refid="namespacepydantic_1_1v1_1_1typing_1a5da22f64608affd62ac736c3fdfc65d5" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1a5da22f64608affd62ac736c3fdfc65d5" kindref="member">get_class</ref>(type_:<sp/>Type[Any])<sp/>-&gt;<sp/>Union[</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>bool,<sp/>Type[Any]]:</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="587"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Tries<sp/>to<sp/>get<sp/>the<sp/>class<sp/>of<sp/>a<sp/>Type[T]<sp/>annotation.<sp/>Returns<sp/>True<sp/>if<sp/>Type<sp/>is<sp/>used</highlight></codeline>
<codeline lineno="588"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>without<sp/>brackets.<sp/>Otherwise<sp/>returns<sp/>None.</highlight></codeline>
<codeline lineno="589"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>type_<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>type:</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="592"><highlight class="normal"></highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a0a055398ff449feca995740441398000" kindref="member">get_origin</ref>(type_)<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"></highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/>args<sp/>=<sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a7ad4381cc6a038dc06f6bfd51bee9067" kindref="member">get_args</ref>(type_)</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>args<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(args[0],<sp/>type):</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>args[0]</highlight></codeline>
<codeline lineno="601"><highlight class="normal"></highlight></codeline>
<codeline lineno="602"><highlight class="normal"></highlight></codeline>
<codeline lineno="603" refid="namespacepydantic_1_1v1_1_1typing_1aa4940cda31fd7c7657c87a1b9cfa4f3b" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1v1_1_1typing_1aa4940cda31fd7c7657c87a1b9cfa4f3b" kindref="member">get_sub_types</ref>(tp:<sp/>Any)<sp/>-&gt;<sp/>List[Any]:</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="605"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Return<sp/>all<sp/>the<sp/>types<sp/>that<sp/>are<sp/>allowed<sp/>by<sp/>type<sp/>`tp`</highlight></codeline>
<codeline lineno="606"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>`tp`<sp/>can<sp/>be<sp/>a<sp/>`Union`<sp/>of<sp/>allowed<sp/>types<sp/>or<sp/>an<sp/>`Annotated`<sp/>type</highlight></codeline>
<codeline lineno="607"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/>origin<sp/>=<sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a0a055398ff449feca995740441398000" kindref="member">get_origin</ref>(tp)</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>origin<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>Annotated:</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1aa4940cda31fd7c7657c87a1b9cfa4f3b" kindref="member">get_sub_types</ref>(<ref refid="namespacepydantic_1_1v1_1_1typing_1a7ad4381cc6a038dc06f6bfd51bee9067" kindref="member">get_args</ref>(tp)[0])</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1af868db3c1e068507af32b28d70e26738" kindref="member">is_union</ref>(origin):</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[x<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>t<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1a7ad4381cc6a038dc06f6bfd51bee9067" kindref="member">get_args</ref>(tp)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic_1_1v1_1_1typing_1aa4940cda31fd7c7657c87a1b9cfa4f3b" kindref="member">get_sub_types</ref>(t)]</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[tp]</highlight></codeline>
    </programlisting>
    <location file="micro_gestion_objetos/venv/Lib/site-packages/pydantic/v1/typing.py"/>
  </compounddef>
</doxygen>
