<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="es">
  <compounddef id="msvc9compiler_8py" kind="file" language="Python">
    <compoundname>msvc9compiler.py</compoundname>
    <innerclass refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg" prot="public">setuptools::_distutils::msvc9compiler::Reg</innerclass>
    <innerclass refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander" prot="public">setuptools::_distutils::msvc9compiler::MacroExpander</innerclass>
    <innerclass refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" prot="public">setuptools::_distutils::msvc9compiler::MSVCCompiler</innerclass>
    <innernamespace refid="namespacesetuptools">setuptools</innernamespace>
    <innernamespace refid="namespacesetuptools_1_1__distutils">setuptools::_distutils</innernamespace>
    <innernamespace refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler">setuptools::_distutils::msvc9compiler</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler" refkind="compound"><highlight class="stringliteral">&quot;&quot;&quot;distutils.msvc9compiler</highlight></codeline>
<codeline lineno="2"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3"><highlight class="stringliteral">Contains<sp/>MSVCCompiler,<sp/>an<sp/>implementation<sp/>of<sp/>the<sp/>abstract<sp/>CCompiler<sp/>class</highlight></codeline>
<codeline lineno="4"><highlight class="stringliteral">for<sp/>the<sp/>Microsoft<sp/>Visual<sp/>Studio<sp/>2008.</highlight></codeline>
<codeline lineno="5"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="6"><highlight class="stringliteral">The<sp/>module<sp/>is<sp/>compatible<sp/>with<sp/>VS<sp/>2005<sp/>and<sp/>VS<sp/>2008.<sp/>You<sp/>can<sp/>find<sp/>legacy<sp/>support</highlight></codeline>
<codeline lineno="7"><highlight class="stringliteral">for<sp/>older<sp/>versions<sp/>of<sp/>VS<sp/>in<sp/>distutils.msvccompiler.</highlight></codeline>
<codeline lineno="8"><highlight class="stringliteral">&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Written<sp/>by<sp/>Perry<sp/>Stoll</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="comment">#<sp/>hacked<sp/>by<sp/>Robin<sp/>Becker<sp/>and<sp/>Thomas<sp/>Heller<sp/>to<sp/>do<sp/>a<sp/>better<sp/>job<sp/>of</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/>finding<sp/>DevStudio<sp/>(through<sp/>the<sp/>registry)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">#<sp/>ported<sp/>to<sp/>VS2005<sp/>and<sp/>VS<sp/>2008<sp/>by<sp/>Christian<sp/>Heimes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>os</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>subprocess</highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sys</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>re</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>warnings</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.errors<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/>DistutilsExecError,</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/>DistutilsPlatformError,</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/>CompileError,</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/>LibError,</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/>LinkError,</highlight></codeline>
<codeline lineno="27"><highlight class="normal">)</highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.ccompiler<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>CCompiler,<sp/>gen_lib_options</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>log</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.util<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>get_platform</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>winreg</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal">warnings.warn(</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;msvc9compiler<sp/>is<sp/>deprecated<sp/>and<sp/>slated<sp/>to<sp/>be<sp/>removed<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;in<sp/>the<sp/>future.<sp/>Please<sp/>discontinue<sp/>use<sp/>or<sp/>file<sp/>an<sp/>issue<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;with<sp/>pypa/distutils<sp/>describing<sp/>your<sp/>use<sp/>case.&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>DeprecationWarning,</highlight></codeline>
<codeline lineno="39"><highlight class="normal">)</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a6796e5ffe5016f456cb23827ac24d7c0" refkind="member"><highlight class="normal">RegOpenKeyEx<sp/>=<sp/>winreg.OpenKeyEx</highlight></codeline>
<codeline lineno="42" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1af11fb01f580ba66f2a9546f1ff9363b2" refkind="member"><highlight class="normal">RegEnumKey<sp/>=<sp/>winreg.EnumKey</highlight></codeline>
<codeline lineno="43" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a5b8a9d9b12a5d41dbd67eb6154e9e034" refkind="member"><highlight class="normal">RegEnumValue<sp/>=<sp/>winreg.EnumValue</highlight></codeline>
<codeline lineno="44" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1ada7c65a5cc7110800ad286016728544b" refkind="member"><highlight class="normal">RegError<sp/>=<sp/>winreg.error</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1af56fa80def66c4886595b624030b72b7" refkind="member"><highlight class="normal">HKEYS<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>winreg.HKEY_USERS,</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>winreg.HKEY_CURRENT_USER,</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>winreg.HKEY_LOCAL_MACHINE,</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>winreg.HKEY_CLASSES_ROOT,</highlight></codeline>
<codeline lineno="51"><highlight class="normal">)</highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="53" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1acf7498575750d9f354f4604f7c00a241" refkind="member"><highlight class="normal">NATIVE_WIN64<sp/>=<sp/>sys.platform<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;win32&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>sys.maxsize<sp/>&gt;<sp/>2**32</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>NATIVE_WIN64:</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Visual<sp/>C++<sp/>is<sp/>a<sp/>32-bit<sp/>application,<sp/>so<sp/>we<sp/>need<sp/>to<sp/>look<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>corresponding<sp/>registry<sp/>branch,<sp/>if<sp/>we&apos;re<sp/>running<sp/>a</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>64-bit<sp/>Python<sp/>on<sp/>Win64</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a04aa5b4891ee6312ade703d0dd393860" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>VS_BASE<sp/>=<sp/></highlight><highlight class="stringliteral">r&quot;Software\Wow6432Node\Microsoft\VisualStudio\%0.1f&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a8a8a230e88912d06f78e56327cee7518" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>WINSDK_BASE<sp/>=<sp/></highlight><highlight class="stringliteral">r&quot;Software\Wow6432Node\Microsoft\Microsoft<sp/>SDKs\Windows&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a2c81f0d291ec313f4e2b4d1030a01ea2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>NET_BASE<sp/>=<sp/></highlight><highlight class="stringliteral">r&quot;Software\Wow6432Node\Microsoft\.NETFramework&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/>VS_BASE<sp/>=<sp/></highlight><highlight class="stringliteral">r&quot;Software\Microsoft\VisualStudio\%0.1f&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>WINSDK_BASE<sp/>=<sp/></highlight><highlight class="stringliteral">r&quot;Software\Microsoft\Microsoft<sp/>SDKs\Windows&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>NET_BASE<sp/>=<sp/></highlight><highlight class="stringliteral">r&quot;Software\Microsoft\.NETFramework&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="comment">#<sp/>A<sp/>map<sp/>keyed<sp/>by<sp/>get_platform()<sp/>return<sp/>values<sp/>to<sp/>values<sp/>accepted<sp/>by</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="comment">#<sp/>&apos;vcvarsall.bat&apos;.<sp/><sp/>Note<sp/>a<sp/>cross-compile<sp/>may<sp/>combine<sp/>these<sp/>(eg,<sp/>&apos;x86_amd64&apos;<sp/>is</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="comment">#<sp/>the<sp/>param<sp/>to<sp/>cross-compile<sp/>on<sp/>x86<sp/>targeting<sp/>amd64.)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a0b7234b5ee9fda57b516020fdd87ab99" refkind="member"><highlight class="normal">PLAT_TO_VCVARS<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;win32&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;x86&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;win-amd64&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;amd64&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="72"><highlight class="normal">}</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg" kindref="compound">Reg</ref>:</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Helper<sp/>class<sp/>to<sp/>read<sp/>values<sp/>from<sp/>the<sp/>registry&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg_1a0d0a831eb84ef15c013092072e163e91" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg_1a755e23dda075408a954b0a41c25310fd" kindref="member">get_value</ref>(cls,<sp/>path,<sp/>key):</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>base<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>HKEYS:</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d<sp/>=<sp/>cls.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg_1a346ae5d8708a523acf70ff06c074d208" kindref="member">read_values</ref>(base,<sp/>path)</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>d<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>key<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>d:</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d[key]</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>KeyError(key)</highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight></codeline>
<codeline lineno="85" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg_1a755e23dda075408a954b0a41c25310fd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>get_value<sp/>=<sp/>classmethod(get_value)</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg_1ad1e690bcdcf2b81d93a95d0cc9c29daf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg_1a26fde2924fca32ba504cc00a04c6a357" kindref="member">read_keys</ref>(cls,<sp/>base,<sp/>key):</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>list<sp/>of<sp/>registry<sp/>keys.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handle<sp/>=<sp/><ref refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a6796e5ffe5016f456cb23827ac24d7c0" kindref="member">RegOpenKeyEx</ref>(base,<sp/>key)</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>RegError:</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>L<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>k<sp/>=<sp/><ref refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1af11fb01f580ba66f2a9546f1ff9363b2" kindref="member">RegEnumKey</ref>(handle,<sp/>i)</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>RegError:</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>L.append(k)</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>L</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg_1a26fde2924fca32ba504cc00a04c6a357" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>read_keys<sp/>=<sp/>classmethod(read_keys)</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg_1a5baf04e3d5ed89e6f0e2ec4b25aa95e8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg_1a346ae5d8708a523acf70ff06c074d208" kindref="member">read_values</ref>(cls,<sp/>base,<sp/>key):</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>dict<sp/>of<sp/>registry<sp/>keys<sp/>and<sp/>values.</highlight></codeline>
<codeline lineno="108"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="109"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>All<sp/>names<sp/>are<sp/>converted<sp/>to<sp/>lowercase.</highlight></codeline>
<codeline lineno="110"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handle<sp/>=<sp/><ref refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a6796e5ffe5016f456cb23827ac24d7c0" kindref="member">RegOpenKeyEx</ref>(base,<sp/>key)</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>RegError:</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name,<sp/>value,<sp/>type<sp/>=<sp/><ref refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a5b8a9d9b12a5d41dbd67eb6154e9e034" kindref="member">RegEnumValue</ref>(handle,<sp/>i)</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>RegError:</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>=<sp/>name.lower()</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d[cls.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg_1a18d4af0e23df67efe4313c889babcba7" kindref="member">convert_mbcs</ref>(name)]<sp/>=<sp/>cls.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg_1a18d4af0e23df67efe4313c889babcba7" kindref="member">convert_mbcs</ref>(value)</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight></codeline>
<codeline lineno="127" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg_1a346ae5d8708a523acf70ff06c074d208" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>read_values<sp/>=<sp/>classmethod(read_values)</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg_1a30c4cf447003a3a1b275234633b23de3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg_1a18d4af0e23df67efe4313c889babcba7" kindref="member">convert_mbcs</ref>(s):</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dec<sp/>=<sp/>getattr(s,<sp/></highlight><highlight class="stringliteral">&quot;decode&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>dec<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s<sp/>=<sp/>dec(</highlight><highlight class="stringliteral">&quot;mbcs&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>UnicodeError:</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>s</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_reg_1a18d4af0e23df67efe4313c889babcba7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>convert_mbcs<sp/>=<sp/>staticmethod(convert_mbcs)</highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander" kindref="compound">MacroExpander</ref>:</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>version):</highlight></codeline>
<codeline lineno="143" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1a27db7b41df6c14872b2bb23f824b2f2d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1a27db7b41df6c14872b2bb23f824b2f2d" kindref="member">macros</ref><sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="144" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1aa470503f0f0d295d0d6f11c9e9440d8d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1aa470503f0f0d295d0d6f11c9e9440d8d" kindref="member">vsbase</ref><sp/>=<sp/>VS_BASE<sp/>%<sp/>version</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1ab2d101ea660c9526fbcb70f987de2380" kindref="member">load_macros</ref>(version)</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1a929a09cae1c4072765a7f544bc285de5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1a929a09cae1c4072765a7f544bc285de5" kindref="member">set_macro</ref>(self,<sp/>macro,<sp/>path,<sp/>key):</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1a27db7b41df6c14872b2bb23f824b2f2d" kindref="member">macros</ref>[</highlight><highlight class="stringliteral">&quot;$(%s)&quot;</highlight><highlight class="normal"><sp/>%<sp/>macro]<sp/>=<sp/>Reg.get_value(path,<sp/>key)</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1ab2d101ea660c9526fbcb70f987de2380" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1ab2d101ea660c9526fbcb70f987de2380" kindref="member">load_macros</ref>(self,<sp/>version):</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1a929a09cae1c4072765a7f544bc285de5" kindref="member">set_macro</ref>(</highlight><highlight class="stringliteral">&quot;VCInstallDir&quot;</highlight><highlight class="normal">,<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1aa470503f0f0d295d0d6f11c9e9440d8d" kindref="member">vsbase</ref><sp/>+<sp/></highlight><highlight class="stringliteral">r&quot;\Setup\VC&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;productdir&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1a929a09cae1c4072765a7f544bc285de5" kindref="member">set_macro</ref>(</highlight><highlight class="stringliteral">&quot;VSInstallDir&quot;</highlight><highlight class="normal">,<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1aa470503f0f0d295d0d6f11c9e9440d8d" kindref="member">vsbase</ref><sp/>+<sp/></highlight><highlight class="stringliteral">r&quot;\Setup\VS&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;productdir&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1a929a09cae1c4072765a7f544bc285de5" kindref="member">set_macro</ref>(</highlight><highlight class="stringliteral">&quot;FrameworkDir&quot;</highlight><highlight class="normal">,<sp/>NET_BASE,<sp/></highlight><highlight class="stringliteral">&quot;installroot&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>version<sp/>&gt;=<sp/>8.0:</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1a929a09cae1c4072765a7f544bc285de5" kindref="member">set_macro</ref>(</highlight><highlight class="stringliteral">&quot;FrameworkSDKDir&quot;</highlight><highlight class="normal">,<sp/>NET_BASE,<sp/></highlight><highlight class="stringliteral">&quot;sdkinstallrootv2.0&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>KeyError(</highlight><highlight class="stringliteral">&quot;sdkinstallrootv2.0&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>KeyError:</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsPlatformError(</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Python<sp/>was<sp/>built<sp/>with<sp/>Visual<sp/>Studio<sp/>2008;</highlight></codeline>
<codeline lineno="162"><highlight class="stringliteral">extensions<sp/>must<sp/>be<sp/>built<sp/>with<sp/>a<sp/>compiler<sp/>than<sp/>can<sp/>generate<sp/>compatible<sp/>binaries.</highlight></codeline>
<codeline lineno="163"><highlight class="stringliteral">Visual<sp/>Studio<sp/>2008<sp/>was<sp/>not<sp/>found<sp/>on<sp/>this<sp/>system.<sp/>If<sp/>you<sp/>have<sp/>Cygwin<sp/>installed,</highlight></codeline>
<codeline lineno="164"><highlight class="stringliteral">you<sp/>can<sp/>try<sp/>compiling<sp/>with<sp/>MingW32,<sp/>by<sp/>passing<sp/>&quot;-c<sp/>mingw32&quot;<sp/>to<sp/>setup.py.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>version<sp/>&gt;=<sp/>9.0:</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1a929a09cae1c4072765a7f544bc285de5" kindref="member">set_macro</ref>(</highlight><highlight class="stringliteral">&quot;FrameworkVersion&quot;</highlight><highlight class="normal">,<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1aa470503f0f0d295d0d6f11c9e9440d8d" kindref="member">vsbase</ref>,<sp/></highlight><highlight class="stringliteral">&quot;clr<sp/>version&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1a929a09cae1c4072765a7f544bc285de5" kindref="member">set_macro</ref>(</highlight><highlight class="stringliteral">&quot;WindowsSdkDir&quot;</highlight><highlight class="normal">,<sp/>WINSDK_BASE,<sp/></highlight><highlight class="stringliteral">&quot;currentinstallfolder&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/></highlight><highlight class="stringliteral">r&quot;Software\Microsoft\NET<sp/>Framework<sp/>Setup\Product&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>base<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>HKEYS:</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>h<sp/>=<sp/><ref refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a6796e5ffe5016f456cb23827ac24d7c0" kindref="member">RegOpenKeyEx</ref>(base,<sp/>p)</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>RegError:</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>key<sp/>=<sp/><ref refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1af11fb01f580ba66f2a9546f1ff9363b2" kindref="member">RegEnumKey</ref>(h,<sp/>0)</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d<sp/>=<sp/>Reg.get_value(base,<sp/></highlight><highlight class="stringliteral">r&quot;{}\{}&quot;</highlight><highlight class="normal">.format(p,<sp/>key))</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1a27db7b41df6c14872b2bb23f824b2f2d" kindref="member">macros</ref>[</highlight><highlight class="stringliteral">&quot;$(FrameworkVersion)&quot;</highlight><highlight class="normal">]<sp/>=<sp/>d[</highlight><highlight class="stringliteral">&quot;version&quot;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1a553fbd43b2b7eb62f39d78736fe28423" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1a553fbd43b2b7eb62f39d78736fe28423" kindref="member">sub</ref>(self,<sp/>s):</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k,<sp/>v<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_macro_expander_1a27db7b41df6c14872b2bb23f824b2f2d" kindref="member">macros</ref>.items():</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s<sp/>=<sp/>s.replace(k,<sp/>v)</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>s</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight></codeline>
<codeline lineno="187" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a0a0586e766081d887a2cdc0253415752" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a0a0586e766081d887a2cdc0253415752" kindref="member">get_build_version</ref>():</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>the<sp/>version<sp/>of<sp/>MSVC<sp/>that<sp/>was<sp/>used<sp/>to<sp/>build<sp/>Python.</highlight></codeline>
<codeline lineno="189"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="190"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>Python<sp/>2.3<sp/>and<sp/>up,<sp/>the<sp/>version<sp/>number<sp/>is<sp/>included<sp/>in</highlight></codeline>
<codeline lineno="191"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>sys.version.<sp/><sp/>For<sp/>earlier<sp/>versions,<sp/>assume<sp/>the<sp/>compiler<sp/>is<sp/>MSVC<sp/>6.</highlight></codeline>
<codeline lineno="192"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/>prefix<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;MSC<sp/>v.&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/>i<sp/>=<sp/>sys.version.find(prefix)</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>i<sp/>==<sp/>-1:</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>6</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>i<sp/>=<sp/>i<sp/>+<sp/>len(prefix)</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>s,<sp/>rest<sp/>=<sp/>sys.version[i:].split(</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,<sp/>1)</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>majorVersion<sp/>=<sp/>int(s[:-2])<sp/>-<sp/>6</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>majorVersion<sp/>&gt;=<sp/>13:</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>v13<sp/>was<sp/>skipped<sp/>and<sp/>should<sp/>be<sp/>v14</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>majorVersion<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>minorVersion<sp/>=<sp/>int(s[2:3])<sp/>/<sp/>10.0</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>I<sp/>don&apos;t<sp/>think<sp/>paths<sp/>are<sp/>affected<sp/>by<sp/>minor<sp/>version<sp/>in<sp/>version<sp/>6</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>majorVersion<sp/>==<sp/>6:</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>minorVersion<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>majorVersion<sp/>&gt;=<sp/>6:</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>majorVersion<sp/>+<sp/>minorVersion</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>else<sp/>we<sp/>don&apos;t<sp/>know<sp/>what<sp/>version<sp/>of<sp/>the<sp/>compiler<sp/>this<sp/>is</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight></codeline>
<codeline lineno="213" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a8992cdad30e218adaceca9a97e49cc33" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a8992cdad30e218adaceca9a97e49cc33" kindref="member">normalize_and_reduce_paths</ref>(paths):</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>a<sp/>list<sp/>of<sp/>normalized<sp/>paths<sp/>with<sp/>duplicates<sp/>removed.</highlight></codeline>
<codeline lineno="215"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="216"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>current<sp/>order<sp/>of<sp/>paths<sp/>is<sp/>maintained.</highlight></codeline>
<codeline lineno="217"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Paths<sp/>are<sp/>normalized<sp/>so<sp/>things<sp/>like:<sp/><sp/>/a<sp/>and<sp/>/a/<sp/>aren&apos;t<sp/>both<sp/>preserved.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>reduced_paths<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>paths:</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>np<sp/>=<sp/>os.path.normpath(p)</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>XXX(nnorwitz):<sp/>O(n**2),<sp/>if<sp/>reduced_paths<sp/>gets<sp/>long<sp/>perhaps<sp/>use<sp/>a<sp/>set.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>np<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>reduced_paths:</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reduced_paths.append(np)</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>reduced_paths</highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight></codeline>
<codeline lineno="228" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1aeaaf34afcb8184bea18f79487c223221" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1aeaaf34afcb8184bea18f79487c223221" kindref="member">removeDuplicates</ref>(variable):</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Remove<sp/>duplicate<sp/>values<sp/>of<sp/>an<sp/>environment<sp/>variable.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/>oldList<sp/>=<sp/>variable.split(os.pathsep)</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/>newList<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>oldList:</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>newList:</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newList.append(i)</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/>newVariable<sp/>=<sp/>os.pathsep.join(newList)</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>newVariable</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="239" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a53661f2850f37e1ebeb48be84100d94b" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a53661f2850f37e1ebeb48be84100d94b" kindref="member">find_vcvarsall</ref>(version):</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Find<sp/>the<sp/>vcvarsall.bat<sp/>file</highlight></codeline>
<codeline lineno="241"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="242"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>At<sp/>first<sp/>it<sp/>tries<sp/>to<sp/>find<sp/>the<sp/>productdir<sp/>of<sp/>VS<sp/>2008<sp/>in<sp/>the<sp/>registry.<sp/>If</highlight></codeline>
<codeline lineno="243"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>that<sp/>fails<sp/>it<sp/>falls<sp/>back<sp/>to<sp/>the<sp/>VS90COMNTOOLS<sp/>env<sp/>var.</highlight></codeline>
<codeline lineno="244"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/>vsbase<sp/>=<sp/>VS_BASE<sp/>%<sp/>version</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>productdir<sp/>=<sp/>Reg.get_value(</highlight><highlight class="stringliteral">r&quot;%s\Setup\VC&quot;</highlight><highlight class="normal"><sp/>%<sp/>vsbase,<sp/></highlight><highlight class="stringliteral">&quot;productdir&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>KeyError:</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.debug(</highlight><highlight class="stringliteral">&quot;Unable<sp/>to<sp/>find<sp/>productdir<sp/>in<sp/>registry&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>productdir<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>productdir<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>os.path.isdir(productdir):</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>toolskey<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;VS%0.f0COMNTOOLS&quot;</highlight><highlight class="normal"><sp/>%<sp/>version</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>toolsdir<sp/>=<sp/>os.environ.get(toolskey,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>toolsdir<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>os.path.isdir(toolsdir):</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>productdir<sp/>=<sp/>os.path.join(toolsdir,<sp/>os.pardir,<sp/>os.pardir,<sp/></highlight><highlight class="stringliteral">&quot;VC&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>productdir<sp/>=<sp/>os.path.abspath(productdir)</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>os.path.isdir(productdir):</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.debug(</highlight><highlight class="stringliteral">&quot;%s<sp/>is<sp/>not<sp/>a<sp/>valid<sp/>directory&quot;</highlight><highlight class="normal"><sp/>%<sp/>productdir)</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.debug(</highlight><highlight class="stringliteral">&quot;Env<sp/>var<sp/>%s<sp/>is<sp/>not<sp/>set<sp/>or<sp/>invalid&quot;</highlight><highlight class="normal"><sp/>%<sp/>toolskey)</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>productdir:</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.debug(</highlight><highlight class="stringliteral">&quot;No<sp/>productdir<sp/>found&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/>vcvarsall<sp/>=<sp/>os.path.join(productdir,<sp/></highlight><highlight class="stringliteral">&quot;vcvarsall.bat&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.isfile(vcvarsall):</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>vcvarsall</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/>log.debug(</highlight><highlight class="stringliteral">&quot;Unable<sp/>to<sp/>find<sp/>vcvarsall.bat&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"></highlight></codeline>
<codeline lineno="274" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a2f0cee951480da7387fda729b30bc209" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a2f0cee951480da7387fda729b30bc209" kindref="member">query_vcvarsall</ref>(version,<sp/>arch=&quot;x86&quot;):</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Launch<sp/>vcvarsall.bat<sp/>and<sp/>read<sp/>the<sp/>settings<sp/>from<sp/>its<sp/>environment&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/>vcvarsall<sp/>=<sp/><ref refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a53661f2850f37e1ebeb48be84100d94b" kindref="member">find_vcvarsall</ref>(version)</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/>interesting<sp/>=<sp/>{</highlight><highlight class="stringliteral">&quot;include&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;lib&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;libpath&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;path&quot;</highlight><highlight class="normal">}</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="279"><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>vcvarsall<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsPlatformError(</highlight><highlight class="stringliteral">&quot;Unable<sp/>to<sp/>find<sp/>vcvarsall.bat&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/>log.debug(</highlight><highlight class="stringliteral">&quot;Calling<sp/>&apos;vcvarsall.bat<sp/>%s&apos;<sp/>(version=%s)&quot;</highlight><highlight class="normal">,<sp/>arch,<sp/>version)</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/>popen<sp/>=<sp/>subprocess.Popen(</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&quot;{}&quot;<sp/>{}<sp/>&amp;<sp/>set&apos;</highlight><highlight class="normal">.format(vcvarsall,<sp/>arch),</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stdout=subprocess.PIPE,</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stderr=subprocess.PIPE,</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stdout,<sp/>stderr<sp/>=<sp/>popen.communicate()</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>popen.wait()<sp/>!=<sp/>0:</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsPlatformError(stderr.decode(</highlight><highlight class="stringliteral">&quot;mbcs&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stdout<sp/>=<sp/>stdout.decode(</highlight><highlight class="stringliteral">&quot;mbcs&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>line<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>stdout.split(</highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line<sp/>=<sp/>Reg.convert_mbcs(line)</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;=&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>line:</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line<sp/>=<sp/>line.strip()</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>key,<sp/>value<sp/>=<sp/>line.split(</highlight><highlight class="stringliteral">&apos;=&apos;</highlight><highlight class="normal">,<sp/>1)</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>key<sp/>=<sp/>key.lower()</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>key<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>interesting:</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>value.endswith(os.pathsep):</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/>value[:-1]</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result[key]<sp/>=<sp/><ref refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1aeaaf34afcb8184bea18f79487c223221" kindref="member">removeDuplicates</ref>(value)</highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">finally</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popen.stdout.close()</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popen.stderr.close()</highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(result)<sp/>!=<sp/>len(interesting):</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(str(list(result.keys())))</highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result</highlight></codeline>
<codeline lineno="314"><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight><highlight class="comment">#<sp/>More<sp/>globals</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="317" refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1aac2c20fd89c38313646e8bab31002fbe" refkind="member"><highlight class="normal">VERSION<sp/>=<sp/><ref refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a0a0586e766081d887a2cdc0253415752" kindref="member">get_build_version</ref>()</highlight></codeline>
<codeline lineno="318"><highlight class="normal"></highlight><highlight class="comment">#<sp/>MACROS<sp/>=<sp/>MacroExpander(VERSION)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"></highlight></codeline>
<codeline lineno="321" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" kindref="compound">MSVCCompiler</ref>(CCompiler):</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Concrete<sp/>class<sp/>that<sp/>implements<sp/>an<sp/>interface<sp/>to<sp/>Microsoft<sp/>Visual<sp/>C++,</highlight></codeline>
<codeline lineno="323"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>as<sp/>defined<sp/>by<sp/>the<sp/>CCompiler<sp/>abstract<sp/>class.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight></codeline>
<codeline lineno="325" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a3b3e691e228e2e54b50cef7205effab7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>compiler_type<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;msvc&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Just<sp/>set<sp/>this<sp/>so<sp/>CCompiler&apos;s<sp/>constructor<sp/>doesn&apos;t<sp/>barf.<sp/><sp/>We<sp/>currently</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>don&apos;t<sp/>use<sp/>the<sp/>&apos;set_executables()&apos;<sp/>bureaucracy<sp/>provided<sp/>by<sp/>CCompiler,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>as<sp/>it<sp/>really<sp/>isn&apos;t<sp/>necessary<sp/>for<sp/>this<sp/>sort<sp/>of<sp/>single-compiler<sp/>class.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Would<sp/>be<sp/>nice<sp/>to<sp/>have<sp/>a<sp/>consistent<sp/>interface<sp/>with<sp/>UnixCCompiler,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>though,<sp/>so<sp/>it&apos;s<sp/>worth<sp/>thinking<sp/>about.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="332" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ac511c446d79f36b7f16028a833cb04ad" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>executables<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="333"><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Private<sp/>class<sp/>data<sp/>(need<sp/>to<sp/>distinguish<sp/>C<sp/>from<sp/>C++<sp/>source<sp/>for<sp/>compiler)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="335" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a016cb84b10984afa4bda6317ebc64778" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>_c_extensions<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;.c&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="336" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ab77983dec263d11123d170f0283dac62" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>_cpp_extensions<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;.cc&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;.cpp&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;.cxx&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="337" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ae1cc4ebb50df131ee10a69732ba7e63e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>_rc_extensions<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;.rc&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="338" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ad7802c00e91f0ddc5d25996eb3cbd56c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>_mc_extensions<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;.mc&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Needed<sp/>for<sp/>the<sp/>filename<sp/>generation<sp/>methods<sp/>provided<sp/>by<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>base<sp/>class,<sp/>CCompiler.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="342" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a08fafc4bb9fd2e96519f5f053058e295" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>src_extensions<sp/>=<sp/>_c_extensions<sp/>+<sp/>_cpp_extensions<sp/>+<sp/>_rc_extensions<sp/>+<sp/>_mc_extensions</highlight></codeline>
<codeline lineno="343" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1af48b98437fddf9580981d3298733d0fb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>res_extension<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;.res&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="344" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a21bc598957aeb17f5df769e9e5b29002" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>obj_extension<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;.obj&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="345" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1aa77769860361509c6bf480625be1bdd0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>static_lib_extension<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;.lib&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="346" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1adb53fabe511761b95c19f916fc4520a5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>shared_lib_extension<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;.dll&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="347" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a3a5c3c2fdd194880f7ed85ce2d3995f5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>static_lib_format<sp/>=<sp/>shared_lib_format<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;%s%s&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="348" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a0b77edb153058a4eab45a6a0d4a213e3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>exe_extension<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;.exe&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="349"><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>verbose=0,<sp/>dry_run=0,<sp/>force=0):</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().__init__(verbose,<sp/>dry_run,<sp/>force)</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" kindref="compound">__version</ref><sp/>=<sp/>VERSION</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" kindref="compound">__root</ref><sp/>=<sp/></highlight><highlight class="stringliteral">r&quot;Software\Microsoft\VisualStudio&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>self.__macros<sp/>=<sp/>MACROS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" kindref="compound">__paths</ref><sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>target<sp/>platform<sp/>(.plat_name<sp/>is<sp/>consistent<sp/>with<sp/>&apos;bdist&apos;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="357" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a566af5759a43d75dd7c8e28e5ca99dcd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a566af5759a43d75dd7c8e28e5ca99dcd" kindref="member">plat_name</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" kindref="compound">__arch</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>deprecated<sp/>name</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="359" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ad902b194a0747de0cc74ac098cd5a054" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ad902b194a0747de0cc74ac098cd5a054" kindref="member">initialized</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight></codeline>
<codeline lineno="361" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a94f057de1dc9158080035d0acd89412f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a94f057de1dc9158080035d0acd89412f" kindref="member">initialize</ref>(self,<sp/>plat_name=None):<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>C901</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>multi-init<sp/>means<sp/>we<sp/>would<sp/>need<sp/>to<sp/>check<sp/>platform<sp/>same<sp/>each<sp/>time...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ad902b194a0747de0cc74ac098cd5a054" kindref="member">initialized</ref>,<sp/></highlight><highlight class="stringliteral">&quot;don&apos;t<sp/>init<sp/>multiple<sp/>times&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" kindref="compound">__version</ref><sp/>&lt;<sp/>8.0:</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsPlatformError(</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;VC<sp/>%0.1f<sp/>is<sp/>not<sp/>supported<sp/>by<sp/>this<sp/>module&quot;</highlight><highlight class="normal"><sp/>%<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" kindref="compound">__version</ref></highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>plat_name<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>plat_name<sp/>=<sp/>get_platform()</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>sanity<sp/>check<sp/>for<sp/>platforms<sp/>to<sp/>prevent<sp/>obscure<sp/>errors<sp/>later.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ok_plats<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;win32&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;win-amd64&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>plat_name<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ok_plats:</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsPlatformError(</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;--plat-name<sp/>must<sp/>be<sp/>one<sp/>of<sp/>{}&quot;</highlight><highlight class="normal">.format(ok_plats)</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;DISTUTILS_USE_SDK&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>os.environ</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;MSSdk&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>os.environ</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a01cb58614ce12071446ff74416f4eb88" kindref="member">find_exe</ref>(</highlight><highlight class="stringliteral">&quot;cl.exe&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>):</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Assume<sp/>that<sp/>the<sp/>SDK<sp/>set<sp/>up<sp/>everything<sp/>alright;<sp/>don&apos;t<sp/>try<sp/>to<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>smarter</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="384" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a188fd4a5cb2135f7ec318948d46a6bd1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a188fd4a5cb2135f7ec318948d46a6bd1" kindref="member">cc</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;cl.exe&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="385" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a3419b57100c7fdafc1c9f7815db982d1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a3419b57100c7fdafc1c9f7815db982d1" kindref="member">linker</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;link.exe&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="386" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1afeaf1580d34f456f38cddde4ab09fed5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1afeaf1580d34f456f38cddde4ab09fed5" kindref="member">lib</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;lib.exe&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="387" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a253772139cffaee308b518be40af7cea" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a253772139cffaee308b518be40af7cea" kindref="member">rc</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;rc.exe&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a782099abba974b7779cb5b5e690de374" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a782099abba974b7779cb5b5e690de374" kindref="member">mc</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;mc.exe&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>On<sp/>x86,<sp/>&apos;vcvars32.bat<sp/>amd64&apos;<sp/>creates<sp/>an<sp/>env<sp/>that<sp/>doesn&apos;t<sp/>work;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>to<sp/>cross<sp/>compile,<sp/>you<sp/>use<sp/>&apos;x86_amd64&apos;.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>On<sp/>AMD64,<sp/>&apos;vcvars32.bat<sp/>amd64&apos;<sp/>is<sp/>a<sp/>native<sp/>build<sp/>env;<sp/>to<sp/>cross</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>compile<sp/>use<sp/>&apos;x86&apos;<sp/>(ie,<sp/>it<sp/>runs<sp/>the<sp/>x86<sp/>compiler<sp/>directly)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>plat_name<sp/>==<sp/>get_platform()<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>plat_name<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;win32&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>native<sp/>build<sp/>or<sp/>cross-compile<sp/>to<sp/>win32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>plat_spec<sp/>=<sp/>PLAT_TO_VCVARS[plat_name]</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>cross<sp/>compile<sp/>from<sp/>win32<sp/>-&gt;<sp/>some<sp/>64bit</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>plat_spec<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PLAT_TO_VCVARS[get_platform()]<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;_&apos;</highlight><highlight class="normal"><sp/>+<sp/>PLAT_TO_VCVARS[plat_name]</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="402"><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vc_env<sp/>=<sp/><ref refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a2f0cee951480da7387fda729b30bc209" kindref="member">query_vcvarsall</ref>(VERSION,<sp/>plat_spec)</highlight></codeline>
<codeline lineno="404"><highlight class="normal"></highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" kindref="compound">__paths</ref><sp/>=<sp/>vc_env[</highlight><highlight class="stringliteral">&apos;path&apos;</highlight><highlight class="normal">].split(os.pathsep)</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.environ[</highlight><highlight class="stringliteral">&apos;lib&apos;</highlight><highlight class="normal">]<sp/>=<sp/>vc_env[</highlight><highlight class="stringliteral">&apos;lib&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.environ[</highlight><highlight class="stringliteral">&apos;include&apos;</highlight><highlight class="normal">]<sp/>=<sp/>vc_env[</highlight><highlight class="stringliteral">&apos;include&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" kindref="compound">__paths</ref>)<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsPlatformError(</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Python<sp/>was<sp/>built<sp/>with<sp/>%s,<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;and<sp/>extensions<sp/>need<sp/>to<sp/>be<sp/>built<sp/>with<sp/>the<sp/>same<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;version<sp/>of<sp/>the<sp/>compiler,<sp/>but<sp/>it<sp/>isn&apos;t<sp/>installed.&quot;</highlight><highlight class="normal"><sp/>%<sp/>self.__product</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="415"><highlight class="normal"></highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a188fd4a5cb2135f7ec318948d46a6bd1" kindref="member">cc</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a01cb58614ce12071446ff74416f4eb88" kindref="member">find_exe</ref>(</highlight><highlight class="stringliteral">&quot;cl.exe&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a3419b57100c7fdafc1c9f7815db982d1" kindref="member">linker</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a01cb58614ce12071446ff74416f4eb88" kindref="member">find_exe</ref>(</highlight><highlight class="stringliteral">&quot;link.exe&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1afeaf1580d34f456f38cddde4ab09fed5" kindref="member">lib</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a01cb58614ce12071446ff74416f4eb88" kindref="member">find_exe</ref>(</highlight><highlight class="stringliteral">&quot;lib.exe&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a253772139cffaee308b518be40af7cea" kindref="member">rc</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a01cb58614ce12071446ff74416f4eb88" kindref="member">find_exe</ref>(</highlight><highlight class="stringliteral">&quot;rc.exe&quot;</highlight><highlight class="normal">)<sp/><sp/></highlight><highlight class="comment">#<sp/>resource<sp/>compiler</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a782099abba974b7779cb5b5e690de374" kindref="member">mc</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a01cb58614ce12071446ff74416f4eb88" kindref="member">find_exe</ref>(</highlight><highlight class="stringliteral">&quot;mc.exe&quot;</highlight><highlight class="normal">)<sp/><sp/></highlight><highlight class="comment">#<sp/>message<sp/>compiler</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>self.set_path_env_var(&apos;lib&apos;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>self.set_path_env_var(&apos;include&apos;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="423"><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>extend<sp/>the<sp/>MSVC<sp/>path<sp/>with<sp/>the<sp/>current<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>os.environ[</highlight><highlight class="stringliteral">&apos;path&apos;</highlight><highlight class="normal">].split(</highlight><highlight class="stringliteral">&apos;;&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" kindref="compound">__paths</ref>.append(p)</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>KeyError:</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" kindref="compound">__paths</ref><sp/>=<sp/><ref refid="namespacesetuptools_1_1__distutils_1_1msvc9compiler_1a8992cdad30e218adaceca9a97e49cc33" kindref="member">normalize_and_reduce_paths</ref>(self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" kindref="compound">__paths</ref>)</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.environ[</highlight><highlight class="stringliteral">&apos;path&apos;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;;&quot;</highlight><highlight class="normal">.join(self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" kindref="compound">__paths</ref>)</highlight></codeline>
<codeline lineno="432"><highlight class="normal"></highlight></codeline>
<codeline lineno="433" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a7843a1aae381de3c6406b44c1600e4a7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a7843a1aae381de3c6406b44c1600e4a7" kindref="member">preprocess_options</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" kindref="compound">__arch</ref><sp/>==<sp/></highlight><highlight class="stringliteral">&quot;x86&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="435" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1afd522c16898c1708b1e4a04865f9f524" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1afd522c16898c1708b1e4a04865f9f524" kindref="member">compile_options</ref><sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;/nologo&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;/O2&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;/MD&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;/W3&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;/DNDEBUG&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="436" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1abc30bf161486baa73a3d1ec6c3ac5656" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1abc30bf161486baa73a3d1ec6c3ac5656" kindref="member">compile_options_debug</ref><sp/>=<sp/>[</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;/nologo&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;/Od&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;/MDd&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;/W3&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;/Z7&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;/D_DEBUG&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Win64</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1afd522c16898c1708b1e4a04865f9f524" kindref="member">compile_options</ref><sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;/nologo&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;/O2&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;/MD&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;/W3&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;/GS-&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;/DNDEBUG&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1abc30bf161486baa73a3d1ec6c3ac5656" kindref="member">compile_options_debug</ref><sp/>=<sp/>[</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;/nologo&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;/Od&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;/MDd&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;/W3&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;/GS-&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;/Z7&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;/D_DEBUG&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="456"><highlight class="normal"></highlight></codeline>
<codeline lineno="457" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a60cf0f1d5c1727f22cd78e29ae3b8698" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a60cf0f1d5c1727f22cd78e29ae3b8698" kindref="member">ldflags_shared</ref><sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;/DLL&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;/nologo&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;/INCREMENTAL:NO&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" kindref="compound">__version</ref><sp/>&gt;=<sp/>7:</highlight></codeline>
<codeline lineno="459" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a6cb4be27182cccb7394698886818c4bc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a6cb4be27182cccb7394698886818c4bc" kindref="member">ldflags_shared_debug</ref><sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;/DLL&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;/nologo&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;/INCREMENTAL:no&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;/DEBUG&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="460" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a917094a803fbd966f59760f1bdcf45dc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a917094a803fbd966f59760f1bdcf45dc" kindref="member">ldflags_static</ref><sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;/nologo&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="461"><highlight class="normal"></highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ad902b194a0747de0cc74ac098cd5a054" kindref="member">initialized</ref><sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"></highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>--<sp/>Worker<sp/>methods<sp/>------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="465"><highlight class="normal"></highlight></codeline>
<codeline lineno="466" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a39cc5c2c89a083409fd8493ccc8ec93f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a39cc5c2c89a083409fd8493ccc8ec93f" kindref="member">object_filenames</ref>(self,<sp/>source_filenames,<sp/>strip_dir=0,<sp/>output_dir=&apos;&apos;):</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Copied<sp/>from<sp/>ccompiler.py,<sp/>extended<sp/>to<sp/>return<sp/>.res<sp/>as<sp/>&apos;object&apos;-file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>for<sp/>.rc<sp/>input<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>output_dir<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_dir<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>obj_names<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>src_name<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>source_filenames:</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(base,<sp/>ext)<sp/>=<sp/>os.path.splitext(src_name)</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base<sp/>=<sp/>os.path.splitdrive(base)[1]<sp/><sp/></highlight><highlight class="comment">#<sp/>Chop<sp/>off<sp/>the<sp/>drive</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base<sp/>=<sp/>base[os.path.isabs(base)<sp/>:]<sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>abs,<sp/>chop<sp/>off<sp/>leading<sp/>/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ext<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a08fafc4bb9fd2e96519f5f053058e295" kindref="member">src_extensions</ref>:</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Better<sp/>to<sp/>raise<sp/>an<sp/>exception<sp/>instead<sp/>of<sp/>silently<sp/>continuing</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>and<sp/>later<sp/>complain<sp/>about<sp/>sources<sp/>and<sp/>targets<sp/>having</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>different<sp/>lengths</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>CompileError(</highlight><highlight class="stringliteral">&quot;Don&apos;t<sp/>know<sp/>how<sp/>to<sp/>compile<sp/>%s&quot;</highlight><highlight class="normal"><sp/>%<sp/>src_name)</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>strip_dir:</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base<sp/>=<sp/>os.path.basename(base)</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ext<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ae1cc4ebb50df131ee10a69732ba7e63e" kindref="member">_rc_extensions</ref>:</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>obj_names.append(os.path.join(output_dir,<sp/>base<sp/>+<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1af48b98437fddf9580981d3298733d0fb" kindref="member">res_extension</ref>))</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>ext<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ad7802c00e91f0ddc5d25996eb3cbd56c" kindref="member">_mc_extensions</ref>:</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>obj_names.append(os.path.join(output_dir,<sp/>base<sp/>+<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1af48b98437fddf9580981d3298733d0fb" kindref="member">res_extension</ref>))</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>obj_names.append(os.path.join(output_dir,<sp/>base<sp/>+<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a21bc598957aeb17f5df769e9e5b29002" kindref="member">obj_extension</ref>))</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>obj_names</highlight></codeline>
<codeline lineno="490"><highlight class="normal"></highlight></codeline>
<codeline lineno="491" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1acef92f6a3e5ca1da81edac6c4eb13394" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1acef92f6a3e5ca1da81edac6c4eb13394" kindref="member">compile</ref>(<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>C901</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sources,</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_dir=None,</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>macros=None,</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>include_dirs=None,</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debug=0,</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_preargs=None,</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_postargs=None,</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>depends=None,</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/>):</highlight></codeline>
<codeline lineno="502"><highlight class="normal"></highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ad902b194a0747de0cc74ac098cd5a054" kindref="member">initialized</ref>:</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a94f057de1dc9158080035d0acd89412f" kindref="member">initialize</ref>()</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>compile_info<sp/>=<sp/>self._setup_compile(</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_dir,<sp/>macros,<sp/>include_dirs,<sp/>sources,<sp/>depends,<sp/>extra_postargs</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>macros,<sp/>objects,<sp/>extra_postargs,<sp/>pp_opts,<sp/>build<sp/>=<sp/>compile_info</highlight></codeline>
<codeline lineno="509"><highlight class="normal"></highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>compile_opts<sp/>=<sp/>extra_preargs<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>[]</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>compile_opts.append(</highlight><highlight class="stringliteral">&apos;/c&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>debug:</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>compile_opts.extend(self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1abc30bf161486baa73a3d1ec6c3ac5656" kindref="member">compile_options_debug</ref>)</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>compile_opts.extend(self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1afd522c16898c1708b1e4a04865f9f524" kindref="member">compile_options</ref>)</highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>obj<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>objects:</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>src,<sp/>ext<sp/>=<sp/>build[obj]</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>KeyError:</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>debug:</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>pass<sp/>the<sp/>full<sp/>pathname<sp/>to<sp/>MSVC<sp/>in<sp/>debug<sp/>mode,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>this<sp/>allows<sp/>the<sp/>debugger<sp/>to<sp/>find<sp/>the<sp/>source<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>without<sp/>asking<sp/>the<sp/>user<sp/>to<sp/>browse<sp/>for<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>src<sp/>=<sp/>os.path.abspath(src)</highlight></codeline>
<codeline lineno="527"><highlight class="normal"></highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ext<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a016cb84b10984afa4bda6317ebc64778" kindref="member">_c_extensions</ref>:</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>input_opt<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;/Tc&quot;</highlight><highlight class="normal"><sp/>+<sp/>src</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>ext<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ab77983dec263d11123d170f0283dac62" kindref="member">_cpp_extensions</ref>:</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>input_opt<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;/Tp&quot;</highlight><highlight class="normal"><sp/>+<sp/>src</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>ext<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ae1cc4ebb50df131ee10a69732ba7e63e" kindref="member">_rc_extensions</ref>:</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>compile<sp/>.RC<sp/>to<sp/>.RES<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>input_opt<sp/>=<sp/>src</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_opt<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;/fo&quot;</highlight><highlight class="normal"><sp/>+<sp/>obj</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.spawn([self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a253772139cffaee308b518be40af7cea" kindref="member">rc</ref>]<sp/>+<sp/>pp_opts<sp/>+<sp/>[output_opt]<sp/>+<sp/>[input_opt])</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>DistutilsExecError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>msg:</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>CompileError(msg)</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>ext<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ad7802c00e91f0ddc5d25996eb3cbd56c" kindref="member">_mc_extensions</ref>:</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Compile<sp/>.MC<sp/>to<sp/>.RC<sp/>file<sp/>to<sp/>.RES<sp/>file.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/>*<sp/>&apos;-h<sp/>dir&apos;<sp/>specifies<sp/>the<sp/>directory<sp/>for<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>generated<sp/>include<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/>*<sp/>&apos;-r<sp/>dir&apos;<sp/>specifies<sp/>the<sp/>target<sp/>directory<sp/>of<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>generated<sp/>RC<sp/>file<sp/>and<sp/>the<sp/>binary<sp/>message<sp/>resource</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>it<sp/>includes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>For<sp/>now<sp/>(since<sp/>there<sp/>are<sp/>no<sp/>options<sp/>to<sp/>change<sp/>this),</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>we<sp/>use<sp/>the<sp/>source-directory<sp/>for<sp/>the<sp/>include<sp/>file<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>build<sp/>directory<sp/>for<sp/>the<sp/>RC<sp/>file<sp/>and<sp/>message</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>resources.<sp/>This<sp/>works<sp/>at<sp/>least<sp/>for<sp/>win32all.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>h_dir<sp/>=<sp/>os.path.dirname(src)</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rc_dir<sp/>=<sp/>os.path.dirname(obj)</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>first<sp/>compile<sp/>.MC<sp/>to<sp/>.RC<sp/>and<sp/>.H<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.spawn([self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a782099abba974b7779cb5b5e690de374" kindref="member">mc</ref>]<sp/>+<sp/>[</highlight><highlight class="stringliteral">&apos;-h&apos;</highlight><highlight class="normal">,<sp/>h_dir,<sp/></highlight><highlight class="stringliteral">&apos;-r&apos;</highlight><highlight class="normal">,<sp/>rc_dir]<sp/>+<sp/>[src])</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base,<sp/>_<sp/>=<sp/>os.path.splitext(os.path.basename(src))</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rc_file<sp/>=<sp/>os.path.join(rc_dir,<sp/>base<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;.rc&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>then<sp/>compile<sp/>.RC<sp/>to<sp/>.RES<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.spawn([self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a253772139cffaee308b518be40af7cea" kindref="member">rc</ref>]<sp/>+<sp/>[</highlight><highlight class="stringliteral">&quot;/fo&quot;</highlight><highlight class="normal"><sp/>+<sp/>obj]<sp/>+<sp/>[rc_file])</highlight></codeline>
<codeline lineno="562"><highlight class="normal"></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>DistutilsExecError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>msg:</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>CompileError(msg)</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>how<sp/>to<sp/>handle<sp/>this<sp/>file?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>CompileError(</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Don&apos;t<sp/>know<sp/>how<sp/>to<sp/>compile<sp/>{}<sp/>to<sp/>{}&quot;</highlight><highlight class="normal">.format(src,<sp/>obj)</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="571"><highlight class="normal"></highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_opt<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;/Fo&quot;</highlight><highlight class="normal"><sp/>+<sp/>obj</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.spawn(</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a188fd4a5cb2135f7ec318948d46a6bd1" kindref="member">cc</ref>]</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>compile_opts</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>pp_opts</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>[input_opt,<sp/>output_opt]</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>extra_postargs</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>DistutilsExecError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>msg:</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>CompileError(msg)</highlight></codeline>
<codeline lineno="583"><highlight class="normal"></highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>objects</highlight></codeline>
<codeline lineno="585"><highlight class="normal"></highlight></codeline>
<codeline lineno="586" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ac17cc8956aa2747a4dcf61e7bc8cffe2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ac17cc8956aa2747a4dcf61e7bc8cffe2" kindref="member">create_static_lib</ref>(</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,<sp/>objects,<sp/>output_libname,<sp/>output_dir=None,<sp/>debug=0,<sp/>target_lang=None</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/>):</highlight></codeline>
<codeline lineno="589"><highlight class="normal"></highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ad902b194a0747de0cc74ac098cd5a054" kindref="member">initialized</ref>:</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a94f057de1dc9158080035d0acd89412f" kindref="member">initialize</ref>()</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(objects,<sp/>output_dir)<sp/>=<sp/>self._fix_object_args(objects,<sp/>output_dir)</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_filename<sp/>=<sp/>self.library_filename(output_libname,<sp/>output_dir=output_dir)</highlight></codeline>
<codeline lineno="594"><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self._need_link(objects,<sp/>output_filename):</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lib_args<sp/>=<sp/>objects<sp/>+<sp/>[</highlight><highlight class="stringliteral">&apos;/OUT:&apos;</highlight><highlight class="normal"><sp/>+<sp/>output_filename]</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>debug:</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>XXX<sp/>what<sp/>goes<sp/>here?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.spawn([self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1afeaf1580d34f456f38cddde4ab09fed5" kindref="member">lib</ref>]<sp/>+<sp/>lib_args)</highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>DistutilsExecError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>msg:</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>LibError(msg)</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.debug(</highlight><highlight class="stringliteral">&quot;skipping<sp/>%s<sp/>(up-to-date)&quot;</highlight><highlight class="normal">,<sp/>output_filename)</highlight></codeline>
<codeline lineno="605"><highlight class="normal"></highlight></codeline>
<codeline lineno="606" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a0c96b6aa97f0cccac88db8bc4220274f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a0c96b6aa97f0cccac88db8bc4220274f" kindref="member">link</ref>(<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>C901</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target_desc,</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>objects,</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_filename,</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_dir=None,</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>libraries=None,</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>library_dirs=None,</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>runtime_library_dirs=None,</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>export_symbols=None,</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debug=0,</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_preargs=None,</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_postargs=None,</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>build_temp=None,</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target_lang=None,</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/>):</highlight></codeline>
<codeline lineno="622"><highlight class="normal"></highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ad902b194a0747de0cc74ac098cd5a054" kindref="member">initialized</ref>:</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a94f057de1dc9158080035d0acd89412f" kindref="member">initialize</ref>()</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(objects,<sp/>output_dir)<sp/>=<sp/>self._fix_object_args(objects,<sp/>output_dir)</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fixed_args<sp/>=<sp/>self._fix_lib_args(libraries,<sp/>library_dirs,<sp/>runtime_library_dirs)</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(libraries,<sp/>library_dirs,<sp/>runtime_library_dirs)<sp/>=<sp/>fixed_args</highlight></codeline>
<codeline lineno="628"><highlight class="normal"></highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>runtime_library_dirs:</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.warn(</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;I<sp/>don&apos;t<sp/>know<sp/>what<sp/>to<sp/>do<sp/>with<sp/>&apos;runtime_library_dirs&apos;:<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>str(runtime_library_dirs)</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="634"><highlight class="normal"></highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lib_opts<sp/>=<sp/>gen_lib_options(self,<sp/>library_dirs,<sp/>runtime_library_dirs,<sp/>libraries)</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>output_dir<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_filename<sp/>=<sp/>os.path.join(output_dir,<sp/>output_filename)</highlight></codeline>
<codeline lineno="638"><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self._need_link(objects,<sp/>output_filename):</highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>target_desc<sp/>==<sp/>CCompiler.EXECUTABLE:</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>debug:</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ldflags<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a6cb4be27182cccb7394698886818c4bc" kindref="member">ldflags_shared_debug</ref>[1:]</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ldflags<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a60cf0f1d5c1727f22cd78e29ae3b8698" kindref="member">ldflags_shared</ref>[1:]</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>debug:</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ldflags<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a6cb4be27182cccb7394698886818c4bc" kindref="member">ldflags_shared_debug</ref></highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ldflags<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a60cf0f1d5c1727f22cd78e29ae3b8698" kindref="member">ldflags_shared</ref></highlight></codeline>
<codeline lineno="650"><highlight class="normal"></highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>export_opts<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>sym<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>export_symbols<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>[]:</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>export_opts.append(</highlight><highlight class="stringliteral">&quot;/EXPORT:&quot;</highlight><highlight class="normal"><sp/>+<sp/>sym)</highlight></codeline>
<codeline lineno="654"><highlight class="normal"></highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ld_args<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ldflags<sp/>+<sp/>lib_opts<sp/>+<sp/>export_opts<sp/>+<sp/>objects<sp/>+<sp/>[</highlight><highlight class="stringliteral">&apos;/OUT:&apos;</highlight><highlight class="normal"><sp/>+<sp/>output_filename]</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="658"><highlight class="normal"></highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>The<sp/>MSVC<sp/>linker<sp/>generates<sp/>.lib<sp/>and<sp/>.exp<sp/>files,<sp/>which<sp/>cannot<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>suppressed<sp/>by<sp/>any<sp/>linker<sp/>switches.<sp/>The<sp/>.lib<sp/>files<sp/>may<sp/>even<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>needed!<sp/>Make<sp/>sure<sp/>they<sp/>are<sp/>generated<sp/>in<sp/>the<sp/>temporary<sp/>build</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>directory.<sp/>Since<sp/>they<sp/>have<sp/>different<sp/>names<sp/>for<sp/>debug<sp/>and<sp/>release</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>builds,<sp/>they<sp/>can<sp/>go<sp/>into<sp/>the<sp/>same<sp/>directory.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>build_temp<sp/>=<sp/>os.path.dirname(objects[0])</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>export_symbols<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(dll_name,<sp/>dll_ext)<sp/>=<sp/>os.path.splitext(</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.basename(output_filename)</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>implib_file<sp/>=<sp/>os.path.join(build_temp,<sp/>self.library_filename(dll_name))</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ld_args.append(</highlight><highlight class="stringliteral">&apos;/IMPLIB:&apos;</highlight><highlight class="normal"><sp/>+<sp/>implib_file)</highlight></codeline>
<codeline lineno="671"><highlight class="normal"></highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ad32e1ea34be335a4f534934c7d6a09dc" kindref="member">manifest_setup_ldargs</ref>(output_filename,<sp/>build_temp,<sp/>ld_args)</highlight></codeline>
<codeline lineno="673"><highlight class="normal"></highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>extra_preargs:</highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ld_args[:0]<sp/>=<sp/>extra_preargs</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>extra_postargs:</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ld_args.extend(extra_postargs)</highlight></codeline>
<codeline lineno="678"><highlight class="normal"></highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.mkpath(os.path.dirname(output_filename))</highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.spawn([self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a3419b57100c7fdafc1c9f7815db982d1" kindref="member">linker</ref>]<sp/>+<sp/>ld_args)</highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>DistutilsExecError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>msg:</highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>LinkError(msg)</highlight></codeline>
<codeline lineno="684"><highlight class="normal"></highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>embed<sp/>the<sp/>manifest</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>XXX<sp/>-<sp/>this<sp/>is<sp/>somewhat<sp/>fragile<sp/>-<sp/>if<sp/>mt.exe<sp/>fails,<sp/>distutils</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>will<sp/>still<sp/>consider<sp/>the<sp/>DLL<sp/>up-to-date,<sp/>but<sp/>it<sp/>will<sp/>not<sp/>have<sp/>a</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>manifest.<sp/><sp/>Maybe<sp/>we<sp/>should<sp/>link<sp/>to<sp/>a<sp/>temp<sp/>file?<sp/><sp/>OTOH,<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>implies<sp/>a<sp/>build<sp/>environment<sp/>error<sp/>that<sp/>shouldn&apos;t<sp/>go<sp/>undetected.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mfinfo<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a5bf8badb4686c7f2a73957f8ca921ec5" kindref="member">manifest_get_embed_info</ref>(target_desc,<sp/>ld_args)</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mfinfo<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mffilename,<sp/>mfid<sp/>=<sp/>mfinfo</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out_arg<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;-outputresource:{};{}&apos;</highlight><highlight class="normal">.format(output_filename,<sp/>mfid)</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.spawn([</highlight><highlight class="stringliteral">&apos;mt.exe&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;-nologo&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;-manifest&apos;</highlight><highlight class="normal">,<sp/>mffilename,<sp/>out_arg])</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>DistutilsExecError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>msg:</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>LinkError(msg)</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.debug(</highlight><highlight class="stringliteral">&quot;skipping<sp/>%s<sp/>(up-to-date)&quot;</highlight><highlight class="normal">,<sp/>output_filename)</highlight></codeline>
<codeline lineno="700"><highlight class="normal"></highlight></codeline>
<codeline lineno="701" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ad32e1ea34be335a4f534934c7d6a09dc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ad32e1ea34be335a4f534934c7d6a09dc" kindref="member">manifest_setup_ldargs</ref>(self,<sp/>output_filename,<sp/>build_temp,<sp/>ld_args):</highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>we<sp/>need<sp/>a<sp/>manifest<sp/>at<sp/>all,<sp/>an<sp/>embedded<sp/>manifest<sp/>is<sp/>recommended.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>See<sp/>MSDN<sp/>article<sp/>titled</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>&quot;How<sp/>to:<sp/>Embed<sp/>a<sp/>Manifest<sp/>Inside<sp/>a<sp/>C/C++<sp/>Application&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>(currently<sp/>at<sp/>http://msdn2.microsoft.com/en-us/library/ms235591(VS.80).aspx)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Ask<sp/>the<sp/>linker<sp/>to<sp/>generate<sp/>the<sp/>manifest<sp/>in<sp/>the<sp/>temp<sp/>dir,<sp/>so</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>we<sp/>can<sp/>check<sp/>it,<sp/>and<sp/>possibly<sp/>embed<sp/>it,<sp/>later.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp_manifest<sp/>=<sp/>os.path.join(</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>build_temp,<sp/>os.path.basename(output_filename)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;.manifest&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ld_args.append(</highlight><highlight class="stringliteral">&apos;/MANIFESTFILE:&apos;</highlight><highlight class="normal"><sp/>+<sp/>temp_manifest)</highlight></codeline>
<codeline lineno="712"><highlight class="normal"></highlight></codeline>
<codeline lineno="713" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a5bf8badb4686c7f2a73957f8ca921ec5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a5bf8badb4686c7f2a73957f8ca921ec5" kindref="member">manifest_get_embed_info</ref>(self,<sp/>target_desc,<sp/>ld_args):</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>a<sp/>manifest<sp/>should<sp/>be<sp/>embedded,<sp/>return<sp/>a<sp/>tuple<sp/>of</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>(manifest_filename,<sp/>resource_id).<sp/><sp/>Returns<sp/>None<sp/>if<sp/>no<sp/>manifest</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>should<sp/>be<sp/>embedded.<sp/><sp/>See<sp/>http://bugs.python.org/issue7833<sp/>for<sp/>why</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>we<sp/>want<sp/>to<sp/>avoid<sp/>any<sp/>manifest<sp/>for<sp/>extension<sp/>modules<sp/>if<sp/>we<sp/>can)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>arg<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ld_args:</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>arg.startswith(</highlight><highlight class="stringliteral">&quot;/MANIFESTFILE:&quot;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp_manifest<sp/>=<sp/>arg.split(</highlight><highlight class="stringliteral">&quot;:&quot;</highlight><highlight class="normal">,<sp/>1)[1]</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>no<sp/>/MANIFESTFILE<sp/>so<sp/>nothing<sp/>to<sp/>do.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>target_desc<sp/>==<sp/>CCompiler.EXECUTABLE:</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>by<sp/>default,<sp/>executables<sp/>always<sp/>get<sp/>the<sp/>manifest<sp/>with<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>CRT<sp/>referenced.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mfid<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Extension<sp/>modules<sp/>try<sp/>and<sp/>avoid<sp/>any<sp/>manifest<sp/>if<sp/>possible.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mfid<sp/>=<sp/>2</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp_manifest<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a18ee7d8ddaf02ec5a9cf2d808c2104d5" kindref="member">_remove_visual_c_ref</ref>(temp_manifest)</highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>temp_manifest<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>temp_manifest,<sp/>mfid</highlight></codeline>
<codeline lineno="736"><highlight class="normal"></highlight></codeline>
<codeline lineno="737" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a18ee7d8ddaf02ec5a9cf2d808c2104d5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a18ee7d8ddaf02ec5a9cf2d808c2104d5" kindref="member">_remove_visual_c_ref</ref>(self,<sp/>manifest_file):</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Remove<sp/>references<sp/>to<sp/>the<sp/>Visual<sp/>C<sp/>runtime,<sp/>so<sp/>they<sp/>will</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>fall<sp/>through<sp/>to<sp/>the<sp/>Visual<sp/>C<sp/>dependency<sp/>of<sp/>Python.exe.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>This<sp/>way,<sp/>when<sp/>installed<sp/>for<sp/>a<sp/>restricted<sp/>user<sp/>(e.g.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>runtimes<sp/>are<sp/>not<sp/>in<sp/>WinSxS<sp/>folder,<sp/>but<sp/>in<sp/>Python&apos;s<sp/>own</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>folder),<sp/>the<sp/>runtimes<sp/>do<sp/>not<sp/>need<sp/>to<sp/>be<sp/>in<sp/>every<sp/>folder</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>with<sp/>.pyd&apos;s.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Returns<sp/>either<sp/>the<sp/>filename<sp/>of<sp/>the<sp/>modified<sp/>manifest<sp/>or</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>None<sp/>if<sp/>no<sp/>manifest<sp/>should<sp/>be<sp/>embedded.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>manifest_f<sp/>=<sp/>open(manifest_file)</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>manifest_buf<sp/>=<sp/>manifest_f.read()</highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">finally</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>manifest_f.close()</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pattern<sp/>=<sp/>re.compile(</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">r&quot;&quot;&quot;&lt;assemblyIdentity.*?name=(&quot;|&apos;)Microsoft\.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">r&quot;&quot;&quot;VC\d{2}\.CRT(&quot;|&apos;).*?(/&gt;|&lt;/assemblyIdentity&gt;)&quot;&quot;&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>re.DOTALL,</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>manifest_buf<sp/>=<sp/>re.sub(pattern,<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">,<sp/>manifest_buf)</highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pattern<sp/>=<sp/></highlight><highlight class="stringliteral">r&quot;&lt;dependentAssembly&gt;\s*&lt;/dependentAssembly&gt;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>manifest_buf<sp/>=<sp/>re.sub(pattern,<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">,<sp/>manifest_buf)</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Now<sp/>see<sp/>if<sp/>any<sp/>other<sp/>assemblies<sp/>are<sp/>referenced<sp/>-<sp/>if<sp/>not,<sp/>we</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>don&apos;t<sp/>want<sp/>a<sp/>manifest<sp/>embedded.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pattern<sp/>=<sp/>re.compile(</highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">r&quot;&quot;&quot;&lt;assemblyIdentity.*?name=(?:&quot;|&apos;)(.+?)(?:&quot;|&apos;)&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">r&quot;&quot;&quot;.*?(?:/&gt;|&lt;/assemblyIdentity&gt;)&quot;&quot;&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>re.DOTALL,</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>re.search(pattern,<sp/>manifest_buf)<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="769"><highlight class="normal"></highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>manifest_f<sp/>=<sp/>open(manifest_file,<sp/></highlight><highlight class="stringliteral">&apos;w&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>manifest_f.write(manifest_buf)</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>manifest_file</highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">finally</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>manifest_f.close()</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>OSError:</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="778"><highlight class="normal"></highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>--<sp/>Miscellaneous<sp/>methods<sp/>-----------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>These<sp/>are<sp/>all<sp/>used<sp/>by<sp/>the<sp/>&apos;gen_lib_options()<sp/>function,<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>ccompiler.py.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="782"><highlight class="normal"></highlight></codeline>
<codeline lineno="783" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ac278a776bf6ee17f260d42b803c8cfa5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ac278a776bf6ee17f260d42b803c8cfa5" kindref="member">library_dir_option</ref>(self,<sp/>dir):</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;/LIBPATH:&quot;</highlight><highlight class="normal"><sp/>+<sp/>dir</highlight></codeline>
<codeline lineno="785"><highlight class="normal"></highlight></codeline>
<codeline lineno="786" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a8f2bbc6e78ea3837813ff85d0258527d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a8f2bbc6e78ea3837813ff85d0258527d" kindref="member">runtime_library_dir_option</ref>(self,<sp/>dir):</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsPlatformError(</highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;don&apos;t<sp/>know<sp/>how<sp/>to<sp/>set<sp/>runtime<sp/>library<sp/>search<sp/>path<sp/>for<sp/>MSVC++&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="790"><highlight class="normal"></highlight></codeline>
<codeline lineno="791" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ae67300996893bfc1bb20dce8c17fdeb5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1ae67300996893bfc1bb20dce8c17fdeb5" kindref="member">library_option</ref>(self,<sp/>lib):</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.library_filename(lib)</highlight></codeline>
<codeline lineno="793"><highlight class="normal"></highlight></codeline>
<codeline lineno="794" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1aec331991bd0bf1b37b7ce810f7fc4b19" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1aec331991bd0bf1b37b7ce810f7fc4b19" kindref="member">find_library_file</ref>(self,<sp/>dirs,<sp/>lib,<sp/>debug=0):</highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Prefer<sp/>a<sp/>debugging<sp/>library<sp/>if<sp/>found<sp/>(and<sp/>requested),<sp/>but<sp/>deal</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>with<sp/>it<sp/>if<sp/>we<sp/>don&apos;t<sp/>have<sp/>one.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>debug:</highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try_names<sp/>=<sp/>[lib<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;_d&quot;</highlight><highlight class="normal">,<sp/>lib]</highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try_names<sp/>=<sp/>[lib]</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>dir<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>dirs:</highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>name<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>try_names:</highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>libfile<sp/>=<sp/>os.path.join(dir,<sp/>self.library_filename(name))</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.exists(libfile):</highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>libfile</highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Oops,<sp/>didn&apos;t<sp/>find<sp/>it<sp/>in<sp/>*any*<sp/>of<sp/>&apos;dirs&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="809"><highlight class="normal"></highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Helper<sp/>methods<sp/>for<sp/>using<sp/>the<sp/>MSVC<sp/>registry<sp/>settings</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="811"><highlight class="normal"></highlight></codeline>
<codeline lineno="812" refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a01cb58614ce12071446ff74416f4eb88" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler_1a01cb58614ce12071446ff74416f4eb88" kindref="member">find_exe</ref>(self,<sp/>exe):</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>path<sp/>to<sp/>an<sp/>MSVC<sp/>executable<sp/>program.</highlight></codeline>
<codeline lineno="814"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="815"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tries<sp/>to<sp/>find<sp/>the<sp/>program<sp/>in<sp/>several<sp/>places:<sp/>first,<sp/>one<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="816"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MSVC<sp/>program<sp/>search<sp/>paths<sp/>from<sp/>the<sp/>registry;<sp/>next,<sp/>the<sp/>directories</highlight></codeline>
<codeline lineno="817"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>the<sp/>PATH<sp/>environment<sp/>variable.<sp/><sp/>If<sp/>any<sp/>of<sp/>those<sp/>work,<sp/>return<sp/>an</highlight></codeline>
<codeline lineno="818"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>absolute<sp/>path<sp/>that<sp/>is<sp/>known<sp/>to<sp/>exist.<sp/><sp/>If<sp/>none<sp/>of<sp/>them<sp/>work,<sp/>just</highlight></codeline>
<codeline lineno="819"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>the<sp/>original<sp/>program<sp/>name,<sp/>&apos;exe&apos;.</highlight></codeline>
<codeline lineno="820"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1msvc9compiler_1_1_m_s_v_c_compiler" kindref="compound">__paths</ref>:</highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fn<sp/>=<sp/>os.path.join(os.path.abspath(p),<sp/>exe)</highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.isfile(fn):</highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>fn</highlight></codeline>
<codeline lineno="825"><highlight class="normal"></highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>didn&apos;t<sp/>find<sp/>it;<sp/>try<sp/>existing<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>os.environ[</highlight><highlight class="stringliteral">&apos;Path&apos;</highlight><highlight class="normal">].split(</highlight><highlight class="stringliteral">&apos;;&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fn<sp/>=<sp/>os.path.join(os.path.abspath(p),<sp/>exe)</highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.isfile(fn):</highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>fn</highlight></codeline>
<codeline lineno="831"><highlight class="normal"></highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>exe</highlight></codeline>
    </programlisting>
    <location file="microservicio_data_stream/venv/Lib/site-packages/setuptools/_distutils/msvc9compiler.py"/>
  </compounddef>
</doxygen>
