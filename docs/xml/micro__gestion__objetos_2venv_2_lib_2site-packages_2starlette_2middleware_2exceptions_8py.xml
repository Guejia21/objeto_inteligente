<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="es">
  <compounddef id="micro__gestion__objetos_2venv_2_lib_2site-packages_2starlette_2middleware_2exceptions_8py" kind="file" language="Python">
    <compoundname>exceptions.py</compoundname>
    <innerclass refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware" prot="public">starlette::middleware::exceptions::ExceptionMiddleware</innerclass>
    <innernamespace refid="namespacestarlette">starlette</innernamespace>
    <innernamespace refid="namespacestarlette_1_1middleware">starlette::middleware</innernamespace>
    <innernamespace refid="namespacestarlette_1_1middleware_1_1exceptions">starlette::middleware::exceptions</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacestarlette_1_1middleware_1_1exceptions" refkind="compound"><highlight class="keyword">from</highlight><highlight class="normal"><sp/>__future__<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>annotations</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacecollections_1_1abc" kindref="compound">collections.abc</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Mapping</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Any</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacestarlette_1_1__exception__handler" kindref="compound">starlette._exception_handler</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="7"><highlight class="normal"><sp/><sp/><sp/><sp/>ExceptionHandlers,</highlight></codeline>
<codeline lineno="8"><highlight class="normal"><sp/><sp/><sp/><sp/>StatusHandlers,</highlight></codeline>
<codeline lineno="9"><highlight class="normal"><sp/><sp/><sp/><sp/>wrap_app_handling_exceptions,</highlight></codeline>
<codeline lineno="10"><highlight class="normal">)</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacestarlette_1_1exceptions" kindref="compound">starlette.exceptions</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>HTTPException,<sp/>WebSocketException</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacestarlette_1_1requests" kindref="compound">starlette.requests</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Request</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacestarlette_1_1responses" kindref="compound">starlette.responses</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>PlainTextResponse,<sp/>Response</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacestarlette_1_1types" kindref="compound">starlette.types</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ASGIApp,<sp/>ExceptionHandler,<sp/>Receive,<sp/>Scope,<sp/>Send</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacestarlette_1_1websockets" kindref="compound">starlette.websockets</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>WebSocket</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18" refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware" kindref="compound">ExceptionMiddleware</ref>:</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>app:<sp/>ASGIApp,</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handlers:<sp/>Mapping[Any,<sp/>ExceptionHandler]<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debug:<sp/>bool<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="25" refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1a2929739f545f17245f6ee672b65c7752" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1a2929739f545f17245f6ee672b65c7752" kindref="member">app</ref><sp/>=<sp/>app</highlight></codeline>
<codeline lineno="26" refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1a01676e4922321669cd98a22ba1515fd2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1a01676e4922321669cd98a22ba1515fd2" kindref="member">debug</ref><sp/>=<sp/>debug<sp/><sp/></highlight><highlight class="comment">#<sp/>TODO:<sp/>We<sp/>ought<sp/>to<sp/>handle<sp/>404<sp/>cases<sp/>if<sp/>debug<sp/>is<sp/>set.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27" refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1a822aba0de91cb0abd504152b97d63a9b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1a822aba0de91cb0abd504152b97d63a9b" kindref="member">_status_handlers</ref>:<sp/>StatusHandlers<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="28" refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1aaa015fafe7225139347798ed4c43e85e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1aaa015fafe7225139347798ed4c43e85e" kindref="member">_exception_handlers</ref>:<sp/>ExceptionHandlers<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>HTTPException:<sp/>self.<ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1a8ebff813ea9a87ddf3468f2f3889dacd" kindref="member">http_exception</ref>,</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WebSocketException:<sp/>self.<ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1ad1c2d5b2e6ca0637ff89d36f8f4f0eb1" kindref="member">websocket_exception</ref>,</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>handlers<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:<sp/><sp/></highlight><highlight class="comment">#<sp/>pragma:<sp/>no<sp/>branch</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>key,<sp/>value<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>handlers.items():</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1a773663e51fd2776407f5a9746f96687e" kindref="member">add_exception_handler</ref>(key,<sp/>value)</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36" refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1a773663e51fd2776407f5a9746f96687e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1a773663e51fd2776407f5a9746f96687e" kindref="member">add_exception_handler</ref>(</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc_class_or_status_code:<sp/>int<sp/>|<sp/>type[Exception],</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handler:<sp/>ExceptionHandler,</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(exc_class_or_status_code,<sp/>int):</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1a822aba0de91cb0abd504152b97d63a9b" kindref="member">_status_handlers</ref>[exc_class_or_status_code]<sp/>=<sp/>handler</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>issubclass(exc_class_or_status_code,<sp/>Exception)</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1aaa015fafe7225139347798ed4c43e85e" kindref="member">_exception_handlers</ref>[exc_class_or_status_code]<sp/>=<sp/>handler</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal">__call__(self,<sp/>scope:<sp/>Scope,<sp/>receive:<sp/>Receive,<sp/>send:<sp/>Send)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>scope[</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">]<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>(</highlight><highlight class="stringliteral">&quot;http&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;websocket&quot;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>self.<ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1a2929739f545f17245f6ee672b65c7752" kindref="member">app</ref>(scope,<sp/>receive,<sp/>send)</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scope[</highlight><highlight class="stringliteral">&quot;starlette.exception_handlers&quot;</highlight><highlight class="normal">]<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1aaa015fafe7225139347798ed4c43e85e" kindref="member">_exception_handlers</ref>,</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1a822aba0de91cb0abd504152b97d63a9b" kindref="member">_status_handlers</ref>,</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>conn:<sp/>Request<sp/>|<sp/>WebSocket</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>scope[</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">]<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;http&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>conn<sp/>=<sp/><ref refid="classstarlette_1_1requests_1_1_request" kindref="compound">Request</ref>(scope,<sp/>receive,<sp/>send)</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>conn<sp/>=<sp/><ref refid="classstarlette_1_1websockets_1_1_web_socket" kindref="compound">WebSocket</ref>(scope,<sp/>receive,<sp/>send)</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>wrap_app_handling_exceptions(self.<ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1a2929739f545f17245f6ee672b65c7752" kindref="member">app</ref>,<sp/>conn)(scope,<sp/>receive,<sp/>send)</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65" refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1a8ebff813ea9a87ddf3468f2f3889dacd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1a8ebff813ea9a87ddf3468f2f3889dacd" kindref="member">http_exception</ref>(self,<sp/>request:<sp/>Request,<sp/>exc:<sp/>Exception)<sp/>-&gt;<sp/>Response:</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>isinstance(exc,<sp/>HTTPException)</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>exc.status_code<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>{204,<sp/>304}:</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classstarlette_1_1responses_1_1_response" kindref="compound">Response</ref>(status_code=exc.status_code,<sp/>headers=exc.headers)</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classstarlette_1_1responses_1_1_plain_text_response" kindref="compound">PlainTextResponse</ref>(exc.detail,<sp/>status_code=exc.status_code,<sp/>headers=exc.headers)</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight></codeline>
<codeline lineno="71" refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1ad1c2d5b2e6ca0637ff89d36f8f4f0eb1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classstarlette_1_1middleware_1_1exceptions_1_1_exception_middleware_1ad1c2d5b2e6ca0637ff89d36f8f4f0eb1" kindref="member">websocket_exception</ref>(self,<sp/>websocket:<sp/>WebSocket,<sp/>exc:<sp/>Exception)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>isinstance(exc,<sp/>WebSocketException)</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>await<sp/>websocket.close(code=exc.code,<sp/>reason=exc.reason)<sp/><sp/></highlight><highlight class="comment">#<sp/>pragma:<sp/>no<sp/>cover</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="micro_gestion_objetos/venv/Lib/site-packages/starlette/middleware/exceptions.py"/>
  </compounddef>
</doxygen>
