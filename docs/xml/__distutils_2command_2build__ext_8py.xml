<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="es">
  <compounddef id="__distutils_2command_2build__ext_8py" kind="file" language="Python">
    <compoundname>build_ext.py</compoundname>
    <innerclass refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext" prot="public">setuptools::_distutils::command::build_ext::build_ext</innerclass>
    <innernamespace refid="namespacesetuptools">setuptools</innernamespace>
    <innernamespace refid="namespacesetuptools_1_1__distutils">setuptools::_distutils</innernamespace>
    <innernamespace refid="namespacesetuptools_1_1__distutils_1_1command">setuptools::_distutils::command</innernamespace>
    <innernamespace refid="namespacesetuptools_1_1__distutils_1_1command_1_1build__ext">setuptools::_distutils::command::build_ext</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacesetuptools_1_1__distutils_1_1command_1_1build__ext" refkind="compound"><highlight class="stringliteral">&quot;&quot;&quot;distutils.command.build_ext</highlight></codeline>
<codeline lineno="2"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3"><highlight class="stringliteral">Implements<sp/>the<sp/>Distutils<sp/>&apos;build_ext&apos;<sp/>command,<sp/>for<sp/>building<sp/>extension</highlight></codeline>
<codeline lineno="4"><highlight class="stringliteral">modules<sp/>(currently<sp/>limited<sp/>to<sp/>C<sp/>extensions,<sp/>should<sp/>accommodate<sp/>C++</highlight></codeline>
<codeline lineno="5"><highlight class="stringliteral">extensions<sp/>ASAP).&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>contextlib</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>os</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>re</highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sys</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.core<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Command</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.errors<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/>DistutilsOptionError,</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/>DistutilsSetupError,</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/>CCompilerError,</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/>DistutilsError,</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/>CompileError,</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/>DistutilsPlatformError,</highlight></codeline>
<codeline lineno="19"><highlight class="normal">)</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.sysconfig<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>customize_compiler,<sp/>get_python_version</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.sysconfig<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>get_config_h_filename</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.dep_util<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>newer_group</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.extension<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Extension</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.util<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>get_platform</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>log</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>py37compat</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>site<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>USER_BASE</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="comment">#<sp/>An<sp/>extension<sp/>name<sp/>is<sp/>just<sp/>a<sp/>dot-separated<sp/>list<sp/>of<sp/>Python<sp/>NAMEs<sp/>(ie.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="comment">#<sp/>the<sp/>same<sp/>as<sp/>a<sp/>fully-qualified<sp/>module<sp/>name).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32" refid="namespacesetuptools_1_1__distutils_1_1command_1_1build__ext_1add7a7e4ac762af906f1107c153894781" refkind="member"><highlight class="normal">extension_name_re<sp/>=<sp/>re.compile(</highlight><highlight class="stringliteral">r&apos;^[a-zA-Z_][a-zA-Z_0-9]*(\.[a-zA-Z_][a-zA-Z_0-9]*)*$&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35" refid="namespacesetuptools_1_1__distutils_1_1command_1_1build__ext_1ac3855672268d717b62aa316b688855fb" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__distutils_1_1command_1_1build__ext_1ac3855672268d717b62aa316b688855fb" kindref="member">show_compilers</ref>():</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.ccompiler<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>show_compilers</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacesetuptools_1_1__distutils_1_1command_1_1build__ext_1ac3855672268d717b62aa316b688855fb" kindref="member">show_compilers</ref>()</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext" kindref="compound">build_ext</ref>(<ref refid="classsetuptools_1_1_command" kindref="compound">Command</ref>):</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a1e6b3f6d32e576bdc26c805d65dbdd54" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>description<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;build<sp/>C/C++<sp/>extensions<sp/>(compile/link<sp/>to<sp/>build<sp/>directory)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>XXX<sp/>thoughts<sp/>on<sp/>how<sp/>to<sp/>deal<sp/>with<sp/>complex<sp/>command-line<sp/>options<sp/>like</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>these,<sp/>i.e.<sp/>how<sp/>to<sp/>make<sp/>it<sp/>so<sp/>fancy_getopt<sp/>can<sp/>suck<sp/>them<sp/>off<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>command<sp/>line<sp/>and<sp/>make<sp/>it<sp/>look<sp/>like<sp/>setup.py<sp/>defined<sp/>the<sp/>appropriate</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>lists<sp/>of<sp/>tuples<sp/>of<sp/>what-have-you.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/>-<sp/>each<sp/>command<sp/>needs<sp/>a<sp/>callback<sp/>to<sp/>process<sp/>its<sp/>command-line<sp/>options</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/>-<sp/>Command.__init__()<sp/>needs<sp/>access<sp/>to<sp/>its<sp/>share<sp/>of<sp/>the<sp/>whole</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>command<sp/>line<sp/>(must<sp/>ultimately<sp/>come<sp/>from</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>Distribution.parse_command_line())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/>-<sp/>it<sp/>then<sp/>calls<sp/>the<sp/>current<sp/>command<sp/>class&apos;<sp/>option-parsing</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>callback<sp/>to<sp/>deal<sp/>with<sp/>weird<sp/>options<sp/>like<sp/>-D,<sp/>which<sp/>have<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>parse<sp/>the<sp/>option<sp/>text<sp/>and<sp/>churn<sp/>out<sp/>some<sp/>custom<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>structure</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/>-<sp/>that<sp/>data<sp/>structure<sp/>(in<sp/>this<sp/>case,<sp/>a<sp/>list<sp/>of<sp/>2-tuples)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>will<sp/>then<sp/>be<sp/>present<sp/>in<sp/>the<sp/>command<sp/>object<sp/>by<sp/>the<sp/>time</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>we<sp/>get<sp/>to<sp/>finalize_options()<sp/>(i.e.<sp/>the<sp/>constructor</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>takes<sp/>care<sp/>of<sp/>both<sp/>command-line<sp/>and<sp/>client<sp/>options</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>in<sp/>between<sp/>initialize_options()<sp/>and<sp/>finalize_options())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a39fc1db3ae64401215c83ea684afbcc5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>sep_by<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;<sp/>(separated<sp/>by<sp/>&apos;%s&apos;)&quot;</highlight><highlight class="normal"><sp/>%<sp/>os.pathsep</highlight></codeline>
<codeline lineno="64" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7182f020cd0f3a3c183805a943c1fce7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>user_options<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;build-lib=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;b&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;directory<sp/>for<sp/>compiled<sp/>extension<sp/>modules&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;build-temp=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;t&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;directory<sp/>for<sp/>temporary<sp/>files<sp/>(build<sp/>by-products)&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;plat-name=&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;p&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;platform<sp/>name<sp/>to<sp/>cross-compile<sp/>for,<sp/>if<sp/>supported<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;(default:<sp/>%s)&quot;</highlight><highlight class="normal"><sp/>%<sp/>get_platform(),</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;inplace&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;i&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;ignore<sp/>build-lib<sp/>and<sp/>put<sp/>compiled<sp/>extensions<sp/>into<sp/>the<sp/>source<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/></highlight><highlight class="stringliteral">&quot;directory<sp/>alongside<sp/>your<sp/>pure<sp/>Python<sp/>modules&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;include-dirs=&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;I&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;list<sp/>of<sp/>directories<sp/>to<sp/>search<sp/>for<sp/>header<sp/>files&quot;</highlight><highlight class="normal"><sp/>+<sp/>sep_by,</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;define=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;D&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;C<sp/>preprocessor<sp/>macros<sp/>to<sp/>define&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;undef=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;U&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;C<sp/>preprocessor<sp/>macros<sp/>to<sp/>undefine&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;libraries=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;l&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;external<sp/>C<sp/>libraries<sp/>to<sp/>link<sp/>with&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;library-dirs=&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;L&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;directories<sp/>to<sp/>search<sp/>for<sp/>external<sp/>C<sp/>libraries&quot;</highlight><highlight class="normal"><sp/>+<sp/>sep_by,</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;rpath=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;R&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;directories<sp/>to<sp/>search<sp/>for<sp/>shared<sp/>C<sp/>libraries<sp/>at<sp/>runtime&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;link-objects=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;O&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;extra<sp/>explicit<sp/>link<sp/>objects<sp/>to<sp/>include<sp/>in<sp/>the<sp/>link&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;debug&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;g&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;compile/link<sp/>with<sp/>debugging<sp/>information&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;force&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;f&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;forcibly<sp/>build<sp/>everything<sp/>(ignore<sp/>file<sp/>timestamps)&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;compiler=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;c&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;specify<sp/>the<sp/>compiler<sp/>type&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;parallel=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;j&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;number<sp/>of<sp/>parallel<sp/>build<sp/>jobs&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;swig-cpp&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;make<sp/>SWIG<sp/>create<sp/>C++<sp/>files<sp/>(default<sp/>is<sp/>C)&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;swig-opts=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;list<sp/>of<sp/>SWIG<sp/>command<sp/>line<sp/>options&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;swig=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;path<sp/>to<sp/>the<sp/>SWIG<sp/>executable&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;user&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;add<sp/>user<sp/>include,<sp/>library<sp/>and<sp/>rpath&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a99ed140e2bd1844a303a42f2fcb7bae9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>boolean_options<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;inplace&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;debug&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;force&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;swig-cpp&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;user&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1ab908bcff3ba069a6cc1a3e656604af7f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>help_options<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;help-compiler&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;list<sp/>available<sp/>compilers&quot;</highlight><highlight class="normal">,<sp/>show_compilers),</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a5de4fb44c93250bfacd0df6191963f6a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a5de4fb44c93250bfacd0df6191963f6a" kindref="member">initialize_options</ref>(self):</highlight></codeline>
<codeline lineno="111" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a241b3fb287879ddc63c20ee9fe2216c1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a241b3fb287879ddc63c20ee9fe2216c1" kindref="member">extensions</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1afc99851bb4f8d379a07076ef76afb657" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1afc99851bb4f8d379a07076ef76afb657" kindref="member">build_lib</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1ab45969c538d4c5d7c679eff6534af8fa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1ab45969c538d4c5d7c679eff6534af8fa" kindref="member">plat_name</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a0352e363ee518e3b7517802b3126d47f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a0352e363ee518e3b7517802b3126d47f" kindref="member">build_temp</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aa0abb8cbb2f9d5ea74838c61f55b42f7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aa0abb8cbb2f9d5ea74838c61f55b42f7" kindref="member">inplace</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="116" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9ca8d6a7b579d9571dcf8468e0cf93f3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9ca8d6a7b579d9571dcf8468e0cf93f3" kindref="member">package</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9b2680c8aacb59809adfa0d126ca24bc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9b2680c8aacb59809adfa0d126ca24bc" kindref="member">include_dirs</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aea57b30a3dde517fcca849638ea0676e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aea57b30a3dde517fcca849638ea0676e" kindref="member">define</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a65b5cddb56c275f8b0b7c9ce823f2b5f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a65b5cddb56c275f8b0b7c9ce823f2b5f" kindref="member">undef</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a58cb97a9c9a54f5b49be96923f282842" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a58cb97a9c9a54f5b49be96923f282842" kindref="member">libraries</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a050831c6bf8803fab594c87d744df682" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a050831c6bf8803fab594c87d744df682" kindref="member">rpath</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a496655f0096ea334f6842f096b5583d6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a496655f0096ea334f6842f096b5583d6" kindref="member">link_objects</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1afc220ab04304af90b36c78b4ad8e4222" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1afc220ab04304af90b36c78b4ad8e4222" kindref="member">debug</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a31e0329a1580967e0a5d32e51e39415f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a31e0329a1580967e0a5d32e51e39415f" kindref="member">force</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" kindref="member">compiler</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aef2b51beaf4083bc701c4f4aa5086ca4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aef2b51beaf4083bc701c4f4aa5086ca4" kindref="member">swig</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a17fdcc36ab18e6b489b2f39631057c17" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a17fdcc36ab18e6b489b2f39631057c17" kindref="member">swig_cpp</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a50bebf6eab50d603b88c0c0bf0ddb720" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a50bebf6eab50d603b88c0c0bf0ddb720" kindref="member">swig_opts</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a65d5d86b8a82e86b55e45d59e74c0128" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a65d5d86b8a82e86b55e45d59e74c0128" kindref="member">user</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a21a2c1cc4aa20f25d0b2f703173e360e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a21a2c1cc4aa20f25d0b2f703173e360e" kindref="member">parallel</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aa075f7186fa8165665f5896daa6fb8eb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aa075f7186fa8165665f5896daa6fb8eb" kindref="member">finalize_options</ref>(self):<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>C901</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sysconfig</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.set_undefined_options(</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;build&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;build_lib&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;build_lib&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;build_temp&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;build_temp&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;compiler&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;compiler&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;debug&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;debug&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;force&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;force&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;parallel&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;parallel&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;plat_name&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;plat_name&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9ca8d6a7b579d9571dcf8468e0cf93f3" kindref="member">package</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9ca8d6a7b579d9571dcf8468e0cf93f3" kindref="member">package</ref><sp/>=<sp/>self.distribution.ext_package</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a241b3fb287879ddc63c20ee9fe2216c1" kindref="member">extensions</ref><sp/>=<sp/>self.distribution.ext_modules</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Make<sp/>sure<sp/>Python&apos;s<sp/>include<sp/>directories<sp/>(for<sp/>Python.h,<sp/>pyconfig.h,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>etc.)<sp/>are<sp/>in<sp/>the<sp/>include<sp/>search<sp/>path.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>py_include<sp/>=<sp/>sysconfig.get_python_inc()</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>plat_py_include<sp/>=<sp/>sysconfig.get_python_inc(plat_specific=1)</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9b2680c8aacb59809adfa0d126ca24bc" kindref="member">include_dirs</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9b2680c8aacb59809adfa0d126ca24bc" kindref="member">include_dirs</ref><sp/>=<sp/>self.distribution.include_dirs<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>[]</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9b2680c8aacb59809adfa0d126ca24bc" kindref="member">include_dirs</ref>,<sp/>str):</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9b2680c8aacb59809adfa0d126ca24bc" kindref="member">include_dirs</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9b2680c8aacb59809adfa0d126ca24bc" kindref="member">include_dirs</ref>.split(os.pathsep)</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>in<sp/>a<sp/>virtualenv,<sp/>add<sp/>its<sp/>include<sp/>directory</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Issue<sp/>16116</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sys.exec_prefix<sp/>!=<sp/>sys.base_exec_prefix:</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9b2680c8aacb59809adfa0d126ca24bc" kindref="member">include_dirs</ref>.append(os.path.join(sys.exec_prefix,<sp/></highlight><highlight class="stringliteral">&apos;include&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Put<sp/>the<sp/>Python<sp/>&quot;system&quot;<sp/>include<sp/>dir<sp/>at<sp/>the<sp/>end,<sp/>so<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>any<sp/>local<sp/>include<sp/>dirs<sp/>take<sp/>precedence.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9b2680c8aacb59809adfa0d126ca24bc" kindref="member">include_dirs</ref>.extend(py_include.split(os.path.pathsep))</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>plat_py_include<sp/>!=<sp/>py_include:</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9b2680c8aacb59809adfa0d126ca24bc" kindref="member">include_dirs</ref>.extend(plat_py_include.split(os.path.pathsep))</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1_command_1a57ba07315c2c0694aeea3b4d17d94bf7" kindref="member">ensure_string_list</ref>(</highlight><highlight class="stringliteral">&apos;libraries&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1_command_1a57ba07315c2c0694aeea3b4d17d94bf7" kindref="member">ensure_string_list</ref>(</highlight><highlight class="stringliteral">&apos;link_objects&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Life<sp/>is<sp/>easier<sp/>if<sp/>we&apos;re<sp/>not<sp/>forever<sp/>checking<sp/>for<sp/>None,<sp/>so</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>simplify<sp/>these<sp/>options<sp/>to<sp/>empty<sp/>lists<sp/>if<sp/>unset</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a58cb97a9c9a54f5b49be96923f282842" kindref="member">libraries</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a58cb97a9c9a54f5b49be96923f282842" kindref="member">libraries</ref><sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref><sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>isinstance(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref>,<sp/>str):</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref>.split(os.pathsep)</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a050831c6bf8803fab594c87d744df682" kindref="member">rpath</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a050831c6bf8803fab594c87d744df682" kindref="member">rpath</ref><sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>isinstance(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a050831c6bf8803fab594c87d744df682" kindref="member">rpath</ref>,<sp/>str):</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a050831c6bf8803fab594c87d744df682" kindref="member">rpath</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a050831c6bf8803fab594c87d744df682" kindref="member">rpath</ref>.split(os.pathsep)</highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>for<sp/>extensions<sp/>under<sp/>windows<sp/>use<sp/>different<sp/>directories</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>for<sp/>Release<sp/>and<sp/>Debug<sp/>builds.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>also<sp/>Python&apos;s<sp/>library<sp/>directory<sp/>must<sp/>be<sp/>appended<sp/>to<sp/>library_dirs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.name<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;nt&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>&apos;libs&apos;<sp/>directory<sp/>is<sp/>for<sp/>binary<sp/>installs<sp/>-<sp/>we<sp/>assume<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>must<sp/>be<sp/>the<sp/>*native*<sp/>platform.<sp/><sp/>But<sp/>we<sp/>don&apos;t<sp/>really<sp/>support</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>cross-compiling<sp/>via<sp/>a<sp/>binary<sp/>install<sp/>anyway,<sp/>so<sp/>we<sp/>let<sp/>it<sp/>go.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref>.append(os.path.join(sys.exec_prefix,<sp/></highlight><highlight class="stringliteral">&apos;libs&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sys.base_exec_prefix<sp/>!=<sp/>sys.prefix:<sp/><sp/></highlight><highlight class="comment">#<sp/>Issue<sp/>16116</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref>.append(os.path.join(sys.base_exec_prefix,<sp/></highlight><highlight class="stringliteral">&apos;libs&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1afc220ab04304af90b36c78b4ad8e4222" kindref="member">debug</ref>:</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a0352e363ee518e3b7517802b3126d47f" kindref="member">build_temp</ref><sp/>=<sp/>os.path.join(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a0352e363ee518e3b7517802b3126d47f" kindref="member">build_temp</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Debug&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a0352e363ee518e3b7517802b3126d47f" kindref="member">build_temp</ref><sp/>=<sp/>os.path.join(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a0352e363ee518e3b7517802b3126d47f" kindref="member">build_temp</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Release&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Append<sp/>the<sp/>source<sp/>distribution<sp/>include<sp/>and<sp/>library<sp/>directories,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>this<sp/>allows<sp/>distutils<sp/>on<sp/>windows<sp/>to<sp/>work<sp/>in<sp/>the<sp/>source<sp/>tree</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9b2680c8aacb59809adfa0d126ca24bc" kindref="member">include_dirs</ref>.append(os.path.dirname(get_config_h_filename()))</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref>.append(sys.base_exec_prefix)</highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Use<sp/>the<sp/>.lib<sp/>files<sp/>for<sp/>the<sp/>correct<sp/>architecture</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1ab45969c538d4c5d7c679eff6534af8fa" kindref="member">plat_name</ref><sp/>==<sp/></highlight><highlight class="stringliteral">&apos;win32&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>suffix<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;win32&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>win-amd64</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>suffix<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1ab45969c538d4c5d7c679eff6534af8fa" kindref="member">plat_name</ref>[4:]</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_lib<sp/>=<sp/>os.path.join(sys.exec_prefix,<sp/></highlight><highlight class="stringliteral">&apos;PCbuild&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>suffix:</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_lib<sp/>=<sp/>os.path.join(new_lib,<sp/>suffix)</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref>.append(new_lib)</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>For<sp/>extensions<sp/>under<sp/>Cygwin,<sp/>Python&apos;s<sp/>library<sp/>directory<sp/>must<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>appended<sp/>to<sp/>library_dirs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sys.platform[:6]<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;cygwin&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>sysconfig.python_build:</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>building<sp/>third<sp/>party<sp/>extensions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref>.append(</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.join(</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sys.prefix,<sp/></highlight><highlight class="stringliteral">&quot;lib&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;python&quot;</highlight><highlight class="normal"><sp/>+<sp/>get_python_version(),<sp/></highlight><highlight class="stringliteral">&quot;config&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>building<sp/>python<sp/>standard<sp/>extensions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref>.append(</highlight><highlight class="stringliteral">&apos;.&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="234"><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>For<sp/>building<sp/>extensions<sp/>with<sp/>a<sp/>shared<sp/>Python<sp/>library,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Python&apos;s<sp/>library<sp/>directory<sp/>must<sp/>be<sp/>appended<sp/>to<sp/>library_dirs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>See<sp/>Issues:<sp/>#1600860,<sp/>#4366</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sysconfig.get_config_var(</highlight><highlight class="stringliteral">&apos;Py_ENABLE_SHARED&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>sysconfig.python_build:</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>building<sp/>third<sp/>party<sp/>extensions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref>.append(sysconfig.get_config_var(</highlight><highlight class="stringliteral">&apos;LIBDIR&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>building<sp/>python<sp/>standard<sp/>extensions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref>.append(</highlight><highlight class="stringliteral">&apos;.&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>The<sp/>argument<sp/>parsing<sp/>will<sp/>result<sp/>in<sp/>self.define<sp/>being<sp/>a<sp/>string,<sp/>but</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>it<sp/>has<sp/>to<sp/>be<sp/>a<sp/>list<sp/>of<sp/>2-tuples.<sp/><sp/>All<sp/>the<sp/>preprocessor<sp/>symbols</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>specified<sp/>by<sp/>the<sp/>&apos;define&apos;<sp/>option<sp/>will<sp/>be<sp/>set<sp/>to<sp/>&apos;1&apos;.<sp/><sp/>Multiple</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>symbols<sp/>can<sp/>be<sp/>separated<sp/>with<sp/>commas.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aea57b30a3dde517fcca849638ea0676e" kindref="member">define</ref>:</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>defines<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aea57b30a3dde517fcca849638ea0676e" kindref="member">define</ref>.split(</highlight><highlight class="stringliteral">&apos;,&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aea57b30a3dde517fcca849638ea0676e" kindref="member">define</ref><sp/>=<sp/>[(symbol,<sp/></highlight><highlight class="stringliteral">&apos;1&apos;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>symbol<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>defines]</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>The<sp/>option<sp/>for<sp/>macros<sp/>to<sp/>undefine<sp/>is<sp/>also<sp/>a<sp/>string<sp/>from<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>option<sp/>parsing,<sp/>but<sp/>has<sp/>to<sp/>be<sp/>a<sp/>list.<sp/><sp/>Multiple<sp/>symbols<sp/>can<sp/>also</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>be<sp/>separated<sp/>with<sp/>commas<sp/>here.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a65b5cddb56c275f8b0b7c9ce823f2b5f" kindref="member">undef</ref>:</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a65b5cddb56c275f8b0b7c9ce823f2b5f" kindref="member">undef</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a65b5cddb56c275f8b0b7c9ce823f2b5f" kindref="member">undef</ref>.split(</highlight><highlight class="stringliteral">&apos;,&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="260"><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a50bebf6eab50d603b88c0c0bf0ddb720" kindref="member">swig_opts</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a50bebf6eab50d603b88c0c0bf0ddb720" kindref="member">swig_opts</ref><sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a50bebf6eab50d603b88c0c0bf0ddb720" kindref="member">swig_opts</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a50bebf6eab50d603b88c0c0bf0ddb720" kindref="member">swig_opts</ref>.split(</highlight><highlight class="stringliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Finally<sp/>add<sp/>the<sp/>user<sp/>include<sp/>and<sp/>library<sp/>directories<sp/>if<sp/>requested</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a65d5d86b8a82e86b55e45d59e74c0128" kindref="member">user</ref>:</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>user_include<sp/>=<sp/>os.path.join(USER_BASE,<sp/></highlight><highlight class="stringliteral">&quot;include&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>user_lib<sp/>=<sp/>os.path.join(USER_BASE,<sp/></highlight><highlight class="stringliteral">&quot;lib&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.isdir(user_include):</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9b2680c8aacb59809adfa0d126ca24bc" kindref="member">include_dirs</ref>.append(user_include)</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.isdir(user_lib):</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref>.append(user_lib)</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a050831c6bf8803fab594c87d744df682" kindref="member">rpath</ref>.append(user_lib)</highlight></codeline>
<codeline lineno="275"><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a21a2c1cc4aa20f25d0b2f703173e360e" kindref="member">parallel</ref>,<sp/>str):</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a21a2c1cc4aa20f25d0b2f703173e360e" kindref="member">parallel</ref><sp/>=<sp/>int(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a21a2c1cc4aa20f25d0b2f703173e360e" kindref="member">parallel</ref>)</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>ValueError:</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsOptionError(</highlight><highlight class="stringliteral">&quot;parallel<sp/>should<sp/>be<sp/>an<sp/>integer&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a13d40a5647e9e67aeff713ab014a6bef" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a13d40a5647e9e67aeff713ab014a6bef" kindref="member">run</ref>(self):<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>C901</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.ccompiler<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>new_compiler</highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>&apos;self.extensions&apos;,<sp/>as<sp/>supplied<sp/>by<sp/>setup.py,<sp/>is<sp/>a<sp/>list<sp/>of</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Extension<sp/>instances.<sp/><sp/>See<sp/>the<sp/>documentation<sp/>for<sp/>Extension<sp/>(in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>distutils.extension)<sp/>for<sp/>details.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>For<sp/>backwards<sp/>compatibility<sp/>with<sp/>Distutils<sp/>0.8.2<sp/>and<sp/>earlier,<sp/>we</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>also<sp/>allow<sp/>the<sp/>&apos;extensions&apos;<sp/>list<sp/>to<sp/>be<sp/>a<sp/>list<sp/>of<sp/>tuples:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>(ext_name,<sp/>build_info)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>where<sp/>build_info<sp/>is<sp/>a<sp/>dictionary<sp/>containing<sp/>everything<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Extension<sp/>instances<sp/>do<sp/>except<sp/>the<sp/>name,<sp/>with<sp/>a<sp/>few<sp/>things<sp/>being</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>differently<sp/>named.<sp/><sp/>We<sp/>convert<sp/>these<sp/>2-tuples<sp/>to<sp/>Extension</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>instances<sp/>as<sp/>needed.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a241b3fb287879ddc63c20ee9fe2216c1" kindref="member">extensions</ref>:</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>we<sp/>were<sp/>asked<sp/>to<sp/>build<sp/>any<sp/>C/C++<sp/>libraries,<sp/>make<sp/>sure<sp/>that<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>directory<sp/>where<sp/>we<sp/>put<sp/>them<sp/>is<sp/>in<sp/>the<sp/>library<sp/>search<sp/>path<sp/>for</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>linking<sp/>extensions.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.distribution.has_c_libraries():</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>build_clib<sp/>=<sp/>self.get_finalized_command(</highlight><highlight class="stringliteral">&apos;build_clib&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a58cb97a9c9a54f5b49be96923f282842" kindref="member">libraries</ref>.extend(build_clib.get_library_names()<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>[])</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref>.append(<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__clib_1_1build__clib" kindref="compound">build_clib.build_clib</ref>)</highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Setup<sp/>the<sp/>CCompiler<sp/>object<sp/>that<sp/>we&apos;ll<sp/>use<sp/>to<sp/>do<sp/>all<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>compiling<sp/>and<sp/>linking</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" kindref="member">compiler</ref><sp/>=<sp/>new_compiler(</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>compiler=self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" kindref="member">compiler</ref>,</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>verbose=self.verbose,</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dry_run=self.dry_run,</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>force=self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a31e0329a1580967e0a5d32e51e39415f" kindref="member">force</ref>,</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>customize_compiler(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" kindref="member">compiler</ref>)</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>we<sp/>are<sp/>cross-compiling,<sp/>init<sp/>the<sp/>compiler<sp/>now<sp/>(if<sp/>we<sp/>are<sp/>not</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>cross-compiling,<sp/>init<sp/>would<sp/>not<sp/>hurt,<sp/>but<sp/>people<sp/>may<sp/>rely<sp/>on</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>late<sp/>initialization<sp/>of<sp/>compiler<sp/>even<sp/>if<sp/>they<sp/>shouldn&apos;t...)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.name<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;nt&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1ab45969c538d4c5d7c679eff6534af8fa" kindref="member">plat_name</ref><sp/>!=<sp/>get_platform():</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" kindref="member">compiler</ref>.initialize(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1ab45969c538d4c5d7c679eff6534af8fa" kindref="member">plat_name</ref>)</highlight></codeline>
<codeline lineno="322"><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>And<sp/>make<sp/>sure<sp/>that<sp/>any<sp/>compile/link-related<sp/>options<sp/>(which<sp/>might</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>come<sp/>from<sp/>the<sp/>command-line<sp/>or<sp/>from<sp/>the<sp/>setup<sp/>script)<sp/>are<sp/>set<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>that<sp/>CCompiler<sp/>object<sp/>--<sp/>that<sp/>way,<sp/>they<sp/>automatically<sp/>apply<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>all<sp/>compiling<sp/>and<sp/>linking<sp/>done<sp/>here.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9b2680c8aacb59809adfa0d126ca24bc" kindref="member">include_dirs</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" kindref="member">compiler</ref>.set_include_dirs(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9b2680c8aacb59809adfa0d126ca24bc" kindref="member">include_dirs</ref>)</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aea57b30a3dde517fcca849638ea0676e" kindref="member">define</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>&apos;define&apos;<sp/>option<sp/>is<sp/>a<sp/>list<sp/>of<sp/>(name,value)<sp/>tuples</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(name,<sp/>value)<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aea57b30a3dde517fcca849638ea0676e" kindref="member">define</ref>:</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" kindref="member">compiler</ref>.define_macro(name,<sp/>value)</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a65b5cddb56c275f8b0b7c9ce823f2b5f" kindref="member">undef</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>macro<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a65b5cddb56c275f8b0b7c9ce823f2b5f" kindref="member">undef</ref>:</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" kindref="member">compiler</ref>.undefine_macro(macro)</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a58cb97a9c9a54f5b49be96923f282842" kindref="member">libraries</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" kindref="member">compiler</ref>.set_libraries(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a58cb97a9c9a54f5b49be96923f282842" kindref="member">libraries</ref>)</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" kindref="member">compiler</ref>.set_library_dirs(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7995d9531023aff6a6f543bcef384e2f" kindref="member">library_dirs</ref>)</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a050831c6bf8803fab594c87d744df682" kindref="member">rpath</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" kindref="member">compiler</ref>.set_runtime_library_dirs(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a050831c6bf8803fab594c87d744df682" kindref="member">rpath</ref>)</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a496655f0096ea334f6842f096b5583d6" kindref="member">link_objects</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" kindref="member">compiler</ref>.set_link_objects(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a496655f0096ea334f6842f096b5583d6" kindref="member">link_objects</ref>)</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Now<sp/>actually<sp/>compile<sp/>and<sp/>link<sp/>everything.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a5bcc8b2a87ae4680fde47362e2465c3e" kindref="member">build_extensions</ref>()</highlight></codeline>
<codeline lineno="347"><highlight class="normal"></highlight></codeline>
<codeline lineno="348" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1afa2e7565d5ee15e9d6cd9d1661505984" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1afa2e7565d5ee15e9d6cd9d1661505984" kindref="member">check_extensions_list</ref>(self,<sp/>extensions):<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>C901</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Ensure<sp/>that<sp/>the<sp/>list<sp/>of<sp/>extensions<sp/>(presumably<sp/>provided<sp/>as<sp/>a</highlight></codeline>
<codeline lineno="350"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>command<sp/>option<sp/>&apos;extensions&apos;)<sp/>is<sp/>valid,<sp/>i.e.<sp/>it<sp/>is<sp/>a<sp/>list<sp/>of</highlight></codeline>
<codeline lineno="351"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Extension<sp/>objects.<sp/><sp/>We<sp/>also<sp/>support<sp/>the<sp/>old-style<sp/>list<sp/>of<sp/>2-tuples,</highlight></codeline>
<codeline lineno="352"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>where<sp/>the<sp/>tuples<sp/>are<sp/>(ext_name,<sp/>build_info),<sp/>which<sp/>are<sp/>converted<sp/>to</highlight></codeline>
<codeline lineno="353"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Extension<sp/>instances<sp/>here.</highlight></codeline>
<codeline lineno="354"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="355"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Raise<sp/>DistutilsSetupError<sp/>if<sp/>the<sp/>structure<sp/>is<sp/>invalid<sp/>anywhere;</highlight></codeline>
<codeline lineno="356"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>just<sp/>returns<sp/>otherwise.</highlight></codeline>
<codeline lineno="357"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(extensions,<sp/>list):</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsSetupError(</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&apos;ext_modules&apos;<sp/>option<sp/>must<sp/>be<sp/>a<sp/>list<sp/>of<sp/>Extension<sp/>instances&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i,<sp/>ext<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>enumerate(extensions):</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(ext,<sp/>Extension):</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>OK!<sp/>(assume<sp/>type-checking<sp/>done</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>by<sp/>Extension<sp/>constructor)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(ext,<sp/>tuple)<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>len(ext)<sp/>!=<sp/>2:</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsSetupError(</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;each<sp/>element<sp/>of<sp/>&apos;ext_modules&apos;<sp/>option<sp/>must<sp/>be<sp/>an<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Extension<sp/>instance<sp/>or<sp/>2-tuple&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext_name,<sp/>build_info<sp/>=<sp/>ext</highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.warn(</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;old-style<sp/>(ext_name,<sp/>build_info)<sp/>tuple<sp/>found<sp/>in<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;ext_modules<sp/>for<sp/>extension<sp/>&apos;%s&apos;<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;--<sp/>please<sp/>convert<sp/>to<sp/>Extension<sp/>instance&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext_name,</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="382"><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>(isinstance(ext_name,<sp/>str)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>extension_name_re.match(ext_name)):</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsSetupError(</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;first<sp/>element<sp/>of<sp/>each<sp/>tuple<sp/>in<sp/>&apos;ext_modules&apos;<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;must<sp/>be<sp/>the<sp/>extension<sp/>name<sp/>(a<sp/>string)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(build_info,<sp/>dict):</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsSetupError(</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;second<sp/>element<sp/>of<sp/>each<sp/>tuple<sp/>in<sp/>&apos;ext_modules&apos;<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;must<sp/>be<sp/>a<sp/>dictionary<sp/>(build<sp/>info)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="394"><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>OK,<sp/>the<sp/>(ext_name,<sp/>build_info)<sp/>dict<sp/>is<sp/>type-safe:<sp/>convert<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>to<sp/>an<sp/>Extension<sp/>instance.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext<sp/>=<sp/><ref refid="classsetuptools_1_1extension_1_1_extension" kindref="compound">Extension</ref>(ext_name,<sp/>build_info[</highlight><highlight class="stringliteral">&apos;sources&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="398"><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Easy<sp/>stuff:<sp/>one-to-one<sp/>mapping<sp/>from<sp/>dict<sp/>elements<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>instance<sp/>attributes.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>key<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;include_dirs&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;library_dirs&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;libraries&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;extra_objects&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;extra_compile_args&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;extra_link_args&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>):</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>val<sp/>=<sp/>build_info.get(key)</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>val<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setattr(ext,<sp/>key,<sp/>val)</highlight></codeline>
<codeline lineno="412"><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Medium-easy<sp/>stuff:<sp/>same<sp/>syntax/semantics,<sp/>different<sp/>names.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext.runtime_library_dirs<sp/>=<sp/>build_info.get(</highlight><highlight class="stringliteral">&apos;rpath&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;def_file&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>build_info:</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.warn(</highlight><highlight class="stringliteral">&quot;&apos;def_file&apos;<sp/>element<sp/>of<sp/>build<sp/>info<sp/>dict<sp/>&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;no<sp/>longer<sp/>supported&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Non-trivial<sp/>stuff:<sp/>&apos;macros&apos;<sp/>split<sp/>into<sp/>&apos;define_macros&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>and<sp/>&apos;undef_macros&apos;.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>macros<sp/>=<sp/>build_info.get(</highlight><highlight class="stringliteral">&apos;macros&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>macros:</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext.define_macros<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext.undef_macros<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>macro<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>macros:</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>(isinstance(macro,<sp/>tuple)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>len(macro)<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>(1,<sp/>2)):</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsSetupError(</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&apos;macros&apos;<sp/>element<sp/>of<sp/>build<sp/>info<sp/>dict<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;must<sp/>be<sp/>1-<sp/>or<sp/>2-tuple&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(macro)<sp/>==<sp/>1:</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext.undef_macros.append(macro[0])</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>len(macro)<sp/>==<sp/>2:</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext.define_macros.append(macro)</highlight></codeline>
<codeline lineno="434"><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extensions[i]<sp/>=<sp/>ext</highlight></codeline>
<codeline lineno="436"><highlight class="normal"></highlight></codeline>
<codeline lineno="437" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aaa0854f048ca4912f41a1c62caf00bab" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aaa0854f048ca4912f41a1c62caf00bab" kindref="member">get_source_files</ref>(self):</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1afa2e7565d5ee15e9d6cd9d1661505984" kindref="member">check_extensions_list</ref>(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a241b3fb287879ddc63c20ee9fe2216c1" kindref="member">extensions</ref>)</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filenames<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="440"><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Wouldn&apos;t<sp/>it<sp/>be<sp/>neat<sp/>if<sp/>we<sp/>knew<sp/>the<sp/>names<sp/>of<sp/>header<sp/>files<sp/>too...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>ext<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a241b3fb287879ddc63c20ee9fe2216c1" kindref="member">extensions</ref>:</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filenames.extend(ext.sources)</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>filenames</highlight></codeline>
<codeline lineno="445"><highlight class="normal"></highlight></codeline>
<codeline lineno="446" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a4c13f29b4676a2fdca527178c174c2c5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a4c13f29b4676a2fdca527178c174c2c5" kindref="member">get_outputs</ref>(self):</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Sanity<sp/>check<sp/>the<sp/>&apos;extensions&apos;<sp/>list<sp/>--<sp/>can&apos;t<sp/>assume<sp/>this<sp/>is<sp/>being</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>done<sp/>in<sp/>the<sp/>same<sp/>run<sp/>as<sp/>a<sp/>&apos;build_extensions()&apos;<sp/>call<sp/>(in<sp/>fact,<sp/>we</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>can<sp/>probably<sp/>assume<sp/>that<sp/>it<sp/>*isn&apos;t*!).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1afa2e7565d5ee15e9d6cd9d1661505984" kindref="member">check_extensions_list</ref>(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a241b3fb287879ddc63c20ee9fe2216c1" kindref="member">extensions</ref>)</highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>And<sp/>build<sp/>the<sp/>list<sp/>of<sp/>output<sp/>(built)<sp/>filenames.<sp/><sp/>Note<sp/>that<sp/>this</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>ignores<sp/>the<sp/>&apos;inplace&apos;<sp/>flag,<sp/>and<sp/>assumes<sp/>everything<sp/>goes<sp/>in<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>&quot;build&quot;<sp/>tree.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outputs<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>ext<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a241b3fb287879ddc63c20ee9fe2216c1" kindref="member">extensions</ref>:</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outputs.append(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a3cc6a8cc335753506904b09523607290" kindref="member">get_ext_fullpath</ref>(ext.name))</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>outputs</highlight></codeline>
<codeline lineno="459"><highlight class="normal"></highlight></codeline>
<codeline lineno="460" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a5bcc8b2a87ae4680fde47362e2465c3e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a5bcc8b2a87ae4680fde47362e2465c3e" kindref="member">build_extensions</ref>(self):</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>First,<sp/>sanity-check<sp/>the<sp/>&apos;extensions&apos;<sp/>list</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1afa2e7565d5ee15e9d6cd9d1661505984" kindref="member">check_extensions_list</ref>(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a241b3fb287879ddc63c20ee9fe2216c1" kindref="member">extensions</ref>)</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a21a2c1cc4aa20f25d0b2f703173e360e" kindref="member">parallel</ref>:</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a59feb8169b4135451ff0ea17c9db2eb5" kindref="member">_build_extensions_parallel</ref>()</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a8e4e81dc7358e4e1470f554ff7ee6a83" kindref="member">_build_extensions_serial</ref>()</highlight></codeline>
<codeline lineno="467"><highlight class="normal"></highlight></codeline>
<codeline lineno="468" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a59feb8169b4135451ff0ea17c9db2eb5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a59feb8169b4135451ff0ea17c9db2eb5" kindref="member">_build_extensions_parallel</ref>(self):</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a21a2c1cc4aa20f25d0b2f703173e360e" kindref="member">parallel</ref></highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a21a2c1cc4aa20f25d0b2f703173e360e" kindref="member">parallel</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers<sp/>=<sp/>os.cpu_count()<sp/><sp/></highlight><highlight class="comment">#<sp/>may<sp/>return<sp/>None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>concurrent.futures<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ThreadPoolExecutor</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>ImportError:</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>workers<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a8e4e81dc7358e4e1470f554ff7ee6a83" kindref="member">_build_extensions_serial</ref>()</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"></highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>ThreadPoolExecutor(max_workers=workers)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>executor:</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>futures<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>executor.submit(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a184614eafec347be66ad08e78d2f19e3" kindref="member">build_extension</ref>,<sp/>ext)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>ext<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a241b3fb287879ddc63c20ee9fe2216c1" kindref="member">extensions</ref></highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>ext,<sp/>fut<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>zip(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a241b3fb287879ddc63c20ee9fe2216c1" kindref="member">extensions</ref>,<sp/>futures):</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1ac32f4f49478c94766259641fd9e9dbec" kindref="member">_filter_build_errors</ref>(ext):</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fut.result()</highlight></codeline>
<codeline lineno="488"><highlight class="normal"></highlight></codeline>
<codeline lineno="489" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a8e4e81dc7358e4e1470f554ff7ee6a83" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a8e4e81dc7358e4e1470f554ff7ee6a83" kindref="member">_build_extensions_serial</ref>(self):</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>ext<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a241b3fb287879ddc63c20ee9fe2216c1" kindref="member">extensions</ref>:</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1ac32f4f49478c94766259641fd9e9dbec" kindref="member">_filter_build_errors</ref>(ext):</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a184614eafec347be66ad08e78d2f19e3" kindref="member">build_extension</ref>(ext)</highlight></codeline>
<codeline lineno="493"><highlight class="normal"></highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@contextlib.contextmanager</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="495" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1ac32f4f49478c94766259641fd9e9dbec" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1ac32f4f49478c94766259641fd9e9dbec" kindref="member">_filter_build_errors</ref>(self,<sp/>ext):</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>(CCompilerError,<sp/>DistutilsError,<sp/>CompileError)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>e:</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>ext.optional:</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.warn(</highlight><highlight class="stringliteral">&apos;building<sp/>extension<sp/>&quot;{}&quot;<sp/>failed:<sp/>{}&apos;</highlight><highlight class="normal">.format(ext.name,<sp/>e))</highlight></codeline>
<codeline lineno="502"><highlight class="normal"></highlight></codeline>
<codeline lineno="503" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a184614eafec347be66ad08e78d2f19e3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a184614eafec347be66ad08e78d2f19e3" kindref="member">build_extension</ref>(self,<sp/>ext):</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sources<sp/>=<sp/>ext.sources</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sources<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(sources,<sp/>(list,<sp/>tuple)):</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsSetupError(</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;in<sp/>&apos;ext_modules&apos;<sp/>option<sp/>(extension<sp/>&apos;%s&apos;),<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&apos;sources&apos;<sp/>must<sp/>be<sp/>present<sp/>and<sp/>must<sp/>be<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;a<sp/>list<sp/>of<sp/>source<sp/>filenames&quot;</highlight><highlight class="normal"><sp/>%<sp/>ext.name</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>sort<sp/>to<sp/>make<sp/>the<sp/>resulting<sp/>.so<sp/>file<sp/>build<sp/>reproducible</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sources<sp/>=<sp/>sorted(sources)</highlight></codeline>
<codeline lineno="513"><highlight class="normal"></highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext_path<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a3cc6a8cc335753506904b09523607290" kindref="member">get_ext_fullpath</ref>(ext.name)</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>depends<sp/>=<sp/>sources<sp/>+<sp/>ext.depends</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a31e0329a1580967e0a5d32e51e39415f" kindref="member">force</ref><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>newer_group(depends,<sp/>ext_path,<sp/></highlight><highlight class="stringliteral">&apos;newer&apos;</highlight><highlight class="normal">)):</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.debug(</highlight><highlight class="stringliteral">&quot;skipping<sp/>&apos;%s&apos;<sp/>extension<sp/>(up-to-date)&quot;</highlight><highlight class="normal">,<sp/>ext.name)</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.info(</highlight><highlight class="stringliteral">&quot;building<sp/>&apos;%s&apos;<sp/>extension&quot;</highlight><highlight class="normal">,<sp/>ext.name)</highlight></codeline>
<codeline lineno="521"><highlight class="normal"></highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>First,<sp/>scan<sp/>the<sp/>sources<sp/>for<sp/>SWIG<sp/>definition<sp/>files<sp/>(.i),<sp/>run</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>SWIG<sp/>on<sp/>&apos;em<sp/>to<sp/>create<sp/>.c<sp/>files,<sp/>and<sp/>modify<sp/>the<sp/>sources<sp/>list</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>accordingly.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sources<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a270a68644bae45c62c7d822a36281795" kindref="member">swig_sources</ref>(sources,<sp/>ext)</highlight></codeline>
<codeline lineno="526"><highlight class="normal"></highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Next,<sp/>compile<sp/>the<sp/>source<sp/>code<sp/>to<sp/>object<sp/>files.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="528"><highlight class="normal"></highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>XXX<sp/>not<sp/>honouring<sp/>&apos;define_macros&apos;<sp/>or<sp/>&apos;undef_macros&apos;<sp/>--<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>CCompiler<sp/>API<sp/>needs<sp/>to<sp/>change<sp/>to<sp/>accommodate<sp/>this,<sp/>and<sp/>I</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>want<sp/>to<sp/>do<sp/>one<sp/>thing<sp/>at<sp/>a<sp/>time!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="532"><highlight class="normal"></highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Two<sp/>possible<sp/>sources<sp/>for<sp/>extra<sp/>compiler<sp/>arguments:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/>-<sp/>&apos;extra_compile_args&apos;<sp/>in<sp/>Extension<sp/>object</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/>-<sp/>CFLAGS<sp/>environment<sp/>variable<sp/>(not<sp/>particularly</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>elegant,<sp/>but<sp/>people<sp/>seem<sp/>to<sp/>expect<sp/>it<sp/>and<sp/>I</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>guess<sp/>it&apos;s<sp/>useful)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>The<sp/>environment<sp/>variable<sp/>should<sp/>take<sp/>precedence,<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>any<sp/>sensible<sp/>compiler<sp/>will<sp/>give<sp/>precedence<sp/>to<sp/>later</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>command<sp/>line<sp/>args.<sp/><sp/>Hence<sp/>we<sp/>combine<sp/>them<sp/>in<sp/>order:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_args<sp/>=<sp/>ext.extra_compile_args<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>[]</highlight></codeline>
<codeline lineno="542"><highlight class="normal"></highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>macros<sp/>=<sp/>ext.define_macros[:]</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>undef<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ext.undef_macros:</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>macros.append((undef,))</highlight></codeline>
<codeline lineno="546"><highlight class="normal"></highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>objects<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" kindref="member">compiler</ref>.compile(</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sources,</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_dir=self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a0352e363ee518e3b7517802b3126d47f" kindref="member">build_temp</ref>,</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>macros=macros,</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>include_dirs=ext.include_dirs,</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debug=self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1afc220ab04304af90b36c78b4ad8e4222" kindref="member">debug</ref>,</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_postargs=extra_args,</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>depends=ext.depends,</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="556"><highlight class="normal"></highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>XXX<sp/>outdated<sp/>variable,<sp/>kept<sp/>here<sp/>in<sp/>case<sp/>third-part<sp/>code</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>needs<sp/>it.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="559" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a0ebb252c711649b6a9a98d08b278d89a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a0ebb252c711649b6a9a98d08b278d89a" kindref="member">_built_objects</ref><sp/>=<sp/>objects[:]</highlight></codeline>
<codeline lineno="560"><highlight class="normal"></highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Now<sp/>link<sp/>the<sp/>object<sp/>files<sp/>together<sp/>into<sp/>a<sp/>&quot;shared<sp/>object&quot;<sp/>--</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>of<sp/>course,<sp/>first<sp/>we<sp/>have<sp/>to<sp/>figure<sp/>out<sp/>all<sp/>the<sp/>other<sp/>things</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>that<sp/>go<sp/>into<sp/>the<sp/>mix.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ext.extra_objects:</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>objects.extend(ext.extra_objects)</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_args<sp/>=<sp/>ext.extra_link_args<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>[]</highlight></codeline>
<codeline lineno="567"><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Detect<sp/>target<sp/>language,<sp/>if<sp/>not<sp/>provided</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>language<sp/>=<sp/>ext.language<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" kindref="member">compiler</ref>.detect_language(sources)</highlight></codeline>
<codeline lineno="570"><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" kindref="member">compiler</ref>.link_shared_object(</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>objects,</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext_path,</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>libraries=self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1af1d2a46f65e7293183e8a115af2d776f" kindref="member">get_libraries</ref>(ext),</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>library_dirs=ext.library_dirs,</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>runtime_library_dirs=ext.runtime_library_dirs,</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_postargs=extra_args,</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>export_symbols=self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a072aa285c8b9e3482d686837ff101ace" kindref="member">get_export_symbols</ref>(ext),</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debug=self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1afc220ab04304af90b36c78b4ad8e4222" kindref="member">debug</ref>,</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>build_temp=self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a0352e363ee518e3b7517802b3126d47f" kindref="member">build_temp</ref>,</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target_lang=language,</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="583"><highlight class="normal"></highlight></codeline>
<codeline lineno="584" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a270a68644bae45c62c7d822a36281795" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a270a68644bae45c62c7d822a36281795" kindref="member">swig_sources</ref>(self,<sp/>sources,<sp/>extension):</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Walk<sp/>the<sp/>list<sp/>of<sp/>source<sp/>files<sp/>in<sp/>&apos;sources&apos;,<sp/>looking<sp/>for<sp/>SWIG</highlight></codeline>
<codeline lineno="586"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>interface<sp/>(.i)<sp/>files.<sp/><sp/>Run<sp/>SWIG<sp/>on<sp/>all<sp/>that<sp/>are<sp/>found,<sp/>and</highlight></codeline>
<codeline lineno="587"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>a<sp/>modified<sp/>&apos;sources&apos;<sp/>list<sp/>with<sp/>SWIG<sp/>source<sp/>files<sp/>replaced</highlight></codeline>
<codeline lineno="588"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>by<sp/>the<sp/>generated<sp/>C<sp/>(or<sp/>C++)<sp/>files.</highlight></codeline>
<codeline lineno="589"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_sources<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>swig_sources<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>swig_targets<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="593"><highlight class="normal"></highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>XXX<sp/>this<sp/>drops<sp/>generated<sp/>C/C++<sp/>files<sp/>into<sp/>the<sp/>source<sp/>tree,<sp/>which</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>is<sp/>fine<sp/>for<sp/>developers<sp/>who<sp/>want<sp/>to<sp/>distribute<sp/>the<sp/>generated</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>source<sp/>--<sp/>but<sp/>there<sp/>should<sp/>be<sp/>an<sp/>option<sp/>to<sp/>put<sp/>SWIG<sp/>output<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>temp<sp/>dir.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="598"><highlight class="normal"></highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a17fdcc36ab18e6b489b2f39631057c17" kindref="member">swig_cpp</ref>:</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.warn(</highlight><highlight class="stringliteral">&quot;--swig-cpp<sp/>is<sp/>deprecated<sp/>-<sp/>use<sp/>--swig-opts=-c++&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="601"><highlight class="normal"></highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a17fdcc36ab18e6b489b2f39631057c17" kindref="member">swig_cpp</ref></highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>(</highlight><highlight class="stringliteral">&apos;-c++&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a50bebf6eab50d603b88c0c0bf0ddb720" kindref="member">swig_opts</ref>)</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>(</highlight><highlight class="stringliteral">&apos;-c++&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>extension.swig_opts)</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>):</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target_ext<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;.cpp&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target_ext<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;.c&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="610"><highlight class="normal"></highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>source<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>sources:</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(base,<sp/>ext)<sp/>=<sp/>os.path.splitext(source)</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ext<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;.i&quot;</highlight><highlight class="normal">:<sp/><sp/></highlight><highlight class="comment">#<sp/>SWIG<sp/>interface<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_sources.append(base<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;_wrap&apos;</highlight><highlight class="normal"><sp/>+<sp/>target_ext)</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>swig_sources.append(source)</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>swig_targets[source]<sp/>=<sp/>new_sources[-1]</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_sources.append(source)</highlight></codeline>
<codeline lineno="619"><highlight class="normal"></highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>swig_sources:</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>new_sources</highlight></codeline>
<codeline lineno="622"><highlight class="normal"></highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>swig<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aef2b51beaf4083bc701c4f4aa5086ca4" kindref="member">swig</ref><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a6ae3495ce9a513ccdfa7f154cea9b3ea" kindref="member">find_swig</ref>()</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>swig_cmd<sp/>=<sp/>[swig,<sp/></highlight><highlight class="stringliteral">&quot;-python&quot;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>swig_cmd.extend(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a50bebf6eab50d603b88c0c0bf0ddb720" kindref="member">swig_opts</ref>)</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a17fdcc36ab18e6b489b2f39631057c17" kindref="member">swig_cpp</ref>:</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>swig_cmd.append(</highlight><highlight class="stringliteral">&quot;-c++&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="628"><highlight class="normal"></highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Do<sp/>not<sp/>override<sp/>commandline<sp/>arguments</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a50bebf6eab50d603b88c0c0bf0ddb720" kindref="member">swig_opts</ref>:</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>o<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>extension.swig_opts:</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>swig_cmd.append(o)</highlight></codeline>
<codeline lineno="633"><highlight class="normal"></highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>source<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>swig_sources:</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target<sp/>=<sp/>swig_targets[source]</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>log.info(</highlight><highlight class="stringliteral">&quot;swigging<sp/>%s<sp/>to<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>source,<sp/>target)</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.spawn(swig_cmd<sp/>+<sp/>[</highlight><highlight class="stringliteral">&quot;-o&quot;</highlight><highlight class="normal">,<sp/>target,<sp/>source])</highlight></codeline>
<codeline lineno="638"><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>new_sources</highlight></codeline>
<codeline lineno="640"><highlight class="normal"></highlight></codeline>
<codeline lineno="641" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a6ae3495ce9a513ccdfa7f154cea9b3ea" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a6ae3495ce9a513ccdfa7f154cea9b3ea" kindref="member">find_swig</ref>(self):</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>the<sp/>name<sp/>of<sp/>the<sp/>SWIG<sp/>executable.<sp/><sp/>On<sp/>Unix,<sp/>this<sp/>is</highlight></codeline>
<codeline lineno="643"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>just<sp/>&quot;swig&quot;<sp/>--<sp/>it<sp/>should<sp/>be<sp/>in<sp/>the<sp/>PATH.<sp/><sp/>Tries<sp/>a<sp/>bit<sp/>harder<sp/>on</highlight></codeline>
<codeline lineno="644"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Windows.</highlight></codeline>
<codeline lineno="645"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.name<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;posix&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;swig&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>os.name<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;nt&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Look<sp/>for<sp/>SWIG<sp/>in<sp/>its<sp/>standard<sp/>installation<sp/>directory<sp/>on</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Windows<sp/>(or<sp/>so<sp/>I<sp/>presume!).<sp/><sp/>If<sp/>we<sp/>find<sp/>it<sp/>there,<sp/>great;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>if<sp/>not,<sp/>act<sp/>like<sp/>Unix<sp/>and<sp/>assume<sp/>it&apos;s<sp/>in<sp/>the<sp/>PATH.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>vers<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>(</highlight><highlight class="stringliteral">&quot;1.3&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;1.2&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;1.1&quot;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fn<sp/>=<sp/>os.path.join(</highlight><highlight class="stringliteral">&quot;c:\\swig%s&quot;</highlight><highlight class="normal"><sp/>%<sp/>vers,<sp/></highlight><highlight class="stringliteral">&quot;swig.exe&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.isfile(fn):</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>fn</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;swig.exe&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>DistutilsPlatformError(</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;I<sp/>don&apos;t<sp/>know<sp/>how<sp/>to<sp/>find<sp/>(much<sp/>less<sp/>run)<sp/>SWIG<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;on<sp/>platform<sp/>&apos;%s&apos;&quot;</highlight><highlight class="normal"><sp/>%<sp/>os.name</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="663"><highlight class="normal"></highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>--<sp/>Name<sp/>generators<sp/>-----------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>(extension<sp/>names,<sp/>filenames,<sp/>whatever)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="666" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a3cc6a8cc335753506904b09523607290" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a3cc6a8cc335753506904b09523607290" kindref="member">get_ext_fullpath</ref>(self,<sp/>ext_name):</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Returns<sp/>the<sp/>path<sp/>of<sp/>the<sp/>filename<sp/>for<sp/>a<sp/>given<sp/>extension.</highlight></codeline>
<codeline lineno="668"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="669"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>file<sp/>is<sp/>located<sp/>in<sp/>`build_lib`<sp/>or<sp/>directly<sp/>in<sp/>the<sp/>package</highlight></codeline>
<codeline lineno="670"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(inplace<sp/>option).</highlight></codeline>
<codeline lineno="671"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fullname<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a3126563339117a0c10134a0fd9971916" kindref="member">get_ext_fullname</ref>(ext_name)</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>modpath<sp/>=<sp/>fullname.split(</highlight><highlight class="stringliteral">&apos;.&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filename<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a10f5f7a13c8c956f5df8f39a4692675d" kindref="member">get_ext_filename</ref>(modpath[-1])</highlight></codeline>
<codeline lineno="675"><highlight class="normal"></highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1aa0abb8cbb2f9d5ea74838c61f55b42f7" kindref="member">inplace</ref>:</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>no<sp/>further<sp/>work<sp/>needed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>returning<sp/>:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/>build_dir/package/path/filename</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filename<sp/>=<sp/>os.path.join(*modpath[:-1]<sp/>+<sp/>[filename])</highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>os.path.join(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1afc99851bb4f8d379a07076ef76afb657" kindref="member">build_lib</ref>,<sp/>filename)</highlight></codeline>
<codeline lineno="682"><highlight class="normal"></highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>inplace<sp/>option<sp/>requires<sp/>to<sp/>find<sp/>the<sp/>package<sp/>directory</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>using<sp/>the<sp/>build_py<sp/>command<sp/>for<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>package<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;.&apos;</highlight><highlight class="normal">.join(modpath[0:-1])</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>build_py<sp/>=<sp/>self.get_finalized_command(</highlight><highlight class="stringliteral">&apos;build_py&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>package_dir<sp/>=<sp/>os.path.abspath(build_py.get_package_dir(package))</highlight></codeline>
<codeline lineno="688"><highlight class="normal"></highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>returning</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/>package_dir/filename</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>os.path.join(package_dir,<sp/>filename)</highlight></codeline>
<codeline lineno="692"><highlight class="normal"></highlight></codeline>
<codeline lineno="693" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a3126563339117a0c10134a0fd9971916" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a3126563339117a0c10134a0fd9971916" kindref="member">get_ext_fullname</ref>(self,<sp/>ext_name):</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Returns<sp/>the<sp/>fullname<sp/>of<sp/>a<sp/>given<sp/>extension<sp/>name.</highlight></codeline>
<codeline lineno="695"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="696"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Adds<sp/>the<sp/>`package.`<sp/>prefix&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9ca8d6a7b579d9571dcf8468e0cf93f3" kindref="member">package</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ext_name</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a9ca8d6a7b579d9571dcf8468e0cf93f3" kindref="member">package</ref><sp/>+<sp/></highlight><highlight class="stringliteral">&apos;.&apos;</highlight><highlight class="normal"><sp/>+<sp/>ext_name</highlight></codeline>
<codeline lineno="701"><highlight class="normal"></highlight></codeline>
<codeline lineno="702" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a10f5f7a13c8c956f5df8f39a4692675d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a10f5f7a13c8c956f5df8f39a4692675d" kindref="member">get_ext_filename</ref>(self,<sp/>ext_name):</highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">r&quot;&quot;&quot;Convert<sp/>the<sp/>name<sp/>of<sp/>an<sp/>extension<sp/>(eg.<sp/>&quot;foo.bar&quot;)<sp/>into<sp/>the<sp/>name</highlight></codeline>
<codeline lineno="704"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>of<sp/>the<sp/>file<sp/>from<sp/>which<sp/>it<sp/>will<sp/>be<sp/>loaded<sp/>(eg.<sp/>&quot;foo/bar.so&quot;,<sp/>or</highlight></codeline>
<codeline lineno="705"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;foo\bar.pyd&quot;).</highlight></codeline>
<codeline lineno="706"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.sysconfig<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>get_config_var</highlight></codeline>
<codeline lineno="708"><highlight class="normal"></highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext_path<sp/>=<sp/>ext_name.split(</highlight><highlight class="stringliteral">&apos;.&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext_suffix<sp/>=<sp/>get_config_var(</highlight><highlight class="stringliteral">&apos;EXT_SUFFIX&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>os.path.join(*ext_path)<sp/>+<sp/>ext_suffix</highlight></codeline>
<codeline lineno="712"><highlight class="normal"></highlight></codeline>
<codeline lineno="713" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a072aa285c8b9e3482d686837ff101ace" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a072aa285c8b9e3482d686837ff101ace" kindref="member">get_export_symbols</ref>(self,<sp/>ext):</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>the<sp/>list<sp/>of<sp/>symbols<sp/>that<sp/>a<sp/>shared<sp/>extension<sp/>has<sp/>to</highlight></codeline>
<codeline lineno="715"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>export.<sp/><sp/>This<sp/>either<sp/>uses<sp/>&apos;ext.export_symbols&apos;<sp/>or,<sp/>if<sp/>it&apos;s<sp/>not</highlight></codeline>
<codeline lineno="716"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>provided,<sp/>&quot;PyInit_&quot;<sp/>+<sp/>module_name.<sp/><sp/>Only<sp/>relevant<sp/>on<sp/>Windows,<sp/>where</highlight></codeline>
<codeline lineno="717"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>.pyd<sp/>file<sp/>(DLL)<sp/>must<sp/>export<sp/>the<sp/>module<sp/>&quot;PyInit_&quot;<sp/>function.</highlight></codeline>
<codeline lineno="718"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>=<sp/>ext.name.split(</highlight><highlight class="stringliteral">&apos;.&apos;</highlight><highlight class="normal">)[-1]</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Unicode<sp/>module<sp/>name<sp/>support<sp/>as<sp/>defined<sp/>in<sp/>PEP-489</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>https://www.python.org/dev/peps/pep-0489/#export-hook-name</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name.encode(</highlight><highlight class="stringliteral">&apos;ascii&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>UnicodeEncodeError:</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>suffix<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;U_&apos;</highlight><highlight class="normal"><sp/>+<sp/>name.encode(</highlight><highlight class="stringliteral">&apos;punycode&apos;</highlight><highlight class="normal">).replace(b</highlight><highlight class="stringliteral">&apos;-&apos;</highlight><highlight class="normal">,<sp/>b</highlight><highlight class="stringliteral">&apos;_&apos;</highlight><highlight class="normal">).decode(</highlight><highlight class="stringliteral">&apos;ascii&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>suffix<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;_&quot;</highlight><highlight class="normal"><sp/>+<sp/>name</highlight></codeline>
<codeline lineno="728"><highlight class="normal"></highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>initfunc_name<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;PyInit&quot;</highlight><highlight class="normal"><sp/>+<sp/>suffix</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>initfunc_name<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ext.export_symbols:</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext.export_symbols.append(initfunc_name)</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ext.export_symbols</highlight></codeline>
<codeline lineno="733"><highlight class="normal"></highlight></codeline>
<codeline lineno="734" refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1af1d2a46f65e7293183e8a115af2d776f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1af1d2a46f65e7293183e8a115af2d776f" kindref="member">get_libraries</ref>(self,<sp/>ext):<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>C901</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>the<sp/>list<sp/>of<sp/>libraries<sp/>to<sp/>link<sp/>against<sp/>when<sp/>building<sp/>a</highlight></codeline>
<codeline lineno="736"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>shared<sp/>extension.<sp/><sp/>On<sp/>most<sp/>platforms,<sp/>this<sp/>is<sp/>just<sp/>&apos;ext.libraries&apos;;</highlight></codeline>
<codeline lineno="737"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>on<sp/>Windows,<sp/>we<sp/>add<sp/>the<sp/>Python<sp/>library<sp/>(eg.<sp/>python20.dll).</highlight></codeline>
<codeline lineno="738"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>The<sp/>python<sp/>library<sp/>is<sp/>always<sp/>needed<sp/>on<sp/>Windows.<sp/><sp/>For<sp/>MSVC,<sp/>this</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>is<sp/>redundant,<sp/>since<sp/>the<sp/>library<sp/>is<sp/>mentioned<sp/>in<sp/>a<sp/>pragma<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>pyconfig.h<sp/>that<sp/>MSVC<sp/>groks.<sp/><sp/>The<sp/>other<sp/>Windows<sp/>compilers<sp/>all<sp/>seem</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>to<sp/>need<sp/>it<sp/>mentioned<sp/>explicitly,<sp/>though,<sp/>so<sp/>that&apos;s<sp/>what<sp/>we<sp/>do.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Append<sp/>&apos;_d&apos;<sp/>to<sp/>the<sp/>python<sp/>import<sp/>library<sp/>on<sp/>debug<sp/>builds.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sys.platform<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;win32&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils._msvccompiler<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>MSVCCompiler</highlight></codeline>
<codeline lineno="746"><highlight class="normal"></highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1a7372adc37268463d9d61d196ab6b28f6" kindref="member">compiler</ref>,<sp/>MSVCCompiler):</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>template<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;python%d%d&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__distutils_1_1command_1_1build__ext_1_1build__ext_1afc220ab04304af90b36c78b4ad8e4222" kindref="member">debug</ref>:</highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>template<sp/>=<sp/>template<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;_d&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pythonlib<sp/>=<sp/>template<sp/>%<sp/>(</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sys.hexversion<sp/>&gt;&gt;<sp/>24,</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(sys.hexversion<sp/>&gt;&gt;<sp/>16)<sp/>&amp;<sp/>0xFF,</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>don&apos;t<sp/>extend<sp/>ext.libraries,<sp/>it<sp/>may<sp/>be<sp/>shared<sp/>with<sp/>other</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>extensions,<sp/>it<sp/>is<sp/>a<sp/>reference<sp/>to<sp/>the<sp/>original<sp/>list</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ext.libraries<sp/>+<sp/>[pythonlib]</highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>On<sp/>Android<sp/>only<sp/>the<sp/>main<sp/>executable<sp/>and<sp/>LD_PRELOADs<sp/>are<sp/>considered</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>to<sp/>be<sp/>RTLD_GLOBAL,<sp/>all<sp/>the<sp/>dependencies<sp/>of<sp/>the<sp/>main<sp/>executable</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>remain<sp/>RTLD_LOCAL<sp/>and<sp/>so<sp/>the<sp/>shared<sp/>libraries<sp/>must<sp/>be<sp/>linked<sp/>with</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>libpython<sp/>when<sp/>python<sp/>is<sp/>built<sp/>with<sp/>a<sp/>shared<sp/>python<sp/>library<sp/>(issue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>bpo-21536).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>On<sp/>Cygwin<sp/>(and<sp/>if<sp/>required,<sp/>other<sp/>POSIX-like<sp/>platforms<sp/>based<sp/>on</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Windows<sp/>like<sp/>MinGW)<sp/>it<sp/>is<sp/>simply<sp/>necessary<sp/>that<sp/>all<sp/>symbols<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>shared<sp/>libraries<sp/>are<sp/>resolved<sp/>at<sp/>link<sp/>time.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>distutils.sysconfig<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>get_config_var</highlight></codeline>
<codeline lineno="768"><highlight class="normal"></highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>link_libpython<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>get_config_var(</highlight><highlight class="stringliteral">&apos;Py_ENABLE_SHARED&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>A<sp/>native<sp/>build<sp/>on<sp/>an<sp/>Android<sp/>device<sp/>or<sp/>on<sp/>Cygwin</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>hasattr(sys,<sp/></highlight><highlight class="stringliteral">&apos;getandroidapilevel&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>link_libpython<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>sys.platform<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;cygwin&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>link_libpython<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;_PYTHON_HOST_PLATFORM&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>os.environ:</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>We<sp/>are<sp/>cross-compiling<sp/>for<sp/>one<sp/>of<sp/>the<sp/>relevant<sp/>platforms</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>get_config_var(</highlight><highlight class="stringliteral">&apos;ANDROID_API_LEVEL&apos;</highlight><highlight class="normal">)<sp/>!=<sp/>0:</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>link_libpython<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>get_config_var(</highlight><highlight class="stringliteral">&apos;MACHDEP&apos;</highlight><highlight class="normal">)<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;cygwin&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>link_libpython<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="782"><highlight class="normal"></highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>link_libpython:</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ldversion<sp/>=<sp/>get_config_var(</highlight><highlight class="stringliteral">&apos;LDVERSION&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ext.libraries<sp/>+<sp/>[</highlight><highlight class="stringliteral">&apos;python&apos;</highlight><highlight class="normal"><sp/>+<sp/>ldversion]</highlight></codeline>
<codeline lineno="786"><highlight class="normal"></highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ext.libraries<sp/>+<sp/>py37compat.pythonlib()</highlight></codeline>
    </programlisting>
    <location file="microservicio_data_stream/venv/Lib/site-packages/setuptools/_distutils/command/build_ext.py"/>
  </compounddef>
</doxygen>
