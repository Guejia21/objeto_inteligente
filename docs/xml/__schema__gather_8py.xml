<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="es">
  <compounddef id="__schema__gather_8py" kind="file" language="Python">
    <compoundname>_schema_gather.py</compoundname>
    <innerclass refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_gather_result" prot="public">pydantic::_internal::_schema_gather::GatherResult</innerclass>
    <innerclass refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_missing_definition_error" prot="public">pydantic::_internal::_schema_gather::MissingDefinitionError</innerclass>
    <innerclass refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_gather_context" prot="public">pydantic::_internal::_schema_gather::GatherContext</innerclass>
    <innernamespace refid="namespacepydantic">pydantic</innernamespace>
    <innernamespace refid="namespacepydantic_1_1__internal">pydantic::_internal</innernamespace>
    <innernamespace refid="namespacepydantic_1_1__internal_1_1__schema__gather">pydantic::_internal::_schema_gather</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacepydantic_1_1__internal_1_1__schema__gather" refkind="compound"><highlight class="comment">#<sp/>pyright:<sp/>reportTypedDictNotRequiredAccess=false,<sp/>reportGeneralTypeIssues=false,<sp/>reportArgumentType=false,<sp/>reportAttributeAccessIssue=false</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>__future__<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>annotations</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>dataclasses<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>dataclass,<sp/>field</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>TypedDict</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacepydantic__core_1_1core__schema" kindref="compound">pydantic_core.core_schema</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ComputedField,<sp/>CoreSchema,<sp/>DefinitionReferenceSchema,<sp/>SerSchema</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing_extensions<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>TypeAlias</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10" refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a05631ba672f4e0c38008fccff68027f9" refkind="member"><highlight class="normal">AllSchemas:<sp/>TypeAlias<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;CoreSchema<sp/>|<sp/>SerSchema<sp/>|<sp/>ComputedField&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13" refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_gather_result" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_gather_result" kindref="compound">GatherResult</ref>(TypedDict):</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Schema<sp/>traversing<sp/>result.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16" refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_gather_result_1a84a6b2e96354de37e3d1201b7b15f471" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>collected_references:<sp/>dict[str,<sp/>DefinitionReferenceSchema<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;The<sp/>collected<sp/>definition<sp/>references.</highlight></codeline>
<codeline lineno="18"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="19"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>a<sp/>definition<sp/>reference<sp/>schema<sp/>can<sp/>be<sp/>inlined,<sp/>it<sp/>means<sp/>that<sp/>there<sp/>is</highlight></codeline>
<codeline lineno="20"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>only<sp/>one<sp/>in<sp/>the<sp/>whole<sp/>core<sp/>schema.<sp/>As<sp/>such,<sp/>it<sp/>is<sp/>stored<sp/>as<sp/>the<sp/>value.</highlight></codeline>
<codeline lineno="21"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Otherwise,<sp/>the<sp/>value<sp/>is<sp/>set<sp/>to<sp/>`None`.</highlight></codeline>
<codeline lineno="22"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24" refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_gather_result_1a2699c6a3686d0f48d141e53202f6a676" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>deferred_discriminator_schemas:<sp/>list[CoreSchema]</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;The<sp/>list<sp/>of<sp/>core<sp/>schemas<sp/>having<sp/>the<sp/>discriminator<sp/>application<sp/>deferred.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28" refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_missing_definition_error" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_missing_definition_error" kindref="compound">MissingDefinitionError</ref>(LookupError):</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;A<sp/>reference<sp/>was<sp/>pointing<sp/>to<sp/>a<sp/>non-existing<sp/>core<sp/>schema.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>schema_reference:<sp/>str,<sp/>/)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="32" refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_missing_definition_error_1a6effc5cc9b590672b1e17e0967c25c3c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_missing_definition_error_1a6effc5cc9b590672b1e17e0967c25c3c" kindref="member">schema_reference</ref><sp/>=<sp/>schema_reference</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">@dataclass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36" refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_gather_context" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_gather_context" kindref="compound">GatherContext</ref>:</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;The<sp/>current<sp/>context<sp/>used<sp/>during<sp/>core<sp/>schema<sp/>traversing.</highlight></codeline>
<codeline lineno="38"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="39"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Context<sp/>instances<sp/>should<sp/>only<sp/>be<sp/>used<sp/>during<sp/>schema<sp/>traversing.</highlight></codeline>
<codeline lineno="40"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42" refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_gather_context_1a740eeb58cc1d0bf518ec8c6c876e7493" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>definitions:<sp/>dict[str,<sp/>CoreSchema]</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;The<sp/>available<sp/>definitions.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45" refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_gather_context_1ae3ca4e16dbc3c298ec57366c105f3df9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>deferred_discriminator_schemas:<sp/>list[CoreSchema]<sp/>=<sp/>field(init=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>default_factory=list)</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;The<sp/>list<sp/>of<sp/>core<sp/>schemas<sp/>having<sp/>the<sp/>discriminator<sp/>application<sp/>deferred.</highlight></codeline>
<codeline lineno="47"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="48"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Internally,<sp/>these<sp/>core<sp/>schemas<sp/>have<sp/>a<sp/>specific<sp/>key<sp/>set<sp/>in<sp/>the<sp/>core<sp/>metadata<sp/>dict.</highlight></codeline>
<codeline lineno="49"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight></codeline>
<codeline lineno="51" refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_gather_context_1a0cf26c0697335122b5d248d0f8458c0b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>collected_references:<sp/>dict[str,<sp/>DefinitionReferenceSchema<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">]<sp/>=<sp/>field(init=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>default_factory=dict)</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;The<sp/>collected<sp/>definition<sp/>references.</highlight></codeline>
<codeline lineno="53"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="54"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>a<sp/>definition<sp/>reference<sp/>schema<sp/>can<sp/>be<sp/>inlined,<sp/>it<sp/>means<sp/>that<sp/>there<sp/>is</highlight></codeline>
<codeline lineno="55"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>only<sp/>one<sp/>in<sp/>the<sp/>whole<sp/>core<sp/>schema.<sp/>As<sp/>such,<sp/>it<sp/>is<sp/>stored<sp/>as<sp/>the<sp/>value.</highlight></codeline>
<codeline lineno="56"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Otherwise,<sp/>the<sp/>value<sp/>is<sp/>set<sp/>to<sp/>`None`.</highlight></codeline>
<codeline lineno="57"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="58"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>During<sp/>schema<sp/>traversing,<sp/>definition<sp/>reference<sp/>schemas<sp/>can<sp/>be<sp/>added<sp/>as<sp/>candidates,<sp/>or<sp/>removed</highlight></codeline>
<codeline lineno="59"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(by<sp/>setting<sp/>the<sp/>value<sp/>to<sp/>`None`).</highlight></codeline>
<codeline lineno="60"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63" refid="namespacepydantic_1_1__internal_1_1__schema__gather_1aa37ad69e373e857b5faa3f172b53cb47" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1aa37ad69e373e857b5faa3f172b53cb47" kindref="member">traverse_metadata</ref>(schema:<sp/>AllSchemas,<sp/>ctx:<sp/>GatherContext)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>meta<sp/>=<sp/>schema.get(</highlight><highlight class="stringliteral">&apos;metadata&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>meta<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;pydantic_internal_union_discriminator&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>meta:</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ctx.deferred_discriminator_schemas.append(schema)<sp/><sp/></highlight><highlight class="comment">#<sp/>pyright:<sp/>ignore[reportArgumentType]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69" refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a26896d73b2be7605ff01ebd4f8f884e3" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a26896d73b2be7605ff01ebd4f8f884e3" kindref="member">traverse_definition_ref</ref>(def_ref_schema:<sp/>DefinitionReferenceSchema,<sp/>ctx:<sp/>GatherContext)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/>schema_ref<sp/>=<sp/>def_ref_schema[</highlight><highlight class="stringliteral">&apos;schema_ref&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>schema_ref<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ctx.collected_references:</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>definition<sp/>=<sp/>ctx.definitions.get(schema_ref)</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>definition<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_missing_definition_error" kindref="compound">MissingDefinitionError</ref>(schema_ref)</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>The<sp/>`&apos;definition-ref&apos;`<sp/>schema<sp/>was<sp/>only<sp/>encountered<sp/>once,<sp/>make<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>a<sp/>candidate<sp/>to<sp/>be<sp/>inlined:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ctx.collected_references[schema_ref]<sp/>=<sp/>def_ref_schema</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(definition,<sp/>ctx)</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;serialization&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>def_ref_schema:</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(def_ref_schema[</highlight><highlight class="stringliteral">&apos;serialization&apos;</highlight><highlight class="normal">],<sp/>ctx)</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1aa37ad69e373e857b5faa3f172b53cb47" kindref="member">traverse_metadata</ref>(def_ref_schema,<sp/>ctx)</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>The<sp/>`&apos;definition-ref&apos;`<sp/>schema<sp/>was<sp/>already<sp/>encountered,<sp/>meaning</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>previously<sp/>encountered<sp/>schema<sp/>(and<sp/>this<sp/>one)<sp/>can&apos;t<sp/>be<sp/>inlined:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ctx.collected_references[schema_ref]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90" refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema:<sp/>AllSchemas,<sp/>context:<sp/>GatherContext)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>TODO<sp/>When<sp/>we<sp/>drop<sp/>3.9,<sp/>use<sp/>a<sp/>match<sp/>statement<sp/>to<sp/>get<sp/>better<sp/>type<sp/>checking<sp/>and<sp/>remove</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>file-level<sp/>type<sp/>ignore.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>(the<sp/>`&apos;type&apos;`<sp/>could<sp/>also<sp/>be<sp/>fetched<sp/>in<sp/>every<sp/>`if/elif`<sp/>statement,<sp/>but<sp/>this<sp/>alters<sp/>performance).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/>schema_type<sp/>=<sp/>schema[</highlight><highlight class="stringliteral">&apos;type&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;definition-ref&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a26896d73b2be7605ff01ebd4f8f884e3" kindref="member">traverse_definition_ref</ref>(schema,<sp/>context)</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>`traverse_definition_ref`<sp/>handles<sp/>the<sp/>possible<sp/>serialization<sp/>and<sp/>metadata<sp/>schemas:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;definitions&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>definition<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema[</highlight><highlight class="stringliteral">&apos;definitions&apos;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(definition,<sp/>context)</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>{</highlight><highlight class="stringliteral">&apos;list&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;set&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;frozenset&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;generator&apos;</highlight><highlight class="normal">}:</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;items_schema&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;items_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;tuple&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;items_schema&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>s<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema[</highlight><highlight class="stringliteral">&apos;items_schema&apos;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(s,<sp/>context)</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;dict&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;keys_schema&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;keys_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;values_schema&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;values_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;union&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>choice<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema[</highlight><highlight class="stringliteral">&apos;choices&apos;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(choice,<sp/>tuple):</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(choice[0],<sp/>context)</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(choice,<sp/>context)</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;tagged-union&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>v<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema[</highlight><highlight class="stringliteral">&apos;choices&apos;</highlight><highlight class="normal">].values():</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(v,<sp/>context)</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;chain&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>step<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema[</highlight><highlight class="stringliteral">&apos;steps&apos;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(step,<sp/>context)</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;lax-or-strict&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;lax_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;strict_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;json-or-python&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;json_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;python_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>{</highlight><highlight class="stringliteral">&apos;model-fields&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;typed-dict&apos;</highlight><highlight class="normal">}:</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;extras_schema&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;extras_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;computed_fields&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>s<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema[</highlight><highlight class="stringliteral">&apos;computed_fields&apos;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(s,<sp/>context)</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>s<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema[</highlight><highlight class="stringliteral">&apos;fields&apos;</highlight><highlight class="normal">].values():</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(s,<sp/>context)</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;dataclass-args&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;computed_fields&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>s<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema[</highlight><highlight class="stringliteral">&apos;computed_fields&apos;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(s,<sp/>context)</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>s<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema[</highlight><highlight class="stringliteral">&apos;fields&apos;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(s,<sp/>context)</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;arguments&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>s<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema[</highlight><highlight class="stringliteral">&apos;arguments_schema&apos;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(s[</highlight><highlight class="stringliteral">&apos;schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;var_args_schema&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;var_args_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;var_kwargs_schema&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;var_kwargs_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;arguments-v3&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>s<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema[</highlight><highlight class="stringliteral">&apos;arguments_schema&apos;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(s[</highlight><highlight class="stringliteral">&apos;schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;call&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;arguments_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;return_schema&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;return_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;computed-field&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;return_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;function-before&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;schema&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;json_schema_input_schema&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;json_schema_input_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;function-plain&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>TODO<sp/>duplicate<sp/>schema<sp/>types<sp/>for<sp/>serializers<sp/>and<sp/>validators,<sp/>needs<sp/>to<sp/>be<sp/>deduplicated.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;return_schema&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;return_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;json_schema_input_schema&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;json_schema_input_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>schema_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;function-wrap&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>TODO<sp/>duplicate<sp/>schema<sp/>types<sp/>for<sp/>serializers<sp/>and<sp/>validators,<sp/>needs<sp/>to<sp/>be<sp/>deduplicated.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;return_schema&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;return_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;schema&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;json_schema_input_schema&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;json_schema_input_schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;schema&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;schema&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;serialization&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>schema:</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema[</highlight><highlight class="stringliteral">&apos;serialization&apos;</highlight><highlight class="normal">],<sp/>context)</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1aa37ad69e373e857b5faa3f172b53cb47" kindref="member">traverse_metadata</ref>(schema,<sp/>context)</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"></highlight></codeline>
<codeline lineno="192" refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a940797c90c681e5555b7a04e1d60ebf7" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a940797c90c681e5555b7a04e1d60ebf7" kindref="member">gather_schemas_for_cleaning</ref>(schema:<sp/>CoreSchema,<sp/>definitions:<sp/>dict[str,<sp/>CoreSchema])<sp/>-&gt;<sp/>GatherResult:</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Traverse<sp/>the<sp/>core<sp/>schema<sp/>and<sp/>definitions<sp/>and<sp/>return<sp/>the<sp/>necessary<sp/>information<sp/>for<sp/>schema<sp/>cleaning.</highlight></codeline>
<codeline lineno="194"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="195"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>During<sp/>the<sp/>core<sp/>schema<sp/>traversing,<sp/>any<sp/>`&apos;definition-ref&apos;`<sp/>schema<sp/>is:</highlight></codeline>
<codeline lineno="196"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="197"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-<sp/>Validated:<sp/>the<sp/>reference<sp/>must<sp/>point<sp/>to<sp/>an<sp/>existing<sp/>definition.<sp/>If<sp/>this<sp/>is<sp/>not<sp/>the<sp/>case,<sp/>a</highlight></codeline>
<codeline lineno="198"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>`MissingDefinitionError`<sp/>exception<sp/>is<sp/>raised.</highlight></codeline>
<codeline lineno="199"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-<sp/>Stored<sp/>in<sp/>the<sp/>context:<sp/>the<sp/>actual<sp/>reference<sp/>is<sp/>stored<sp/>in<sp/>the<sp/>context.<sp/>Depending<sp/>on<sp/>whether</highlight></codeline>
<codeline lineno="200"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>`&apos;definition-ref&apos;`<sp/>schema<sp/>is<sp/>encountered<sp/>more<sp/>that<sp/>once,<sp/>the<sp/>schema<sp/>itself<sp/>is<sp/>also</highlight></codeline>
<codeline lineno="201"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>saved<sp/>in<sp/>the<sp/>context<sp/>to<sp/>be<sp/>inlined<sp/>(i.e.<sp/>replaced<sp/>by<sp/>the<sp/>definition<sp/>it<sp/>points<sp/>to).</highlight></codeline>
<codeline lineno="202"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>context<sp/>=<sp/><ref refid="classpydantic_1_1__internal_1_1__schema__gather_1_1_gather_context" kindref="compound">GatherContext</ref>(definitions)</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacepydantic_1_1__internal_1_1__schema__gather_1a9044b26fbb60c1a31431c2a4cf48f557" kindref="member">traverse_schema</ref>(schema,<sp/>context)</highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;collected_references&apos;</highlight><highlight class="normal">:<sp/>context.collected_references,</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;deferred_discriminator_schemas&apos;</highlight><highlight class="normal">:<sp/>context.deferred_discriminator_schemas,</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
    </programlisting>
    <location file="micro_gestion_objetos/venv/Lib/site-packages/pydantic/_internal/_schema_gather.py"/>
  </compounddef>
</doxygen>
