<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="es">
  <compounddef id="setuptools_2__vendor_2more__itertools_2more_8py" kind="file" language="Python">
    <compoundname>more.py</compoundname>
    <innerclass refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable" prot="public">setuptools::_vendor::more_itertools::more::peekable</innerclass>
    <innerclass refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket" prot="public">setuptools::_vendor::more_itertools::more::bucket</innerclass>
    <innerclass refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_unequal_iterables_error" prot="public">setuptools::_vendor::more_itertools::more::UnequalIterablesError</innerclass>
    <innerclass refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range" prot="public">setuptools::_vendor::more_itertools::more::numeric_range</innerclass>
    <innerclass refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1islice__extended" prot="public">setuptools::_vendor::more_itertools::more::islice_extended</innerclass>
    <innerclass refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_sequence_view" prot="public">setuptools::_vendor::more_itertools::more::SequenceView</innerclass>
    <innerclass refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable" prot="public">setuptools::_vendor::more_itertools::more::seekable</innerclass>
    <innerclass refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1run__length" prot="public">setuptools::_vendor::more_itertools::more::run_length</innerclass>
    <innerclass refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1time__limited" prot="public">setuptools::_vendor::more_itertools::more::time_limited</innerclass>
    <innerclass refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_abort_thread" prot="public">setuptools::_vendor::more_itertools::more::AbortThread</innerclass>
    <innerclass refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter" prot="public">setuptools::_vendor::more_itertools::more::callback_iter</innerclass>
    <innerclass refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1countable" prot="public">setuptools::_vendor::more_itertools::more::countable</innerclass>
    <innernamespace refid="namespacesetuptools">setuptools</innernamespace>
    <innernamespace refid="namespacesetuptools_1_1__vendor">setuptools::_vendor</innernamespace>
    <innernamespace refid="namespacesetuptools_1_1__vendor_1_1more__itertools">setuptools::_vendor::more_itertools</innernamespace>
    <innernamespace refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more">setuptools::_vendor::more_itertools::more</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more" refkind="compound"><highlight class="keyword">import</highlight><highlight class="normal"><sp/>warnings</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>collections<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Counter,<sp/>defaultdict,<sp/>deque,<sp/>abc</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacecollections_1_1abc" kindref="compound">collections.abc</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Sequence</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>functools<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>partial,<sp/>reduce,<sp/>wraps</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>heapq<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>merge,<sp/>heapify,<sp/>heapreplace,<sp/>heappop</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>itertools<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="8"><highlight class="normal"><sp/><sp/><sp/><sp/>chain,</highlight></codeline>
<codeline lineno="9"><highlight class="normal"><sp/><sp/><sp/><sp/>compress,</highlight></codeline>
<codeline lineno="10"><highlight class="normal"><sp/><sp/><sp/><sp/>count,</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/>cycle,</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/>dropwhile,</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/>groupby,</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/>islice,</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/>repeat,</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/>starmap,</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/>takewhile,</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/>tee,</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/>zip_longest,</highlight></codeline>
<codeline lineno="20"><highlight class="normal">)</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>math<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>exp,<sp/>factorial,<sp/>floor,<sp/>log</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>queue<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Empty,<sp/>Queue</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>random<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>random,<sp/>randrange,<sp/>uniform</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>operator<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>itemgetter,<sp/>mul,<sp/>sub,<sp/>gt,<sp/>lt</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>sys<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>hexversion,<sp/>maxsize</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>time<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>monotonic</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.recipes<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/>consume,</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/>flatten,</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>pairwise,</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/>powerset,</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/>take,</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>unique_everseen,</highlight></codeline>
<codeline lineno="35"><highlight class="normal">)</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal">__all__<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;AbortThread&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;adjacent&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;always_iterable&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;always_reversible&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;bucket&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;callback_iter&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;chunked&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;circular_shifts&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;collapse&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;collate&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;consecutive_groups&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;consumer&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;countable&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;count_cycle&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;mark_ends&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;difference&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;distinct_combinations&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;distinct_permutations&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;distribute&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;divide&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;exactly_n&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;filter_except&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;first&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;groupby_transform&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;ilen&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;interleave_longest&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;interleave&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;intersperse&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;islice_extended&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;iterate&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;ichunked&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;is_sorted&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;last&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;locate&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;lstrip&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;make_decorator&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;map_except&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;map_reduce&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;nth_or_last&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;nth_permutation&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;nth_product&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;numeric_range&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;one&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;only&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;padded&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;partitions&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;set_partitions&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;peekable&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;repeat_last&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;replace&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;rlocate&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;rstrip&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;run_length&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;sample&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;seekable&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;SequenceView&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;side_effect&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;sliced&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;sort_together&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;split_at&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;split_after&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;split_before&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;split_when&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;split_into&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;spy&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;stagger&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;strip&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;substrings&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;substrings_indexes&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;time_limited&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;unique_to_each&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;unzip&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;windowed&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;with_iter&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;UnequalIterablesError&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;zip_equal&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;zip_offset&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;windowed_complete&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;all_unique&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;value_chain&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;product_index&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;combination_index&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;permutation_index&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="121"><highlight class="normal">]</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a67c5ce81dc3269a7393daed34ec304f1" refkind="member"><highlight class="normal">_marker<sp/>=<sp/>object()</highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="126" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1abffb53abf1266b52e612759e97a93b4d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1abffb53abf1266b52e612759e97a93b4d" kindref="member">chunked</ref>(iterable,<sp/>n,<sp/>strict=False):</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Break<sp/>*iterable*<sp/>into<sp/>lists<sp/>of<sp/>length<sp/>*n*:</highlight></codeline>
<codeline lineno="128"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="129"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(chunked([1,<sp/>2,<sp/>3,<sp/>4,<sp/>5,<sp/>6],<sp/>3))</highlight></codeline>
<codeline lineno="130"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[1,<sp/>2,<sp/>3],<sp/>[4,<sp/>5,<sp/>6]]</highlight></codeline>
<codeline lineno="131"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="132"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>By<sp/>the<sp/>default,<sp/>the<sp/>last<sp/>yielded<sp/>list<sp/>will<sp/>have<sp/>fewer<sp/>than<sp/>*n*<sp/>elements</highlight></codeline>
<codeline lineno="133"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>if<sp/>the<sp/>length<sp/>of<sp/>*iterable*<sp/>is<sp/>not<sp/>divisible<sp/>by<sp/>*n*:</highlight></codeline>
<codeline lineno="134"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="135"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(chunked([1,<sp/>2,<sp/>3,<sp/>4,<sp/>5,<sp/>6,<sp/>7,<sp/>8],<sp/>3))</highlight></codeline>
<codeline lineno="136"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[1,<sp/>2,<sp/>3],<sp/>[4,<sp/>5,<sp/>6],<sp/>[7,<sp/>8]]</highlight></codeline>
<codeline lineno="137"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="138"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>To<sp/>use<sp/>a<sp/>fill-in<sp/>value<sp/>instead,<sp/>see<sp/>the<sp/>:func:`grouper`<sp/>recipe.</highlight></codeline>
<codeline lineno="139"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="140"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>length<sp/>of<sp/>*iterable*<sp/>is<sp/>not<sp/>divisible<sp/>by<sp/>*n*<sp/>and<sp/>*strict*<sp/>is</highlight></codeline>
<codeline lineno="141"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``True``,<sp/>then<sp/>``ValueError``<sp/>will<sp/>be<sp/>raised<sp/>before<sp/>the<sp/>last</highlight></codeline>
<codeline lineno="142"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>list<sp/>is<sp/>yielded.</highlight></codeline>
<codeline lineno="143"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="144"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>iterator<sp/>=<sp/>iter(partial(take,<sp/>n,<sp/>iter(iterable)),<sp/>[])</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>strict:</highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">ret():</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>chunk<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>iterator:</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(chunk)<sp/>!=<sp/>n:</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;iterable<sp/>is<sp/>not<sp/>divisible<sp/>by<sp/>n.&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>chunk</highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iter(ret())</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iterator</highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="159" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a3d65f68012304f562994508d19d68b4b" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a3d65f68012304f562994508d19d68b4b" kindref="member">first</ref>(iterable,<sp/>default=_marker):</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>the<sp/>first<sp/>item<sp/>of<sp/>*iterable*,<sp/>or<sp/>*default*<sp/>if<sp/>*iterable*<sp/>is</highlight></codeline>
<codeline lineno="161"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>empty.</highlight></codeline>
<codeline lineno="162"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="163"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>first([0,<sp/>1,<sp/>2,<sp/>3])</highlight></codeline>
<codeline lineno="164"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0</highlight></codeline>
<codeline lineno="165"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>first([],<sp/>&apos;some<sp/>default&apos;)</highlight></codeline>
<codeline lineno="166"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;some<sp/>default&apos;</highlight></codeline>
<codeline lineno="167"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="168"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*default*<sp/>is<sp/>not<sp/>provided<sp/>and<sp/>there<sp/>are<sp/>no<sp/>items<sp/>in<sp/>the<sp/>iterable,</highlight></codeline>
<codeline lineno="169"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>raise<sp/>``ValueError``.</highlight></codeline>
<codeline lineno="170"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="171"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:func:`first`<sp/>is<sp/>useful<sp/>when<sp/>you<sp/>have<sp/>a<sp/>generator<sp/>of<sp/>expensive-to-retrieve</highlight></codeline>
<codeline lineno="172"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>values<sp/>and<sp/>want<sp/>any<sp/>arbitrary<sp/>one.<sp/>It<sp/>is<sp/>marginally<sp/>shorter<sp/>than</highlight></codeline>
<codeline lineno="173"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``next(iter(iterable),<sp/>default)``.</highlight></codeline>
<codeline lineno="174"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="175"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>next(iter(iterable))</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopIteration<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>e:</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>default<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>_marker:</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;first()<sp/>was<sp/>called<sp/>on<sp/>an<sp/>empty<sp/>iterable,<sp/>and<sp/>no<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;default<sp/>value<sp/>was<sp/>provided.&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>e</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>default</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight></codeline>
<codeline lineno="187" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a8451a225701bd3bc60ca00f234062208" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a8451a225701bd3bc60ca00f234062208" kindref="member">last</ref>(iterable,<sp/>default=_marker):</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>the<sp/>last<sp/>item<sp/>of<sp/>*iterable*,<sp/>or<sp/>*default*<sp/>if<sp/>*iterable*<sp/>is</highlight></codeline>
<codeline lineno="189"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>empty.</highlight></codeline>
<codeline lineno="190"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="191"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>last([0,<sp/>1,<sp/>2,<sp/>3])</highlight></codeline>
<codeline lineno="192"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>3</highlight></codeline>
<codeline lineno="193"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>last([],<sp/>&apos;some<sp/>default&apos;)</highlight></codeline>
<codeline lineno="194"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;some<sp/>default&apos;</highlight></codeline>
<codeline lineno="195"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="196"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*default*<sp/>is<sp/>not<sp/>provided<sp/>and<sp/>there<sp/>are<sp/>no<sp/>items<sp/>in<sp/>the<sp/>iterable,</highlight></codeline>
<codeline lineno="197"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>raise<sp/>``ValueError``.</highlight></codeline>
<codeline lineno="198"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(iterable,<sp/>Sequence):</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iterable[-1]</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Work<sp/>around<sp/>https://bugs.python.org/issue38525</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>hasattr(iterable,<sp/></highlight><highlight class="stringliteral">&apos;__reversed__&apos;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>(hexversion<sp/>!=<sp/>0x030800F0):</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>next(reversed(iterable))</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>deque(iterable,<sp/>maxlen=1)[-1]</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>(IndexError,<sp/>TypeError,<sp/>StopIteration):</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>default<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>_marker:</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;last()<sp/>was<sp/>called<sp/>on<sp/>an<sp/>empty<sp/>iterable,<sp/>and<sp/>no<sp/>default<sp/>was<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;provided.&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>default</highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"></highlight></codeline>
<codeline lineno="216" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a7b1c123134b401ca372bc206b6fae7ba" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a7b1c123134b401ca372bc206b6fae7ba" kindref="member">nth_or_last</ref>(iterable,<sp/>n,<sp/>default=_marker):</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>the<sp/>nth<sp/>or<sp/>the<sp/>last<sp/>item<sp/>of<sp/>*iterable*,</highlight></codeline>
<codeline lineno="218"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>or<sp/>*default*<sp/>if<sp/>*iterable*<sp/>is<sp/>empty.</highlight></codeline>
<codeline lineno="219"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="220"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>nth_or_last([0,<sp/>1,<sp/>2,<sp/>3],<sp/>2)</highlight></codeline>
<codeline lineno="221"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>2</highlight></codeline>
<codeline lineno="222"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>nth_or_last([0,<sp/>1],<sp/>2)</highlight></codeline>
<codeline lineno="223"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1</highlight></codeline>
<codeline lineno="224"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>nth_or_last([],<sp/>0,<sp/>&apos;some<sp/>default&apos;)</highlight></codeline>
<codeline lineno="225"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;some<sp/>default&apos;</highlight></codeline>
<codeline lineno="226"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="227"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*default*<sp/>is<sp/>not<sp/>provided<sp/>and<sp/>there<sp/>are<sp/>no<sp/>items<sp/>in<sp/>the<sp/>iterable,</highlight></codeline>
<codeline lineno="228"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>raise<sp/>``ValueError``.</highlight></codeline>
<codeline lineno="229"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a8451a225701bd3bc60ca00f234062208" kindref="member">last</ref>(islice(iterable,<sp/>n<sp/>+<sp/>1),<sp/>default=default)</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable" kindref="compound">peekable</ref>:</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Wrap<sp/>an<sp/>iterator<sp/>to<sp/>allow<sp/>lookahead<sp/>and<sp/>prepending<sp/>elements.</highlight></codeline>
<codeline lineno="235"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="236"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Call<sp/>:meth:`peek`<sp/>on<sp/>the<sp/>result<sp/>to<sp/>get<sp/>the<sp/>value<sp/>that<sp/>will<sp/>be<sp/>returned</highlight></codeline>
<codeline lineno="237"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>by<sp/>:func:`next`.<sp/>This<sp/>won&apos;t<sp/>advance<sp/>the<sp/>iterator:</highlight></codeline>
<codeline lineno="238"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="239"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>p<sp/>=<sp/>peekable([&apos;a&apos;,<sp/>&apos;b&apos;])</highlight></codeline>
<codeline lineno="240"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>p.peek()</highlight></codeline>
<codeline lineno="241"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;a&apos;</highlight></codeline>
<codeline lineno="242"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(p)</highlight></codeline>
<codeline lineno="243"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;a&apos;</highlight></codeline>
<codeline lineno="244"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="245"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Pass<sp/>:meth:`peek`<sp/>a<sp/>default<sp/>value<sp/>to<sp/>return<sp/>that<sp/>instead<sp/>of<sp/>raising</highlight></codeline>
<codeline lineno="246"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``StopIteration``<sp/>when<sp/>the<sp/>iterator<sp/>is<sp/>exhausted.</highlight></codeline>
<codeline lineno="247"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="248"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>p<sp/>=<sp/>peekable([])</highlight></codeline>
<codeline lineno="249"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>p.peek(&apos;hi&apos;)</highlight></codeline>
<codeline lineno="250"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;hi&apos;</highlight></codeline>
<codeline lineno="251"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="252"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>peekables<sp/>also<sp/>offer<sp/>a<sp/>:meth:`prepend`<sp/>method,<sp/>which<sp/>&quot;inserts&quot;<sp/>items</highlight></codeline>
<codeline lineno="253"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>at<sp/>the<sp/>head<sp/>of<sp/>the<sp/>iterable:</highlight></codeline>
<codeline lineno="254"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="255"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>p<sp/>=<sp/>peekable([1,<sp/>2,<sp/>3])</highlight></codeline>
<codeline lineno="256"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>p.prepend(10,<sp/>11,<sp/>12)</highlight></codeline>
<codeline lineno="257"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(p)</highlight></codeline>
<codeline lineno="258"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>10</highlight></codeline>
<codeline lineno="259"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>p.peek()</highlight></codeline>
<codeline lineno="260"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>11</highlight></codeline>
<codeline lineno="261"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(p)</highlight></codeline>
<codeline lineno="262"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[11,<sp/>12,<sp/>1,<sp/>2,<sp/>3]</highlight></codeline>
<codeline lineno="263"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="264"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>peekables<sp/>can<sp/>be<sp/>indexed.<sp/>Index<sp/>0<sp/>is<sp/>the<sp/>item<sp/>that<sp/>will<sp/>be<sp/>returned<sp/>by</highlight></codeline>
<codeline lineno="265"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:func:`next`,<sp/>index<sp/>1<sp/>is<sp/>the<sp/>item<sp/>after<sp/>that,<sp/>and<sp/>so<sp/>on:</highlight></codeline>
<codeline lineno="266"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>values<sp/>up<sp/>to<sp/>the<sp/>given<sp/>index<sp/>will<sp/>be<sp/>cached.</highlight></codeline>
<codeline lineno="267"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="268"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>p<sp/>=<sp/>peekable([&apos;a&apos;,<sp/>&apos;b&apos;,<sp/>&apos;c&apos;,<sp/>&apos;d&apos;])</highlight></codeline>
<codeline lineno="269"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>p[0]</highlight></codeline>
<codeline lineno="270"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;a&apos;</highlight></codeline>
<codeline lineno="271"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>p[1]</highlight></codeline>
<codeline lineno="272"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;b&apos;</highlight></codeline>
<codeline lineno="273"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(p)</highlight></codeline>
<codeline lineno="274"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;a&apos;</highlight></codeline>
<codeline lineno="275"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="276"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Negative<sp/>indexes<sp/>are<sp/>supported,<sp/>but<sp/>be<sp/>aware<sp/>that<sp/>they<sp/>will<sp/>cache<sp/>the</highlight></codeline>
<codeline lineno="277"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>remaining<sp/>items<sp/>in<sp/>the<sp/>source<sp/>iterator,<sp/>which<sp/>may<sp/>require<sp/>significant</highlight></codeline>
<codeline lineno="278"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>storage.</highlight></codeline>
<codeline lineno="279"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="280"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>To<sp/>check<sp/>whether<sp/>a<sp/>peekable<sp/>is<sp/>exhausted,<sp/>check<sp/>its<sp/>truth<sp/>value:</highlight></codeline>
<codeline lineno="281"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="282"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>p<sp/>=<sp/>peekable([&apos;a&apos;,<sp/>&apos;b&apos;])</highlight></codeline>
<codeline lineno="283"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>if<sp/>p:<sp/><sp/>#<sp/>peekable<sp/>has<sp/>items</highlight></codeline>
<codeline lineno="284"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>list(p)</highlight></codeline>
<codeline lineno="285"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;a&apos;,<sp/>&apos;b&apos;]</highlight></codeline>
<codeline lineno="286"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>if<sp/>not<sp/>p:<sp/><sp/>#<sp/>peekable<sp/>is<sp/>exhausted</highlight></codeline>
<codeline lineno="287"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>list(p)</highlight></codeline>
<codeline lineno="288"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[]</highlight></codeline>
<codeline lineno="289"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="290"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>iterable):</highlight></codeline>
<codeline lineno="293" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a755a43e84bd8f26d8db7cf71a695e7f3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a755a43e84bd8f26d8db7cf71a695e7f3" kindref="member">_it</ref><sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="294" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a1d794c080c52e96e53ba8119e567413f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a1d794c080c52e96e53ba8119e567413f" kindref="member">_cache</ref><sp/>=<sp/>deque()</highlight></codeline>
<codeline lineno="295"><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__iter__(self):</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__bool__(self):</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a6411a77407138b350e0726398b52ebe4" kindref="member">peek</ref>()</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopIteration:</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight></codeline>
<codeline lineno="306" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a6411a77407138b350e0726398b52ebe4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a6411a77407138b350e0726398b52ebe4" kindref="member">peek</ref>(self,<sp/>default=_marker):</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>the<sp/>item<sp/>that<sp/>will<sp/>be<sp/>next<sp/>returned<sp/>from<sp/>``next()``.</highlight></codeline>
<codeline lineno="308"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="309"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Return<sp/>``default``<sp/>if<sp/>there<sp/>are<sp/>no<sp/>items<sp/>left.<sp/>If<sp/>``default``<sp/>is<sp/>not</highlight></codeline>
<codeline lineno="310"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>provided,<sp/>raise<sp/>``StopIteration``.</highlight></codeline>
<codeline lineno="311"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="312"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a1d794c080c52e96e53ba8119e567413f" kindref="member">_cache</ref>:</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a1d794c080c52e96e53ba8119e567413f" kindref="member">_cache</ref>.append(next(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a755a43e84bd8f26d8db7cf71a695e7f3" kindref="member">_it</ref>))</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopIteration:</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>default<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>_marker:</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>default</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a1d794c080c52e96e53ba8119e567413f" kindref="member">_cache</ref>[0]</highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight></codeline>
<codeline lineno="322" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a3288d6bb9b2c54d7e02d43e63914543f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a3288d6bb9b2c54d7e02d43e63914543f" kindref="member">prepend</ref>(self,<sp/>*items):</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Stack<sp/>up<sp/>items<sp/>to<sp/>be<sp/>the<sp/>next<sp/>ones<sp/>returned<sp/>from<sp/>``next()``<sp/>or</highlight></codeline>
<codeline lineno="324"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>``self.peek()``.<sp/>The<sp/>items<sp/>will<sp/>be<sp/>returned<sp/>in</highlight></codeline>
<codeline lineno="325"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>first<sp/>in,<sp/>first<sp/>out<sp/>order::</highlight></codeline>
<codeline lineno="326"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="327"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>p<sp/>=<sp/>peekable([1,<sp/>2,<sp/>3])</highlight></codeline>
<codeline lineno="328"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>p.prepend(10,<sp/>11,<sp/>12)</highlight></codeline>
<codeline lineno="329"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(p)</highlight></codeline>
<codeline lineno="330"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>10</highlight></codeline>
<codeline lineno="331"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(p)</highlight></codeline>
<codeline lineno="332"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[11,<sp/>12,<sp/>1,<sp/>2,<sp/>3]</highlight></codeline>
<codeline lineno="333"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="334"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>It<sp/>is<sp/>possible,<sp/>by<sp/>prepending<sp/>items,<sp/>to<sp/>&quot;resurrect&quot;<sp/>a<sp/>peekable<sp/>that</highlight></codeline>
<codeline lineno="335"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>previously<sp/>raised<sp/>``StopIteration``.</highlight></codeline>
<codeline lineno="336"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="337"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>p<sp/>=<sp/>peekable([])</highlight></codeline>
<codeline lineno="338"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(p)</highlight></codeline>
<codeline lineno="339"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Traceback<sp/>(most<sp/>recent<sp/>call<sp/>last):</highlight></codeline>
<codeline lineno="340"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="341"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>StopIteration</highlight></codeline>
<codeline lineno="342"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>p.prepend(1)</highlight></codeline>
<codeline lineno="343"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(p)</highlight></codeline>
<codeline lineno="344"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1</highlight></codeline>
<codeline lineno="345"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(p)</highlight></codeline>
<codeline lineno="346"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Traceback<sp/>(most<sp/>recent<sp/>call<sp/>last):</highlight></codeline>
<codeline lineno="347"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="348"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>StopIteration</highlight></codeline>
<codeline lineno="349"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="350"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a1d794c080c52e96e53ba8119e567413f" kindref="member">_cache</ref>.extendleft(reversed(items))</highlight></codeline>
<codeline lineno="352"><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__next__(self):</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a1d794c080c52e96e53ba8119e567413f" kindref="member">_cache</ref>:</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a1d794c080c52e96e53ba8119e567413f" kindref="member">_cache</ref>.popleft()</highlight></codeline>
<codeline lineno="356"><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>next(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a755a43e84bd8f26d8db7cf71a695e7f3" kindref="member">_it</ref>)</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight></codeline>
<codeline lineno="359" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a0ffa81e0f7c06b9ee08a9508aa237d48" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a0ffa81e0f7c06b9ee08a9508aa237d48" kindref="member">_get_slice</ref>(self,<sp/>index):</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Normalize<sp/>the<sp/>slice&apos;s<sp/>arguments</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>step<sp/>=<sp/>1<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(index.step<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>index.step</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>step<sp/>&gt;<sp/>0:</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start<sp/>=<sp/>0<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(index.start<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>index.start</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stop<sp/>=<sp/>maxsize<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(index.stop<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>index.stop</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>step<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start<sp/>=<sp/>-1<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(index.start<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>index.start</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stop<sp/>=<sp/>(-maxsize<sp/>-<sp/>1)<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(index.stop<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>index.stop</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;slice<sp/>step<sp/>cannot<sp/>be<sp/>zero&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="370"><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>either<sp/>the<sp/>start<sp/>or<sp/>stop<sp/>index<sp/>is<sp/>negative,<sp/>we&apos;ll<sp/>need<sp/>to<sp/>cache</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>rest<sp/>of<sp/>the<sp/>iterable<sp/>in<sp/>order<sp/>to<sp/>slice<sp/>from<sp/>the<sp/>right<sp/>side.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(start<sp/>&lt;<sp/>0)<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>(stop<sp/>&lt;<sp/>0):</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a1d794c080c52e96e53ba8119e567413f" kindref="member">_cache</ref>.extend(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a755a43e84bd8f26d8db7cf71a695e7f3" kindref="member">_it</ref>)</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Otherwise<sp/>we&apos;ll<sp/>need<sp/>to<sp/>find<sp/>the<sp/>rightmost<sp/>index<sp/>and<sp/>cache<sp/>to<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>point.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/>min(max(start,<sp/>stop)<sp/>+<sp/>1,<sp/>maxsize)</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cache_len<sp/>=<sp/>len(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a1d794c080c52e96e53ba8119e567413f" kindref="member">_cache</ref>)</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n<sp/>&gt;=<sp/>cache_len:</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a1d794c080c52e96e53ba8119e567413f" kindref="member">_cache</ref>.extend(islice(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a755a43e84bd8f26d8db7cf71a695e7f3" kindref="member">_it</ref>,<sp/>n<sp/>-<sp/>cache_len))</highlight></codeline>
<codeline lineno="382"><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>list(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a1d794c080c52e96e53ba8119e567413f" kindref="member">_cache</ref>)[index]</highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__getitem__(self,<sp/>index):</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(index,<sp/>slice):</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a0ffa81e0f7c06b9ee08a9508aa237d48" kindref="member">_get_slice</ref>(index)</highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cache_len<sp/>=<sp/>len(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a1d794c080c52e96e53ba8119e567413f" kindref="member">_cache</ref>)</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>index<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a1d794c080c52e96e53ba8119e567413f" kindref="member">_cache</ref>.extend(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a755a43e84bd8f26d8db7cf71a695e7f3" kindref="member">_it</ref>)</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>index<sp/>&gt;=<sp/>cache_len:</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a1d794c080c52e96e53ba8119e567413f" kindref="member">_cache</ref>.extend(islice(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a755a43e84bd8f26d8db7cf71a695e7f3" kindref="member">_it</ref>,<sp/>index<sp/>+<sp/>1<sp/>-<sp/>cache_len))</highlight></codeline>
<codeline lineno="394"><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1peekable_1a1d794c080c52e96e53ba8119e567413f" kindref="member">_cache</ref>[index]</highlight></codeline>
<codeline lineno="396"><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"></highlight></codeline>
<codeline lineno="398" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a691dc99d522ad3defe468a1ee9bd532d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a691dc99d522ad3defe468a1ee9bd532d" kindref="member">collate</ref>(*iterables,<sp/>**kwargs):</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>a<sp/>sorted<sp/>merge<sp/>of<sp/>the<sp/>items<sp/>from<sp/>each<sp/>of<sp/>several<sp/>already-sorted</highlight></codeline>
<codeline lineno="400"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*iterables*.</highlight></codeline>
<codeline lineno="401"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="402"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(collate(&apos;ACDZ&apos;,<sp/>&apos;AZ&apos;,<sp/>&apos;JKL&apos;))</highlight></codeline>
<codeline lineno="403"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;A&apos;,<sp/>&apos;A&apos;,<sp/>&apos;C&apos;,<sp/>&apos;D&apos;,<sp/>&apos;J&apos;,<sp/>&apos;K&apos;,<sp/>&apos;L&apos;,<sp/>&apos;Z&apos;,<sp/>&apos;Z&apos;]</highlight></codeline>
<codeline lineno="404"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="405"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Works<sp/>lazily,<sp/>keeping<sp/>only<sp/>the<sp/>next<sp/>value<sp/>from<sp/>each<sp/>iterable<sp/>in<sp/>memory.<sp/>Use</highlight></codeline>
<codeline lineno="406"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:func:`collate`<sp/>to,<sp/>for<sp/>example,<sp/>perform<sp/>a<sp/>n-way<sp/>mergesort<sp/>of<sp/>items<sp/>that</highlight></codeline>
<codeline lineno="407"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>don&apos;t<sp/>fit<sp/>in<sp/>memory.</highlight></codeline>
<codeline lineno="408"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="409"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>a<sp/>*key*<sp/>function<sp/>is<sp/>specified,<sp/>the<sp/>iterables<sp/>will<sp/>be<sp/>sorted<sp/>according</highlight></codeline>
<codeline lineno="410"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>to<sp/>its<sp/>result:</highlight></codeline>
<codeline lineno="411"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="412"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>key<sp/>=<sp/>lambda<sp/>s:<sp/>int(s)<sp/><sp/>#<sp/>Sort<sp/>by<sp/>numeric<sp/>value,<sp/>not<sp/>by<sp/>string</highlight></codeline>
<codeline lineno="413"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(collate([&apos;1&apos;,<sp/>&apos;10&apos;],<sp/>[&apos;2&apos;,<sp/>&apos;11&apos;],<sp/>key=key))</highlight></codeline>
<codeline lineno="414"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;1&apos;,<sp/>&apos;2&apos;,<sp/>&apos;10&apos;,<sp/>&apos;11&apos;]</highlight></codeline>
<codeline lineno="415"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="416"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="417"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>*iterables*<sp/>are<sp/>sorted<sp/>in<sp/>descending<sp/>order,<sp/>set<sp/>*reverse*<sp/>to</highlight></codeline>
<codeline lineno="418"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``True``:</highlight></codeline>
<codeline lineno="419"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="420"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(collate([5,<sp/>3,<sp/>1],<sp/>[4,<sp/>2,<sp/>0],<sp/>reverse=True))</highlight></codeline>
<codeline lineno="421"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[5,<sp/>4,<sp/>3,<sp/>2,<sp/>1,<sp/>0]</highlight></codeline>
<codeline lineno="422"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="423"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>elements<sp/>of<sp/>the<sp/>passed-in<sp/>iterables<sp/>are<sp/>out<sp/>of<sp/>order,<sp/>you<sp/>might<sp/>get</highlight></codeline>
<codeline lineno="424"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>unexpected<sp/>results.</highlight></codeline>
<codeline lineno="425"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="426"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>On<sp/>Python<sp/>3.5+,<sp/>this<sp/>function<sp/>is<sp/>an<sp/>alias<sp/>for<sp/>:func:`heapq.merge`.</highlight></codeline>
<codeline lineno="427"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="428"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/>warnings.warn(</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;collate<sp/>is<sp/>no<sp/>longer<sp/>part<sp/>of<sp/>more_itertools,<sp/>use<sp/>heapq.merge&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DeprecationWarning,</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>merge(*iterables,<sp/>**kwargs)</highlight></codeline>
<codeline lineno="434"><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"></highlight></codeline>
<codeline lineno="436" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a227e66c12cc86c45187adb224fee478b" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a227e66c12cc86c45187adb224fee478b" kindref="member">consumer</ref>(func):</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Decorator<sp/>that<sp/>automatically<sp/>advances<sp/>a<sp/>PEP-342-style<sp/>&quot;reverse<sp/>iterator&quot;</highlight></codeline>
<codeline lineno="438"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>to<sp/>its<sp/>first<sp/>yield<sp/>point<sp/>so<sp/>you<sp/>don&apos;t<sp/>have<sp/>to<sp/>call<sp/>``next()``<sp/>on<sp/>it</highlight></codeline>
<codeline lineno="439"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>manually.</highlight></codeline>
<codeline lineno="440"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="441"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>@consumer</highlight></codeline>
<codeline lineno="442"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/>def<sp/>tally():</highlight></codeline>
<codeline lineno="443"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>i<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="444"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>while<sp/>True:</highlight></codeline>
<codeline lineno="445"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(&apos;Thing<sp/>number<sp/>%s<sp/>is<sp/>%s.&apos;<sp/>%<sp/>(i,<sp/>(yield)))</highlight></codeline>
<codeline lineno="446"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="447"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="448"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>t<sp/>=<sp/>tally()</highlight></codeline>
<codeline lineno="449"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>t.send(&apos;red&apos;)</highlight></codeline>
<codeline lineno="450"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Thing<sp/>number<sp/>0<sp/>is<sp/>red.</highlight></codeline>
<codeline lineno="451"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>t.send(&apos;fish&apos;)</highlight></codeline>
<codeline lineno="452"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Thing<sp/>number<sp/>1<sp/>is<sp/>fish.</highlight></codeline>
<codeline lineno="453"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="454"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Without<sp/>the<sp/>decorator,<sp/>you<sp/>would<sp/>have<sp/>to<sp/>call<sp/>``next(t)``<sp/>before</highlight></codeline>
<codeline lineno="455"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``t.send()``<sp/>could<sp/>be<sp/>used.</highlight></codeline>
<codeline lineno="456"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="457"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"></highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@wraps(func)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">wrapper(*args,<sp/>**kwargs):</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gen<sp/>=<sp/>func(*args,<sp/>**kwargs)</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>next(gen)</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>gen</highlight></codeline>
<codeline lineno="464"><highlight class="normal"></highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>wrapper</highlight></codeline>
<codeline lineno="466"><highlight class="normal"></highlight></codeline>
<codeline lineno="467"><highlight class="normal"></highlight></codeline>
<codeline lineno="468" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a64c69fff987516a452aa90c06d24885e" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a64c69fff987516a452aa90c06d24885e" kindref="member">ilen</ref>(iterable):</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>the<sp/>number<sp/>of<sp/>items<sp/>in<sp/>*iterable*.</highlight></codeline>
<codeline lineno="470"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="471"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>ilen(x<sp/>for<sp/>x<sp/>in<sp/>range(1000000)<sp/>if<sp/>x<sp/>%<sp/>3<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="472"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>333334</highlight></codeline>
<codeline lineno="473"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="474"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>consumes<sp/>the<sp/>iterable,<sp/>so<sp/>handle<sp/>with<sp/>care.</highlight></codeline>
<codeline lineno="475"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="476"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>This<sp/>approach<sp/>was<sp/>selected<sp/>because<sp/>benchmarks<sp/>showed<sp/>it&apos;s<sp/>likely<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>fastest<sp/>of<sp/>the<sp/>known<sp/>implementations<sp/>at<sp/>the<sp/>time<sp/>of<sp/>writing.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>See<sp/>GitHub<sp/>tracker:<sp/>#236,<sp/>#230.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/>counter<sp/>=<sp/>count()</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/>deque(zip(iterable,<sp/>counter),<sp/>maxlen=0)</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>next(counter)</highlight></codeline>
<codeline lineno="483"><highlight class="normal"></highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="485" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a17348f255369895951eeb91ce27eab84" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a17348f255369895951eeb91ce27eab84" kindref="member">iterate</ref>(func,<sp/>start):</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>``start``,<sp/>``func(start)``,<sp/>``func(func(start))``,<sp/>...</highlight></codeline>
<codeline lineno="487"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="488"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>itertools<sp/>import<sp/>islice</highlight></codeline>
<codeline lineno="489"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(islice(iterate(lambda<sp/>x:<sp/>2*x,<sp/>1),<sp/>10))</highlight></codeline>
<codeline lineno="490"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>4,<sp/>8,<sp/>16,<sp/>32,<sp/>64,<sp/>128,<sp/>256,<sp/>512]</highlight></codeline>
<codeline lineno="491"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="492"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>start</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start<sp/>=<sp/>func(start)</highlight></codeline>
<codeline lineno="496"><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"></highlight></codeline>
<codeline lineno="498" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a619447baa790cfa94d6bfc301c96a573" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a619447baa790cfa94d6bfc301c96a573" kindref="member">with_iter</ref>(context_manager):</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Wrap<sp/>an<sp/>iterable<sp/>in<sp/>a<sp/>``with``<sp/>statement,<sp/>so<sp/>it<sp/>closes<sp/>once<sp/>exhausted.</highlight></codeline>
<codeline lineno="500"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="501"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>example,<sp/>this<sp/>will<sp/>close<sp/>the<sp/>file<sp/>when<sp/>the<sp/>iterator<sp/>is<sp/>exhausted::</highlight></codeline>
<codeline lineno="502"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="503"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>upper_lines<sp/>=<sp/>(line.upper()<sp/>for<sp/>line<sp/>in<sp/>with_iter(open(&apos;foo&apos;)))</highlight></codeline>
<codeline lineno="504"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="505"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Any<sp/>context<sp/>manager<sp/>which<sp/>returns<sp/>an<sp/>iterable<sp/>is<sp/>a<sp/>candidate<sp/>for</highlight></codeline>
<codeline lineno="506"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``with_iter``.</highlight></codeline>
<codeline lineno="507"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="508"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>context_manager<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>iterable:</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>iterable</highlight></codeline>
<codeline lineno="511"><highlight class="normal"></highlight></codeline>
<codeline lineno="512"><highlight class="normal"></highlight></codeline>
<codeline lineno="513" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a8c28ebee9cc10435df318256129637c0" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a8c28ebee9cc10435df318256129637c0" kindref="member">one</ref>(iterable,<sp/>too_short=None,<sp/>too_long=None):</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>the<sp/>first<sp/>item<sp/>from<sp/>*iterable*,<sp/>which<sp/>is<sp/>expected<sp/>to<sp/>contain<sp/>only</highlight></codeline>
<codeline lineno="515"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>that<sp/>item.<sp/>Raise<sp/>an<sp/>exception<sp/>if<sp/>*iterable*<sp/>is<sp/>empty<sp/>or<sp/>has<sp/>more<sp/>than<sp/>one</highlight></codeline>
<codeline lineno="516"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>item.</highlight></codeline>
<codeline lineno="517"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="518"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:func:`one`<sp/>is<sp/>useful<sp/>for<sp/>ensuring<sp/>that<sp/>an<sp/>iterable<sp/>contains<sp/>only<sp/>one<sp/>item.</highlight></codeline>
<codeline lineno="519"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>example,<sp/>it<sp/>can<sp/>be<sp/>used<sp/>to<sp/>retrieve<sp/>the<sp/>result<sp/>of<sp/>a<sp/>database<sp/>query</highlight></codeline>
<codeline lineno="520"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>that<sp/>is<sp/>expected<sp/>to<sp/>return<sp/>a<sp/>single<sp/>row.</highlight></codeline>
<codeline lineno="521"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="522"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*iterable*<sp/>is<sp/>empty,<sp/>``ValueError``<sp/>will<sp/>be<sp/>raised.<sp/>You<sp/>may<sp/>specify<sp/>a</highlight></codeline>
<codeline lineno="523"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>different<sp/>exception<sp/>with<sp/>the<sp/>*too_short*<sp/>keyword:</highlight></codeline>
<codeline lineno="524"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="525"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="526"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>one(it)<sp/><sp/>#<sp/>doctest:<sp/>+IGNORE_EXCEPTION_DETAIL</highlight></codeline>
<codeline lineno="527"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Traceback<sp/>(most<sp/>recent<sp/>call<sp/>last):</highlight></codeline>
<codeline lineno="528"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="529"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ValueError:<sp/>too<sp/>many<sp/>items<sp/>in<sp/>iterable<sp/>(expected<sp/>1)&apos;</highlight></codeline>
<codeline lineno="530"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>too_short<sp/>=<sp/>IndexError(&apos;too<sp/>few<sp/>items&apos;)</highlight></codeline>
<codeline lineno="531"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>one(it,<sp/>too_short=too_short)<sp/><sp/>#<sp/>doctest:<sp/>+IGNORE_EXCEPTION_DETAIL</highlight></codeline>
<codeline lineno="532"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Traceback<sp/>(most<sp/>recent<sp/>call<sp/>last):</highlight></codeline>
<codeline lineno="533"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="534"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>IndexError:<sp/>too<sp/>few<sp/>items</highlight></codeline>
<codeline lineno="535"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="536"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Similarly,<sp/>if<sp/>*iterable*<sp/>contains<sp/>more<sp/>than<sp/>one<sp/>item,<sp/>``ValueError``<sp/>will</highlight></codeline>
<codeline lineno="537"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>be<sp/>raised.<sp/>You<sp/>may<sp/>specify<sp/>a<sp/>different<sp/>exception<sp/>with<sp/>the<sp/>*too_long*</highlight></codeline>
<codeline lineno="538"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>keyword:</highlight></codeline>
<codeline lineno="539"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="540"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it<sp/>=<sp/>[&apos;too&apos;,<sp/>&apos;many&apos;]</highlight></codeline>
<codeline lineno="541"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>one(it)<sp/><sp/>#<sp/>doctest:<sp/>+IGNORE_EXCEPTION_DETAIL</highlight></codeline>
<codeline lineno="542"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Traceback<sp/>(most<sp/>recent<sp/>call<sp/>last):</highlight></codeline>
<codeline lineno="543"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="544"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ValueError:<sp/>Expected<sp/>exactly<sp/>one<sp/>item<sp/>in<sp/>iterable,<sp/>but<sp/>got<sp/>&apos;too&apos;,</highlight></codeline>
<codeline lineno="545"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;many&apos;,<sp/>and<sp/>perhaps<sp/>more.</highlight></codeline>
<codeline lineno="546"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>too_long<sp/>=<sp/>RuntimeError</highlight></codeline>
<codeline lineno="547"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>one(it,<sp/>too_long=too_long)<sp/><sp/>#<sp/>doctest:<sp/>+IGNORE_EXCEPTION_DETAIL</highlight></codeline>
<codeline lineno="548"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Traceback<sp/>(most<sp/>recent<sp/>call<sp/>last):</highlight></codeline>
<codeline lineno="549"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="550"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RuntimeError</highlight></codeline>
<codeline lineno="551"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="552"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Note<sp/>that<sp/>:func:`one`<sp/>attempts<sp/>to<sp/>advance<sp/>*iterable*<sp/>twice<sp/>to<sp/>ensure<sp/>there</highlight></codeline>
<codeline lineno="553"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>is<sp/>only<sp/>one<sp/>item.<sp/>See<sp/>:func:`spy`<sp/>or<sp/>:func:`peekable`<sp/>to<sp/>check<sp/>iterable</highlight></codeline>
<codeline lineno="554"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>contents<sp/>less<sp/>destructively.</highlight></codeline>
<codeline lineno="555"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="556"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/>it<sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="558"><highlight class="normal"></highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>first_value<sp/>=<sp/>next(it)</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopIteration<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>e:</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>too_short<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;too<sp/>few<sp/>items<sp/>in<sp/>iterable<sp/>(expected<sp/>1)&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>e</highlight></codeline>
<codeline lineno="565"><highlight class="normal"></highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>second_value<sp/>=<sp/>next(it)</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopIteration:</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;Expected<sp/>exactly<sp/>one<sp/>item<sp/>in<sp/>iterable,<sp/>but<sp/>got<sp/>{!r},<sp/>{!r},<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;and<sp/>perhaps<sp/>more.&apos;</highlight><highlight class="normal">.format(first_value,<sp/>second_value)</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>too_long<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>ValueError(msg)</highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>first_value</highlight></codeline>
<codeline lineno="578"><highlight class="normal"></highlight></codeline>
<codeline lineno="579"><highlight class="normal"></highlight></codeline>
<codeline lineno="580" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ab8491276c50929899fe32cda6fd2d01e" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ab8491276c50929899fe32cda6fd2d01e" kindref="member">distinct_permutations</ref>(iterable,<sp/>r=None):</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>successive<sp/>distinct<sp/>permutations<sp/>of<sp/>the<sp/>elements<sp/>in<sp/>*iterable*.</highlight></codeline>
<codeline lineno="582"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="583"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>sorted(distinct_permutations([1,<sp/>0,<sp/>1]))</highlight></codeline>
<codeline lineno="584"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(0,<sp/>1,<sp/>1),<sp/>(1,<sp/>0,<sp/>1),<sp/>(1,<sp/>1,<sp/>0)]</highlight></codeline>
<codeline lineno="585"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="586"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Equivalent<sp/>to<sp/>``set(permutations(iterable))``,<sp/>except<sp/>duplicates<sp/>are<sp/>not</highlight></codeline>
<codeline lineno="587"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>generated<sp/>and<sp/>thrown<sp/>away.<sp/>For<sp/>larger<sp/>input<sp/>sequences<sp/>this<sp/>is<sp/>much<sp/>more</highlight></codeline>
<codeline lineno="588"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>efficient.</highlight></codeline>
<codeline lineno="589"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="590"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Duplicate<sp/>permutations<sp/>arise<sp/>when<sp/>there<sp/>are<sp/>duplicated<sp/>elements<sp/>in<sp/>the</highlight></codeline>
<codeline lineno="591"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>input<sp/>iterable.<sp/>The<sp/>number<sp/>of<sp/>items<sp/>returned<sp/>is</highlight></codeline>
<codeline lineno="592"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>`n!<sp/>/<sp/>(x_1!<sp/>*<sp/>x_2!<sp/>*<sp/>...<sp/>*<sp/>x_n!)`,<sp/>where<sp/>`n`<sp/>is<sp/>the<sp/>total<sp/>number<sp/>of</highlight></codeline>
<codeline lineno="593"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>items<sp/>input,<sp/>and<sp/>each<sp/>`x_i`<sp/>is<sp/>the<sp/>count<sp/>of<sp/>a<sp/>distinct<sp/>item<sp/>in<sp/>the<sp/>input</highlight></codeline>
<codeline lineno="594"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>sequence.</highlight></codeline>
<codeline lineno="595"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="596"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*r*<sp/>is<sp/>given,<sp/>only<sp/>the<sp/>*r*-length<sp/>permutations<sp/>are<sp/>yielded.</highlight></codeline>
<codeline lineno="597"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="598"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>sorted(distinct_permutations([1,<sp/>0,<sp/>1],<sp/>r=2))</highlight></codeline>
<codeline lineno="599"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(0,<sp/>1),<sp/>(1,<sp/>0),<sp/>(1,<sp/>1)]</highlight></codeline>
<codeline lineno="600"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>sorted(distinct_permutations(range(3),<sp/>r=2))</highlight></codeline>
<codeline lineno="601"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(0,<sp/>1),<sp/>(0,<sp/>2),<sp/>(1,<sp/>0),<sp/>(1,<sp/>2),<sp/>(2,<sp/>0),<sp/>(2,<sp/>1)]</highlight></codeline>
<codeline lineno="602"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="603"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Algorithm:<sp/>https://w.wiki/Qai</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">_full(A):</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Yield<sp/>the<sp/>permutation<sp/>we<sp/>have</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>tuple(A)</highlight></codeline>
<codeline lineno="609"><highlight class="normal"></highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Find<sp/>the<sp/>largest<sp/>index<sp/>i<sp/>such<sp/>that<sp/>A[i]<sp/>&lt;<sp/>A[i<sp/>+<sp/>1]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(size<sp/>-<sp/>2,<sp/>-1,<sp/>-1):</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>A[i]<sp/>&lt;<sp/>A[i<sp/>+<sp/>1]:</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/>If<sp/>no<sp/>such<sp/>index<sp/>exists,<sp/>this<sp/>permutation<sp/>is<sp/>the<sp/>last<sp/>one</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="617"><highlight class="normal"></highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Find<sp/>the<sp/>largest<sp/>index<sp/>j<sp/>greater<sp/>than<sp/>j<sp/>such<sp/>that<sp/>A[i]<sp/>&lt;<sp/>A[j]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(size<sp/>-<sp/>1,<sp/>i,<sp/>-1):</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>A[i]<sp/>&lt;<sp/>A[j]:</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="622"><highlight class="normal"></highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Swap<sp/>the<sp/>value<sp/>of<sp/>A[i]<sp/>with<sp/>that<sp/>of<sp/>A[j],<sp/>then<sp/>reverse<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>sequence<sp/>from<sp/>A[i<sp/>+<sp/>1]<sp/>to<sp/>form<sp/>the<sp/>new<sp/>permutation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A[i],<sp/>A[j]<sp/>=<sp/>A[j],<sp/>A[i]</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A[i<sp/>+<sp/>1<sp/>:]<sp/>=<sp/>A[:<sp/>i<sp/>-<sp/>size<sp/>:<sp/>-1]<sp/><sp/></highlight><highlight class="comment">#<sp/>A[i<sp/>+<sp/>1:][::-1]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="627"><highlight class="normal"></highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Algorithm:<sp/>modified<sp/>from<sp/>the<sp/>above</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">_partial(A,<sp/>r):</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Split<sp/>A<sp/>into<sp/>the<sp/>first<sp/>r<sp/>items<sp/>and<sp/>the<sp/>last<sp/>r<sp/>items</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>head,<sp/>tail<sp/>=<sp/>A[:r],<sp/>A[r:]</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>right_head_indexes<sp/>=<sp/>range(r<sp/>-<sp/>1,<sp/>-1,<sp/>-1)</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>left_tail_indexes<sp/>=<sp/>range(len(tail))</highlight></codeline>
<codeline lineno="634"><highlight class="normal"></highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Yield<sp/>the<sp/>permutation<sp/>we<sp/>have</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>tuple(head)</highlight></codeline>
<codeline lineno="638"><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Starting<sp/>from<sp/>the<sp/>right,<sp/>find<sp/>the<sp/>first<sp/>index<sp/>of<sp/>the<sp/>head<sp/>with</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>value<sp/>smaller<sp/>than<sp/>the<sp/>maximum<sp/>value<sp/>of<sp/>the<sp/>tail<sp/>-<sp/>call<sp/>it<sp/>i.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pivot<sp/>=<sp/>tail[-1]</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>right_head_indexes:</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>head[i]<sp/>&lt;<sp/>pivot:</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pivot<sp/>=<sp/>head[i]</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="648"><highlight class="normal"></highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Starting<sp/>from<sp/>the<sp/>left,<sp/>find<sp/>the<sp/>first<sp/>value<sp/>of<sp/>the<sp/>tail</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>with<sp/>a<sp/>value<sp/>greater<sp/>than<sp/>head[i]<sp/>and<sp/>swap.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>left_tail_indexes:</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>tail[j]<sp/>&gt;<sp/>head[i]:</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>head[i],<sp/>tail[j]<sp/>=<sp/>tail[j],<sp/>head[i]</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>we<sp/>didn&apos;t<sp/>find<sp/>one,<sp/>start<sp/>from<sp/>the<sp/>right<sp/>and<sp/>find<sp/>the<sp/>first</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>index<sp/>of<sp/>the<sp/>head<sp/>with<sp/>a<sp/>value<sp/>greater<sp/>than<sp/>head[i]<sp/>and<sp/>swap.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>right_head_indexes:</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>head[j]<sp/>&gt;<sp/>head[i]:</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>head[i],<sp/>head[j]<sp/>=<sp/>head[j],<sp/>head[i]</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="662"><highlight class="normal"></highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Reverse<sp/>head[i<sp/>+<sp/>1:]<sp/>and<sp/>swap<sp/>it<sp/>with<sp/>tail[:r<sp/>-<sp/>(i<sp/>+<sp/>1)]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tail<sp/>+=<sp/>head[:<sp/>i<sp/>-<sp/>r<sp/>:<sp/>-1]<sp/><sp/></highlight><highlight class="comment">#<sp/>head[i<sp/>+<sp/>1:][::-1]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>head[i:],<sp/>tail[:]<sp/>=<sp/>tail[:<sp/>r<sp/>-<sp/>i],<sp/>tail[r<sp/>-<sp/>i<sp/>:]</highlight></codeline>
<codeline lineno="667"><highlight class="normal"></highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/>items<sp/>=<sp/>sorted(iterable)</highlight></codeline>
<codeline lineno="669"><highlight class="normal"></highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/>size<sp/>=<sp/>len(items)</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>r<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r<sp/>=<sp/>size</highlight></codeline>
<codeline lineno="673"><highlight class="normal"></highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>0<sp/>&lt;<sp/>r<sp/>&lt;=<sp/>size:</highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_full(items)<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(r<sp/>==<sp/>size)<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>_partial(items,<sp/>r)</highlight></codeline>
<codeline lineno="676"><highlight class="normal"></highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iter(()<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>r<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>((),))</highlight></codeline>
<codeline lineno="678"><highlight class="normal"></highlight></codeline>
<codeline lineno="679"><highlight class="normal"></highlight></codeline>
<codeline lineno="680" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a511fc6f0275c765800910360d1f96dc0" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a511fc6f0275c765800910360d1f96dc0" kindref="member">intersperse</ref>(e,<sp/>iterable,<sp/>n=1):</highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Intersperse<sp/>filler<sp/>element<sp/>*e*<sp/>among<sp/>the<sp/>items<sp/>in<sp/>*iterable*,<sp/>leaving</highlight></codeline>
<codeline lineno="682"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*n*<sp/>items<sp/>between<sp/>each<sp/>filler<sp/>element.</highlight></codeline>
<codeline lineno="683"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="684"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(intersperse(&apos;!&apos;,<sp/>[1,<sp/>2,<sp/>3,<sp/>4,<sp/>5]))</highlight></codeline>
<codeline lineno="685"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>&apos;!&apos;,<sp/>2,<sp/>&apos;!&apos;,<sp/>3,<sp/>&apos;!&apos;,<sp/>4,<sp/>&apos;!&apos;,<sp/>5]</highlight></codeline>
<codeline lineno="686"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="687"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(intersperse(None,<sp/>[1,<sp/>2,<sp/>3,<sp/>4,<sp/>5],<sp/>n=2))</highlight></codeline>
<codeline lineno="688"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>None,<sp/>3,<sp/>4,<sp/>None,<sp/>5]</highlight></codeline>
<codeline lineno="689"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="690"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;n<sp/>must<sp/>be<sp/>&gt;<sp/>0&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>n<sp/>==<sp/>1:</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>interleave(repeat(e),<sp/>iterable)<sp/>-&gt;<sp/>e,<sp/>x_0,<sp/>e,<sp/>e,<sp/>x_1,<sp/>e,<sp/>x_2...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>islice(...,<sp/>1,<sp/>None)<sp/>-&gt;<sp/>x_0,<sp/>e,<sp/>e,<sp/>x_1,<sp/>e,<sp/>x_2...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>islice(<ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a6a550537ce14e8b31de79d09cbf72ab2" kindref="member">interleave</ref>(repeat(e),<sp/>iterable),<sp/>1,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>interleave(filler,<sp/>chunks)<sp/>-&gt;<sp/>[e],<sp/>[x_0,<sp/>x_1],<sp/>[e],<sp/>[x_2,<sp/>x_3]...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>islice(...,<sp/>1,<sp/>None)<sp/>-&gt;<sp/>[x_0,<sp/>x_1],<sp/>[e],<sp/>[x_2,<sp/>x_3]...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>flatten(...)<sp/>-&gt;<sp/>x_0,<sp/>x_1,<sp/>e,<sp/>x_2,<sp/>x_3...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filler<sp/>=<sp/>repeat([e])</highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chunks<sp/>=<sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1abffb53abf1266b52e612759e97a93b4d" kindref="member">chunked</ref>(iterable,<sp/>n)</highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1recipes_1ab6fdfc11635142d0d7cb5de974cc3a39" kindref="member">flatten</ref>(islice(<ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a6a550537ce14e8b31de79d09cbf72ab2" kindref="member">interleave</ref>(filler,<sp/>chunks),<sp/>1,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="704"><highlight class="normal"></highlight></codeline>
<codeline lineno="705"><highlight class="normal"></highlight></codeline>
<codeline lineno="706" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ad5bc505640cbe98f92a1703e472e1d00" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ad5bc505640cbe98f92a1703e472e1d00" kindref="member">unique_to_each</ref>(*iterables):</highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>the<sp/>elements<sp/>from<sp/>each<sp/>of<sp/>the<sp/>input<sp/>iterables<sp/>that<sp/>aren&apos;t<sp/>in<sp/>the</highlight></codeline>
<codeline lineno="708"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>other<sp/>input<sp/>iterables.</highlight></codeline>
<codeline lineno="709"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="710"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>example,<sp/>suppose<sp/>you<sp/>have<sp/>a<sp/>set<sp/>of<sp/>packages,<sp/>each<sp/>with<sp/>a<sp/>set<sp/>of</highlight></codeline>
<codeline lineno="711"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>dependencies::</highlight></codeline>
<codeline lineno="712"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="713"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{&apos;pkg_1&apos;:<sp/>{&apos;A&apos;,<sp/>&apos;B&apos;},<sp/>&apos;pkg_2&apos;:<sp/>{&apos;B&apos;,<sp/>&apos;C&apos;},<sp/>&apos;pkg_3&apos;:<sp/>{&apos;B&apos;,<sp/>&apos;D&apos;}}</highlight></codeline>
<codeline lineno="714"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="715"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>you<sp/>remove<sp/>one<sp/>package,<sp/>which<sp/>dependencies<sp/>can<sp/>also<sp/>be<sp/>removed?</highlight></codeline>
<codeline lineno="716"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="717"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>``pkg_1``<sp/>is<sp/>removed,<sp/>then<sp/>``A``<sp/>is<sp/>no<sp/>longer<sp/>necessary<sp/>-<sp/>it<sp/>is<sp/>not</highlight></codeline>
<codeline lineno="718"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>associated<sp/>with<sp/>``pkg_2``<sp/>or<sp/>``pkg_3``.<sp/>Similarly,<sp/>``C``<sp/>is<sp/>only<sp/>needed<sp/>for</highlight></codeline>
<codeline lineno="719"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``pkg_2``,<sp/>and<sp/>``D``<sp/>is<sp/>only<sp/>needed<sp/>for<sp/>``pkg_3``::</highlight></codeline>
<codeline lineno="720"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="721"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>unique_to_each({&apos;A&apos;,<sp/>&apos;B&apos;},<sp/>{&apos;B&apos;,<sp/>&apos;C&apos;},<sp/>{&apos;B&apos;,<sp/>&apos;D&apos;})</highlight></codeline>
<codeline lineno="722"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[&apos;A&apos;],<sp/>[&apos;C&apos;],<sp/>[&apos;D&apos;]]</highlight></codeline>
<codeline lineno="723"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="724"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>there<sp/>are<sp/>duplicates<sp/>in<sp/>one<sp/>input<sp/>iterable<sp/>that<sp/>aren&apos;t<sp/>in<sp/>the<sp/>others</highlight></codeline>
<codeline lineno="725"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>they<sp/>will<sp/>be<sp/>duplicated<sp/>in<sp/>the<sp/>output.<sp/>Input<sp/>order<sp/>is<sp/>preserved::</highlight></codeline>
<codeline lineno="726"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="727"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>unique_to_each(&quot;mississippi&quot;,<sp/>&quot;missouri&quot;)</highlight></codeline>
<codeline lineno="728"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[&apos;p&apos;,<sp/>&apos;p&apos;],<sp/>[&apos;o&apos;,<sp/>&apos;u&apos;,<sp/>&apos;r&apos;]]</highlight></codeline>
<codeline lineno="729"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="730"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>It<sp/>is<sp/>assumed<sp/>that<sp/>the<sp/>elements<sp/>of<sp/>each<sp/>iterable<sp/>are<sp/>hashable.</highlight></codeline>
<codeline lineno="731"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="732"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/>pool<sp/>=<sp/>[list(it)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>it<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>iterables]</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/>counts<sp/>=<sp/>Counter(chain.from_iterable(map(set,<sp/>pool)))</highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/>uniques<sp/>=<sp/>{element<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>element<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>counts<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>counts[element]<sp/>==<sp/>1}</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[list(filter(uniques.__contains__,<sp/>it))<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>it<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>pool]</highlight></codeline>
<codeline lineno="737"><highlight class="normal"></highlight></codeline>
<codeline lineno="738"><highlight class="normal"></highlight></codeline>
<codeline lineno="739" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a6a25a63106c08986d199ddbd78d46277" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a6a25a63106c08986d199ddbd78d46277" kindref="member">windowed</ref>(seq,<sp/>n,<sp/>fillvalue=None,<sp/>step=1):</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>a<sp/>sliding<sp/>window<sp/>of<sp/>width<sp/>*n*<sp/>over<sp/>the<sp/>given<sp/>iterable.</highlight></codeline>
<codeline lineno="741"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="742"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>all_windows<sp/>=<sp/>windowed([1,<sp/>2,<sp/>3,<sp/>4,<sp/>5],<sp/>3)</highlight></codeline>
<codeline lineno="743"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(all_windows)</highlight></codeline>
<codeline lineno="744"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(1,<sp/>2,<sp/>3),<sp/>(2,<sp/>3,<sp/>4),<sp/>(3,<sp/>4,<sp/>5)]</highlight></codeline>
<codeline lineno="745"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="746"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>When<sp/>the<sp/>window<sp/>is<sp/>larger<sp/>than<sp/>the<sp/>iterable,<sp/>*fillvalue*<sp/>is<sp/>used<sp/>in<sp/>place</highlight></codeline>
<codeline lineno="747"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>of<sp/>missing<sp/>values:</highlight></codeline>
<codeline lineno="748"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="749"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(windowed([1,<sp/>2,<sp/>3],<sp/>4))</highlight></codeline>
<codeline lineno="750"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(1,<sp/>2,<sp/>3,<sp/>None)]</highlight></codeline>
<codeline lineno="751"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="752"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Each<sp/>window<sp/>will<sp/>advance<sp/>in<sp/>increments<sp/>of<sp/>*step*:</highlight></codeline>
<codeline lineno="753"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="754"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(windowed([1,<sp/>2,<sp/>3,<sp/>4,<sp/>5,<sp/>6],<sp/>3,<sp/>fillvalue=&apos;!&apos;,<sp/>step=2))</highlight></codeline>
<codeline lineno="755"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(1,<sp/>2,<sp/>3),<sp/>(3,<sp/>4,<sp/>5),<sp/>(5,<sp/>6,<sp/>&apos;!&apos;)]</highlight></codeline>
<codeline lineno="756"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="757"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>To<sp/>slide<sp/>into<sp/>the<sp/>iterable&apos;s<sp/>items,<sp/>use<sp/>:func:`chain`<sp/>to<sp/>add<sp/>filler<sp/>items</highlight></codeline>
<codeline lineno="758"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>to<sp/>the<sp/>left:</highlight></codeline>
<codeline lineno="759"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="760"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[1,<sp/>2,<sp/>3,<sp/>4]</highlight></codeline>
<codeline lineno="761"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>n<sp/>=<sp/>3</highlight></codeline>
<codeline lineno="762"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>padding<sp/>=<sp/>[None]<sp/>*<sp/>(n<sp/>-<sp/>1)</highlight></codeline>
<codeline lineno="763"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(windowed(chain(padding,<sp/>iterable),<sp/>3))</highlight></codeline>
<codeline lineno="764"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(None,<sp/>None,<sp/>1),<sp/>(None,<sp/>1,<sp/>2),<sp/>(1,<sp/>2,<sp/>3),<sp/>(2,<sp/>3,<sp/>4)]</highlight></codeline>
<codeline lineno="765"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;n<sp/>must<sp/>be<sp/>&gt;=<sp/>0&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>tuple()</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>step<sp/>&lt;<sp/>1:</highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;step<sp/>must<sp/>be<sp/>&gt;=<sp/>1&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="773"><highlight class="normal"></highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/>window<sp/>=<sp/>deque(maxlen=n)</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/>i<sp/>=<sp/>n</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>map(window.append,<sp/>seq):</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>-=<sp/>1</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>i:</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>=<sp/>step</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>tuple(window)</highlight></codeline>
<codeline lineno="781"><highlight class="normal"></highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/>size<sp/>=<sp/>len(window)</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>size<sp/>&lt;<sp/>n:</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>tuple(chain(window,<sp/>repeat(fillvalue,<sp/>n<sp/>-<sp/>size)))</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>0<sp/>&lt;<sp/>i<sp/>&lt;<sp/>min(step,<sp/>n):</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>window<sp/>+=<sp/>(fillvalue,)<sp/>*<sp/>i</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>tuple(window)</highlight></codeline>
<codeline lineno="788"><highlight class="normal"></highlight></codeline>
<codeline lineno="789"><highlight class="normal"></highlight></codeline>
<codeline lineno="790" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a0cdc9a02ebf3b5ed801ceee08af6afb5" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a0cdc9a02ebf3b5ed801ceee08af6afb5" kindref="member">substrings</ref>(iterable):</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>all<sp/>of<sp/>the<sp/>substrings<sp/>of<sp/>*iterable*.</highlight></codeline>
<codeline lineno="792"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="793"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>[&apos;&apos;.join(s)<sp/>for<sp/>s<sp/>in<sp/>substrings(&apos;more&apos;)]</highlight></codeline>
<codeline lineno="794"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;m&apos;,<sp/>&apos;o&apos;,<sp/>&apos;r&apos;,<sp/>&apos;e&apos;,<sp/>&apos;mo&apos;,<sp/>&apos;or&apos;,<sp/>&apos;re&apos;,<sp/>&apos;mor&apos;,<sp/>&apos;ore&apos;,<sp/>&apos;more&apos;]</highlight></codeline>
<codeline lineno="795"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="796"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Note<sp/>that<sp/>non-string<sp/>iterables<sp/>can<sp/>also<sp/>be<sp/>subdivided.</highlight></codeline>
<codeline lineno="797"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="798"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(substrings([0,<sp/>1,<sp/>2]))</highlight></codeline>
<codeline lineno="799"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(0,),<sp/>(1,),<sp/>(2,),<sp/>(0,<sp/>1),<sp/>(1,<sp/>2),<sp/>(0,<sp/>1,<sp/>2)]</highlight></codeline>
<codeline lineno="800"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="801"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>The<sp/>length-1<sp/>substrings</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/>seq<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>iter(iterable):</highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>seq.append(item)</highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>(item,)</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/>seq<sp/>=<sp/>tuple(seq)</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/>item_count<sp/>=<sp/>len(seq)</highlight></codeline>
<codeline lineno="809"><highlight class="normal"></highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>And<sp/>the<sp/>rest</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>n<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(2,<sp/>item_count<sp/>+<sp/>1):</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(item_count<sp/>-<sp/>n<sp/>+<sp/>1):</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>seq[i<sp/>:<sp/>i<sp/>+<sp/>n]</highlight></codeline>
<codeline lineno="814"><highlight class="normal"></highlight></codeline>
<codeline lineno="815"><highlight class="normal"></highlight></codeline>
<codeline lineno="816" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ac255ef443ff15888f55c49aa1f070ff4" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ac255ef443ff15888f55c49aa1f070ff4" kindref="member">substrings_indexes</ref>(seq,<sp/>reverse=False):</highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>all<sp/>substrings<sp/>and<sp/>their<sp/>positions<sp/>in<sp/>*seq*</highlight></codeline>
<codeline lineno="818"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="819"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>items<sp/>yielded<sp/>will<sp/>be<sp/>a<sp/>tuple<sp/>of<sp/>the<sp/>form<sp/>``(substr,<sp/>i,<sp/>j)``,<sp/>where</highlight></codeline>
<codeline lineno="820"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``substr<sp/>==<sp/>seq[i:j]``.</highlight></codeline>
<codeline lineno="821"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="822"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>only<sp/>works<sp/>for<sp/>iterables<sp/>that<sp/>support<sp/>slicing,<sp/>such<sp/>as</highlight></codeline>
<codeline lineno="823"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``str``<sp/>objects.</highlight></codeline>
<codeline lineno="824"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="825"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>for<sp/>item<sp/>in<sp/>substrings_indexes(&apos;more&apos;):</highlight></codeline>
<codeline lineno="826"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/>print(item)</highlight></codeline>
<codeline lineno="827"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(&apos;m&apos;,<sp/>0,<sp/>1)</highlight></codeline>
<codeline lineno="828"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(&apos;o&apos;,<sp/>1,<sp/>2)</highlight></codeline>
<codeline lineno="829"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(&apos;r&apos;,<sp/>2,<sp/>3)</highlight></codeline>
<codeline lineno="830"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(&apos;e&apos;,<sp/>3,<sp/>4)</highlight></codeline>
<codeline lineno="831"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(&apos;mo&apos;,<sp/>0,<sp/>2)</highlight></codeline>
<codeline lineno="832"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(&apos;or&apos;,<sp/>1,<sp/>3)</highlight></codeline>
<codeline lineno="833"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(&apos;re&apos;,<sp/>2,<sp/>4)</highlight></codeline>
<codeline lineno="834"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(&apos;mor&apos;,<sp/>0,<sp/>3)</highlight></codeline>
<codeline lineno="835"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(&apos;ore&apos;,<sp/>1,<sp/>4)</highlight></codeline>
<codeline lineno="836"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(&apos;more&apos;,<sp/>0,<sp/>4)</highlight></codeline>
<codeline lineno="837"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="838"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Set<sp/>*reverse*<sp/>to<sp/>``True``<sp/>to<sp/>yield<sp/>the<sp/>same<sp/>items<sp/>in<sp/>the<sp/>opposite<sp/>order.</highlight></codeline>
<codeline lineno="839"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="840"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="841"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/>r<sp/>=<sp/>range(1,<sp/>len(seq)<sp/>+<sp/>1)</highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>reverse:</highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r<sp/>=<sp/>reversed(r)</highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(seq[i<sp/>:<sp/>i<sp/>+<sp/>L],<sp/>i,<sp/>i<sp/>+<sp/>L)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>L<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>r<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(seq)<sp/>-<sp/>L<sp/>+<sp/>1)</highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="848"><highlight class="normal"></highlight></codeline>
<codeline lineno="849"><highlight class="normal"></highlight></codeline>
<codeline lineno="850" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket" kindref="compound">bucket</ref>:</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Wrap<sp/>*iterable*<sp/>and<sp/>return<sp/>an<sp/>object<sp/>that<sp/>buckets<sp/>it<sp/>iterable<sp/>into</highlight></codeline>
<codeline lineno="852"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>child<sp/>iterables<sp/>based<sp/>on<sp/>a<sp/>*key*<sp/>function.</highlight></codeline>
<codeline lineno="853"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="854"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[&apos;a1&apos;,<sp/>&apos;b1&apos;,<sp/>&apos;c1&apos;,<sp/>&apos;a2&apos;,<sp/>&apos;b2&apos;,<sp/>&apos;c2&apos;,<sp/>&apos;b3&apos;]</highlight></codeline>
<codeline lineno="855"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>s<sp/>=<sp/>bucket(iterable,<sp/>key=lambda<sp/>x:<sp/>x[0])<sp/><sp/>#<sp/>Bucket<sp/>by<sp/>1st<sp/>character</highlight></codeline>
<codeline lineno="856"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>sorted(list(s))<sp/><sp/>#<sp/>Get<sp/>the<sp/>keys</highlight></codeline>
<codeline lineno="857"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;a&apos;,<sp/>&apos;b&apos;,<sp/>&apos;c&apos;]</highlight></codeline>
<codeline lineno="858"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>a_iterable<sp/>=<sp/>s[&apos;a&apos;]</highlight></codeline>
<codeline lineno="859"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(a_iterable)</highlight></codeline>
<codeline lineno="860"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;a1&apos;</highlight></codeline>
<codeline lineno="861"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(a_iterable)</highlight></codeline>
<codeline lineno="862"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;a2&apos;</highlight></codeline>
<codeline lineno="863"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(s[&apos;b&apos;])</highlight></codeline>
<codeline lineno="864"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;b1&apos;,<sp/>&apos;b2&apos;,<sp/>&apos;b3&apos;]</highlight></codeline>
<codeline lineno="865"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="866"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>original<sp/>iterable<sp/>will<sp/>be<sp/>advanced<sp/>and<sp/>its<sp/>items<sp/>will<sp/>be<sp/>cached<sp/>until</highlight></codeline>
<codeline lineno="867"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>they<sp/>are<sp/>used<sp/>by<sp/>the<sp/>child<sp/>iterables.<sp/>This<sp/>may<sp/>require<sp/>significant<sp/>storage.</highlight></codeline>
<codeline lineno="868"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="869"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>By<sp/>default,<sp/>attempting<sp/>to<sp/>select<sp/>a<sp/>bucket<sp/>to<sp/>which<sp/>no<sp/>items<sp/>belong<sp/><sp/>will</highlight></codeline>
<codeline lineno="870"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>exhaust<sp/>the<sp/>iterable<sp/>and<sp/>cache<sp/>all<sp/>values.</highlight></codeline>
<codeline lineno="871"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>you<sp/>specify<sp/>a<sp/>*validator*<sp/>function,<sp/>selected<sp/>buckets<sp/>will<sp/>instead<sp/>be</highlight></codeline>
<codeline lineno="872"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>checked<sp/>against<sp/>it.</highlight></codeline>
<codeline lineno="873"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="874"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>itertools<sp/>import<sp/>count</highlight></codeline>
<codeline lineno="875"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it<sp/>=<sp/>count(1,<sp/>2)<sp/><sp/>#<sp/>Infinite<sp/>sequence<sp/>of<sp/>odd<sp/>numbers</highlight></codeline>
<codeline lineno="876"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>key<sp/>=<sp/>lambda<sp/>x:<sp/>x<sp/>%<sp/>10<sp/><sp/>#<sp/>Bucket<sp/>by<sp/>last<sp/>digit</highlight></codeline>
<codeline lineno="877"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>validator<sp/>=<sp/>lambda<sp/>x:<sp/>x<sp/>in<sp/>{1,<sp/>3,<sp/>5,<sp/>7,<sp/>9}<sp/><sp/>#<sp/>Odd<sp/>digits<sp/>only</highlight></codeline>
<codeline lineno="878"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>s<sp/>=<sp/>bucket(it,<sp/>key=key,<sp/>validator=validator)</highlight></codeline>
<codeline lineno="879"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>2<sp/>in<sp/>s</highlight></codeline>
<codeline lineno="880"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>False</highlight></codeline>
<codeline lineno="881"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(s[2])</highlight></codeline>
<codeline lineno="882"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[]</highlight></codeline>
<codeline lineno="883"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="884"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="885"><highlight class="normal"></highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>iterable,<sp/>key,<sp/>validator=None):</highlight></codeline>
<codeline lineno="887" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a4275a4fc7c766b71c937135944b95104" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a4275a4fc7c766b71c937135944b95104" kindref="member">_it</ref><sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="888" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1ae8bf116decbac4bfd9e1da68d69414d3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1ae8bf116decbac4bfd9e1da68d69414d3" kindref="member">_key</ref><sp/>=<sp/>key</highlight></codeline>
<codeline lineno="889" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a83c190d1ff3515a1dcf30e9de5976c15" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a83c190d1ff3515a1dcf30e9de5976c15" kindref="member">_cache</ref><sp/>=<sp/>defaultdict(deque)</highlight></codeline>
<codeline lineno="890" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a955428cbf7ab32d3109cfe054d325b6a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a955428cbf7ab32d3109cfe054d325b6a" kindref="member">_validator</ref><sp/>=<sp/>validator<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">lambda</highlight><highlight class="normal"><sp/>x:<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="891"><highlight class="normal"></highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__contains__(self,<sp/>value):</highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a955428cbf7ab32d3109cfe054d325b6a" kindref="member">_validator</ref>(value):</highlight></codeline>
<codeline lineno="894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="895"><highlight class="normal"></highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>item<sp/>=<sp/>next(self[value])</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopIteration:</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a83c190d1ff3515a1dcf30e9de5976c15" kindref="member">_cache</ref>[value].appendleft(item)</highlight></codeline>
<codeline lineno="902"><highlight class="normal"></highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="904"><highlight class="normal"></highlight></codeline>
<codeline lineno="905" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1abea4887ae9cf7fc45b1161405b5df561" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1abea4887ae9cf7fc45b1161405b5df561" kindref="member">_get_values</ref>(self,<sp/>value):</highlight></codeline>
<codeline lineno="906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="907"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Helper<sp/>to<sp/>yield<sp/>items<sp/>from<sp/>the<sp/>parent<sp/>iterator<sp/>that<sp/>match<sp/>*value*.</highlight></codeline>
<codeline lineno="908"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Items<sp/>that<sp/>don&apos;t<sp/>match<sp/>are<sp/>stored<sp/>in<sp/>the<sp/>local<sp/>cache<sp/>as<sp/>they</highlight></codeline>
<codeline lineno="909"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>are<sp/>encountered.</highlight></codeline>
<codeline lineno="910"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>we&apos;ve<sp/>cached<sp/>some<sp/>items<sp/>that<sp/>match<sp/>the<sp/>target<sp/>value,<sp/>emit</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>first<sp/>one<sp/>and<sp/>evict<sp/>it<sp/>from<sp/>the<sp/>cache.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a83c190d1ff3515a1dcf30e9de5976c15" kindref="member">_cache</ref>[value]:</highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a83c190d1ff3515a1dcf30e9de5976c15" kindref="member">_cache</ref>[value].popleft()</highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Otherwise<sp/>we<sp/>need<sp/>to<sp/>advance<sp/>the<sp/>parent<sp/>iterator<sp/>to<sp/>search<sp/>for</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>a<sp/>matching<sp/>item,<sp/>caching<sp/>the<sp/>rest.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>item<sp/>=<sp/>next(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a4275a4fc7c766b71c937135944b95104" kindref="member">_it</ref>)</highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopIteration:</highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>item_value<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1ae8bf116decbac4bfd9e1da68d69414d3" kindref="member">_key</ref>(item)</highlight></codeline>
<codeline lineno="925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>item_value<sp/>==<sp/>value:</highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>item</highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a955428cbf7ab32d3109cfe054d325b6a" kindref="member">_validator</ref>(item_value):</highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a83c190d1ff3515a1dcf30e9de5976c15" kindref="member">_cache</ref>[item_value].append(item)</highlight></codeline>
<codeline lineno="930"><highlight class="normal"></highlight></codeline>
<codeline lineno="931"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__iter__(self):</highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a4275a4fc7c766b71c937135944b95104" kindref="member">_it</ref>:</highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>item_value<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1ae8bf116decbac4bfd9e1da68d69414d3" kindref="member">_key</ref>(item)</highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a955428cbf7ab32d3109cfe054d325b6a" kindref="member">_validator</ref>(item_value):</highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a83c190d1ff3515a1dcf30e9de5976c15" kindref="member">_cache</ref>[item_value].append(item)</highlight></codeline>
<codeline lineno="936"><highlight class="normal"></highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a83c190d1ff3515a1dcf30e9de5976c15" kindref="member">_cache</ref>.keys()</highlight></codeline>
<codeline lineno="938"><highlight class="normal"></highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__getitem__(self,<sp/>value):</highlight></codeline>
<codeline lineno="940"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1a955428cbf7ab32d3109cfe054d325b6a" kindref="member">_validator</ref>(value):</highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iter(())</highlight></codeline>
<codeline lineno="942"><highlight class="normal"></highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1bucket_1abea4887ae9cf7fc45b1161405b5df561" kindref="member">_get_values</ref>(value)</highlight></codeline>
<codeline lineno="944"><highlight class="normal"></highlight></codeline>
<codeline lineno="945"><highlight class="normal"></highlight></codeline>
<codeline lineno="946" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ad404f78ea35afd075654a37ad98a9426" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ad404f78ea35afd075654a37ad98a9426" kindref="member">spy</ref>(iterable,<sp/>n=1):</highlight></codeline>
<codeline lineno="947"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>a<sp/>2-tuple<sp/>with<sp/>a<sp/>list<sp/>containing<sp/>the<sp/>first<sp/>*n*<sp/>elements<sp/>of</highlight></codeline>
<codeline lineno="948"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*iterable*,<sp/>and<sp/>an<sp/>iterator<sp/>with<sp/>the<sp/>same<sp/>items<sp/>as<sp/>*iterable*.</highlight></codeline>
<codeline lineno="949"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>allows<sp/>you<sp/>to<sp/>&quot;look<sp/>ahead&quot;<sp/>at<sp/>the<sp/>items<sp/>in<sp/>the<sp/>iterable<sp/>without</highlight></codeline>
<codeline lineno="950"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>advancing<sp/>it.</highlight></codeline>
<codeline lineno="951"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="952"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>There<sp/>is<sp/>one<sp/>item<sp/>in<sp/>the<sp/>list<sp/>by<sp/>default:</highlight></codeline>
<codeline lineno="953"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="954"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>&apos;abcdefg&apos;</highlight></codeline>
<codeline lineno="955"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>head,<sp/>iterable<sp/>=<sp/>spy(iterable)</highlight></codeline>
<codeline lineno="956"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>head</highlight></codeline>
<codeline lineno="957"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;a&apos;]</highlight></codeline>
<codeline lineno="958"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(iterable)</highlight></codeline>
<codeline lineno="959"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;a&apos;,<sp/>&apos;b&apos;,<sp/>&apos;c&apos;,<sp/>&apos;d&apos;,<sp/>&apos;e&apos;,<sp/>&apos;f&apos;,<sp/>&apos;g&apos;]</highlight></codeline>
<codeline lineno="960"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="961"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>You<sp/>may<sp/>use<sp/>unpacking<sp/>to<sp/>retrieve<sp/>items<sp/>instead<sp/>of<sp/>lists:</highlight></codeline>
<codeline lineno="962"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="963"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>(head,),<sp/>iterable<sp/>=<sp/>spy(&apos;abcdefg&apos;)</highlight></codeline>
<codeline lineno="964"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>head</highlight></codeline>
<codeline lineno="965"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;a&apos;</highlight></codeline>
<codeline lineno="966"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>(first,<sp/>second),<sp/>iterable<sp/>=<sp/>spy(&apos;abcdefg&apos;,<sp/>2)</highlight></codeline>
<codeline lineno="967"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>first</highlight></codeline>
<codeline lineno="968"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;a&apos;</highlight></codeline>
<codeline lineno="969"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>second</highlight></codeline>
<codeline lineno="970"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;b&apos;</highlight></codeline>
<codeline lineno="971"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="972"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>number<sp/>of<sp/>items<sp/>requested<sp/>can<sp/>be<sp/>larger<sp/>than<sp/>the<sp/>number<sp/>of<sp/>items<sp/>in</highlight></codeline>
<codeline lineno="973"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>the<sp/>iterable:</highlight></codeline>
<codeline lineno="974"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="975"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[1,<sp/>2,<sp/>3,<sp/>4,<sp/>5]</highlight></codeline>
<codeline lineno="976"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>head,<sp/>iterable<sp/>=<sp/>spy(iterable,<sp/>10)</highlight></codeline>
<codeline lineno="977"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>head</highlight></codeline>
<codeline lineno="978"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>3,<sp/>4,<sp/>5]</highlight></codeline>
<codeline lineno="979"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(iterable)</highlight></codeline>
<codeline lineno="980"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>3,<sp/>4,<sp/>5]</highlight></codeline>
<codeline lineno="981"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="982"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/><sp/><sp/>it<sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/>head<sp/>=<sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1recipes_1ada7fe6e78b23058991218c632fff4cf5" kindref="member">take</ref>(n,<sp/>it)</highlight></codeline>
<codeline lineno="985"><highlight class="normal"></highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>head.copy(),<sp/>chain(head,<sp/>it)</highlight></codeline>
<codeline lineno="987"><highlight class="normal"></highlight></codeline>
<codeline lineno="988"><highlight class="normal"></highlight></codeline>
<codeline lineno="989" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a6a550537ce14e8b31de79d09cbf72ab2" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a6a550537ce14e8b31de79d09cbf72ab2" kindref="member">interleave</ref>(*iterables):</highlight></codeline>
<codeline lineno="990"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>a<sp/>new<sp/>iterable<sp/>yielding<sp/>from<sp/>each<sp/>iterable<sp/>in<sp/>turn,</highlight></codeline>
<codeline lineno="991"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>until<sp/>the<sp/>shortest<sp/>is<sp/>exhausted.</highlight></codeline>
<codeline lineno="992"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="993"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(interleave([1,<sp/>2,<sp/>3],<sp/>[4,<sp/>5],<sp/>[6,<sp/>7,<sp/>8]))</highlight></codeline>
<codeline lineno="994"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>4,<sp/>6,<sp/>2,<sp/>5,<sp/>7]</highlight></codeline>
<codeline lineno="995"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="996"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>a<sp/>version<sp/>that<sp/>doesn&apos;t<sp/>terminate<sp/>after<sp/>the<sp/>shortest<sp/>iterable<sp/>is</highlight></codeline>
<codeline lineno="997"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>exhausted,<sp/>see<sp/>:func:`interleave_longest`.</highlight></codeline>
<codeline lineno="998"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="999"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1000"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>chain.from_iterable(zip(*iterables))</highlight></codeline>
<codeline lineno="1001"><highlight class="normal"></highlight></codeline>
<codeline lineno="1002"><highlight class="normal"></highlight></codeline>
<codeline lineno="1003" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1aa1803700181e28e4201ab209a3da924d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1aa1803700181e28e4201ab209a3da924d" kindref="member">interleave_longest</ref>(*iterables):</highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>a<sp/>new<sp/>iterable<sp/>yielding<sp/>from<sp/>each<sp/>iterable<sp/>in<sp/>turn,</highlight></codeline>
<codeline lineno="1005"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>skipping<sp/>any<sp/>that<sp/>are<sp/>exhausted.</highlight></codeline>
<codeline lineno="1006"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1007"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(interleave_longest([1,<sp/>2,<sp/>3],<sp/>[4,<sp/>5],<sp/>[6,<sp/>7,<sp/>8]))</highlight></codeline>
<codeline lineno="1008"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>4,<sp/>6,<sp/>2,<sp/>5,<sp/>7,<sp/>3,<sp/>8]</highlight></codeline>
<codeline lineno="1009"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1010"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>produces<sp/>the<sp/>same<sp/>output<sp/>as<sp/>:func:`roundrobin`,<sp/>but<sp/>may</highlight></codeline>
<codeline lineno="1011"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>perform<sp/>better<sp/>for<sp/>some<sp/>inputs<sp/>(in<sp/>particular<sp/>when<sp/>the<sp/>number<sp/>of<sp/>iterables</highlight></codeline>
<codeline lineno="1012"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>is<sp/>large).</highlight></codeline>
<codeline lineno="1013"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1014"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1015"><highlight class="normal"><sp/><sp/><sp/><sp/>i<sp/>=<sp/>chain.from_iterable(zip_longest(*iterables,<sp/>fillvalue=_marker))</highlight></codeline>
<codeline lineno="1016"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(x<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>_marker)</highlight></codeline>
<codeline lineno="1017"><highlight class="normal"></highlight></codeline>
<codeline lineno="1018"><highlight class="normal"></highlight></codeline>
<codeline lineno="1019" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ad41738788dce77084e613575a9391382" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ad41738788dce77084e613575a9391382" kindref="member">collapse</ref>(iterable,<sp/>base_type=None,<sp/>levels=None):</highlight></codeline>
<codeline lineno="1020"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Flatten<sp/>an<sp/>iterable<sp/>with<sp/>multiple<sp/>levels<sp/>of<sp/>nesting<sp/>(e.g.,<sp/>a<sp/>list<sp/>of</highlight></codeline>
<codeline lineno="1021"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>lists<sp/>of<sp/>tuples)<sp/>into<sp/>non-iterable<sp/>types.</highlight></codeline>
<codeline lineno="1022"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1023"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[(1,<sp/>2),<sp/>([3,<sp/>4],<sp/>[[5],<sp/>[6]])]</highlight></codeline>
<codeline lineno="1024"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(collapse(iterable))</highlight></codeline>
<codeline lineno="1025"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>3,<sp/>4,<sp/>5,<sp/>6]</highlight></codeline>
<codeline lineno="1026"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1027"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Binary<sp/>and<sp/>text<sp/>strings<sp/>are<sp/>not<sp/>considered<sp/>iterable<sp/>and</highlight></codeline>
<codeline lineno="1028"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>will<sp/>not<sp/>be<sp/>collapsed.</highlight></codeline>
<codeline lineno="1029"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1030"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>To<sp/>avoid<sp/>collapsing<sp/>other<sp/>types,<sp/>specify<sp/>*base_type*:</highlight></codeline>
<codeline lineno="1031"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1032"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[&apos;ab&apos;,<sp/>(&apos;cd&apos;,<sp/>&apos;ef&apos;),<sp/>[&apos;gh&apos;,<sp/>&apos;ij&apos;]]</highlight></codeline>
<codeline lineno="1033"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(collapse(iterable,<sp/>base_type=tuple))</highlight></codeline>
<codeline lineno="1034"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;ab&apos;,<sp/>(&apos;cd&apos;,<sp/>&apos;ef&apos;),<sp/>&apos;gh&apos;,<sp/>&apos;ij&apos;]</highlight></codeline>
<codeline lineno="1035"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1036"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Specify<sp/>*levels*<sp/>to<sp/>stop<sp/>flattening<sp/>after<sp/>a<sp/>certain<sp/>level:</highlight></codeline>
<codeline lineno="1037"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1038"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[(&apos;a&apos;,<sp/>[&apos;b&apos;]),<sp/>(&apos;c&apos;,<sp/>[&apos;d&apos;])]</highlight></codeline>
<codeline lineno="1039"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(collapse(iterable))<sp/><sp/>#<sp/>Fully<sp/>flattened</highlight></codeline>
<codeline lineno="1040"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;a&apos;,<sp/>&apos;b&apos;,<sp/>&apos;c&apos;,<sp/>&apos;d&apos;]</highlight></codeline>
<codeline lineno="1041"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(collapse(iterable,<sp/>levels=1))<sp/><sp/>#<sp/>Only<sp/>one<sp/>level<sp/>flattened</highlight></codeline>
<codeline lineno="1042"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;a&apos;,<sp/>[&apos;b&apos;],<sp/>&apos;c&apos;,<sp/>[&apos;d&apos;]]</highlight></codeline>
<codeline lineno="1043"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1044"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1045"><highlight class="normal"></highlight></codeline>
<codeline lineno="1046"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">walk(node,<sp/>level):</highlight></codeline>
<codeline lineno="1047"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((levels<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>(level<sp/>&gt;<sp/>levels))</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>isinstance(node,<sp/>(str,<sp/>bytes))</highlight></codeline>
<codeline lineno="1050"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>((base_type<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>isinstance(node,<sp/>base_type))</highlight></codeline>
<codeline lineno="1051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>):</highlight></codeline>
<codeline lineno="1052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>node</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1054"><highlight class="normal"></highlight></codeline>
<codeline lineno="1055"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1056"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tree<sp/>=<sp/>iter(node)</highlight></codeline>
<codeline lineno="1057"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>TypeError:</highlight></codeline>
<codeline lineno="1058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>node</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>child<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>tree:</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>walk(child,<sp/>level<sp/>+<sp/>1)</highlight></codeline>
<codeline lineno="1063"><highlight class="normal"></highlight></codeline>
<codeline lineno="1064"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>walk(iterable,<sp/>0)</highlight></codeline>
<codeline lineno="1065"><highlight class="normal"></highlight></codeline>
<codeline lineno="1066"><highlight class="normal"></highlight></codeline>
<codeline lineno="1067" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1aa9fd87a60e18304da46bc5b9b42b14b1" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1aa9fd87a60e18304da46bc5b9b42b14b1" kindref="member">side_effect</ref>(func,<sp/>iterable,<sp/>chunk_size=None,<sp/>before=None,<sp/>after=None):</highlight></codeline>
<codeline lineno="1068"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Invoke<sp/>*func*<sp/>on<sp/>each<sp/>item<sp/>in<sp/>*iterable*<sp/>(or<sp/>on<sp/>each<sp/>*chunk_size*<sp/>group</highlight></codeline>
<codeline lineno="1069"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>of<sp/>items)<sp/>before<sp/>yielding<sp/>the<sp/>item.</highlight></codeline>
<codeline lineno="1070"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1071"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>`func`<sp/>must<sp/>be<sp/>a<sp/>function<sp/>that<sp/>takes<sp/>a<sp/>single<sp/>argument.<sp/>Its<sp/>return<sp/>value</highlight></codeline>
<codeline lineno="1072"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>will<sp/>be<sp/>discarded.</highlight></codeline>
<codeline lineno="1073"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1074"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*before*<sp/>and<sp/>*after*<sp/>are<sp/>optional<sp/>functions<sp/>that<sp/>take<sp/>no<sp/>arguments.<sp/>They</highlight></codeline>
<codeline lineno="1075"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>will<sp/>be<sp/>executed<sp/>before<sp/>iteration<sp/>starts<sp/>and<sp/>after<sp/>it<sp/>ends,<sp/>respectively.</highlight></codeline>
<codeline lineno="1076"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1077"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>`side_effect`<sp/>can<sp/>be<sp/>used<sp/>for<sp/>logging,<sp/>updating<sp/>progress<sp/>bars,<sp/>or<sp/>anything</highlight></codeline>
<codeline lineno="1078"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>that<sp/>is<sp/>not<sp/>functionally<sp/>&quot;pure.&quot;</highlight></codeline>
<codeline lineno="1079"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1080"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Emitting<sp/>a<sp/>status<sp/>message:</highlight></codeline>
<codeline lineno="1081"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1082"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>more_itertools<sp/>import<sp/>consume</highlight></codeline>
<codeline lineno="1083"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>func<sp/>=<sp/>lambda<sp/>item:<sp/>print(&apos;Received<sp/>{}&apos;.format(item))</highlight></codeline>
<codeline lineno="1084"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>consume(side_effect(func,<sp/>range(2)))</highlight></codeline>
<codeline lineno="1085"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Received<sp/>0</highlight></codeline>
<codeline lineno="1086"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Received<sp/>1</highlight></codeline>
<codeline lineno="1087"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1088"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Operating<sp/>on<sp/>chunks<sp/>of<sp/>items:</highlight></codeline>
<codeline lineno="1089"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1090"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>pair_sums<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1091"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>func<sp/>=<sp/>lambda<sp/>chunk:<sp/>pair_sums.append(sum(chunk))</highlight></codeline>
<codeline lineno="1092"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(side_effect(func,<sp/>[0,<sp/>1,<sp/>2,<sp/>3,<sp/>4,<sp/>5],<sp/>2))</highlight></codeline>
<codeline lineno="1093"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[0,<sp/>1,<sp/>2,<sp/>3,<sp/>4,<sp/>5]</highlight></codeline>
<codeline lineno="1094"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(pair_sums)</highlight></codeline>
<codeline lineno="1095"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>5,<sp/>9]</highlight></codeline>
<codeline lineno="1096"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1097"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Writing<sp/>to<sp/>a<sp/>file-like<sp/>object:</highlight></codeline>
<codeline lineno="1098"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1099"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>io<sp/>import<sp/>StringIO</highlight></codeline>
<codeline lineno="1100"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>more_itertools<sp/>import<sp/>consume</highlight></codeline>
<codeline lineno="1101"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>f<sp/>=<sp/>StringIO()</highlight></codeline>
<codeline lineno="1102"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>func<sp/>=<sp/>lambda<sp/>x:<sp/>print(x,<sp/>file=f)</highlight></codeline>
<codeline lineno="1103"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>before<sp/>=<sp/>lambda:<sp/>print(u&apos;HEADER&apos;,<sp/>file=f)</highlight></codeline>
<codeline lineno="1104"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>after<sp/>=<sp/>f.close</highlight></codeline>
<codeline lineno="1105"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it<sp/>=<sp/>[u&apos;a&apos;,<sp/>u&apos;b&apos;,<sp/>u&apos;c&apos;]</highlight></codeline>
<codeline lineno="1106"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>consume(side_effect(func,<sp/>it,<sp/>before=before,<sp/>after=after))</highlight></codeline>
<codeline lineno="1107"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>f.closed</highlight></codeline>
<codeline lineno="1108"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>True</highlight></codeline>
<codeline lineno="1109"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1110"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1111"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>before<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>before()</highlight></codeline>
<codeline lineno="1114"><highlight class="normal"></highlight></codeline>
<codeline lineno="1115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>chunk_size<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>iterable:</highlight></codeline>
<codeline lineno="1117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>func(item)</highlight></codeline>
<codeline lineno="1118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>item</highlight></codeline>
<codeline lineno="1119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>chunk<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1abffb53abf1266b52e612759e97a93b4d" kindref="member">chunked</ref>(iterable,<sp/>chunk_size):</highlight></codeline>
<codeline lineno="1121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>func(chunk)</highlight></codeline>
<codeline lineno="1122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>chunk</highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">finally</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>after<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>after()</highlight></codeline>
<codeline lineno="1126"><highlight class="normal"></highlight></codeline>
<codeline lineno="1127"><highlight class="normal"></highlight></codeline>
<codeline lineno="1128" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a56d69cf216f30f8434561bc98a0dd779" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a56d69cf216f30f8434561bc98a0dd779" kindref="member">sliced</ref>(seq,<sp/>n,<sp/>strict=False):</highlight></codeline>
<codeline lineno="1129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>slices<sp/>of<sp/>length<sp/>*n*<sp/>from<sp/>the<sp/>sequence<sp/>*seq*.</highlight></codeline>
<codeline lineno="1130"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1131"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(sliced((1,<sp/>2,<sp/>3,<sp/>4,<sp/>5,<sp/>6),<sp/>3))</highlight></codeline>
<codeline lineno="1132"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[(1,<sp/>2,<sp/>3),<sp/>(4,<sp/>5,<sp/>6)]</highlight></codeline>
<codeline lineno="1133"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1134"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>By<sp/>the<sp/>default,<sp/>the<sp/>last<sp/>yielded<sp/>slice<sp/>will<sp/>have<sp/>fewer<sp/>than<sp/>*n*<sp/>elements</highlight></codeline>
<codeline lineno="1135"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>if<sp/>the<sp/>length<sp/>of<sp/>*seq*<sp/>is<sp/>not<sp/>divisible<sp/>by<sp/>*n*:</highlight></codeline>
<codeline lineno="1136"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1137"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(sliced((1,<sp/>2,<sp/>3,<sp/>4,<sp/>5,<sp/>6,<sp/>7,<sp/>8),<sp/>3))</highlight></codeline>
<codeline lineno="1138"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[(1,<sp/>2,<sp/>3),<sp/>(4,<sp/>5,<sp/>6),<sp/>(7,<sp/>8)]</highlight></codeline>
<codeline lineno="1139"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1140"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>length<sp/>of<sp/>*seq*<sp/>is<sp/>not<sp/>divisible<sp/>by<sp/>*n*<sp/>and<sp/>*strict*<sp/>is</highlight></codeline>
<codeline lineno="1141"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``True``,<sp/>then<sp/>``ValueError``<sp/>will<sp/>be<sp/>raised<sp/>before<sp/>the<sp/>last</highlight></codeline>
<codeline lineno="1142"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>slice<sp/>is<sp/>yielded.</highlight></codeline>
<codeline lineno="1143"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1144"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>will<sp/>only<sp/>work<sp/>for<sp/>iterables<sp/>that<sp/>support<sp/>slicing.</highlight></codeline>
<codeline lineno="1145"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>non-sliceable<sp/>iterables,<sp/>see<sp/>:func:`chunked`.</highlight></codeline>
<codeline lineno="1146"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1147"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1148"><highlight class="normal"><sp/><sp/><sp/><sp/>iterator<sp/>=<sp/>takewhile(len,<sp/>(seq[i<sp/>:<sp/>i<sp/>+<sp/>n]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>count(0,<sp/>n)))</highlight></codeline>
<codeline lineno="1149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>strict:</highlight></codeline>
<codeline lineno="1150"><highlight class="normal"></highlight></codeline>
<codeline lineno="1151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">ret():</highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_slice<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>iterator:</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(_slice)<sp/>!=<sp/>n:</highlight></codeline>
<codeline lineno="1154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&quot;seq<sp/>is<sp/>not<sp/>divisible<sp/>by<sp/>n.&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>_slice</highlight></codeline>
<codeline lineno="1156"><highlight class="normal"></highlight></codeline>
<codeline lineno="1157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iter(ret())</highlight></codeline>
<codeline lineno="1158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iterator</highlight></codeline>
<codeline lineno="1160"><highlight class="normal"></highlight></codeline>
<codeline lineno="1161"><highlight class="normal"></highlight></codeline>
<codeline lineno="1162" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a0c21ccdd1a1500b43fd08fe03f0f3c2c" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a0c21ccdd1a1500b43fd08fe03f0f3c2c" kindref="member">split_at</ref>(iterable,<sp/>pred,<sp/>maxsplit=-1,<sp/>keep_separator=False):</highlight></codeline>
<codeline lineno="1163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>lists<sp/>of<sp/>items<sp/>from<sp/>*iterable*,<sp/>where<sp/>each<sp/>list<sp/>is<sp/>delimited<sp/>by</highlight></codeline>
<codeline lineno="1164"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>an<sp/>item<sp/>where<sp/>callable<sp/>*pred*<sp/>returns<sp/>``True``.</highlight></codeline>
<codeline lineno="1165"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1166"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(split_at(&apos;abcdcba&apos;,<sp/>lambda<sp/>x:<sp/>x<sp/>==<sp/>&apos;b&apos;))</highlight></codeline>
<codeline lineno="1167"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[&apos;a&apos;],<sp/>[&apos;c&apos;,<sp/>&apos;d&apos;,<sp/>&apos;c&apos;],<sp/>[&apos;a&apos;]]</highlight></codeline>
<codeline lineno="1168"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1169"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(split_at(range(10),<sp/>lambda<sp/>n:<sp/>n<sp/>%<sp/>2<sp/>==<sp/>1))</highlight></codeline>
<codeline lineno="1170"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[0],<sp/>[2],<sp/>[4],<sp/>[6],<sp/>[8],<sp/>[]]</highlight></codeline>
<codeline lineno="1171"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1172"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>At<sp/>most<sp/>*maxsplit*<sp/>splits<sp/>are<sp/>done.<sp/>If<sp/>*maxsplit*<sp/>is<sp/>not<sp/>specified<sp/>or<sp/>-1,</highlight></codeline>
<codeline lineno="1173"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>then<sp/>there<sp/>is<sp/>no<sp/>limit<sp/>on<sp/>the<sp/>number<sp/>of<sp/>splits:</highlight></codeline>
<codeline lineno="1174"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1175"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(split_at(range(10),<sp/>lambda<sp/>n:<sp/>n<sp/>%<sp/>2<sp/>==<sp/>1,<sp/>maxsplit=2))</highlight></codeline>
<codeline lineno="1176"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[0],<sp/>[2],<sp/>[4,<sp/>5,<sp/>6,<sp/>7,<sp/>8,<sp/>9]]</highlight></codeline>
<codeline lineno="1177"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1178"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>By<sp/>default,<sp/>the<sp/>delimiting<sp/>items<sp/>are<sp/>not<sp/>included<sp/>in<sp/>the<sp/>output.</highlight></codeline>
<codeline lineno="1179"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>include<sp/>them,<sp/>set<sp/>*keep_separator*<sp/>to<sp/>``True``.</highlight></codeline>
<codeline lineno="1180"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1181"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(split_at(&apos;abcdcba&apos;,<sp/>lambda<sp/>x:<sp/>x<sp/>==<sp/>&apos;b&apos;,<sp/>keep_separator=True))</highlight></codeline>
<codeline lineno="1182"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[&apos;a&apos;],<sp/>[&apos;b&apos;],<sp/>[&apos;c&apos;,<sp/>&apos;d&apos;,<sp/>&apos;c&apos;],<sp/>[&apos;b&apos;],<sp/>[&apos;a&apos;]]</highlight></codeline>
<codeline lineno="1183"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1184"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1185"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>maxsplit<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="1186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>list(iterable)</highlight></codeline>
<codeline lineno="1187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1188"><highlight class="normal"></highlight></codeline>
<codeline lineno="1189"><highlight class="normal"><sp/><sp/><sp/><sp/>buf<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1190"><highlight class="normal"><sp/><sp/><sp/><sp/>it<sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="1191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>it:</highlight></codeline>
<codeline lineno="1192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>pred(item):</highlight></codeline>
<codeline lineno="1193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>buf</highlight></codeline>
<codeline lineno="1194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>keep_separator:</highlight></codeline>
<codeline lineno="1195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>[item]</highlight></codeline>
<codeline lineno="1196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>maxsplit<sp/>==<sp/>1:</highlight></codeline>
<codeline lineno="1197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>list(it)</highlight></codeline>
<codeline lineno="1198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>buf<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>maxsplit<sp/>-=<sp/>1</highlight></codeline>
<codeline lineno="1201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>buf.append(item)</highlight></codeline>
<codeline lineno="1203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>buf</highlight></codeline>
<codeline lineno="1204"><highlight class="normal"></highlight></codeline>
<codeline lineno="1205"><highlight class="normal"></highlight></codeline>
<codeline lineno="1206" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ad7aee350818833ba18a93b952983d841" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ad7aee350818833ba18a93b952983d841" kindref="member">split_before</ref>(iterable,<sp/>pred,<sp/>maxsplit=-1):</highlight></codeline>
<codeline lineno="1207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>lists<sp/>of<sp/>items<sp/>from<sp/>*iterable*,<sp/>where<sp/>each<sp/>list<sp/>ends<sp/>just<sp/>before</highlight></codeline>
<codeline lineno="1208"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>an<sp/>item<sp/>for<sp/>which<sp/>callable<sp/>*pred*<sp/>returns<sp/>``True``:</highlight></codeline>
<codeline lineno="1209"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1210"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(split_before(&apos;OneTwo&apos;,<sp/>lambda<sp/>s:<sp/>s.isupper()))</highlight></codeline>
<codeline lineno="1211"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[&apos;O&apos;,<sp/>&apos;n&apos;,<sp/>&apos;e&apos;],<sp/>[&apos;T&apos;,<sp/>&apos;w&apos;,<sp/>&apos;o&apos;]]</highlight></codeline>
<codeline lineno="1212"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1213"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(split_before(range(10),<sp/>lambda<sp/>n:<sp/>n<sp/>%<sp/>3<sp/>==<sp/>0))</highlight></codeline>
<codeline lineno="1214"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[0,<sp/>1,<sp/>2],<sp/>[3,<sp/>4,<sp/>5],<sp/>[6,<sp/>7,<sp/>8],<sp/>[9]]</highlight></codeline>
<codeline lineno="1215"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1216"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>At<sp/>most<sp/>*maxsplit*<sp/>splits<sp/>are<sp/>done.<sp/>If<sp/>*maxsplit*<sp/>is<sp/>not<sp/>specified<sp/>or<sp/>-1,</highlight></codeline>
<codeline lineno="1217"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>then<sp/>there<sp/>is<sp/>no<sp/>limit<sp/>on<sp/>the<sp/>number<sp/>of<sp/>splits:</highlight></codeline>
<codeline lineno="1218"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1219"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(split_before(range(10),<sp/>lambda<sp/>n:<sp/>n<sp/>%<sp/>3<sp/>==<sp/>0,<sp/>maxsplit=2))</highlight></codeline>
<codeline lineno="1220"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[0,<sp/>1,<sp/>2],<sp/>[3,<sp/>4,<sp/>5],<sp/>[6,<sp/>7,<sp/>8,<sp/>9]]</highlight></codeline>
<codeline lineno="1221"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>maxsplit<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="1223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>list(iterable)</highlight></codeline>
<codeline lineno="1224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1225"><highlight class="normal"></highlight></codeline>
<codeline lineno="1226"><highlight class="normal"><sp/><sp/><sp/><sp/>buf<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1227"><highlight class="normal"><sp/><sp/><sp/><sp/>it<sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="1228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>it:</highlight></codeline>
<codeline lineno="1229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>pred(item)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>buf:</highlight></codeline>
<codeline lineno="1230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>buf</highlight></codeline>
<codeline lineno="1231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>maxsplit<sp/>==<sp/>1:</highlight></codeline>
<codeline lineno="1232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>[item]<sp/>+<sp/>list(it)</highlight></codeline>
<codeline lineno="1233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>buf<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>maxsplit<sp/>-=<sp/>1</highlight></codeline>
<codeline lineno="1236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>buf.append(item)</highlight></codeline>
<codeline lineno="1237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>buf:</highlight></codeline>
<codeline lineno="1238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>buf</highlight></codeline>
<codeline lineno="1239"><highlight class="normal"></highlight></codeline>
<codeline lineno="1240"><highlight class="normal"></highlight></codeline>
<codeline lineno="1241" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1aec868cc95b2ee87797046cbf8083e47d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1aec868cc95b2ee87797046cbf8083e47d" kindref="member">split_after</ref>(iterable,<sp/>pred,<sp/>maxsplit=-1):</highlight></codeline>
<codeline lineno="1242"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>lists<sp/>of<sp/>items<sp/>from<sp/>*iterable*,<sp/>where<sp/>each<sp/>list<sp/>ends<sp/>with<sp/>an</highlight></codeline>
<codeline lineno="1243"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>item<sp/>where<sp/>callable<sp/>*pred*<sp/>returns<sp/>``True``:</highlight></codeline>
<codeline lineno="1244"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1245"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(split_after(&apos;one1two2&apos;,<sp/>lambda<sp/>s:<sp/>s.isdigit()))</highlight></codeline>
<codeline lineno="1246"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[&apos;o&apos;,<sp/>&apos;n&apos;,<sp/>&apos;e&apos;,<sp/>&apos;1&apos;],<sp/>[&apos;t&apos;,<sp/>&apos;w&apos;,<sp/>&apos;o&apos;,<sp/>&apos;2&apos;]]</highlight></codeline>
<codeline lineno="1247"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1248"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(split_after(range(10),<sp/>lambda<sp/>n:<sp/>n<sp/>%<sp/>3<sp/>==<sp/>0))</highlight></codeline>
<codeline lineno="1249"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[0],<sp/>[1,<sp/>2,<sp/>3],<sp/>[4,<sp/>5,<sp/>6],<sp/>[7,<sp/>8,<sp/>9]]</highlight></codeline>
<codeline lineno="1250"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1251"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>At<sp/>most<sp/>*maxsplit*<sp/>splits<sp/>are<sp/>done.<sp/>If<sp/>*maxsplit*<sp/>is<sp/>not<sp/>specified<sp/>or<sp/>-1,</highlight></codeline>
<codeline lineno="1252"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>then<sp/>there<sp/>is<sp/>no<sp/>limit<sp/>on<sp/>the<sp/>number<sp/>of<sp/>splits:</highlight></codeline>
<codeline lineno="1253"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1254"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(split_after(range(10),<sp/>lambda<sp/>n:<sp/>n<sp/>%<sp/>3<sp/>==<sp/>0,<sp/>maxsplit=2))</highlight></codeline>
<codeline lineno="1255"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[0],<sp/>[1,<sp/>2,<sp/>3],<sp/>[4,<sp/>5,<sp/>6,<sp/>7,<sp/>8,<sp/>9]]</highlight></codeline>
<codeline lineno="1256"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1257"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1258"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>maxsplit<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="1259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>list(iterable)</highlight></codeline>
<codeline lineno="1260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1261"><highlight class="normal"></highlight></codeline>
<codeline lineno="1262"><highlight class="normal"><sp/><sp/><sp/><sp/>buf<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1263"><highlight class="normal"><sp/><sp/><sp/><sp/>it<sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="1264"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>it:</highlight></codeline>
<codeline lineno="1265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>buf.append(item)</highlight></codeline>
<codeline lineno="1266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>pred(item)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>buf:</highlight></codeline>
<codeline lineno="1267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>buf</highlight></codeline>
<codeline lineno="1268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>maxsplit<sp/>==<sp/>1:</highlight></codeline>
<codeline lineno="1269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>list(it)</highlight></codeline>
<codeline lineno="1270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>buf<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>maxsplit<sp/>-=<sp/>1</highlight></codeline>
<codeline lineno="1273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>buf:</highlight></codeline>
<codeline lineno="1274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>buf</highlight></codeline>
<codeline lineno="1275"><highlight class="normal"></highlight></codeline>
<codeline lineno="1276"><highlight class="normal"></highlight></codeline>
<codeline lineno="1277" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a524b6352594c860dfa3b742832d114aa" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a524b6352594c860dfa3b742832d114aa" kindref="member">split_when</ref>(iterable,<sp/>pred,<sp/>maxsplit=-1):</highlight></codeline>
<codeline lineno="1278"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Split<sp/>*iterable*<sp/>into<sp/>pieces<sp/>based<sp/>on<sp/>the<sp/>output<sp/>of<sp/>*pred*.</highlight></codeline>
<codeline lineno="1279"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*pred*<sp/>should<sp/>be<sp/>a<sp/>function<sp/>that<sp/>takes<sp/>successive<sp/>pairs<sp/>of<sp/>items<sp/>and</highlight></codeline>
<codeline lineno="1280"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>returns<sp/>``True``<sp/>if<sp/>the<sp/>iterable<sp/>should<sp/>be<sp/>split<sp/>in<sp/>between<sp/>them.</highlight></codeline>
<codeline lineno="1281"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1282"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>example,<sp/>to<sp/>find<sp/>runs<sp/>of<sp/>increasing<sp/>numbers,<sp/>split<sp/>the<sp/>iterable<sp/>when</highlight></codeline>
<codeline lineno="1283"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>element<sp/>``i``<sp/>is<sp/>larger<sp/>than<sp/>element<sp/>``i<sp/>+<sp/>1``:</highlight></codeline>
<codeline lineno="1284"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1285"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(split_when([1,<sp/>2,<sp/>3,<sp/>3,<sp/>2,<sp/>5,<sp/>2,<sp/>4,<sp/>2],<sp/>lambda<sp/>x,<sp/>y:<sp/>x<sp/>&gt;<sp/>y))</highlight></codeline>
<codeline lineno="1286"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[1,<sp/>2,<sp/>3,<sp/>3],<sp/>[2,<sp/>5],<sp/>[2,<sp/>4],<sp/>[2]]</highlight></codeline>
<codeline lineno="1287"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1288"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>At<sp/>most<sp/>*maxsplit*<sp/>splits<sp/>are<sp/>done.<sp/>If<sp/>*maxsplit*<sp/>is<sp/>not<sp/>specified<sp/>or<sp/>-1,</highlight></codeline>
<codeline lineno="1289"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>then<sp/>there<sp/>is<sp/>no<sp/>limit<sp/>on<sp/>the<sp/>number<sp/>of<sp/>splits:</highlight></codeline>
<codeline lineno="1290"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1291"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(split_when([1,<sp/>2,<sp/>3,<sp/>3,<sp/>2,<sp/>5,<sp/>2,<sp/>4,<sp/>2],</highlight></codeline>
<codeline lineno="1292"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lambda<sp/>x,<sp/>y:<sp/>x<sp/>&gt;<sp/>y,<sp/>maxsplit=2))</highlight></codeline>
<codeline lineno="1293"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[1,<sp/>2,<sp/>3,<sp/>3],<sp/>[2,<sp/>5],<sp/>[2,<sp/>4,<sp/>2]]</highlight></codeline>
<codeline lineno="1294"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1295"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1296"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>maxsplit<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="1297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>list(iterable)</highlight></codeline>
<codeline lineno="1298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1299"><highlight class="normal"></highlight></codeline>
<codeline lineno="1300"><highlight class="normal"><sp/><sp/><sp/><sp/>it<sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="1301"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_item<sp/>=<sp/>next(it)</highlight></codeline>
<codeline lineno="1303"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopIteration:</highlight></codeline>
<codeline lineno="1304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1305"><highlight class="normal"></highlight></codeline>
<codeline lineno="1306"><highlight class="normal"><sp/><sp/><sp/><sp/>buf<sp/>=<sp/>[cur_item]</highlight></codeline>
<codeline lineno="1307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>next_item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>it:</highlight></codeline>
<codeline lineno="1308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>pred(cur_item,<sp/>next_item):</highlight></codeline>
<codeline lineno="1309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>buf</highlight></codeline>
<codeline lineno="1310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>maxsplit<sp/>==<sp/>1:</highlight></codeline>
<codeline lineno="1311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>[next_item]<sp/>+<sp/>list(it)</highlight></codeline>
<codeline lineno="1312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>buf<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>maxsplit<sp/>-=<sp/>1</highlight></codeline>
<codeline lineno="1315"><highlight class="normal"></highlight></codeline>
<codeline lineno="1316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>buf.append(next_item)</highlight></codeline>
<codeline lineno="1317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_item<sp/>=<sp/>next_item</highlight></codeline>
<codeline lineno="1318"><highlight class="normal"></highlight></codeline>
<codeline lineno="1319"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>buf</highlight></codeline>
<codeline lineno="1320"><highlight class="normal"></highlight></codeline>
<codeline lineno="1321"><highlight class="normal"></highlight></codeline>
<codeline lineno="1322" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a2414703c881898f60f20d405da23acc0" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a2414703c881898f60f20d405da23acc0" kindref="member">split_into</ref>(iterable,<sp/>sizes):</highlight></codeline>
<codeline lineno="1323"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>a<sp/>list<sp/>of<sp/>sequential<sp/>items<sp/>from<sp/>*iterable*<sp/>of<sp/>length<sp/>&apos;n&apos;<sp/>for<sp/>each</highlight></codeline>
<codeline lineno="1324"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>integer<sp/>&apos;n&apos;<sp/>in<sp/>*sizes*.</highlight></codeline>
<codeline lineno="1325"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1326"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(split_into([1,2,3,4,5,6],<sp/>[1,2,3]))</highlight></codeline>
<codeline lineno="1327"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[1],<sp/>[2,<sp/>3],<sp/>[4,<sp/>5,<sp/>6]]</highlight></codeline>
<codeline lineno="1328"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1329"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>sum<sp/>of<sp/>*sizes*<sp/>is<sp/>smaller<sp/>than<sp/>the<sp/>length<sp/>of<sp/>*iterable*,<sp/>then<sp/>the</highlight></codeline>
<codeline lineno="1330"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>remaining<sp/>items<sp/>of<sp/>*iterable*<sp/>will<sp/>not<sp/>be<sp/>returned.</highlight></codeline>
<codeline lineno="1331"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1332"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(split_into([1,2,3,4,5,6],<sp/>[2,3]))</highlight></codeline>
<codeline lineno="1333"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[1,<sp/>2],<sp/>[3,<sp/>4,<sp/>5]]</highlight></codeline>
<codeline lineno="1334"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1335"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>sum<sp/>of<sp/>*sizes*<sp/>is<sp/>larger<sp/>than<sp/>the<sp/>length<sp/>of<sp/>*iterable*,<sp/>fewer<sp/>items</highlight></codeline>
<codeline lineno="1336"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>will<sp/>be<sp/>returned<sp/>in<sp/>the<sp/>iteration<sp/>that<sp/>overruns<sp/>*iterable*<sp/>and<sp/>further</highlight></codeline>
<codeline lineno="1337"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>lists<sp/>will<sp/>be<sp/>empty:</highlight></codeline>
<codeline lineno="1338"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1339"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(split_into([1,2,3,4],<sp/>[1,2,3,4]))</highlight></codeline>
<codeline lineno="1340"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[1],<sp/>[2,<sp/>3],<sp/>[4],<sp/>[]]</highlight></codeline>
<codeline lineno="1341"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1342"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>When<sp/>a<sp/>``None``<sp/>object<sp/>is<sp/>encountered<sp/>in<sp/>*sizes*,<sp/>the<sp/>returned<sp/>list<sp/>will</highlight></codeline>
<codeline lineno="1343"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>contain<sp/>items<sp/>up<sp/>to<sp/>the<sp/>end<sp/>of<sp/>*iterable*<sp/>the<sp/>same<sp/>way<sp/>that<sp/>itertools.slice</highlight></codeline>
<codeline lineno="1344"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>does:</highlight></codeline>
<codeline lineno="1345"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1346"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(split_into([1,2,3,4,5,6,7,8,9,0],<sp/>[2,3,None]))</highlight></codeline>
<codeline lineno="1347"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[1,<sp/>2],<sp/>[3,<sp/>4,<sp/>5],<sp/>[6,<sp/>7,<sp/>8,<sp/>9,<sp/>0]]</highlight></codeline>
<codeline lineno="1348"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1349"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:func:`split_into`<sp/>can<sp/>be<sp/>useful<sp/>for<sp/>grouping<sp/>a<sp/>series<sp/>of<sp/>items<sp/>where<sp/>the</highlight></codeline>
<codeline lineno="1350"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>sizes<sp/>of<sp/>the<sp/>groups<sp/>are<sp/>not<sp/>uniform.<sp/>An<sp/>example<sp/>would<sp/>be<sp/>where<sp/>in<sp/>a<sp/>row</highlight></codeline>
<codeline lineno="1351"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>from<sp/>a<sp/>table,<sp/>multiple<sp/>columns<sp/>represent<sp/>elements<sp/>of<sp/>the<sp/>same<sp/>feature</highlight></codeline>
<codeline lineno="1352"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(e.g.<sp/>a<sp/>point<sp/>represented<sp/>by<sp/>x,y,z)<sp/>but,<sp/>the<sp/>format<sp/>is<sp/>not<sp/>the<sp/>same<sp/>for</highlight></codeline>
<codeline lineno="1353"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>all<sp/>columns.</highlight></codeline>
<codeline lineno="1354"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1355"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>convert<sp/>the<sp/>iterable<sp/>argument<sp/>into<sp/>an<sp/>iterator<sp/>so<sp/>its<sp/>contents<sp/>can</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1356"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>be<sp/>consumed<sp/>by<sp/>islice<sp/>in<sp/>case<sp/>it<sp/>is<sp/>a<sp/>generator</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1357"><highlight class="normal"><sp/><sp/><sp/><sp/>it<sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="1358"><highlight class="normal"></highlight></codeline>
<codeline lineno="1359"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>size<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>sizes:</highlight></codeline>
<codeline lineno="1360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>size<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>list(it)</highlight></codeline>
<codeline lineno="1362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>list(islice(it,<sp/>size))</highlight></codeline>
<codeline lineno="1365"><highlight class="normal"></highlight></codeline>
<codeline lineno="1366"><highlight class="normal"></highlight></codeline>
<codeline lineno="1367" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a50adbaec19127d43efcec83b3b67d2e1" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a50adbaec19127d43efcec83b3b67d2e1" kindref="member">padded</ref>(iterable,<sp/>fillvalue=None,<sp/>n=None,<sp/>next_multiple=False):</highlight></codeline>
<codeline lineno="1368"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>the<sp/>elements<sp/>from<sp/>*iterable*,<sp/>followed<sp/>by<sp/>*fillvalue*,<sp/>such<sp/>that</highlight></codeline>
<codeline lineno="1369"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>at<sp/>least<sp/>*n*<sp/>items<sp/>are<sp/>emitted.</highlight></codeline>
<codeline lineno="1370"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1371"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(padded([1,<sp/>2,<sp/>3],<sp/>&apos;?&apos;,<sp/>5))</highlight></codeline>
<codeline lineno="1372"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>3,<sp/>&apos;?&apos;,<sp/>&apos;?&apos;]</highlight></codeline>
<codeline lineno="1373"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1374"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*next_multiple*<sp/>is<sp/>``True``,<sp/>*fillvalue*<sp/>will<sp/>be<sp/>emitted<sp/>until<sp/>the</highlight></codeline>
<codeline lineno="1375"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>number<sp/>of<sp/>items<sp/>emitted<sp/>is<sp/>a<sp/>multiple<sp/>of<sp/>*n*::</highlight></codeline>
<codeline lineno="1376"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1377"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(padded([1,<sp/>2,<sp/>3,<sp/>4],<sp/>n=3,<sp/>next_multiple=True))</highlight></codeline>
<codeline lineno="1378"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>3,<sp/>4,<sp/>None,<sp/>None]</highlight></codeline>
<codeline lineno="1379"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1380"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*n*<sp/>is<sp/>``None``,<sp/>*fillvalue*<sp/>will<sp/>be<sp/>emitted<sp/>indefinitely.</highlight></codeline>
<codeline lineno="1381"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1382"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1383"><highlight class="normal"><sp/><sp/><sp/><sp/>it<sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="1384"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>chain(it,<sp/>repeat(fillvalue))</highlight></codeline>
<codeline lineno="1386"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>n<sp/>&lt;<sp/>1:</highlight></codeline>
<codeline lineno="1387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;n<sp/>must<sp/>be<sp/>at<sp/>least<sp/>1&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1388"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>item_count<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="1390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>it:</highlight></codeline>
<codeline lineno="1391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>item</highlight></codeline>
<codeline lineno="1392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>item_count<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="1393"><highlight class="normal"></highlight></codeline>
<codeline lineno="1394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>remaining<sp/>=<sp/>(n<sp/>-<sp/>item_count)<sp/>%<sp/>n<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>next_multiple<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>n<sp/>-<sp/>item_count</highlight></codeline>
<codeline lineno="1395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(remaining):</highlight></codeline>
<codeline lineno="1396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>fillvalue</highlight></codeline>
<codeline lineno="1397"><highlight class="normal"></highlight></codeline>
<codeline lineno="1398"><highlight class="normal"></highlight></codeline>
<codeline lineno="1399" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1aa5425f753dfd8559de42b9fc12c28fc2" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1aa5425f753dfd8559de42b9fc12c28fc2" kindref="member">repeat_last</ref>(iterable,<sp/>default=None):</highlight></codeline>
<codeline lineno="1400"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;After<sp/>the<sp/>*iterable*<sp/>is<sp/>exhausted,<sp/>keep<sp/>yielding<sp/>its<sp/>last<sp/>element.</highlight></codeline>
<codeline lineno="1401"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1402"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(islice(repeat_last(range(3)),<sp/>5))</highlight></codeline>
<codeline lineno="1403"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[0,<sp/>1,<sp/>2,<sp/>2,<sp/>2]</highlight></codeline>
<codeline lineno="1404"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1405"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>iterable<sp/>is<sp/>empty,<sp/>yield<sp/>*default*<sp/>forever::</highlight></codeline>
<codeline lineno="1406"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1407"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(islice(repeat_last(range(0),<sp/>42),<sp/>5))</highlight></codeline>
<codeline lineno="1408"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[42,<sp/>42,<sp/>42,<sp/>42,<sp/>42]</highlight></codeline>
<codeline lineno="1409"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1410"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1411"><highlight class="normal"><sp/><sp/><sp/><sp/>item<sp/>=<sp/>_marker</highlight></codeline>
<codeline lineno="1412"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>iterable:</highlight></codeline>
<codeline lineno="1413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>item</highlight></codeline>
<codeline lineno="1414"><highlight class="normal"><sp/><sp/><sp/><sp/>final<sp/>=<sp/>default<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>item<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>_marker<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>item</highlight></codeline>
<codeline lineno="1415"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>repeat(final)</highlight></codeline>
<codeline lineno="1416"><highlight class="normal"></highlight></codeline>
<codeline lineno="1417"><highlight class="normal"></highlight></codeline>
<codeline lineno="1418" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a83c0a201e6bbd3b1a336c4b775963c6b" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a83c0a201e6bbd3b1a336c4b775963c6b" kindref="member">distribute</ref>(n,<sp/>iterable):</highlight></codeline>
<codeline lineno="1419"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Distribute<sp/>the<sp/>items<sp/>from<sp/>*iterable*<sp/>among<sp/>*n*<sp/>smaller<sp/>iterables.</highlight></codeline>
<codeline lineno="1420"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1421"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>group_1,<sp/>group_2<sp/>=<sp/>distribute(2,<sp/>[1,<sp/>2,<sp/>3,<sp/>4,<sp/>5,<sp/>6])</highlight></codeline>
<codeline lineno="1422"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(group_1)</highlight></codeline>
<codeline lineno="1423"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>3,<sp/>5]</highlight></codeline>
<codeline lineno="1424"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(group_2)</highlight></codeline>
<codeline lineno="1425"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[2,<sp/>4,<sp/>6]</highlight></codeline>
<codeline lineno="1426"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1427"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>length<sp/>of<sp/>*iterable*<sp/>is<sp/>not<sp/>evenly<sp/>divisible<sp/>by<sp/>*n*,<sp/>then<sp/>the</highlight></codeline>
<codeline lineno="1428"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>length<sp/>of<sp/>the<sp/>returned<sp/>iterables<sp/>will<sp/>not<sp/>be<sp/>identical:</highlight></codeline>
<codeline lineno="1429"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1430"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>children<sp/>=<sp/>distribute(3,<sp/>[1,<sp/>2,<sp/>3,<sp/>4,<sp/>5,<sp/>6,<sp/>7])</highlight></codeline>
<codeline lineno="1431"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>[list(c)<sp/>for<sp/>c<sp/>in<sp/>children]</highlight></codeline>
<codeline lineno="1432"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[1,<sp/>4,<sp/>7],<sp/>[2,<sp/>5],<sp/>[3,<sp/>6]]</highlight></codeline>
<codeline lineno="1433"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1434"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>length<sp/>of<sp/>*iterable*<sp/>is<sp/>smaller<sp/>than<sp/>*n*,<sp/>then<sp/>the<sp/>last<sp/>returned</highlight></codeline>
<codeline lineno="1435"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>iterables<sp/>will<sp/>be<sp/>empty:</highlight></codeline>
<codeline lineno="1436"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1437"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>children<sp/>=<sp/>distribute(5,<sp/>[1,<sp/>2,<sp/>3])</highlight></codeline>
<codeline lineno="1438"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>[list(c)<sp/>for<sp/>c<sp/>in<sp/>children]</highlight></codeline>
<codeline lineno="1439"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[1],<sp/>[2],<sp/>[3],<sp/>[],<sp/>[]]</highlight></codeline>
<codeline lineno="1440"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1441"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>uses<sp/>:func:`itertools.tee`<sp/>and<sp/>may<sp/>require<sp/>significant</highlight></codeline>
<codeline lineno="1442"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>storage.<sp/>If<sp/>you<sp/>need<sp/>the<sp/>order<sp/>items<sp/>in<sp/>the<sp/>smaller<sp/>iterables<sp/>to<sp/>match<sp/>the</highlight></codeline>
<codeline lineno="1443"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>original<sp/>iterable,<sp/>see<sp/>:func:`divide`.</highlight></codeline>
<codeline lineno="1444"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1445"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1446"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n<sp/>&lt;<sp/>1:</highlight></codeline>
<codeline lineno="1447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;n<sp/>must<sp/>be<sp/>at<sp/>least<sp/>1&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1448"><highlight class="normal"></highlight></codeline>
<codeline lineno="1449"><highlight class="normal"><sp/><sp/><sp/><sp/>children<sp/>=<sp/>tee(iterable,<sp/>n)</highlight></codeline>
<codeline lineno="1450"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[islice(it,<sp/>index,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>n)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>index,<sp/>it<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>enumerate(children)]</highlight></codeline>
<codeline lineno="1451"><highlight class="normal"></highlight></codeline>
<codeline lineno="1452"><highlight class="normal"></highlight></codeline>
<codeline lineno="1453" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1aa6a5061bfeab377fdcb3819d122ea2ae" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1aa6a5061bfeab377fdcb3819d122ea2ae" kindref="member">stagger</ref>(iterable,<sp/>offsets=(-1,<sp/>0,<sp/>1),<sp/>longest=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>fillvalue=</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="1454"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>tuples<sp/>whose<sp/>elements<sp/>are<sp/>offset<sp/>from<sp/>*iterable*.</highlight></codeline>
<codeline lineno="1455"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>amount<sp/>by<sp/>which<sp/>the<sp/>`i`-th<sp/>item<sp/>in<sp/>each<sp/>tuple<sp/>is<sp/>offset<sp/>is<sp/>given<sp/>by</highlight></codeline>
<codeline lineno="1456"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>the<sp/>`i`-th<sp/>item<sp/>in<sp/>*offsets*.</highlight></codeline>
<codeline lineno="1457"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1458"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(stagger([0,<sp/>1,<sp/>2,<sp/>3]))</highlight></codeline>
<codeline lineno="1459"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(None,<sp/>0,<sp/>1),<sp/>(0,<sp/>1,<sp/>2),<sp/>(1,<sp/>2,<sp/>3)]</highlight></codeline>
<codeline lineno="1460"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(stagger(range(8),<sp/>offsets=(0,<sp/>2,<sp/>4)))</highlight></codeline>
<codeline lineno="1461"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(0,<sp/>2,<sp/>4),<sp/>(1,<sp/>3,<sp/>5),<sp/>(2,<sp/>4,<sp/>6),<sp/>(3,<sp/>5,<sp/>7)]</highlight></codeline>
<codeline lineno="1462"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1463"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>By<sp/>default,<sp/>the<sp/>sequence<sp/>will<sp/>end<sp/>when<sp/>the<sp/>final<sp/>element<sp/>of<sp/>a<sp/>tuple<sp/>is<sp/>the</highlight></codeline>
<codeline lineno="1464"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>last<sp/>item<sp/>in<sp/>the<sp/>iterable.<sp/>To<sp/>continue<sp/>until<sp/>the<sp/>first<sp/>element<sp/>of<sp/>a<sp/>tuple</highlight></codeline>
<codeline lineno="1465"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>is<sp/>the<sp/>last<sp/>item<sp/>in<sp/>the<sp/>iterable,<sp/>set<sp/>*longest*<sp/>to<sp/>``True``::</highlight></codeline>
<codeline lineno="1466"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1467"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(stagger([0,<sp/>1,<sp/>2,<sp/>3],<sp/>longest=True))</highlight></codeline>
<codeline lineno="1468"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(None,<sp/>0,<sp/>1),<sp/>(0,<sp/>1,<sp/>2),<sp/>(1,<sp/>2,<sp/>3),<sp/>(2,<sp/>3,<sp/>None),<sp/>(3,<sp/>None,<sp/>None)]</highlight></codeline>
<codeline lineno="1469"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1470"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>By<sp/>default,<sp/>``None``<sp/>will<sp/>be<sp/>used<sp/>to<sp/>replace<sp/>offsets<sp/>beyond<sp/>the<sp/>end<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="1471"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>sequence.<sp/>Specify<sp/>*fillvalue*<sp/>to<sp/>use<sp/>some<sp/>other<sp/>value.</highlight></codeline>
<codeline lineno="1472"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1473"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1474"><highlight class="normal"><sp/><sp/><sp/><sp/>children<sp/>=<sp/>tee(iterable,<sp/>len(offsets))</highlight></codeline>
<codeline lineno="1475"><highlight class="normal"></highlight></codeline>
<codeline lineno="1476"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a5b2e4bfc8d9d82c7daaa81730f316ae4" kindref="member">zip_offset</ref>(</highlight></codeline>
<codeline lineno="1477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*children,<sp/>offsets=offsets,<sp/>longest=longest,<sp/>fillvalue=fillvalue</highlight></codeline>
<codeline lineno="1478"><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1479"><highlight class="normal"></highlight></codeline>
<codeline lineno="1480"><highlight class="normal"></highlight></codeline>
<codeline lineno="1481" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_unequal_iterables_error" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_unequal_iterables_error" kindref="compound">UnequalIterablesError</ref>(ValueError):</highlight></codeline>
<codeline lineno="1482"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>details=None):</highlight></codeline>
<codeline lineno="1483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;Iterables<sp/>have<sp/>different<sp/>lengths&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>details<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>+=<sp/>(</highlight><highlight class="stringliteral">&apos;:<sp/>index<sp/>0<sp/>has<sp/>length<sp/>{};<sp/>index<sp/>{}<sp/>has<sp/>length<sp/>{}&apos;</highlight><highlight class="normal">).format(</highlight></codeline>
<codeline lineno="1486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*details</highlight></codeline>
<codeline lineno="1487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1488"><highlight class="normal"></highlight></codeline>
<codeline lineno="1489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().__init__(msg)</highlight></codeline>
<codeline lineno="1490"><highlight class="normal"></highlight></codeline>
<codeline lineno="1491"><highlight class="normal"></highlight></codeline>
<codeline lineno="1492" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a42e20e24eacb1c2dfe200269764b32ff" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a42e20e24eacb1c2dfe200269764b32ff" kindref="member">_zip_equal_generator</ref>(iterables):</highlight></codeline>
<codeline lineno="1493"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>combo<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>zip_longest(*iterables,<sp/>fillvalue=_marker):</highlight></codeline>
<codeline lineno="1494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>val<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>combo:</highlight></codeline>
<codeline lineno="1495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>val<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>_marker:</highlight></codeline>
<codeline lineno="1496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_unequal_iterables_error" kindref="compound">UnequalIterablesError</ref>()</highlight></codeline>
<codeline lineno="1497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>combo</highlight></codeline>
<codeline lineno="1498"><highlight class="normal"></highlight></codeline>
<codeline lineno="1499"><highlight class="normal"></highlight></codeline>
<codeline lineno="1500" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a310cdb228065a896661fdb3af5198990" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a310cdb228065a896661fdb3af5198990" kindref="member">zip_equal</ref>(*iterables):</highlight></codeline>
<codeline lineno="1501"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;``zip``<sp/>the<sp/>input<sp/>*iterables*<sp/>together,<sp/>but<sp/>raise</highlight></codeline>
<codeline lineno="1502"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``UnequalIterablesError``<sp/>if<sp/>they<sp/>aren&apos;t<sp/>all<sp/>the<sp/>same<sp/>length.</highlight></codeline>
<codeline lineno="1503"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1504"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it_1<sp/>=<sp/>range(3)</highlight></codeline>
<codeline lineno="1505"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it_2<sp/>=<sp/>iter(&apos;abc&apos;)</highlight></codeline>
<codeline lineno="1506"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(zip_equal(it_1,<sp/>it_2))</highlight></codeline>
<codeline lineno="1507"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(0,<sp/>&apos;a&apos;),<sp/>(1,<sp/>&apos;b&apos;),<sp/>(2,<sp/>&apos;c&apos;)]</highlight></codeline>
<codeline lineno="1508"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1509"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it_1<sp/>=<sp/>range(3)</highlight></codeline>
<codeline lineno="1510"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it_2<sp/>=<sp/>iter(&apos;abcd&apos;)</highlight></codeline>
<codeline lineno="1511"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(zip_equal(it_1,<sp/>it_2))<sp/>#<sp/>doctest:<sp/>+IGNORE_EXCEPTION_DETAIL</highlight></codeline>
<codeline lineno="1512"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Traceback<sp/>(most<sp/>recent<sp/>call<sp/>last):</highlight></codeline>
<codeline lineno="1513"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="1514"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>more_itertools.more.UnequalIterablesError:<sp/>Iterables<sp/>have<sp/>different</highlight></codeline>
<codeline lineno="1515"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lengths</highlight></codeline>
<codeline lineno="1516"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1517"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1518"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>hexversion<sp/>&gt;=<sp/>0x30A00A6:</highlight></codeline>
<codeline lineno="1519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>warnings.warn(</highlight></codeline>
<codeline lineno="1520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight></codeline>
<codeline lineno="1521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;zip_equal<sp/>will<sp/>be<sp/>removed<sp/>in<sp/>a<sp/>future<sp/>version<sp/>of<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;more-itertools.<sp/>Use<sp/>the<sp/>builtin<sp/>zip<sp/>function<sp/>with<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;strict=True<sp/>instead.&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline lineno="1525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DeprecationWarning,</highlight></codeline>
<codeline lineno="1526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1527"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Check<sp/>whether<sp/>the<sp/>iterables<sp/>are<sp/>all<sp/>the<sp/>same<sp/>size.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1528"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>first_size<sp/>=<sp/>len(iterables[0])</highlight></codeline>
<codeline lineno="1530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i,<sp/>it<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>enumerate(iterables[1:],<sp/>1):</highlight></codeline>
<codeline lineno="1531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>size<sp/>=<sp/>len(it)</highlight></codeline>
<codeline lineno="1532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>size<sp/>!=<sp/>first_size:</highlight></codeline>
<codeline lineno="1533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>we<sp/>didn&apos;t<sp/>break<sp/>out,<sp/>we<sp/>can<sp/>use<sp/>the<sp/>built-in<sp/>zip.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>zip(*iterables)</highlight></codeline>
<codeline lineno="1537"><highlight class="normal"></highlight></codeline>
<codeline lineno="1538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>we<sp/>did<sp/>break<sp/>out,<sp/>there<sp/>was<sp/>a<sp/>mismatch.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_unequal_iterables_error" kindref="compound">UnequalIterablesError</ref>(details=(first_size,<sp/>i,<sp/>size))</highlight></codeline>
<codeline lineno="1540"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>any<sp/>one<sp/>of<sp/>the<sp/>iterables<sp/>didn&apos;t<sp/>have<sp/>a<sp/>length,<sp/>start<sp/>reading</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1541"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>them<sp/>until<sp/>one<sp/>runs<sp/>out.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1542"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>TypeError:</highlight></codeline>
<codeline lineno="1543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a42e20e24eacb1c2dfe200269764b32ff" kindref="member">_zip_equal_generator</ref>(iterables)</highlight></codeline>
<codeline lineno="1544"><highlight class="normal"></highlight></codeline>
<codeline lineno="1545"><highlight class="normal"></highlight></codeline>
<codeline lineno="1546" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a5b2e4bfc8d9d82c7daaa81730f316ae4" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a5b2e4bfc8d9d82c7daaa81730f316ae4" kindref="member">zip_offset</ref>(*iterables,<sp/>offsets,<sp/>longest=False,<sp/>fillvalue=None):</highlight></codeline>
<codeline lineno="1547"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;``zip``<sp/>the<sp/>input<sp/>*iterables*<sp/>together,<sp/>but<sp/>offset<sp/>the<sp/>`i`-th<sp/>iterable</highlight></codeline>
<codeline lineno="1548"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>by<sp/>the<sp/>`i`-th<sp/>item<sp/>in<sp/>*offsets*.</highlight></codeline>
<codeline lineno="1549"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1550"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(zip_offset(&apos;0123&apos;,<sp/>&apos;abcdef&apos;,<sp/>offsets=(0,<sp/>1)))</highlight></codeline>
<codeline lineno="1551"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(&apos;0&apos;,<sp/>&apos;b&apos;),<sp/>(&apos;1&apos;,<sp/>&apos;c&apos;),<sp/>(&apos;2&apos;,<sp/>&apos;d&apos;),<sp/>(&apos;3&apos;,<sp/>&apos;e&apos;)]</highlight></codeline>
<codeline lineno="1552"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1553"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>can<sp/>be<sp/>used<sp/>as<sp/>a<sp/>lightweight<sp/>alternative<sp/>to<sp/>SciPy<sp/>or<sp/>pandas<sp/>to<sp/>analyze</highlight></codeline>
<codeline lineno="1554"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>data<sp/>sets<sp/>in<sp/>which<sp/>some<sp/>series<sp/>have<sp/>a<sp/>lead<sp/>or<sp/>lag<sp/>relationship.</highlight></codeline>
<codeline lineno="1555"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1556"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>By<sp/>default,<sp/>the<sp/>sequence<sp/>will<sp/>end<sp/>when<sp/>the<sp/>shortest<sp/>iterable<sp/>is<sp/>exhausted.</highlight></codeline>
<codeline lineno="1557"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>To<sp/>continue<sp/>until<sp/>the<sp/>longest<sp/>iterable<sp/>is<sp/>exhausted,<sp/>set<sp/>*longest*<sp/>to</highlight></codeline>
<codeline lineno="1558"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``True``.</highlight></codeline>
<codeline lineno="1559"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1560"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(zip_offset(&apos;0123&apos;,<sp/>&apos;abcdef&apos;,<sp/>offsets=(0,<sp/>1),<sp/>longest=True))</highlight></codeline>
<codeline lineno="1561"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(&apos;0&apos;,<sp/>&apos;b&apos;),<sp/>(&apos;1&apos;,<sp/>&apos;c&apos;),<sp/>(&apos;2&apos;,<sp/>&apos;d&apos;),<sp/>(&apos;3&apos;,<sp/>&apos;e&apos;),<sp/>(None,<sp/>&apos;f&apos;)]</highlight></codeline>
<codeline lineno="1562"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1563"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>By<sp/>default,<sp/>``None``<sp/>will<sp/>be<sp/>used<sp/>to<sp/>replace<sp/>offsets<sp/>beyond<sp/>the<sp/>end<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="1564"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>sequence.<sp/>Specify<sp/>*fillvalue*<sp/>to<sp/>use<sp/>some<sp/>other<sp/>value.</highlight></codeline>
<codeline lineno="1565"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1566"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1567"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(iterables)<sp/>!=<sp/>len(offsets):</highlight></codeline>
<codeline lineno="1568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&quot;Number<sp/>of<sp/>iterables<sp/>and<sp/>offsets<sp/>didn&apos;t<sp/>match&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1569"><highlight class="normal"></highlight></codeline>
<codeline lineno="1570"><highlight class="normal"><sp/><sp/><sp/><sp/>staggered<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1571"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>it,<sp/>n<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>zip(iterables,<sp/>offsets):</highlight></codeline>
<codeline lineno="1572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="1573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>staggered.append(chain(repeat(fillvalue,<sp/>-n),<sp/>it))</highlight></codeline>
<codeline lineno="1574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>n<sp/>&gt;<sp/>0:</highlight></codeline>
<codeline lineno="1575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>staggered.append(islice(it,<sp/>n,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="1576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>staggered.append(it)</highlight></codeline>
<codeline lineno="1578"><highlight class="normal"></highlight></codeline>
<codeline lineno="1579"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>longest:</highlight></codeline>
<codeline lineno="1580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>zip_longest(*staggered,<sp/>fillvalue=fillvalue)</highlight></codeline>
<codeline lineno="1581"><highlight class="normal"></highlight></codeline>
<codeline lineno="1582"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>zip(*staggered)</highlight></codeline>
<codeline lineno="1583"><highlight class="normal"></highlight></codeline>
<codeline lineno="1584"><highlight class="normal"></highlight></codeline>
<codeline lineno="1585" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1aea9b12c4b7074c419c909ee5b3b0b8cf" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1aea9b12c4b7074c419c909ee5b3b0b8cf" kindref="member">sort_together</ref>(iterables,<sp/>key_list=(0,),<sp/>key=</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>reverse=</highlight><highlight class="keyword">False</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="1586"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>the<sp/>input<sp/>iterables<sp/>sorted<sp/>together,<sp/>with<sp/>*key_list*<sp/>as<sp/>the</highlight></codeline>
<codeline lineno="1587"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>priority<sp/>for<sp/>sorting.<sp/>All<sp/>iterables<sp/>are<sp/>trimmed<sp/>to<sp/>the<sp/>length<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="1588"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>shortest<sp/>one.</highlight></codeline>
<codeline lineno="1589"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1590"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>can<sp/>be<sp/>used<sp/>like<sp/>the<sp/>sorting<sp/>function<sp/>in<sp/>a<sp/>spreadsheet.<sp/>If<sp/>each</highlight></codeline>
<codeline lineno="1591"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>iterable<sp/>represents<sp/>a<sp/>column<sp/>of<sp/>data,<sp/>the<sp/>key<sp/>list<sp/>determines<sp/>which</highlight></codeline>
<codeline lineno="1592"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>columns<sp/>are<sp/>used<sp/>for<sp/>sorting.</highlight></codeline>
<codeline lineno="1593"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1594"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>By<sp/>default,<sp/>all<sp/>iterables<sp/>are<sp/>sorted<sp/>using<sp/>the<sp/>``0``-th<sp/>iterable::</highlight></codeline>
<codeline lineno="1595"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1596"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterables<sp/>=<sp/>[(4,<sp/>3,<sp/>2,<sp/>1),<sp/>(&apos;a&apos;,<sp/>&apos;b&apos;,<sp/>&apos;c&apos;,<sp/>&apos;d&apos;)]</highlight></codeline>
<codeline lineno="1597"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>sort_together(iterables)</highlight></codeline>
<codeline lineno="1598"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(1,<sp/>2,<sp/>3,<sp/>4),<sp/>(&apos;d&apos;,<sp/>&apos;c&apos;,<sp/>&apos;b&apos;,<sp/>&apos;a&apos;)]</highlight></codeline>
<codeline lineno="1599"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1600"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Set<sp/>a<sp/>different<sp/>key<sp/>list<sp/>to<sp/>sort<sp/>according<sp/>to<sp/>another<sp/>iterable.</highlight></codeline>
<codeline lineno="1601"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Specifying<sp/>multiple<sp/>keys<sp/>dictates<sp/>how<sp/>ties<sp/>are<sp/>broken::</highlight></codeline>
<codeline lineno="1602"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1603"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterables<sp/>=<sp/>[(3,<sp/>1,<sp/>2),<sp/>(0,<sp/>1,<sp/>0),<sp/>(&apos;c&apos;,<sp/>&apos;b&apos;,<sp/>&apos;a&apos;)]</highlight></codeline>
<codeline lineno="1604"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>sort_together(iterables,<sp/>key_list=(1,<sp/>2))</highlight></codeline>
<codeline lineno="1605"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(2,<sp/>3,<sp/>1),<sp/>(0,<sp/>0,<sp/>1),<sp/>(&apos;a&apos;,<sp/>&apos;c&apos;,<sp/>&apos;b&apos;)]</highlight></codeline>
<codeline lineno="1606"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1607"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>To<sp/>sort<sp/>by<sp/>a<sp/>function<sp/>of<sp/>the<sp/>elements<sp/>of<sp/>the<sp/>iterable,<sp/>pass<sp/>a<sp/>*key*</highlight></codeline>
<codeline lineno="1608"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>function.<sp/>Its<sp/>arguments<sp/>are<sp/>the<sp/>elements<sp/>of<sp/>the<sp/>iterables<sp/>corresponding<sp/>to</highlight></codeline>
<codeline lineno="1609"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>the<sp/>key<sp/>list::</highlight></codeline>
<codeline lineno="1610"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1611"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>names<sp/>=<sp/>(&apos;a&apos;,<sp/>&apos;b&apos;,<sp/>&apos;c&apos;)</highlight></codeline>
<codeline lineno="1612"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>lengths<sp/>=<sp/>(1,<sp/>2,<sp/>3)</highlight></codeline>
<codeline lineno="1613"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>widths<sp/>=<sp/>(5,<sp/>2,<sp/>1)</highlight></codeline>
<codeline lineno="1614"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>def<sp/>area(length,<sp/>width):</highlight></codeline>
<codeline lineno="1615"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>return<sp/>length<sp/>*<sp/>width</highlight></codeline>
<codeline lineno="1616"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>sort_together([names,<sp/>lengths,<sp/>widths],<sp/>key_list=(1,<sp/>2),<sp/>key=area)</highlight></codeline>
<codeline lineno="1617"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(&apos;c&apos;,<sp/>&apos;b&apos;,<sp/>&apos;a&apos;),<sp/>(3,<sp/>2,<sp/>1),<sp/>(1,<sp/>2,<sp/>5)]</highlight></codeline>
<codeline lineno="1618"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1619"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Set<sp/>*reverse*<sp/>to<sp/>``True``<sp/>to<sp/>sort<sp/>in<sp/>descending<sp/>order.</highlight></codeline>
<codeline lineno="1620"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1621"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>sort_together([(1,<sp/>2,<sp/>3),<sp/>(&apos;c&apos;,<sp/>&apos;b&apos;,<sp/>&apos;a&apos;)],<sp/>reverse=True)</highlight></codeline>
<codeline lineno="1622"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(3,<sp/>2,<sp/>1),<sp/>(&apos;a&apos;,<sp/>&apos;b&apos;,<sp/>&apos;c&apos;)]</highlight></codeline>
<codeline lineno="1623"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1624"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1625"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>key<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>if<sp/>there<sp/>is<sp/>no<sp/>key<sp/>function,<sp/>the<sp/>key<sp/>argument<sp/>to<sp/>sorted<sp/>is<sp/>an</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>itemgetter</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>key_argument<sp/>=<sp/>itemgetter(*key_list)</highlight></codeline>
<codeline lineno="1629"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>if<sp/>there<sp/>is<sp/>a<sp/>key<sp/>function,<sp/>call<sp/>it<sp/>with<sp/>the<sp/>items<sp/>at<sp/>the<sp/>offsets</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>specified<sp/>by<sp/>the<sp/>key<sp/>function<sp/>as<sp/>arguments</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>key_list<sp/>=<sp/>list(key_list)</highlight></codeline>
<codeline lineno="1633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(key_list)<sp/>==<sp/>1:</highlight></codeline>
<codeline lineno="1634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>if<sp/>key_list<sp/>contains<sp/>a<sp/>single<sp/>item,<sp/>pass<sp/>the<sp/>item<sp/>at<sp/>that<sp/>offset</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>as<sp/>the<sp/>only<sp/>argument<sp/>to<sp/>the<sp/>key<sp/>function</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>key_offset<sp/>=<sp/>key_list[0]</highlight></codeline>
<codeline lineno="1637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>key_argument<sp/>=<sp/></highlight><highlight class="keyword">lambda</highlight><highlight class="normal"><sp/>zipped_items:<sp/>key(zipped_items[key_offset])</highlight></codeline>
<codeline lineno="1638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>if<sp/>key_list<sp/>contains<sp/>multiple<sp/>items,<sp/>use<sp/>itemgetter<sp/>to<sp/>return<sp/>a</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>tuple<sp/>of<sp/>items,<sp/>which<sp/>we<sp/>pass<sp/>as<sp/>*args<sp/>to<sp/>the<sp/>key<sp/>function</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>get_key_items<sp/>=<sp/>itemgetter(*key_list)</highlight></codeline>
<codeline lineno="1642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>key_argument<sp/>=<sp/></highlight><highlight class="keyword">lambda</highlight><highlight class="normal"><sp/>zipped_items:<sp/>key(</highlight></codeline>
<codeline lineno="1643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*get_key_items(zipped_items)</highlight></codeline>
<codeline lineno="1644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1645"><highlight class="normal"></highlight></codeline>
<codeline lineno="1646"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>list(</highlight></codeline>
<codeline lineno="1647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>zip(*sorted(zip(*iterables),<sp/>key=key_argument,<sp/>reverse=reverse))</highlight></codeline>
<codeline lineno="1648"><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1649"><highlight class="normal"></highlight></codeline>
<codeline lineno="1650"><highlight class="normal"></highlight></codeline>
<codeline lineno="1651" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a32eebc9faf562f56d169cb5aec787b6d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a32eebc9faf562f56d169cb5aec787b6d" kindref="member">unzip</ref>(iterable):</highlight></codeline>
<codeline lineno="1652"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;The<sp/>inverse<sp/>of<sp/>:func:`zip`,<sp/>this<sp/>function<sp/>disaggregates<sp/>the<sp/>elements</highlight></codeline>
<codeline lineno="1653"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>of<sp/>the<sp/>zipped<sp/>*iterable*.</highlight></codeline>
<codeline lineno="1654"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1655"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>``i``-th<sp/>iterable<sp/>contains<sp/>the<sp/>``i``-th<sp/>element<sp/>from<sp/>each<sp/>element</highlight></codeline>
<codeline lineno="1656"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>of<sp/>the<sp/>zipped<sp/>iterable.<sp/>The<sp/>first<sp/>element<sp/>is<sp/>used<sp/>to<sp/>to<sp/>determine<sp/>the</highlight></codeline>
<codeline lineno="1657"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>length<sp/>of<sp/>the<sp/>remaining<sp/>elements.</highlight></codeline>
<codeline lineno="1658"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1659"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[(&apos;a&apos;,<sp/>1),<sp/>(&apos;b&apos;,<sp/>2),<sp/>(&apos;c&apos;,<sp/>3),<sp/>(&apos;d&apos;,<sp/>4)]</highlight></codeline>
<codeline lineno="1660"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>letters,<sp/>numbers<sp/>=<sp/>unzip(iterable)</highlight></codeline>
<codeline lineno="1661"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(letters)</highlight></codeline>
<codeline lineno="1662"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;a&apos;,<sp/>&apos;b&apos;,<sp/>&apos;c&apos;,<sp/>&apos;d&apos;]</highlight></codeline>
<codeline lineno="1663"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(numbers)</highlight></codeline>
<codeline lineno="1664"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>3,<sp/>4]</highlight></codeline>
<codeline lineno="1665"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1666"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>is<sp/>similar<sp/>to<sp/>using<sp/>``zip(*iterable)``,<sp/>but<sp/>it<sp/>avoids<sp/>reading</highlight></codeline>
<codeline lineno="1667"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*iterable*<sp/>into<sp/>memory.<sp/>Note,<sp/>however,<sp/>that<sp/>this<sp/>function<sp/>uses</highlight></codeline>
<codeline lineno="1668"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:func:`itertools.tee`<sp/>and<sp/>thus<sp/>may<sp/>require<sp/>significant<sp/>storage.</highlight></codeline>
<codeline lineno="1669"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1670"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1671"><highlight class="normal"><sp/><sp/><sp/><sp/>head,<sp/>iterable<sp/>=<sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ad404f78ea35afd075654a37ad98a9426" kindref="member">spy</ref>(iter(iterable))</highlight></codeline>
<codeline lineno="1672"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>head:</highlight></codeline>
<codeline lineno="1673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>empty<sp/>iterable,<sp/>e.g.<sp/>zip([],<sp/>[],<sp/>[])</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>()</highlight></codeline>
<codeline lineno="1675"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>spy<sp/>returns<sp/>a<sp/>one-length<sp/>iterable<sp/>as<sp/>head</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1676"><highlight class="normal"><sp/><sp/><sp/><sp/>head<sp/>=<sp/>head[0]</highlight></codeline>
<codeline lineno="1677"><highlight class="normal"><sp/><sp/><sp/><sp/>iterables<sp/>=<sp/>tee(iterable,<sp/>len(head))</highlight></codeline>
<codeline lineno="1678"><highlight class="normal"></highlight></codeline>
<codeline lineno="1679"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">itemgetter(i):</highlight></codeline>
<codeline lineno="1680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">getter(obj):</highlight></codeline>
<codeline lineno="1681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>obj[i]</highlight></codeline>
<codeline lineno="1683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>IndexError:</highlight></codeline>
<codeline lineno="1684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>basically<sp/>if<sp/>we<sp/>have<sp/>an<sp/>iterable<sp/>like</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>iter([(1,<sp/>2,<sp/>3),<sp/>(4,<sp/>5),<sp/>(6,)])</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>second<sp/>unzipped<sp/>iterable<sp/>would<sp/>fail<sp/>at<sp/>the<sp/>third<sp/>tuple</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>since<sp/>it<sp/>would<sp/>try<sp/>to<sp/>access<sp/>tup[1]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>same<sp/>with<sp/>the<sp/>third<sp/>unzipped<sp/>iterable<sp/>and<sp/>the<sp/>second<sp/>tuple</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>to<sp/>support<sp/>these<sp/>&quot;improperly<sp/>zipped&quot;<sp/>iterables,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>we<sp/>create<sp/>a<sp/>custom<sp/>itemgetter</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>which<sp/>just<sp/>stops<sp/>the<sp/>unzipped<sp/>iterables</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>at<sp/>first<sp/>length<sp/>mismatch</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>StopIteration</highlight></codeline>
<codeline lineno="1694"><highlight class="normal"></highlight></codeline>
<codeline lineno="1695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>getter</highlight></codeline>
<codeline lineno="1696"><highlight class="normal"></highlight></codeline>
<codeline lineno="1697"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tuple(map(itemgetter(i),<sp/>it)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i,<sp/>it<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>enumerate(iterables))</highlight></codeline>
<codeline lineno="1698"><highlight class="normal"></highlight></codeline>
<codeline lineno="1699"><highlight class="normal"></highlight></codeline>
<codeline lineno="1700" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a4db1c5b2b6da960a1ab63de218124d0f" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a4db1c5b2b6da960a1ab63de218124d0f" kindref="member">divide</ref>(n,<sp/>iterable):</highlight></codeline>
<codeline lineno="1701"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Divide<sp/>the<sp/>elements<sp/>from<sp/>*iterable*<sp/>into<sp/>*n*<sp/>parts,<sp/>maintaining</highlight></codeline>
<codeline lineno="1702"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>order.</highlight></codeline>
<codeline lineno="1703"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1704"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>group_1,<sp/>group_2<sp/>=<sp/>divide(2,<sp/>[1,<sp/>2,<sp/>3,<sp/>4,<sp/>5,<sp/>6])</highlight></codeline>
<codeline lineno="1705"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(group_1)</highlight></codeline>
<codeline lineno="1706"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>3]</highlight></codeline>
<codeline lineno="1707"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(group_2)</highlight></codeline>
<codeline lineno="1708"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[4,<sp/>5,<sp/>6]</highlight></codeline>
<codeline lineno="1709"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1710"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>length<sp/>of<sp/>*iterable*<sp/>is<sp/>not<sp/>evenly<sp/>divisible<sp/>by<sp/>*n*,<sp/>then<sp/>the</highlight></codeline>
<codeline lineno="1711"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>length<sp/>of<sp/>the<sp/>returned<sp/>iterables<sp/>will<sp/>not<sp/>be<sp/>identical:</highlight></codeline>
<codeline lineno="1712"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1713"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>children<sp/>=<sp/>divide(3,<sp/>[1,<sp/>2,<sp/>3,<sp/>4,<sp/>5,<sp/>6,<sp/>7])</highlight></codeline>
<codeline lineno="1714"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>[list(c)<sp/>for<sp/>c<sp/>in<sp/>children]</highlight></codeline>
<codeline lineno="1715"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[1,<sp/>2,<sp/>3],<sp/>[4,<sp/>5],<sp/>[6,<sp/>7]]</highlight></codeline>
<codeline lineno="1716"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1717"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>length<sp/>of<sp/>the<sp/>iterable<sp/>is<sp/>smaller<sp/>than<sp/>n,<sp/>then<sp/>the<sp/>last<sp/>returned</highlight></codeline>
<codeline lineno="1718"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>iterables<sp/>will<sp/>be<sp/>empty:</highlight></codeline>
<codeline lineno="1719"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1720"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>children<sp/>=<sp/>divide(5,<sp/>[1,<sp/>2,<sp/>3])</highlight></codeline>
<codeline lineno="1721"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>[list(c)<sp/>for<sp/>c<sp/>in<sp/>children]</highlight></codeline>
<codeline lineno="1722"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[1],<sp/>[2],<sp/>[3],<sp/>[],<sp/>[]]</highlight></codeline>
<codeline lineno="1723"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1724"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>will<sp/>exhaust<sp/>the<sp/>iterable<sp/>before<sp/>returning<sp/>and<sp/>may<sp/>require</highlight></codeline>
<codeline lineno="1725"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>significant<sp/>storage.<sp/>If<sp/>order<sp/>is<sp/>not<sp/>important,<sp/>see<sp/>:func:`distribute`,</highlight></codeline>
<codeline lineno="1726"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>which<sp/>does<sp/>not<sp/>first<sp/>pull<sp/>the<sp/>iterable<sp/>into<sp/>memory.</highlight></codeline>
<codeline lineno="1727"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1728"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1729"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n<sp/>&lt;<sp/>1:</highlight></codeline>
<codeline lineno="1730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;n<sp/>must<sp/>be<sp/>at<sp/>least<sp/>1&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1731"><highlight class="normal"></highlight></codeline>
<codeline lineno="1732"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iterable[:0]</highlight></codeline>
<codeline lineno="1734"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>TypeError:</highlight></codeline>
<codeline lineno="1735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>seq<sp/>=<sp/>tuple(iterable)</highlight></codeline>
<codeline lineno="1736"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>seq<sp/>=<sp/>iterable</highlight></codeline>
<codeline lineno="1738"><highlight class="normal"></highlight></codeline>
<codeline lineno="1739"><highlight class="normal"><sp/><sp/><sp/><sp/>q,<sp/>r<sp/>=<sp/>divmod(len(seq),<sp/>n)</highlight></codeline>
<codeline lineno="1740"><highlight class="normal"></highlight></codeline>
<codeline lineno="1741"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1742"><highlight class="normal"><sp/><sp/><sp/><sp/>stop<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="1743"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(1,<sp/>n<sp/>+<sp/>1):</highlight></codeline>
<codeline lineno="1744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start<sp/>=<sp/>stop</highlight></codeline>
<codeline lineno="1745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stop<sp/>+=<sp/>q<sp/>+<sp/>1<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>i<sp/>&lt;=<sp/>r<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>q</highlight></codeline>
<codeline lineno="1746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret.append(iter(seq[start:stop]))</highlight></codeline>
<codeline lineno="1747"><highlight class="normal"></highlight></codeline>
<codeline lineno="1748"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret</highlight></codeline>
<codeline lineno="1749"><highlight class="normal"></highlight></codeline>
<codeline lineno="1750"><highlight class="normal"></highlight></codeline>
<codeline lineno="1751" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a747a961c026ef4e048dbad7872b7e9ba" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a747a961c026ef4e048dbad7872b7e9ba" kindref="member">always_iterable</ref>(obj,<sp/>base_type=(str,<sp/>bytes)):</highlight></codeline>
<codeline lineno="1752"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;If<sp/>*obj*<sp/>is<sp/>iterable,<sp/>return<sp/>an<sp/>iterator<sp/>over<sp/>its<sp/>items::</highlight></codeline>
<codeline lineno="1753"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1754"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>obj<sp/>=<sp/>(1,<sp/>2,<sp/>3)</highlight></codeline>
<codeline lineno="1755"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(always_iterable(obj))</highlight></codeline>
<codeline lineno="1756"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>3]</highlight></codeline>
<codeline lineno="1757"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1758"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*obj*<sp/>is<sp/>not<sp/>iterable,<sp/>return<sp/>a<sp/>one-item<sp/>iterable<sp/>containing<sp/>*obj*::</highlight></codeline>
<codeline lineno="1759"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1760"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>obj<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="1761"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(always_iterable(obj))</highlight></codeline>
<codeline lineno="1762"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1]</highlight></codeline>
<codeline lineno="1763"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1764"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*obj*<sp/>is<sp/>``None``,<sp/>return<sp/>an<sp/>empty<sp/>iterable:</highlight></codeline>
<codeline lineno="1765"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1766"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>obj<sp/>=<sp/>None</highlight></codeline>
<codeline lineno="1767"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(always_iterable(None))</highlight></codeline>
<codeline lineno="1768"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[]</highlight></codeline>
<codeline lineno="1769"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1770"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>By<sp/>default,<sp/>binary<sp/>and<sp/>text<sp/>strings<sp/>are<sp/>not<sp/>considered<sp/>iterable::</highlight></codeline>
<codeline lineno="1771"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1772"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>obj<sp/>=<sp/>&apos;foo&apos;</highlight></codeline>
<codeline lineno="1773"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(always_iterable(obj))</highlight></codeline>
<codeline lineno="1774"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;foo&apos;]</highlight></codeline>
<codeline lineno="1775"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1776"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*base_type*<sp/>is<sp/>set,<sp/>objects<sp/>for<sp/>which<sp/>``isinstance(obj,<sp/>base_type)``</highlight></codeline>
<codeline lineno="1777"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>returns<sp/>``True``<sp/>won&apos;t<sp/>be<sp/>considered<sp/>iterable.</highlight></codeline>
<codeline lineno="1778"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1779"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>obj<sp/>=<sp/>{&apos;a&apos;:<sp/>1}</highlight></codeline>
<codeline lineno="1780"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(always_iterable(obj))<sp/><sp/>#<sp/>Iterate<sp/>over<sp/>the<sp/>dict&apos;s<sp/>keys</highlight></codeline>
<codeline lineno="1781"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;a&apos;]</highlight></codeline>
<codeline lineno="1782"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(always_iterable(obj,<sp/>base_type=dict))<sp/><sp/>#<sp/>Treat<sp/>dicts<sp/>as<sp/>a<sp/>unit</highlight></codeline>
<codeline lineno="1783"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[{&apos;a&apos;:<sp/>1}]</highlight></codeline>
<codeline lineno="1784"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1785"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Set<sp/>*base_type*<sp/>to<sp/>``None``<sp/>to<sp/>avoid<sp/>any<sp/>special<sp/>handling<sp/>and<sp/>treat<sp/>objects</highlight></codeline>
<codeline lineno="1786"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Python<sp/>considers<sp/>iterable<sp/>as<sp/>iterable:</highlight></codeline>
<codeline lineno="1787"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1788"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>obj<sp/>=<sp/>&apos;foo&apos;</highlight></codeline>
<codeline lineno="1789"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(always_iterable(obj,<sp/>base_type=None))</highlight></codeline>
<codeline lineno="1790"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;f&apos;,<sp/>&apos;o&apos;,<sp/>&apos;o&apos;]</highlight></codeline>
<codeline lineno="1791"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1792"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>obj<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iter(())</highlight></codeline>
<codeline lineno="1794"><highlight class="normal"></highlight></codeline>
<codeline lineno="1795"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(base_type<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>isinstance(obj,<sp/>base_type):</highlight></codeline>
<codeline lineno="1796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iter((obj,))</highlight></codeline>
<codeline lineno="1797"><highlight class="normal"></highlight></codeline>
<codeline lineno="1798"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iter(obj)</highlight></codeline>
<codeline lineno="1800"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>TypeError:</highlight></codeline>
<codeline lineno="1801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iter((obj,))</highlight></codeline>
<codeline lineno="1802"><highlight class="normal"></highlight></codeline>
<codeline lineno="1803"><highlight class="normal"></highlight></codeline>
<codeline lineno="1804" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a835dca721e46dea810ffe00b70252e86" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a835dca721e46dea810ffe00b70252e86" kindref="member">adjacent</ref>(predicate,<sp/>iterable,<sp/>distance=1):</highlight></codeline>
<codeline lineno="1805"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>an<sp/>iterable<sp/>over<sp/>`(bool,<sp/>item)`<sp/>tuples<sp/>where<sp/>the<sp/>`item`<sp/>is</highlight></codeline>
<codeline lineno="1806"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>drawn<sp/>from<sp/>*iterable*<sp/>and<sp/>the<sp/>`bool`<sp/>indicates<sp/>whether</highlight></codeline>
<codeline lineno="1807"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>that<sp/>item<sp/>satisfies<sp/>the<sp/>*predicate*<sp/>or<sp/>is<sp/>adjacent<sp/>to<sp/>an<sp/>item<sp/>that<sp/>does.</highlight></codeline>
<codeline lineno="1808"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1809"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>example,<sp/>to<sp/>find<sp/>whether<sp/>items<sp/>are<sp/>adjacent<sp/>to<sp/>a<sp/>``3``::</highlight></codeline>
<codeline lineno="1810"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1811"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(adjacent(lambda<sp/>x:<sp/>x<sp/>==<sp/>3,<sp/>range(6)))</highlight></codeline>
<codeline lineno="1812"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(False,<sp/>0),<sp/>(False,<sp/>1),<sp/>(True,<sp/>2),<sp/>(True,<sp/>3),<sp/>(True,<sp/>4),<sp/>(False,<sp/>5)]</highlight></codeline>
<codeline lineno="1813"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1814"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Set<sp/>*distance*<sp/>to<sp/>change<sp/>what<sp/>counts<sp/>as<sp/>adjacent.<sp/>For<sp/>example,<sp/>to<sp/>find</highlight></codeline>
<codeline lineno="1815"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>whether<sp/>items<sp/>are<sp/>two<sp/>places<sp/>away<sp/>from<sp/>a<sp/>``3``:</highlight></codeline>
<codeline lineno="1816"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1817"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(adjacent(lambda<sp/>x:<sp/>x<sp/>==<sp/>3,<sp/>range(6),<sp/>distance=2))</highlight></codeline>
<codeline lineno="1818"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(False,<sp/>0),<sp/>(True,<sp/>1),<sp/>(True,<sp/>2),<sp/>(True,<sp/>3),<sp/>(True,<sp/>4),<sp/>(True,<sp/>5)]</highlight></codeline>
<codeline lineno="1819"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1820"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>is<sp/>useful<sp/>for<sp/>contextualizing<sp/>the<sp/>results<sp/>of<sp/>a<sp/>search<sp/>function.</highlight></codeline>
<codeline lineno="1821"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>example,<sp/>a<sp/>code<sp/>comparison<sp/>tool<sp/>might<sp/>want<sp/>to<sp/>identify<sp/>lines<sp/>that</highlight></codeline>
<codeline lineno="1822"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>have<sp/>changed,<sp/>but<sp/>also<sp/>surrounding<sp/>lines<sp/>to<sp/>give<sp/>the<sp/>viewer<sp/>of<sp/>the<sp/>diff</highlight></codeline>
<codeline lineno="1823"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>context.</highlight></codeline>
<codeline lineno="1824"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1825"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>predicate<sp/>function<sp/>will<sp/>only<sp/>be<sp/>called<sp/>once<sp/>for<sp/>each<sp/>item<sp/>in<sp/>the</highlight></codeline>
<codeline lineno="1826"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>iterable.</highlight></codeline>
<codeline lineno="1827"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1828"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>See<sp/>also<sp/>:func:`groupby_transform`,<sp/>which<sp/>can<sp/>be<sp/>used<sp/>with<sp/>this<sp/>function</highlight></codeline>
<codeline lineno="1829"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>to<sp/>group<sp/>ranges<sp/>of<sp/>items<sp/>with<sp/>the<sp/>same<sp/>`bool`<sp/>value.</highlight></codeline>
<codeline lineno="1830"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1831"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1832"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Allow<sp/>distance=0<sp/>mainly<sp/>for<sp/>testing<sp/>that<sp/>it<sp/>reproduces<sp/>results<sp/>with<sp/>map()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1833"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>distance<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="1834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;distance<sp/>must<sp/>be<sp/>at<sp/>least<sp/>0&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1835"><highlight class="normal"></highlight></codeline>
<codeline lineno="1836"><highlight class="normal"><sp/><sp/><sp/><sp/>i1,<sp/>i2<sp/>=<sp/>tee(iterable)</highlight></codeline>
<codeline lineno="1837"><highlight class="normal"><sp/><sp/><sp/><sp/>padding<sp/>=<sp/>[</highlight><highlight class="keyword">False</highlight><highlight class="normal">]<sp/>*<sp/>distance</highlight></codeline>
<codeline lineno="1838"><highlight class="normal"><sp/><sp/><sp/><sp/>selected<sp/>=<sp/>chain(padding,<sp/>map(predicate,<sp/>i1),<sp/>padding)</highlight></codeline>
<codeline lineno="1839"><highlight class="normal"><sp/><sp/><sp/><sp/>adjacent_to_selected<sp/>=<sp/>map(any,<sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a6a25a63106c08986d199ddbd78d46277" kindref="member">windowed</ref>(selected,<sp/>2<sp/>*<sp/>distance<sp/>+<sp/>1))</highlight></codeline>
<codeline lineno="1840"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>zip(adjacent_to_selected,<sp/>i2)</highlight></codeline>
<codeline lineno="1841"><highlight class="normal"></highlight></codeline>
<codeline lineno="1842"><highlight class="normal"></highlight></codeline>
<codeline lineno="1843" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ab26be38b59e90b14984ed58d3b3bbc82" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ab26be38b59e90b14984ed58d3b3bbc82" kindref="member">groupby_transform</ref>(iterable,<sp/>keyfunc=None,<sp/>valuefunc=None,<sp/>reducefunc=None):</highlight></codeline>
<codeline lineno="1844"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;An<sp/>extension<sp/>of<sp/>:func:`itertools.groupby`<sp/>that<sp/>can<sp/>apply<sp/>transformations</highlight></codeline>
<codeline lineno="1845"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>to<sp/>the<sp/>grouped<sp/>data.</highlight></codeline>
<codeline lineno="1846"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1847"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*<sp/>*keyfunc*<sp/>is<sp/>a<sp/>function<sp/>computing<sp/>a<sp/>key<sp/>value<sp/>for<sp/>each<sp/>item<sp/>in<sp/>*iterable*</highlight></codeline>
<codeline lineno="1848"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*<sp/>*valuefunc*<sp/>is<sp/>a<sp/>function<sp/>that<sp/>transforms<sp/>the<sp/>individual<sp/>items<sp/>from</highlight></codeline>
<codeline lineno="1849"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>*iterable*<sp/>after<sp/>grouping</highlight></codeline>
<codeline lineno="1850"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*<sp/>*reducefunc*<sp/>is<sp/>a<sp/>function<sp/>that<sp/>transforms<sp/>each<sp/>group<sp/>of<sp/>items</highlight></codeline>
<codeline lineno="1851"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1852"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>&apos;aAAbBBcCC&apos;</highlight></codeline>
<codeline lineno="1853"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>keyfunc<sp/>=<sp/>lambda<sp/>k:<sp/>k.upper()</highlight></codeline>
<codeline lineno="1854"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>valuefunc<sp/>=<sp/>lambda<sp/>v:<sp/>v.lower()</highlight></codeline>
<codeline lineno="1855"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>reducefunc<sp/>=<sp/>lambda<sp/>g:<sp/>&apos;&apos;.join(g)</highlight></codeline>
<codeline lineno="1856"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(groupby_transform(iterable,<sp/>keyfunc,<sp/>valuefunc,<sp/>reducefunc))</highlight></codeline>
<codeline lineno="1857"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[(&apos;A&apos;,<sp/>&apos;aaa&apos;),<sp/>(&apos;B&apos;,<sp/>&apos;bbb&apos;),<sp/>(&apos;C&apos;,<sp/>&apos;ccc&apos;)]</highlight></codeline>
<codeline lineno="1858"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1859"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Each<sp/>optional<sp/>argument<sp/>defaults<sp/>to<sp/>an<sp/>identity<sp/>function<sp/>if<sp/>not<sp/>specified.</highlight></codeline>
<codeline lineno="1860"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1861"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:func:`groupby_transform`<sp/>is<sp/>useful<sp/>when<sp/>grouping<sp/>elements<sp/>of<sp/>an<sp/>iterable</highlight></codeline>
<codeline lineno="1862"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>using<sp/>a<sp/>separate<sp/>iterable<sp/>as<sp/>the<sp/>key.<sp/>To<sp/>do<sp/>this,<sp/>:func:`zip`<sp/>the<sp/>iterables</highlight></codeline>
<codeline lineno="1863"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>pass<sp/>a<sp/>*keyfunc*<sp/>that<sp/>extracts<sp/>the<sp/>first<sp/>element<sp/>and<sp/>a<sp/>*valuefunc*</highlight></codeline>
<codeline lineno="1864"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>that<sp/>extracts<sp/>the<sp/>second<sp/>element::</highlight></codeline>
<codeline lineno="1865"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1866"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>operator<sp/>import<sp/>itemgetter</highlight></codeline>
<codeline lineno="1867"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>keys<sp/>=<sp/>[0,<sp/>0,<sp/>1,<sp/>1,<sp/>1,<sp/>2,<sp/>2,<sp/>2,<sp/>3]</highlight></codeline>
<codeline lineno="1868"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>values<sp/>=<sp/>&apos;abcdefghi&apos;</highlight></codeline>
<codeline lineno="1869"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>zip(keys,<sp/>values)</highlight></codeline>
<codeline lineno="1870"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>grouper<sp/>=<sp/>groupby_transform(iterable,<sp/>itemgetter(0),<sp/>itemgetter(1))</highlight></codeline>
<codeline lineno="1871"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>[(k,<sp/>&apos;&apos;.join(g))<sp/>for<sp/>k,<sp/>g<sp/>in<sp/>grouper]</highlight></codeline>
<codeline lineno="1872"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(0,<sp/>&apos;ab&apos;),<sp/>(1,<sp/>&apos;cde&apos;),<sp/>(2,<sp/>&apos;fgh&apos;),<sp/>(3,<sp/>&apos;i&apos;)]</highlight></codeline>
<codeline lineno="1873"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1874"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Note<sp/>that<sp/>the<sp/>order<sp/>of<sp/>items<sp/>in<sp/>the<sp/>iterable<sp/>is<sp/>significant.</highlight></codeline>
<codeline lineno="1875"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Only<sp/>adjacent<sp/>items<sp/>are<sp/>grouped<sp/>together,<sp/>so<sp/>if<sp/>you<sp/>don&apos;t<sp/>want<sp/>any</highlight></codeline>
<codeline lineno="1876"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>duplicate<sp/>groups,<sp/>you<sp/>should<sp/>sort<sp/>the<sp/>iterable<sp/>by<sp/>the<sp/>key<sp/>function.</highlight></codeline>
<codeline lineno="1877"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1878"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1879"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>groupby(iterable,<sp/>keyfunc)</highlight></codeline>
<codeline lineno="1880"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>valuefunc:</highlight></codeline>
<codeline lineno="1881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>((k,<sp/>map(valuefunc,<sp/>g))<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k,<sp/>g<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ret)</highlight></codeline>
<codeline lineno="1882"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>reducefunc:</highlight></codeline>
<codeline lineno="1883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>((k,<sp/>reducefunc(g))<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k,<sp/>g<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ret)</highlight></codeline>
<codeline lineno="1884"><highlight class="normal"></highlight></codeline>
<codeline lineno="1885"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret</highlight></codeline>
<codeline lineno="1886"><highlight class="normal"></highlight></codeline>
<codeline lineno="1887"><highlight class="normal"></highlight></codeline>
<codeline lineno="1888" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range" kindref="compound">numeric_range</ref>(abc.Sequence,<sp/>abc.Hashable):</highlight></codeline>
<codeline lineno="1889"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;An<sp/>extension<sp/>of<sp/>the<sp/>built-in<sp/>``range()``<sp/>function<sp/>whose<sp/>arguments<sp/>can</highlight></codeline>
<codeline lineno="1890"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>be<sp/>any<sp/>orderable<sp/>numeric<sp/>type.</highlight></codeline>
<codeline lineno="1891"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1892"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>With<sp/>only<sp/>*stop*<sp/>specified,<sp/>*start*<sp/>defaults<sp/>to<sp/>``0``<sp/>and<sp/>*step*</highlight></codeline>
<codeline lineno="1893"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>defaults<sp/>to<sp/>``1``.<sp/>The<sp/>output<sp/>items<sp/>will<sp/>match<sp/>the<sp/>type<sp/>of<sp/>*stop*:</highlight></codeline>
<codeline lineno="1894"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1895"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(numeric_range(3.5))</highlight></codeline>
<codeline lineno="1896"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[0.0,<sp/>1.0,<sp/>2.0,<sp/>3.0]</highlight></codeline>
<codeline lineno="1897"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1898"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>With<sp/>only<sp/>*start*<sp/>and<sp/>*stop*<sp/>specified,<sp/>*step*<sp/>defaults<sp/>to<sp/>``1``.<sp/>The</highlight></codeline>
<codeline lineno="1899"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>output<sp/>items<sp/>will<sp/>match<sp/>the<sp/>type<sp/>of<sp/>*start*:</highlight></codeline>
<codeline lineno="1900"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1901"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>decimal<sp/>import<sp/>Decimal</highlight></codeline>
<codeline lineno="1902"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>start<sp/>=<sp/>Decimal(&apos;2.1&apos;)</highlight></codeline>
<codeline lineno="1903"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>stop<sp/>=<sp/>Decimal(&apos;5.1&apos;)</highlight></codeline>
<codeline lineno="1904"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(numeric_range(start,<sp/>stop))</highlight></codeline>
<codeline lineno="1905"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[Decimal(&apos;2.1&apos;),<sp/>Decimal(&apos;3.1&apos;),<sp/>Decimal(&apos;4.1&apos;)]</highlight></codeline>
<codeline lineno="1906"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1907"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>With<sp/>*start*,<sp/>*stop*,<sp/>and<sp/>*step*<sp/><sp/>specified<sp/>the<sp/>output<sp/>items<sp/>will<sp/>match</highlight></codeline>
<codeline lineno="1908"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>the<sp/>type<sp/>of<sp/>``start<sp/>+<sp/>step``:</highlight></codeline>
<codeline lineno="1909"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1910"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>fractions<sp/>import<sp/>Fraction</highlight></codeline>
<codeline lineno="1911"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>start<sp/>=<sp/>Fraction(1,<sp/>2)<sp/><sp/>#<sp/>Start<sp/>at<sp/>1/2</highlight></codeline>
<codeline lineno="1912"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>stop<sp/>=<sp/>Fraction(5,<sp/>2)<sp/><sp/>#<sp/>End<sp/>at<sp/>5/2</highlight></codeline>
<codeline lineno="1913"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>step<sp/>=<sp/>Fraction(1,<sp/>2)<sp/><sp/>#<sp/>Count<sp/>by<sp/>1/2</highlight></codeline>
<codeline lineno="1914"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(numeric_range(start,<sp/>stop,<sp/>step))</highlight></codeline>
<codeline lineno="1915"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[Fraction(1,<sp/>2),<sp/>Fraction(1,<sp/>1),<sp/>Fraction(3,<sp/>2),<sp/>Fraction(2,<sp/>1)]</highlight></codeline>
<codeline lineno="1916"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1917"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*step*<sp/>is<sp/>zero,<sp/>``ValueError``<sp/>is<sp/>raised.<sp/>Negative<sp/>steps<sp/>are<sp/>supported:</highlight></codeline>
<codeline lineno="1918"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1919"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(numeric_range(3,<sp/>-1,<sp/>-1.0))</highlight></codeline>
<codeline lineno="1920"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[3.0,<sp/>2.0,<sp/>1.0,<sp/>0.0]</highlight></codeline>
<codeline lineno="1921"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1922"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Be<sp/>aware<sp/>of<sp/>the<sp/>limitations<sp/>of<sp/>floating<sp/>point<sp/>numbers;<sp/>the<sp/>representation</highlight></codeline>
<codeline lineno="1923"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>of<sp/>the<sp/>yielded<sp/>numbers<sp/>may<sp/>be<sp/>surprising.</highlight></codeline>
<codeline lineno="1924"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1925"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``datetime.datetime``<sp/>objects<sp/>can<sp/>be<sp/>used<sp/>for<sp/>*start*<sp/>and<sp/>*stop*,<sp/>if<sp/>*step*</highlight></codeline>
<codeline lineno="1926"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>is<sp/>a<sp/>``datetime.timedelta``<sp/>object:</highlight></codeline>
<codeline lineno="1927"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1928"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>import<sp/>datetime</highlight></codeline>
<codeline lineno="1929"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>start<sp/>=<sp/>datetime.datetime(2019,<sp/>1,<sp/>1)</highlight></codeline>
<codeline lineno="1930"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>stop<sp/>=<sp/>datetime.datetime(2019,<sp/>1,<sp/>3)</highlight></codeline>
<codeline lineno="1931"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>step<sp/>=<sp/>datetime.timedelta(days=1)</highlight></codeline>
<codeline lineno="1932"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>items<sp/>=<sp/>iter(numeric_range(start,<sp/>stop,<sp/>step))</highlight></codeline>
<codeline lineno="1933"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(items)</highlight></codeline>
<codeline lineno="1934"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>datetime.datetime(2019,<sp/>1,<sp/>1,<sp/>0,<sp/>0)</highlight></codeline>
<codeline lineno="1935"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(items)</highlight></codeline>
<codeline lineno="1936"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>datetime.datetime(2019,<sp/>1,<sp/>2,<sp/>0,<sp/>0)</highlight></codeline>
<codeline lineno="1937"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1938"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1939"><highlight class="normal"></highlight></codeline>
<codeline lineno="1940" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad70e30c7fc172467444faccdb83469cb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>_EMPTY_HASH<sp/>=<sp/>hash(range(0,<sp/>0))</highlight></codeline>
<codeline lineno="1941"><highlight class="normal"></highlight></codeline>
<codeline lineno="1942"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>*args):</highlight></codeline>
<codeline lineno="1943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>argc<sp/>=<sp/>len(args)</highlight></codeline>
<codeline lineno="1944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>argc<sp/>==<sp/>1:</highlight></codeline>
<codeline lineno="1945" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref>,)<sp/>=<sp/>args</highlight></codeline>
<codeline lineno="1946" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref><sp/>=<sp/>type(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref>)(0)</highlight></codeline>
<codeline lineno="1947" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref><sp/>=<sp/>type(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref><sp/>-<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref>)(1)</highlight></codeline>
<codeline lineno="1948"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>argc<sp/>==<sp/>2:</highlight></codeline>
<codeline lineno="1949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref>,<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref><sp/>=<sp/>args</highlight></codeline>
<codeline lineno="1950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref><sp/>=<sp/>type(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref><sp/>-<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref>)(1)</highlight></codeline>
<codeline lineno="1951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>argc<sp/>==<sp/>3:</highlight></codeline>
<codeline lineno="1952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref>,<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref>,<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref><sp/>=<sp/>args</highlight></codeline>
<codeline lineno="1953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>argc<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="1954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>TypeError(</highlight></codeline>
<codeline lineno="1955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;numeric_range<sp/>expected<sp/>at<sp/>least<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;1<sp/>argument,<sp/>got<sp/>{}&apos;</highlight><highlight class="normal">.format(argc)</highlight></codeline>
<codeline lineno="1957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>TypeError(</highlight></codeline>
<codeline lineno="1960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;numeric_range<sp/>expected<sp/>at<sp/>most<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;3<sp/>arguments,<sp/>got<sp/>{}&apos;</highlight><highlight class="normal">.format(argc)</highlight></codeline>
<codeline lineno="1962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1963"><highlight class="normal"></highlight></codeline>
<codeline lineno="1964" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad7cbbb53d4d20fc56d38b325464c7f0b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad7cbbb53d4d20fc56d38b325464c7f0b" kindref="member">_zero</ref><sp/>=<sp/>type(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref>)(0)</highlight></codeline>
<codeline lineno="1965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref><sp/>==<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad7cbbb53d4d20fc56d38b325464c7f0b" kindref="member">_zero</ref>:</highlight></codeline>
<codeline lineno="1966"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;numeric_range()<sp/>arg<sp/>3<sp/>must<sp/>not<sp/>be<sp/>zero&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1967" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a0911c0f16eade96ccbdbc65f10af6b98" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a0911c0f16eade96ccbdbc65f10af6b98" kindref="member">_growing</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref><sp/>&gt;<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad7cbbb53d4d20fc56d38b325464c7f0b" kindref="member">_zero</ref></highlight></codeline>
<codeline lineno="1968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ac3db7a4554b23c61b16778abe712cd1e" kindref="member">_init_len</ref>()</highlight></codeline>
<codeline lineno="1969"><highlight class="normal"></highlight></codeline>
<codeline lineno="1970"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__bool__(self):</highlight></codeline>
<codeline lineno="1971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a0911c0f16eade96ccbdbc65f10af6b98" kindref="member">_growing</ref>:</highlight></codeline>
<codeline lineno="1972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref><sp/>&lt;<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref></highlight></codeline>
<codeline lineno="1973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref><sp/>&gt;<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref></highlight></codeline>
<codeline lineno="1975"><highlight class="normal"></highlight></codeline>
<codeline lineno="1976"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__contains__(self,<sp/>elem):</highlight></codeline>
<codeline lineno="1977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a0911c0f16eade96ccbdbc65f10af6b98" kindref="member">_growing</ref>:</highlight></codeline>
<codeline lineno="1978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref><sp/>&lt;=<sp/>elem<sp/>&lt;<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref>:</highlight></codeline>
<codeline lineno="1979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(elem<sp/>-<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref>)<sp/>%<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref><sp/>==<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad7cbbb53d4d20fc56d38b325464c7f0b" kindref="member">_zero</ref></highlight></codeline>
<codeline lineno="1980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref><sp/>&gt;=<sp/>elem<sp/>&gt;<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref>:</highlight></codeline>
<codeline lineno="1982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref><sp/>-<sp/>elem)<sp/>%<sp/>(-self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref>)<sp/>==<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad7cbbb53d4d20fc56d38b325464c7f0b" kindref="member">_zero</ref></highlight></codeline>
<codeline lineno="1983"><highlight class="normal"></highlight></codeline>
<codeline lineno="1984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1985"><highlight class="normal"></highlight></codeline>
<codeline lineno="1986"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__eq__(self,<sp/>other):</highlight></codeline>
<codeline lineno="1987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(other,<sp/>numeric_range):</highlight></codeline>
<codeline lineno="1988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>empty_self<sp/>=<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>bool(self)</highlight></codeline>
<codeline lineno="1989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>empty_other<sp/>=<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>bool(other)</highlight></codeline>
<codeline lineno="1990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>empty_self<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>empty_other:</highlight></codeline>
<codeline lineno="1991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>empty_self<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>empty_other<sp/><sp/></highlight><highlight class="comment">#<sp/>True<sp/>if<sp/>both<sp/>empty</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="1994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref><sp/>==<sp/>other._start</highlight></codeline>
<codeline lineno="1995"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref><sp/>==<sp/>other._step</highlight></codeline>
<codeline lineno="1996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1afc3e73fad3c81b882891b7834e0323f5" kindref="member">_get_by_index</ref>(-1)<sp/>==<sp/>other._get_by_index(-1)</highlight></codeline>
<codeline lineno="1997"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2000"><highlight class="normal"></highlight></codeline>
<codeline lineno="2001"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__getitem__(self,<sp/>key):</highlight></codeline>
<codeline lineno="2002"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(key,<sp/>int):</highlight></codeline>
<codeline lineno="2003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1afc3e73fad3c81b882891b7834e0323f5" kindref="member">_get_by_index</ref>(key)</highlight></codeline>
<codeline lineno="2004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>isinstance(key,<sp/>slice):</highlight></codeline>
<codeline lineno="2005"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>step<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>key.step<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>key.step<sp/>*<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref></highlight></codeline>
<codeline lineno="2006"><highlight class="normal"></highlight></codeline>
<codeline lineno="2007"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>key.start<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>key.start<sp/>&lt;=<sp/>-self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a4d6ee2e28f3f76d9642eabf282935673" kindref="member">_len</ref>:</highlight></codeline>
<codeline lineno="2008"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref></highlight></codeline>
<codeline lineno="2009"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>key.start<sp/>&gt;=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a4d6ee2e28f3f76d9642eabf282935673" kindref="member">_len</ref>:</highlight></codeline>
<codeline lineno="2010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref></highlight></codeline>
<codeline lineno="2011"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/><sp/></highlight><highlight class="comment">#<sp/>-self._len<sp/>&lt;<sp/>key.start<sp/>&lt;<sp/>self._len</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2012"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1afc3e73fad3c81b882891b7834e0323f5" kindref="member">_get_by_index</ref>(key.start)</highlight></codeline>
<codeline lineno="2013"><highlight class="normal"></highlight></codeline>
<codeline lineno="2014"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>key.stop<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>key.stop<sp/>&gt;=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a4d6ee2e28f3f76d9642eabf282935673" kindref="member">_len</ref>:</highlight></codeline>
<codeline lineno="2015"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stop<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref></highlight></codeline>
<codeline lineno="2016"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>key.stop<sp/>&lt;=<sp/>-self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a4d6ee2e28f3f76d9642eabf282935673" kindref="member">_len</ref>:</highlight></codeline>
<codeline lineno="2017"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stop<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref></highlight></codeline>
<codeline lineno="2018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/><sp/></highlight><highlight class="comment">#<sp/>-self._len<sp/>&lt;<sp/>key.stop<sp/>&lt;<sp/>self._len</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stop<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1afc3e73fad3c81b882891b7834e0323f5" kindref="member">_get_by_index</ref>(key.stop)</highlight></codeline>
<codeline lineno="2020"><highlight class="normal"></highlight></codeline>
<codeline lineno="2021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range" kindref="compound">numeric_range</ref>(start,<sp/>stop,<sp/>step)</highlight></codeline>
<codeline lineno="2022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2023"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>TypeError(</highlight></codeline>
<codeline lineno="2024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;numeric<sp/>range<sp/>indices<sp/>must<sp/>be<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2025"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;integers<sp/>or<sp/>slices,<sp/>not<sp/>{}&apos;</highlight><highlight class="normal">.format(type(key).__name__)</highlight></codeline>
<codeline lineno="2026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="2027"><highlight class="normal"></highlight></codeline>
<codeline lineno="2028"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__hash__(self):</highlight></codeline>
<codeline lineno="2029"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self:</highlight></codeline>
<codeline lineno="2030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>hash((self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref>,<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1afc3e73fad3c81b882891b7834e0323f5" kindref="member">_get_by_index</ref>(-1),<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref>))</highlight></codeline>
<codeline lineno="2031"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad70e30c7fc172467444faccdb83469cb" kindref="member">_EMPTY_HASH</ref></highlight></codeline>
<codeline lineno="2033"><highlight class="normal"></highlight></codeline>
<codeline lineno="2034"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__iter__(self):</highlight></codeline>
<codeline lineno="2035"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>values<sp/>=<sp/>(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref><sp/>+<sp/>(n<sp/>*<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref>)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>n<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a906f0c4877f63fc1f2551daef75ae91f" kindref="member">count</ref>())</highlight></codeline>
<codeline lineno="2036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a0911c0f16eade96ccbdbc65f10af6b98" kindref="member">_growing</ref>:</highlight></codeline>
<codeline lineno="2037"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>takewhile(partial(gt,<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref>),<sp/>values)</highlight></codeline>
<codeline lineno="2038"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2039"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>takewhile(partial(lt,<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref>),<sp/>values)</highlight></codeline>
<codeline lineno="2040"><highlight class="normal"></highlight></codeline>
<codeline lineno="2041"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__len__(self):</highlight></codeline>
<codeline lineno="2042"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a4d6ee2e28f3f76d9642eabf282935673" kindref="member">_len</ref></highlight></codeline>
<codeline lineno="2043"><highlight class="normal"></highlight></codeline>
<codeline lineno="2044" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ac3db7a4554b23c61b16778abe712cd1e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ac3db7a4554b23c61b16778abe712cd1e" kindref="member">_init_len</ref>(self):</highlight></codeline>
<codeline lineno="2045"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a0911c0f16eade96ccbdbc65f10af6b98" kindref="member">_growing</ref>:</highlight></codeline>
<codeline lineno="2046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref></highlight></codeline>
<codeline lineno="2047"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stop<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref></highlight></codeline>
<codeline lineno="2048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>step<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref></highlight></codeline>
<codeline lineno="2049"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2050"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref></highlight></codeline>
<codeline lineno="2051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stop<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref></highlight></codeline>
<codeline lineno="2052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>step<sp/>=<sp/>-self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref></highlight></codeline>
<codeline lineno="2053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>distance<sp/>=<sp/>stop<sp/>-<sp/>start</highlight></codeline>
<codeline lineno="2054"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>distance<sp/>&lt;=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad7cbbb53d4d20fc56d38b325464c7f0b" kindref="member">_zero</ref>:</highlight></codeline>
<codeline lineno="2055" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a4d6ee2e28f3f76d9642eabf282935673" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a4d6ee2e28f3f76d9642eabf282935673" kindref="member">_len</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="2056"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/><sp/></highlight><highlight class="comment">#<sp/>distance<sp/>&gt;<sp/>0<sp/>and<sp/>step<sp/>&gt;<sp/>0:<sp/>regular<sp/>euclidean<sp/>division</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2057"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q,<sp/>r<sp/>=<sp/>divmod(distance,<sp/>step)</highlight></codeline>
<codeline lineno="2058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a4d6ee2e28f3f76d9642eabf282935673" kindref="member">_len</ref><sp/>=<sp/>int(q)<sp/>+<sp/>int(r<sp/>!=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad7cbbb53d4d20fc56d38b325464c7f0b" kindref="member">_zero</ref>)</highlight></codeline>
<codeline lineno="2059"><highlight class="normal"></highlight></codeline>
<codeline lineno="2060"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__reduce__(self):</highlight></codeline>
<codeline lineno="2061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>numeric_range,<sp/>(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref>,<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref>,<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref>)</highlight></codeline>
<codeline lineno="2062"><highlight class="normal"></highlight></codeline>
<codeline lineno="2063"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__repr__(self):</highlight></codeline>
<codeline lineno="2064"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref><sp/>==<sp/>1:</highlight></codeline>
<codeline lineno="2065"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;numeric_range({},<sp/>{})&quot;</highlight><highlight class="normal">.format(</highlight></codeline>
<codeline lineno="2066"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>repr(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref>),<sp/>repr(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref>)</highlight></codeline>
<codeline lineno="2067"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="2068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2069"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;numeric_range({},<sp/>{},<sp/>{})&quot;</highlight><highlight class="normal">.format(</highlight></codeline>
<codeline lineno="2070"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>repr(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref>),<sp/>repr(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref>),<sp/>repr(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref>)</highlight></codeline>
<codeline lineno="2071"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="2072"><highlight class="normal"></highlight></codeline>
<codeline lineno="2073"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__reversed__(self):</highlight></codeline>
<codeline lineno="2074"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iter(</highlight></codeline>
<codeline lineno="2075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range" kindref="compound">numeric_range</ref>(</highlight></codeline>
<codeline lineno="2076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1afc3e73fad3c81b882891b7834e0323f5" kindref="member">_get_by_index</ref>(-1),<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref><sp/>-<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref>,<sp/>-self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref></highlight></codeline>
<codeline lineno="2077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="2078"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="2079"><highlight class="normal"></highlight></codeline>
<codeline lineno="2080" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a906f0c4877f63fc1f2551daef75ae91f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a906f0c4877f63fc1f2551daef75ae91f" kindref="member">count</ref>(self,<sp/>value):</highlight></codeline>
<codeline lineno="2081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>int(value<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self)</highlight></codeline>
<codeline lineno="2082"><highlight class="normal"></highlight></codeline>
<codeline lineno="2083" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1acf0a51d22a2ee14fcd24e3ffcb02897b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1acf0a51d22a2ee14fcd24e3ffcb02897b" kindref="member">index</ref>(self,<sp/>value):</highlight></codeline>
<codeline lineno="2084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a0911c0f16eade96ccbdbc65f10af6b98" kindref="member">_growing</ref>:</highlight></codeline>
<codeline lineno="2085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref><sp/>&lt;=<sp/>value<sp/>&lt;<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref>:</highlight></codeline>
<codeline lineno="2086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q,<sp/>r<sp/>=<sp/>divmod(value<sp/>-<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref>,<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref>)</highlight></codeline>
<codeline lineno="2087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>r<sp/>==<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad7cbbb53d4d20fc56d38b325464c7f0b" kindref="member">_zero</ref>:</highlight></codeline>
<codeline lineno="2088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>int(q)</highlight></codeline>
<codeline lineno="2089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref><sp/>&gt;=<sp/>value<sp/>&gt;<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad0bd236b50262cbd43a6d6ee82d80c42" kindref="member">_stop</ref>:</highlight></codeline>
<codeline lineno="2091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q,<sp/>r<sp/>=<sp/>divmod(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref><sp/>-<sp/>value,<sp/>-self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref>)</highlight></codeline>
<codeline lineno="2092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>r<sp/>==<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1ad7cbbb53d4d20fc56d38b325464c7f0b" kindref="member">_zero</ref>:</highlight></codeline>
<codeline lineno="2093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>int(q)</highlight></codeline>
<codeline lineno="2094"><highlight class="normal"></highlight></codeline>
<codeline lineno="2095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&quot;{}<sp/>is<sp/>not<sp/>in<sp/>numeric<sp/>range&quot;</highlight><highlight class="normal">.format(value))</highlight></codeline>
<codeline lineno="2096"><highlight class="normal"></highlight></codeline>
<codeline lineno="2097" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1afc3e73fad3c81b882891b7834e0323f5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1afc3e73fad3c81b882891b7834e0323f5" kindref="member">_get_by_index</ref>(self,<sp/>i):</highlight></codeline>
<codeline lineno="2098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>i<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="2099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>+=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a4d6ee2e28f3f76d9642eabf282935673" kindref="member">_len</ref></highlight></codeline>
<codeline lineno="2100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>i<sp/>&lt;<sp/>0<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>i<sp/>&gt;=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a4d6ee2e28f3f76d9642eabf282935673" kindref="member">_len</ref>:</highlight></codeline>
<codeline lineno="2101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>IndexError(</highlight><highlight class="stringliteral">&quot;numeric<sp/>range<sp/>object<sp/>index<sp/>out<sp/>of<sp/>range&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="2102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a01c71e02676ced5b1e27b64a5ca55362" kindref="member">_start</ref><sp/>+<sp/>i<sp/>*<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1numeric__range_1a43601c825c333f17a81d2b66c3d6068b" kindref="member">_step</ref></highlight></codeline>
<codeline lineno="2103"><highlight class="normal"></highlight></codeline>
<codeline lineno="2104"><highlight class="normal"></highlight></codeline>
<codeline lineno="2105" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a3ad742cc24dfb3b49a4f07db2aa012b8" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a3ad742cc24dfb3b49a4f07db2aa012b8" kindref="member">count_cycle</ref>(iterable,<sp/>n=None):</highlight></codeline>
<codeline lineno="2106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Cycle<sp/>through<sp/>the<sp/>items<sp/>from<sp/>*iterable*<sp/>up<sp/>to<sp/>*n*<sp/>times,<sp/>yielding</highlight></codeline>
<codeline lineno="2107"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>the<sp/>number<sp/>of<sp/>completed<sp/>cycles<sp/>along<sp/>with<sp/>each<sp/>item.<sp/>If<sp/>*n*<sp/>is<sp/>omitted<sp/>the</highlight></codeline>
<codeline lineno="2108"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>process<sp/>repeats<sp/>indefinitely.</highlight></codeline>
<codeline lineno="2109"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2110"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(count_cycle(&apos;AB&apos;,<sp/>3))</highlight></codeline>
<codeline lineno="2111"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[(0,<sp/>&apos;A&apos;),<sp/>(0,<sp/>&apos;B&apos;),<sp/>(1,<sp/>&apos;A&apos;),<sp/>(1,<sp/>&apos;B&apos;),<sp/>(2,<sp/>&apos;A&apos;),<sp/>(2,<sp/>&apos;B&apos;)]</highlight></codeline>
<codeline lineno="2112"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2113"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2114"><highlight class="normal"><sp/><sp/><sp/><sp/>iterable<sp/>=<sp/>tuple(iterable)</highlight></codeline>
<codeline lineno="2115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>iterable:</highlight></codeline>
<codeline lineno="2116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iter(())</highlight></codeline>
<codeline lineno="2117"><highlight class="normal"><sp/><sp/><sp/><sp/>counter<sp/>=<sp/>count()<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>range(n)</highlight></codeline>
<codeline lineno="2118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>((i,<sp/>item)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>counter<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>iterable)</highlight></codeline>
<codeline lineno="2119"><highlight class="normal"></highlight></codeline>
<codeline lineno="2120"><highlight class="normal"></highlight></codeline>
<codeline lineno="2121" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a887baec1ac1113ad302338e44bef29e7" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a887baec1ac1113ad302338e44bef29e7" kindref="member">mark_ends</ref>(iterable):</highlight></codeline>
<codeline lineno="2122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>3-tuples<sp/>of<sp/>the<sp/>form<sp/>``(is_first,<sp/>is_last,<sp/>item)``.</highlight></codeline>
<codeline lineno="2123"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2124"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(mark_ends(&apos;ABC&apos;))</highlight></codeline>
<codeline lineno="2125"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[(True,<sp/>False,<sp/>&apos;A&apos;),<sp/>(False,<sp/>False,<sp/>&apos;B&apos;),<sp/>(False,<sp/>True,<sp/>&apos;C&apos;)]</highlight></codeline>
<codeline lineno="2126"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2127"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Use<sp/>this<sp/>when<sp/>looping<sp/>over<sp/>an<sp/>iterable<sp/>to<sp/>take<sp/>special<sp/>action<sp/>on<sp/>its<sp/>first</highlight></codeline>
<codeline lineno="2128"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and/or<sp/>last<sp/>items:</highlight></codeline>
<codeline lineno="2129"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2130"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[&apos;Header&apos;,<sp/>100,<sp/>200,<sp/>&apos;Footer&apos;]</highlight></codeline>
<codeline lineno="2131"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>total<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="2132"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>for<sp/>is_first,<sp/>is_last,<sp/>item<sp/>in<sp/>mark_ends(iterable):</highlight></codeline>
<codeline lineno="2133"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>if<sp/>is_first:</highlight></codeline>
<codeline lineno="2134"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue<sp/><sp/>#<sp/>Skip<sp/>the<sp/>header</highlight></codeline>
<codeline lineno="2135"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>if<sp/>is_last:</highlight></codeline>
<codeline lineno="2136"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue<sp/><sp/>#<sp/>Skip<sp/>the<sp/>footer</highlight></codeline>
<codeline lineno="2137"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>total<sp/>+=<sp/>item</highlight></codeline>
<codeline lineno="2138"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>print(total)</highlight></codeline>
<codeline lineno="2139"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>300</highlight></codeline>
<codeline lineno="2140"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2141"><highlight class="normal"><sp/><sp/><sp/><sp/>it<sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="2142"><highlight class="normal"></highlight></codeline>
<codeline lineno="2143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>b<sp/>=<sp/>next(it)</highlight></codeline>
<codeline lineno="2145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopIteration:</highlight></codeline>
<codeline lineno="2146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2147"><highlight class="normal"></highlight></codeline>
<codeline lineno="2148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>count():</highlight></codeline>
<codeline lineno="2150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a<sp/>=<sp/>b</highlight></codeline>
<codeline lineno="2151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>b<sp/>=<sp/>next(it)</highlight></codeline>
<codeline lineno="2152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>i<sp/>==<sp/>0,<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>a</highlight></codeline>
<codeline lineno="2153"><highlight class="normal"></highlight></codeline>
<codeline lineno="2154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopIteration:</highlight></codeline>
<codeline lineno="2155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>i<sp/>==<sp/>0,<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>a</highlight></codeline>
<codeline lineno="2156"><highlight class="normal"></highlight></codeline>
<codeline lineno="2157"><highlight class="normal"></highlight></codeline>
<codeline lineno="2158" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a05e18ee5ccec970465321f705ee1e11b" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a05e18ee5ccec970465321f705ee1e11b" kindref="member">locate</ref>(iterable,<sp/>pred=bool,<sp/>window_size=None):</highlight></codeline>
<codeline lineno="2159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>the<sp/>index<sp/>of<sp/>each<sp/>item<sp/>in<sp/>*iterable*<sp/>for<sp/>which<sp/>*pred*<sp/>returns</highlight></codeline>
<codeline lineno="2160"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``True``.</highlight></codeline>
<codeline lineno="2161"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2162"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*pred*<sp/>defaults<sp/>to<sp/>:func:`bool`,<sp/>which<sp/>will<sp/>select<sp/>truthy<sp/>items:</highlight></codeline>
<codeline lineno="2163"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2164"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(locate([0,<sp/>1,<sp/>1,<sp/>0,<sp/>1,<sp/>0,<sp/>0]))</highlight></codeline>
<codeline lineno="2165"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>4]</highlight></codeline>
<codeline lineno="2166"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2167"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Set<sp/>*pred*<sp/>to<sp/>a<sp/>custom<sp/>function<sp/>to,<sp/>e.g.,<sp/>find<sp/>the<sp/>indexes<sp/>for<sp/>a<sp/>particular</highlight></codeline>
<codeline lineno="2168"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>item.</highlight></codeline>
<codeline lineno="2169"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2170"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(locate([&apos;a&apos;,<sp/>&apos;b&apos;,<sp/>&apos;c&apos;,<sp/>&apos;b&apos;],<sp/>lambda<sp/>x:<sp/>x<sp/>==<sp/>&apos;b&apos;))</highlight></codeline>
<codeline lineno="2171"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>3]</highlight></codeline>
<codeline lineno="2172"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2173"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*window_size*<sp/>is<sp/>given,<sp/>then<sp/>the<sp/>*pred*<sp/>function<sp/>will<sp/>be<sp/>called<sp/>with</highlight></codeline>
<codeline lineno="2174"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>that<sp/>many<sp/>items.<sp/>This<sp/>enables<sp/>searching<sp/>for<sp/>sub-sequences:</highlight></codeline>
<codeline lineno="2175"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2176"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[0,<sp/>1,<sp/>2,<sp/>3,<sp/>0,<sp/>1,<sp/>2,<sp/>3,<sp/>0,<sp/>1,<sp/>2,<sp/>3]</highlight></codeline>
<codeline lineno="2177"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>pred<sp/>=<sp/>lambda<sp/>*args:<sp/>args<sp/>==<sp/>(1,<sp/>2,<sp/>3)</highlight></codeline>
<codeline lineno="2178"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(locate(iterable,<sp/>pred=pred,<sp/>window_size=3))</highlight></codeline>
<codeline lineno="2179"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>5,<sp/>9]</highlight></codeline>
<codeline lineno="2180"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2181"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Use<sp/>with<sp/>:func:`seekable`<sp/>to<sp/>find<sp/>indexes<sp/>and<sp/>then<sp/>retrieve<sp/>the<sp/>associated</highlight></codeline>
<codeline lineno="2182"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>items:</highlight></codeline>
<codeline lineno="2183"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2184"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>itertools<sp/>import<sp/>count</highlight></codeline>
<codeline lineno="2185"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>more_itertools<sp/>import<sp/>seekable</highlight></codeline>
<codeline lineno="2186"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>source<sp/>=<sp/>(3<sp/>*<sp/>n<sp/>+<sp/>1<sp/>if<sp/>(n<sp/>%<sp/>2)<sp/>else<sp/>n<sp/>//<sp/>2<sp/>for<sp/>n<sp/>in<sp/>count())</highlight></codeline>
<codeline lineno="2187"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it<sp/>=<sp/>seekable(source)</highlight></codeline>
<codeline lineno="2188"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>pred<sp/>=<sp/>lambda<sp/>x:<sp/>x<sp/>&gt;<sp/>100</highlight></codeline>
<codeline lineno="2189"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>indexes<sp/>=<sp/>locate(it,<sp/>pred=pred)</highlight></codeline>
<codeline lineno="2190"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>i<sp/>=<sp/>next(indexes)</highlight></codeline>
<codeline lineno="2191"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it.seek(i)</highlight></codeline>
<codeline lineno="2192"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(it)</highlight></codeline>
<codeline lineno="2193"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>106</highlight></codeline>
<codeline lineno="2194"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2195"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2196"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>window_size<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>compress(count(),<sp/>map(pred,<sp/>iterable))</highlight></codeline>
<codeline lineno="2198"><highlight class="normal"></highlight></codeline>
<codeline lineno="2199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>window_size<sp/>&lt;<sp/>1:</highlight></codeline>
<codeline lineno="2200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;window<sp/>size<sp/>must<sp/>be<sp/>at<sp/>least<sp/>1&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="2201"><highlight class="normal"></highlight></codeline>
<codeline lineno="2202"><highlight class="normal"><sp/><sp/><sp/><sp/>it<sp/>=<sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a6a25a63106c08986d199ddbd78d46277" kindref="member">windowed</ref>(iterable,<sp/>window_size,<sp/>fillvalue=_marker)</highlight></codeline>
<codeline lineno="2203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>compress(count(),<sp/>starmap(pred,<sp/>it))</highlight></codeline>
<codeline lineno="2204"><highlight class="normal"></highlight></codeline>
<codeline lineno="2205"><highlight class="normal"></highlight></codeline>
<codeline lineno="2206" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a2b0712cc8a0f49172287bf947e453677" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a2b0712cc8a0f49172287bf947e453677" kindref="member">lstrip</ref>(iterable,<sp/>pred):</highlight></codeline>
<codeline lineno="2207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>the<sp/>items<sp/>from<sp/>*iterable*,<sp/>but<sp/>strip<sp/>any<sp/>from<sp/>the<sp/>beginning</highlight></codeline>
<codeline lineno="2208"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>for<sp/>which<sp/>*pred*<sp/>returns<sp/>``True``.</highlight></codeline>
<codeline lineno="2209"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2210"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>example,<sp/>to<sp/>remove<sp/>a<sp/>set<sp/>of<sp/>items<sp/>from<sp/>the<sp/>start<sp/>of<sp/>an<sp/>iterable:</highlight></codeline>
<codeline lineno="2211"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2212"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>(None,<sp/>False,<sp/>None,<sp/>1,<sp/>2,<sp/>None,<sp/>3,<sp/>False,<sp/>None)</highlight></codeline>
<codeline lineno="2213"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>pred<sp/>=<sp/>lambda<sp/>x:<sp/>x<sp/>in<sp/>{None,<sp/>False,<sp/>&apos;&apos;}</highlight></codeline>
<codeline lineno="2214"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(lstrip(iterable,<sp/>pred))</highlight></codeline>
<codeline lineno="2215"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>None,<sp/>3,<sp/>False,<sp/>None]</highlight></codeline>
<codeline lineno="2216"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2217"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>is<sp/>analogous<sp/>to<sp/>to<sp/>:func:`str.lstrip`,<sp/>and<sp/>is<sp/>essentially</highlight></codeline>
<codeline lineno="2218"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>an<sp/>wrapper<sp/>for<sp/>:func:`itertools.dropwhile`.</highlight></codeline>
<codeline lineno="2219"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2220"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>dropwhile(pred,<sp/>iterable)</highlight></codeline>
<codeline lineno="2222"><highlight class="normal"></highlight></codeline>
<codeline lineno="2223"><highlight class="normal"></highlight></codeline>
<codeline lineno="2224" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1abafac6a26effb97d5579c5412d30bc77" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1abafac6a26effb97d5579c5412d30bc77" kindref="member">rstrip</ref>(iterable,<sp/>pred):</highlight></codeline>
<codeline lineno="2225"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>the<sp/>items<sp/>from<sp/>*iterable*,<sp/>but<sp/>strip<sp/>any<sp/>from<sp/>the<sp/>end</highlight></codeline>
<codeline lineno="2226"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>for<sp/>which<sp/>*pred*<sp/>returns<sp/>``True``.</highlight></codeline>
<codeline lineno="2227"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2228"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>example,<sp/>to<sp/>remove<sp/>a<sp/>set<sp/>of<sp/>items<sp/>from<sp/>the<sp/>end<sp/>of<sp/>an<sp/>iterable:</highlight></codeline>
<codeline lineno="2229"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2230"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>(None,<sp/>False,<sp/>None,<sp/>1,<sp/>2,<sp/>None,<sp/>3,<sp/>False,<sp/>None)</highlight></codeline>
<codeline lineno="2231"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>pred<sp/>=<sp/>lambda<sp/>x:<sp/>x<sp/>in<sp/>{None,<sp/>False,<sp/>&apos;&apos;}</highlight></codeline>
<codeline lineno="2232"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(rstrip(iterable,<sp/>pred))</highlight></codeline>
<codeline lineno="2233"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[None,<sp/>False,<sp/>None,<sp/>1,<sp/>2,<sp/>None,<sp/>3]</highlight></codeline>
<codeline lineno="2234"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2235"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>is<sp/>analogous<sp/>to<sp/>:func:`str.rstrip`.</highlight></codeline>
<codeline lineno="2236"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2237"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2238"><highlight class="normal"><sp/><sp/><sp/><sp/>cache<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="2239"><highlight class="normal"><sp/><sp/><sp/><sp/>cache_append<sp/>=<sp/>cache.append</highlight></codeline>
<codeline lineno="2240"><highlight class="normal"><sp/><sp/><sp/><sp/>cache_clear<sp/>=<sp/>cache.clear</highlight></codeline>
<codeline lineno="2241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>iterable:</highlight></codeline>
<codeline lineno="2242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>pred(x):</highlight></codeline>
<codeline lineno="2243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cache_append(x)</highlight></codeline>
<codeline lineno="2244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>cache</highlight></codeline>
<codeline lineno="2246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cache_clear()</highlight></codeline>
<codeline lineno="2247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>x</highlight></codeline>
<codeline lineno="2248"><highlight class="normal"></highlight></codeline>
<codeline lineno="2249"><highlight class="normal"></highlight></codeline>
<codeline lineno="2250" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a4aacddd1fb6d2525e7ca741424fd0045" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a4aacddd1fb6d2525e7ca741424fd0045" kindref="member">strip</ref>(iterable,<sp/>pred):</highlight></codeline>
<codeline lineno="2251"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>the<sp/>items<sp/>from<sp/>*iterable*,<sp/>but<sp/>strip<sp/>any<sp/>from<sp/>the</highlight></codeline>
<codeline lineno="2252"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>beginning<sp/>and<sp/>end<sp/>for<sp/>which<sp/>*pred*<sp/>returns<sp/>``True``.</highlight></codeline>
<codeline lineno="2253"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2254"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>example,<sp/>to<sp/>remove<sp/>a<sp/>set<sp/>of<sp/>items<sp/>from<sp/>both<sp/>ends<sp/>of<sp/>an<sp/>iterable:</highlight></codeline>
<codeline lineno="2255"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2256"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>(None,<sp/>False,<sp/>None,<sp/>1,<sp/>2,<sp/>None,<sp/>3,<sp/>False,<sp/>None)</highlight></codeline>
<codeline lineno="2257"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>pred<sp/>=<sp/>lambda<sp/>x:<sp/>x<sp/>in<sp/>{None,<sp/>False,<sp/>&apos;&apos;}</highlight></codeline>
<codeline lineno="2258"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(strip(iterable,<sp/>pred))</highlight></codeline>
<codeline lineno="2259"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>None,<sp/>3]</highlight></codeline>
<codeline lineno="2260"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2261"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>is<sp/>analogous<sp/>to<sp/>:func:`str.strip`.</highlight></codeline>
<codeline lineno="2262"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2263"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2264"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1abafac6a26effb97d5579c5412d30bc77" kindref="member">rstrip</ref>(<ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a2b0712cc8a0f49172287bf947e453677" kindref="member">lstrip</ref>(iterable,<sp/>pred),<sp/>pred)</highlight></codeline>
<codeline lineno="2265"><highlight class="normal"></highlight></codeline>
<codeline lineno="2266"><highlight class="normal"></highlight></codeline>
<codeline lineno="2267" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1islice__extended" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1islice__extended" kindref="compound">islice_extended</ref>:</highlight></codeline>
<codeline lineno="2268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;An<sp/>extension<sp/>of<sp/>:func:`itertools.islice`<sp/>that<sp/>supports<sp/>negative<sp/>values</highlight></codeline>
<codeline lineno="2269"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>for<sp/>*stop*,<sp/>*start*,<sp/>and<sp/>*step*.</highlight></codeline>
<codeline lineno="2270"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2271"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>iter(&apos;abcdefgh&apos;)</highlight></codeline>
<codeline lineno="2272"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(islice_extended(iterable,<sp/>-4,<sp/>-1))</highlight></codeline>
<codeline lineno="2273"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;e&apos;,<sp/>&apos;f&apos;,<sp/>&apos;g&apos;]</highlight></codeline>
<codeline lineno="2274"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2275"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Slices<sp/>with<sp/>negative<sp/>values<sp/>require<sp/>some<sp/>caching<sp/>of<sp/>*iterable*,<sp/>but<sp/>this</highlight></codeline>
<codeline lineno="2276"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>function<sp/>takes<sp/>care<sp/>to<sp/>minimize<sp/>the<sp/>amount<sp/>of<sp/>memory<sp/>required.</highlight></codeline>
<codeline lineno="2277"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2278"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>example,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>negative<sp/>step<sp/>with<sp/>an<sp/>infinite<sp/>iterator:</highlight></codeline>
<codeline lineno="2279"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2280"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>itertools<sp/>import<sp/>count</highlight></codeline>
<codeline lineno="2281"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(islice_extended(count(),<sp/>110,<sp/>99,<sp/>-2))</highlight></codeline>
<codeline lineno="2282"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[110,<sp/>108,<sp/>106,<sp/>104,<sp/>102,<sp/>100]</highlight></codeline>
<codeline lineno="2283"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2284"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>You<sp/>can<sp/>also<sp/>use<sp/>slice<sp/>notation<sp/>directly:</highlight></codeline>
<codeline lineno="2285"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2286"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>map(str,<sp/>count())</highlight></codeline>
<codeline lineno="2287"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it<sp/>=<sp/>islice_extended(iterable)[10:20:2]</highlight></codeline>
<codeline lineno="2288"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(it)</highlight></codeline>
<codeline lineno="2289"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;10&apos;,<sp/>&apos;12&apos;,<sp/>&apos;14&apos;,<sp/>&apos;16&apos;,<sp/>&apos;18&apos;]</highlight></codeline>
<codeline lineno="2290"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2291"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2292"><highlight class="normal"></highlight></codeline>
<codeline lineno="2293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>iterable,<sp/>*args):</highlight></codeline>
<codeline lineno="2294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>it<sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="2295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>args:</highlight></codeline>
<codeline lineno="2296" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1islice__extended_1ac203edc4dfbe440c6d1ae06a3b50dba9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1islice__extended_1ac203edc4dfbe440c6d1ae06a3b50dba9" kindref="member">_iterable</ref><sp/>=<sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a95249a3c504f20ba7aa1a05dfcbf80b7" kindref="member">_islice_helper</ref>(it,<sp/>slice(*args))</highlight></codeline>
<codeline lineno="2297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1islice__extended_1ac203edc4dfbe440c6d1ae06a3b50dba9" kindref="member">_iterable</ref><sp/>=<sp/>it</highlight></codeline>
<codeline lineno="2299"><highlight class="normal"></highlight></codeline>
<codeline lineno="2300"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__iter__(self):</highlight></codeline>
<codeline lineno="2301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="2302"><highlight class="normal"></highlight></codeline>
<codeline lineno="2303"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__next__(self):</highlight></codeline>
<codeline lineno="2304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>next(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1islice__extended_1ac203edc4dfbe440c6d1ae06a3b50dba9" kindref="member">_iterable</ref>)</highlight></codeline>
<codeline lineno="2305"><highlight class="normal"></highlight></codeline>
<codeline lineno="2306"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__getitem__(self,<sp/>key):</highlight></codeline>
<codeline lineno="2307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(key,<sp/>slice):</highlight></codeline>
<codeline lineno="2308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1islice__extended" kindref="compound">islice_extended</ref>(<ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a95249a3c504f20ba7aa1a05dfcbf80b7" kindref="member">_islice_helper</ref>(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1islice__extended_1ac203edc4dfbe440c6d1ae06a3b50dba9" kindref="member">_iterable</ref>,<sp/>key))</highlight></codeline>
<codeline lineno="2309"><highlight class="normal"></highlight></codeline>
<codeline lineno="2310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>TypeError(</highlight><highlight class="stringliteral">&apos;islice_extended.__getitem__<sp/>argument<sp/>must<sp/>be<sp/>a<sp/>slice&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="2311"><highlight class="normal"></highlight></codeline>
<codeline lineno="2312"><highlight class="normal"></highlight></codeline>
<codeline lineno="2313" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a95249a3c504f20ba7aa1a05dfcbf80b7" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a95249a3c504f20ba7aa1a05dfcbf80b7" kindref="member">_islice_helper</ref>(it,<sp/>s):</highlight></codeline>
<codeline lineno="2314"><highlight class="normal"><sp/><sp/><sp/><sp/>start<sp/>=<sp/>s.start</highlight></codeline>
<codeline lineno="2315"><highlight class="normal"><sp/><sp/><sp/><sp/>stop<sp/>=<sp/>s.stop</highlight></codeline>
<codeline lineno="2316"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>s.step<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="2317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;step<sp/>argument<sp/>must<sp/>be<sp/>a<sp/>non-zero<sp/>integer<sp/>or<sp/>None.&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="2318"><highlight class="normal"><sp/><sp/><sp/><sp/>step<sp/>=<sp/>s.step<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>1</highlight></codeline>
<codeline lineno="2319"><highlight class="normal"></highlight></codeline>
<codeline lineno="2320"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>step<sp/>&gt;<sp/>0:</highlight></codeline>
<codeline lineno="2321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start<sp/>=<sp/>0<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(start<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>start</highlight></codeline>
<codeline lineno="2322"><highlight class="normal"></highlight></codeline>
<codeline lineno="2323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>start<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="2324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Consume<sp/>all<sp/>but<sp/>the<sp/>last<sp/>-start<sp/>items</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cache<sp/>=<sp/>deque(enumerate(it,<sp/>1),<sp/>maxlen=-start)</highlight></codeline>
<codeline lineno="2326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>len_iter<sp/>=<sp/>cache[-1][0]<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>cache<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>0</highlight></codeline>
<codeline lineno="2327"><highlight class="normal"></highlight></codeline>
<codeline lineno="2328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Adjust<sp/>start<sp/>to<sp/>be<sp/>positive</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>=<sp/>max(len_iter<sp/>+<sp/>start,<sp/>0)</highlight></codeline>
<codeline lineno="2330"><highlight class="normal"></highlight></codeline>
<codeline lineno="2331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Adjust<sp/>stop<sp/>to<sp/>be<sp/>positive</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>stop<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>j<sp/>=<sp/>len_iter</highlight></codeline>
<codeline lineno="2334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>stop<sp/>&gt;=<sp/>0:</highlight></codeline>
<codeline lineno="2335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>j<sp/>=<sp/>min(stop,<sp/>len_iter)</highlight></codeline>
<codeline lineno="2336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>j<sp/>=<sp/>max(len_iter<sp/>+<sp/>stop,<sp/>0)</highlight></codeline>
<codeline lineno="2338"><highlight class="normal"></highlight></codeline>
<codeline lineno="2339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Slice<sp/>the<sp/>cache</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/>j<sp/>-<sp/>i</highlight></codeline>
<codeline lineno="2341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n<sp/>&lt;=<sp/>0:</highlight></codeline>
<codeline lineno="2342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2343"><highlight class="normal"></highlight></codeline>
<codeline lineno="2344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>index,<sp/>item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>islice(cache,<sp/>0,<sp/>n,<sp/>step):</highlight></codeline>
<codeline lineno="2345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>item</highlight></codeline>
<codeline lineno="2346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>(stop<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>(stop<sp/>&lt;<sp/>0):</highlight></codeline>
<codeline lineno="2347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Advance<sp/>to<sp/>the<sp/>start<sp/>position</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>next(islice(it,<sp/>start,<sp/>start),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="2349"><highlight class="normal"></highlight></codeline>
<codeline lineno="2350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>When<sp/>stop<sp/>is<sp/>negative,<sp/>we<sp/>have<sp/>to<sp/>carry<sp/>-stop<sp/>items<sp/>while</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>iterating</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cache<sp/>=<sp/>deque(islice(it,<sp/>-stop),<sp/>maxlen=-stop)</highlight></codeline>
<codeline lineno="2353"><highlight class="normal"></highlight></codeline>
<codeline lineno="2354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>index,<sp/>item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>enumerate(it):</highlight></codeline>
<codeline lineno="2355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cached_item<sp/>=<sp/>cache.popleft()</highlight></codeline>
<codeline lineno="2356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>index<sp/>%<sp/>step<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="2357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>cached_item</highlight></codeline>
<codeline lineno="2358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cache.append(item)</highlight></codeline>
<codeline lineno="2359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>When<sp/>both<sp/>start<sp/>and<sp/>stop<sp/>are<sp/>positive<sp/>we<sp/>have<sp/>the<sp/>normal<sp/>case</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>islice(it,<sp/>start,<sp/>stop,<sp/>step)</highlight></codeline>
<codeline lineno="2362"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start<sp/>=<sp/>-1<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(start<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>start</highlight></codeline>
<codeline lineno="2364"><highlight class="normal"></highlight></codeline>
<codeline lineno="2365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stop<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>(stop<sp/>&lt;<sp/>0):</highlight></codeline>
<codeline lineno="2366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Consume<sp/>all<sp/>but<sp/>the<sp/>last<sp/>items</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/>-stop<sp/>-<sp/>1</highlight></codeline>
<codeline lineno="2368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cache<sp/>=<sp/>deque(enumerate(it,<sp/>1),<sp/>maxlen=n)</highlight></codeline>
<codeline lineno="2369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>len_iter<sp/>=<sp/>cache[-1][0]<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>cache<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>0</highlight></codeline>
<codeline lineno="2370"><highlight class="normal"></highlight></codeline>
<codeline lineno="2371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>start<sp/>and<sp/>stop<sp/>are<sp/>both<sp/>negative<sp/>they<sp/>are<sp/>comparable<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>we<sp/>can<sp/>just<sp/>slice.<sp/>Otherwise<sp/>we<sp/>can<sp/>adjust<sp/>start<sp/>to<sp/>be<sp/>negative</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>and<sp/>then<sp/>slice.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>start<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="2375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i,<sp/>j<sp/>=<sp/>start,<sp/>stop</highlight></codeline>
<codeline lineno="2376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i,<sp/>j<sp/>=<sp/>min(start<sp/>-<sp/>len_iter,<sp/>-1),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2378"><highlight class="normal"></highlight></codeline>
<codeline lineno="2379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>index,<sp/>item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(cache)[i:j:step]:</highlight></codeline>
<codeline lineno="2380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>item</highlight></codeline>
<codeline lineno="2381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Advance<sp/>to<sp/>the<sp/>stop<sp/>position</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>stop<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m<sp/>=<sp/>stop<sp/>+<sp/>1</highlight></codeline>
<codeline lineno="2385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>next(islice(it,<sp/>m,<sp/>m),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="2386"><highlight class="normal"></highlight></codeline>
<codeline lineno="2387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>stop<sp/>is<sp/>positive,<sp/>so<sp/>if<sp/>start<sp/>is<sp/>negative<sp/>they<sp/>are<sp/>not<sp/>comparable</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>and<sp/>we<sp/>need<sp/>the<sp/>rest<sp/>of<sp/>the<sp/>items.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>start<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="2390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>=<sp/>start</highlight></codeline>
<codeline lineno="2391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>stop<sp/>is<sp/>None<sp/>and<sp/>start<sp/>is<sp/>positive,<sp/>so<sp/>we<sp/>just<sp/>need<sp/>items<sp/>up<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>start<sp/>index.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>stop<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/>start<sp/>+<sp/>1</highlight></codeline>
<codeline lineno="2397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Both<sp/>stop<sp/>and<sp/>start<sp/>are<sp/>positive,<sp/>so<sp/>they<sp/>are<sp/>comparable.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/>start<sp/>-<sp/>stop</highlight></codeline>
<codeline lineno="2401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n<sp/>&lt;=<sp/>0:</highlight></codeline>
<codeline lineno="2402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2403"><highlight class="normal"></highlight></codeline>
<codeline lineno="2404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cache<sp/>=<sp/>list(islice(it,<sp/>n))</highlight></codeline>
<codeline lineno="2405"><highlight class="normal"></highlight></codeline>
<codeline lineno="2406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>cache[i::step]</highlight></codeline>
<codeline lineno="2407"><highlight class="normal"></highlight></codeline>
<codeline lineno="2408"><highlight class="normal"></highlight></codeline>
<codeline lineno="2409" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a4ed7891e30021a8924131411039ad76a" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a4ed7891e30021a8924131411039ad76a" kindref="member">always_reversible</ref>(iterable):</highlight></codeline>
<codeline lineno="2410"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;An<sp/>extension<sp/>of<sp/>:func:`reversed`<sp/>that<sp/>supports<sp/>all<sp/>iterables,<sp/>not</highlight></codeline>
<codeline lineno="2411"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>just<sp/>those<sp/>which<sp/>implement<sp/>the<sp/>``Reversible``<sp/>or<sp/>``Sequence``<sp/>protocols.</highlight></codeline>
<codeline lineno="2412"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2413"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>print(*always_reversible(x<sp/>for<sp/>x<sp/>in<sp/>range(3)))</highlight></codeline>
<codeline lineno="2414"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>2<sp/>1<sp/>0</highlight></codeline>
<codeline lineno="2415"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2416"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>iterable<sp/>is<sp/>already<sp/>reversible,<sp/>this<sp/>function<sp/>returns<sp/>the</highlight></codeline>
<codeline lineno="2417"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>result<sp/>of<sp/>:func:`reversed()`.<sp/>If<sp/>the<sp/>iterable<sp/>is<sp/>not<sp/>reversible,</highlight></codeline>
<codeline lineno="2418"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>this<sp/>function<sp/>will<sp/>cache<sp/>the<sp/>remaining<sp/>items<sp/>in<sp/>the<sp/>iterable<sp/>and</highlight></codeline>
<codeline lineno="2419"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>yield<sp/>them<sp/>in<sp/>reverse<sp/>order,<sp/>which<sp/>may<sp/>require<sp/>significant<sp/>storage.</highlight></codeline>
<codeline lineno="2420"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2421"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>reversed(iterable)</highlight></codeline>
<codeline lineno="2423"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>TypeError:</highlight></codeline>
<codeline lineno="2424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>reversed(list(iterable))</highlight></codeline>
<codeline lineno="2425"><highlight class="normal"></highlight></codeline>
<codeline lineno="2426"><highlight class="normal"></highlight></codeline>
<codeline lineno="2427" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ad42cfd133811f127a2c4321d8c63042b" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ad42cfd133811f127a2c4321d8c63042b" kindref="member">consecutive_groups</ref>(iterable,<sp/>ordering=lambda<sp/>x:<sp/>x):</highlight></codeline>
<codeline lineno="2428"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>groups<sp/>of<sp/>consecutive<sp/>items<sp/>using<sp/>:func:`itertools.groupby`.</highlight></codeline>
<codeline lineno="2429"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>*ordering*<sp/>function<sp/>determines<sp/>whether<sp/>two<sp/>items<sp/>are<sp/>adjacent<sp/>by</highlight></codeline>
<codeline lineno="2430"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>returning<sp/>their<sp/>position.</highlight></codeline>
<codeline lineno="2431"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2432"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>By<sp/>default,<sp/>the<sp/>ordering<sp/>function<sp/>is<sp/>the<sp/>identity<sp/>function.<sp/>This<sp/>is</highlight></codeline>
<codeline lineno="2433"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>suitable<sp/>for<sp/>finding<sp/>runs<sp/>of<sp/>numbers:</highlight></codeline>
<codeline lineno="2434"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2435"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[1,<sp/>10,<sp/>11,<sp/>12,<sp/>20,<sp/>30,<sp/>31,<sp/>32,<sp/>33,<sp/>40]</highlight></codeline>
<codeline lineno="2436"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>for<sp/>group<sp/>in<sp/>consecutive_groups(iterable):</highlight></codeline>
<codeline lineno="2437"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>print(list(group))</highlight></codeline>
<codeline lineno="2438"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1]</highlight></codeline>
<codeline lineno="2439"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[10,<sp/>11,<sp/>12]</highlight></codeline>
<codeline lineno="2440"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[20]</highlight></codeline>
<codeline lineno="2441"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[30,<sp/>31,<sp/>32,<sp/>33]</highlight></codeline>
<codeline lineno="2442"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[40]</highlight></codeline>
<codeline lineno="2443"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2444"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>finding<sp/>runs<sp/>of<sp/>adjacent<sp/>letters,<sp/>try<sp/>using<sp/>the<sp/>:meth:`index`<sp/>method</highlight></codeline>
<codeline lineno="2445"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>of<sp/>a<sp/>string<sp/>of<sp/>letters:</highlight></codeline>
<codeline lineno="2446"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2447"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>string<sp/>import<sp/>ascii_lowercase</highlight></codeline>
<codeline lineno="2448"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>&apos;abcdfgilmnop&apos;</highlight></codeline>
<codeline lineno="2449"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>ordering<sp/>=<sp/>ascii_lowercase.index</highlight></codeline>
<codeline lineno="2450"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>for<sp/>group<sp/>in<sp/>consecutive_groups(iterable,<sp/>ordering):</highlight></codeline>
<codeline lineno="2451"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>print(list(group))</highlight></codeline>
<codeline lineno="2452"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;a&apos;,<sp/>&apos;b&apos;,<sp/>&apos;c&apos;,<sp/>&apos;d&apos;]</highlight></codeline>
<codeline lineno="2453"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;f&apos;,<sp/>&apos;g&apos;]</highlight></codeline>
<codeline lineno="2454"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;i&apos;]</highlight></codeline>
<codeline lineno="2455"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;l&apos;,<sp/>&apos;m&apos;,<sp/>&apos;n&apos;,<sp/>&apos;o&apos;,<sp/>&apos;p&apos;]</highlight></codeline>
<codeline lineno="2456"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2457"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Each<sp/>group<sp/>of<sp/>consecutive<sp/>items<sp/>is<sp/>an<sp/>iterator<sp/>that<sp/>shares<sp/>it<sp/>source<sp/>with</highlight></codeline>
<codeline lineno="2458"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*iterable*.<sp/>When<sp/>an<sp/>an<sp/>output<sp/>group<sp/>is<sp/>advanced,<sp/>the<sp/>previous<sp/>group<sp/>is</highlight></codeline>
<codeline lineno="2459"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>no<sp/>longer<sp/>available<sp/>unless<sp/>its<sp/>elements<sp/>are<sp/>copied<sp/>(e.g.,<sp/>into<sp/>a<sp/>``list``).</highlight></codeline>
<codeline lineno="2460"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2461"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[1,<sp/>2,<sp/>11,<sp/>12,<sp/>21,<sp/>22]</highlight></codeline>
<codeline lineno="2462"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>saved_groups<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="2463"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>for<sp/>group<sp/>in<sp/>consecutive_groups(iterable):</highlight></codeline>
<codeline lineno="2464"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>saved_groups.append(list(group))<sp/><sp/>#<sp/>Copy<sp/>group<sp/>elements</highlight></codeline>
<codeline lineno="2465"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>saved_groups</highlight></codeline>
<codeline lineno="2466"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[1,<sp/>2],<sp/>[11,<sp/>12],<sp/>[21,<sp/>22]]</highlight></codeline>
<codeline lineno="2467"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2468"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k,<sp/>g<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>groupby(</highlight></codeline>
<codeline lineno="2470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>enumerate(iterable),<sp/>key=</highlight><highlight class="keyword">lambda</highlight><highlight class="normal"><sp/>x:<sp/>x[0]<sp/>-<sp/>ordering(x[1])</highlight></codeline>
<codeline lineno="2471"><highlight class="normal"><sp/><sp/><sp/><sp/>):</highlight></codeline>
<codeline lineno="2472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>map(itemgetter(1),<sp/>g)</highlight></codeline>
<codeline lineno="2473"><highlight class="normal"></highlight></codeline>
<codeline lineno="2474"><highlight class="normal"></highlight></codeline>
<codeline lineno="2475" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a7b5f9b6818c0059f2c7281b11e22d6ad" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a7b5f9b6818c0059f2c7281b11e22d6ad" kindref="member">difference</ref>(iterable,<sp/>func=sub,<sp/>*,<sp/>initial=None):</highlight></codeline>
<codeline lineno="2476"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;This<sp/>function<sp/>is<sp/>the<sp/>inverse<sp/>of<sp/>:func:`itertools.accumulate`.<sp/>By<sp/>default</highlight></codeline>
<codeline lineno="2477"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>it<sp/>will<sp/>compute<sp/>the<sp/>first<sp/>difference<sp/>of<sp/>*iterable*<sp/>using</highlight></codeline>
<codeline lineno="2478"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:func:`operator.sub`:</highlight></codeline>
<codeline lineno="2479"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2480"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>itertools<sp/>import<sp/>accumulate</highlight></codeline>
<codeline lineno="2481"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>accumulate([0,<sp/>1,<sp/>2,<sp/>3,<sp/>4])<sp/><sp/>#<sp/>produces<sp/>0,<sp/>1,<sp/>3,<sp/>6,<sp/>10</highlight></codeline>
<codeline lineno="2482"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(difference(iterable))</highlight></codeline>
<codeline lineno="2483"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[0,<sp/>1,<sp/>2,<sp/>3,<sp/>4]</highlight></codeline>
<codeline lineno="2484"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2485"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*func*<sp/>defaults<sp/>to<sp/>:func:`operator.sub`,<sp/>but<sp/>other<sp/>functions<sp/>can<sp/>be</highlight></codeline>
<codeline lineno="2486"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>specified.<sp/>They<sp/>will<sp/>be<sp/>applied<sp/>as<sp/>follows::</highlight></codeline>
<codeline lineno="2487"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2488"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A,<sp/>B,<sp/>C,<sp/>D,<sp/>...<sp/>--&gt;<sp/>A,<sp/>func(B,<sp/>A),<sp/>func(C,<sp/>B),<sp/>func(D,<sp/>C),<sp/>...</highlight></codeline>
<codeline lineno="2489"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2490"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>example,<sp/>to<sp/>do<sp/>progressive<sp/>division:</highlight></codeline>
<codeline lineno="2491"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2492"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[1,<sp/>2,<sp/>6,<sp/>24,<sp/>120]</highlight></codeline>
<codeline lineno="2493"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>func<sp/>=<sp/>lambda<sp/>x,<sp/>y:<sp/>x<sp/>//<sp/>y</highlight></codeline>
<codeline lineno="2494"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(difference(iterable,<sp/>func))</highlight></codeline>
<codeline lineno="2495"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>3,<sp/>4,<sp/>5]</highlight></codeline>
<codeline lineno="2496"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2497"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>*initial*<sp/>keyword<sp/>is<sp/>set,<sp/>the<sp/>first<sp/>element<sp/>will<sp/>be<sp/>skipped<sp/>when</highlight></codeline>
<codeline lineno="2498"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>computing<sp/>successive<sp/>differences.</highlight></codeline>
<codeline lineno="2499"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2500"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it<sp/>=<sp/>[10,<sp/>11,<sp/>13,<sp/>16]<sp/><sp/>#<sp/>from<sp/>accumulate([1,<sp/>2,<sp/>3],<sp/>initial=10)</highlight></codeline>
<codeline lineno="2501"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(difference(it,<sp/>initial=10))</highlight></codeline>
<codeline lineno="2502"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>3]</highlight></codeline>
<codeline lineno="2503"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2504"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2505"><highlight class="normal"><sp/><sp/><sp/><sp/>a,<sp/>b<sp/>=<sp/>tee(iterable)</highlight></codeline>
<codeline lineno="2506"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>first<sp/>=<sp/>[next(b)]</highlight></codeline>
<codeline lineno="2508"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopIteration:</highlight></codeline>
<codeline lineno="2509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iter([])</highlight></codeline>
<codeline lineno="2510"><highlight class="normal"></highlight></codeline>
<codeline lineno="2511"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>initial<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>first<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="2513"><highlight class="normal"></highlight></codeline>
<codeline lineno="2514"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>chain(first,<sp/>starmap(func,<sp/>zip(b,<sp/>a)))</highlight></codeline>
<codeline lineno="2515"><highlight class="normal"></highlight></codeline>
<codeline lineno="2516"><highlight class="normal"></highlight></codeline>
<codeline lineno="2517" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_sequence_view" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_sequence_view" kindref="compound">SequenceView</ref>(Sequence):</highlight></codeline>
<codeline lineno="2518"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>a<sp/>read-only<sp/>view<sp/>of<sp/>the<sp/>sequence<sp/>object<sp/>*target*.</highlight></codeline>
<codeline lineno="2519"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2520"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:class:`SequenceView`<sp/>objects<sp/>are<sp/>analogous<sp/>to<sp/>Python&apos;s<sp/>built-in</highlight></codeline>
<codeline lineno="2521"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;dictionary<sp/>view&quot;<sp/>types.<sp/>They<sp/>provide<sp/>a<sp/>dynamic<sp/>view<sp/>of<sp/>a<sp/>sequence&apos;s<sp/>items,</highlight></codeline>
<codeline lineno="2522"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>meaning<sp/>that<sp/>when<sp/>the<sp/>sequence<sp/>updates,<sp/>so<sp/>does<sp/>the<sp/>view.</highlight></codeline>
<codeline lineno="2523"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2524"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>seq<sp/>=<sp/>[&apos;0&apos;,<sp/>&apos;1&apos;,<sp/>&apos;2&apos;]</highlight></codeline>
<codeline lineno="2525"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>view<sp/>=<sp/>SequenceView(seq)</highlight></codeline>
<codeline lineno="2526"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>view</highlight></codeline>
<codeline lineno="2527"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SequenceView([&apos;0&apos;,<sp/>&apos;1&apos;,<sp/>&apos;2&apos;])</highlight></codeline>
<codeline lineno="2528"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>seq.append(&apos;3&apos;)</highlight></codeline>
<codeline lineno="2529"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>view</highlight></codeline>
<codeline lineno="2530"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SequenceView([&apos;0&apos;,<sp/>&apos;1&apos;,<sp/>&apos;2&apos;,<sp/>&apos;3&apos;])</highlight></codeline>
<codeline lineno="2531"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2532"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Sequence<sp/>views<sp/>support<sp/>indexing,<sp/>slicing,<sp/>and<sp/>length<sp/>queries.<sp/>They<sp/>act</highlight></codeline>
<codeline lineno="2533"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>like<sp/>the<sp/>underlying<sp/>sequence,<sp/>except<sp/>they<sp/>don&apos;t<sp/>allow<sp/>assignment:</highlight></codeline>
<codeline lineno="2534"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2535"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>view[1]</highlight></codeline>
<codeline lineno="2536"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;1&apos;</highlight></codeline>
<codeline lineno="2537"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>view[1:-1]</highlight></codeline>
<codeline lineno="2538"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;1&apos;,<sp/>&apos;2&apos;]</highlight></codeline>
<codeline lineno="2539"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>len(view)</highlight></codeline>
<codeline lineno="2540"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>4</highlight></codeline>
<codeline lineno="2541"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2542"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Sequence<sp/>views<sp/>are<sp/>useful<sp/>as<sp/>an<sp/>alternative<sp/>to<sp/>copying,<sp/>as<sp/>they<sp/>don&apos;t</highlight></codeline>
<codeline lineno="2543"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>require<sp/>(much)<sp/>extra<sp/>storage.</highlight></codeline>
<codeline lineno="2544"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2545"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2546"><highlight class="normal"></highlight></codeline>
<codeline lineno="2547"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>target):</highlight></codeline>
<codeline lineno="2548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(target,<sp/>Sequence):</highlight></codeline>
<codeline lineno="2549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>TypeError</highlight></codeline>
<codeline lineno="2550" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_sequence_view_1a42f40c190b62556a1cafc11785fdd875" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_sequence_view_1a42f40c190b62556a1cafc11785fdd875" kindref="member">_target</ref><sp/>=<sp/>target</highlight></codeline>
<codeline lineno="2551"><highlight class="normal"></highlight></codeline>
<codeline lineno="2552"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__getitem__(self,<sp/>index):</highlight></codeline>
<codeline lineno="2553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_sequence_view_1a42f40c190b62556a1cafc11785fdd875" kindref="member">_target</ref>[index]</highlight></codeline>
<codeline lineno="2554"><highlight class="normal"></highlight></codeline>
<codeline lineno="2555"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__len__(self):</highlight></codeline>
<codeline lineno="2556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>len(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_sequence_view_1a42f40c190b62556a1cafc11785fdd875" kindref="member">_target</ref>)</highlight></codeline>
<codeline lineno="2557"><highlight class="normal"></highlight></codeline>
<codeline lineno="2558"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__repr__(self):</highlight></codeline>
<codeline lineno="2559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;{}({})&apos;</highlight><highlight class="normal">.format(self.__class__.__name__,<sp/>repr(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_sequence_view_1a42f40c190b62556a1cafc11785fdd875" kindref="member">_target</ref>))</highlight></codeline>
<codeline lineno="2560"><highlight class="normal"></highlight></codeline>
<codeline lineno="2561"><highlight class="normal"></highlight></codeline>
<codeline lineno="2562" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable" kindref="compound">seekable</ref>:</highlight></codeline>
<codeline lineno="2563"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Wrap<sp/>an<sp/>iterator<sp/>to<sp/>allow<sp/>for<sp/>seeking<sp/>backward<sp/>and<sp/>forward.<sp/>This</highlight></codeline>
<codeline lineno="2564"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>progressively<sp/>caches<sp/>the<sp/>items<sp/>in<sp/>the<sp/>source<sp/>iterable<sp/>so<sp/>they<sp/>can<sp/>be</highlight></codeline>
<codeline lineno="2565"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>re-visited.</highlight></codeline>
<codeline lineno="2566"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2567"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Call<sp/>:meth:`seek`<sp/>with<sp/>an<sp/>index<sp/>to<sp/>seek<sp/>to<sp/>that<sp/>position<sp/>in<sp/>the<sp/>source</highlight></codeline>
<codeline lineno="2568"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>iterable.</highlight></codeline>
<codeline lineno="2569"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2570"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>To<sp/>&quot;reset&quot;<sp/>an<sp/>iterator,<sp/>seek<sp/>to<sp/>``0``:</highlight></codeline>
<codeline lineno="2571"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2572"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>itertools<sp/>import<sp/>count</highlight></codeline>
<codeline lineno="2573"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it<sp/>=<sp/>seekable((str(n)<sp/>for<sp/>n<sp/>in<sp/>count()))</highlight></codeline>
<codeline lineno="2574"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(it),<sp/>next(it),<sp/>next(it)</highlight></codeline>
<codeline lineno="2575"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(&apos;0&apos;,<sp/>&apos;1&apos;,<sp/>&apos;2&apos;)</highlight></codeline>
<codeline lineno="2576"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it.seek(0)</highlight></codeline>
<codeline lineno="2577"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(it),<sp/>next(it),<sp/>next(it)</highlight></codeline>
<codeline lineno="2578"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(&apos;0&apos;,<sp/>&apos;1&apos;,<sp/>&apos;2&apos;)</highlight></codeline>
<codeline lineno="2579"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(it)</highlight></codeline>
<codeline lineno="2580"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;3&apos;</highlight></codeline>
<codeline lineno="2581"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2582"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>You<sp/>can<sp/>also<sp/>seek<sp/>forward:</highlight></codeline>
<codeline lineno="2583"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2584"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it<sp/>=<sp/>seekable((str(n)<sp/>for<sp/>n<sp/>in<sp/>range(20)))</highlight></codeline>
<codeline lineno="2585"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it.seek(10)</highlight></codeline>
<codeline lineno="2586"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(it)</highlight></codeline>
<codeline lineno="2587"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;10&apos;</highlight></codeline>
<codeline lineno="2588"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it.seek(20)<sp/><sp/>#<sp/>Seeking<sp/>past<sp/>the<sp/>end<sp/>of<sp/>the<sp/>source<sp/>isn&apos;t<sp/>a<sp/>problem</highlight></codeline>
<codeline lineno="2589"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(it)</highlight></codeline>
<codeline lineno="2590"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[]</highlight></codeline>
<codeline lineno="2591"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it.seek(0)<sp/><sp/>#<sp/>Resetting<sp/>works<sp/>even<sp/>after<sp/>hitting<sp/>the<sp/>end</highlight></codeline>
<codeline lineno="2592"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(it),<sp/>next(it),<sp/>next(it)</highlight></codeline>
<codeline lineno="2593"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(&apos;0&apos;,<sp/>&apos;1&apos;,<sp/>&apos;2&apos;)</highlight></codeline>
<codeline lineno="2594"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2595"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Call<sp/>:meth:`peek`<sp/>to<sp/>look<sp/>ahead<sp/>one<sp/>item<sp/>without<sp/>advancing<sp/>the<sp/>iterator:</highlight></codeline>
<codeline lineno="2596"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2597"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it<sp/>=<sp/>seekable(&apos;1234&apos;)</highlight></codeline>
<codeline lineno="2598"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it.peek()</highlight></codeline>
<codeline lineno="2599"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;1&apos;</highlight></codeline>
<codeline lineno="2600"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(it)</highlight></codeline>
<codeline lineno="2601"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;1&apos;,<sp/>&apos;2&apos;,<sp/>&apos;3&apos;,<sp/>&apos;4&apos;]</highlight></codeline>
<codeline lineno="2602"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it.peek(default=&apos;empty&apos;)</highlight></codeline>
<codeline lineno="2603"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;empty&apos;</highlight></codeline>
<codeline lineno="2604"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2605"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Before<sp/>the<sp/>iterator<sp/>is<sp/>at<sp/>its<sp/>end,<sp/>calling<sp/>:func:`bool`<sp/>on<sp/>it<sp/>will<sp/>return</highlight></codeline>
<codeline lineno="2606"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``True``.<sp/>After<sp/>it<sp/>will<sp/>return<sp/>``False``:</highlight></codeline>
<codeline lineno="2607"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2608"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it<sp/>=<sp/>seekable(&apos;5678&apos;)</highlight></codeline>
<codeline lineno="2609"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>bool(it)</highlight></codeline>
<codeline lineno="2610"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>True</highlight></codeline>
<codeline lineno="2611"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(it)</highlight></codeline>
<codeline lineno="2612"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;5&apos;,<sp/>&apos;6&apos;,<sp/>&apos;7&apos;,<sp/>&apos;8&apos;]</highlight></codeline>
<codeline lineno="2613"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>bool(it)</highlight></codeline>
<codeline lineno="2614"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>False</highlight></codeline>
<codeline lineno="2615"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2616"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>You<sp/>may<sp/>view<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>cache<sp/>with<sp/>the<sp/>:meth:`elements`<sp/>method.</highlight></codeline>
<codeline lineno="2617"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>That<sp/>returns<sp/>a<sp/>:class:`SequenceView`,<sp/>a<sp/>view<sp/>that<sp/>updates<sp/>automatically:</highlight></codeline>
<codeline lineno="2618"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2619"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it<sp/>=<sp/>seekable((str(n)<sp/>for<sp/>n<sp/>in<sp/>range(10)))</highlight></codeline>
<codeline lineno="2620"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(it),<sp/>next(it),<sp/>next(it)</highlight></codeline>
<codeline lineno="2621"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(&apos;0&apos;,<sp/>&apos;1&apos;,<sp/>&apos;2&apos;)</highlight></codeline>
<codeline lineno="2622"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>elements<sp/>=<sp/>it.elements()</highlight></codeline>
<codeline lineno="2623"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>elements</highlight></codeline>
<codeline lineno="2624"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SequenceView([&apos;0&apos;,<sp/>&apos;1&apos;,<sp/>&apos;2&apos;])</highlight></codeline>
<codeline lineno="2625"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(it)</highlight></codeline>
<codeline lineno="2626"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;3&apos;</highlight></codeline>
<codeline lineno="2627"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>elements</highlight></codeline>
<codeline lineno="2628"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SequenceView([&apos;0&apos;,<sp/>&apos;1&apos;,<sp/>&apos;2&apos;,<sp/>&apos;3&apos;])</highlight></codeline>
<codeline lineno="2629"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2630"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>By<sp/>default,<sp/>the<sp/>cache<sp/>grows<sp/>as<sp/>the<sp/>source<sp/>iterable<sp/>progresses,<sp/>so<sp/>beware<sp/>of</highlight></codeline>
<codeline lineno="2631"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>wrapping<sp/>very<sp/>large<sp/>or<sp/>infinite<sp/>iterables.<sp/>Supply<sp/>*maxlen*<sp/>to<sp/>limit<sp/>the</highlight></codeline>
<codeline lineno="2632"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>size<sp/>of<sp/>the<sp/>cache<sp/>(this<sp/>of<sp/>course<sp/>limits<sp/>how<sp/>far<sp/>back<sp/>you<sp/>can<sp/>seek).</highlight></codeline>
<codeline lineno="2633"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2634"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>itertools<sp/>import<sp/>count</highlight></codeline>
<codeline lineno="2635"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it<sp/>=<sp/>seekable((str(n)<sp/>for<sp/>n<sp/>in<sp/>count()),<sp/>maxlen=2)</highlight></codeline>
<codeline lineno="2636"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(it),<sp/>next(it),<sp/>next(it),<sp/>next(it)</highlight></codeline>
<codeline lineno="2637"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(&apos;0&apos;,<sp/>&apos;1&apos;,<sp/>&apos;2&apos;,<sp/>&apos;3&apos;)</highlight></codeline>
<codeline lineno="2638"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(it.elements())</highlight></codeline>
<codeline lineno="2639"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;2&apos;,<sp/>&apos;3&apos;]</highlight></codeline>
<codeline lineno="2640"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it.seek(0)</highlight></codeline>
<codeline lineno="2641"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(it),<sp/>next(it),<sp/>next(it),<sp/>next(it)</highlight></codeline>
<codeline lineno="2642"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(&apos;2&apos;,<sp/>&apos;3&apos;,<sp/>&apos;4&apos;,<sp/>&apos;5&apos;)</highlight></codeline>
<codeline lineno="2643"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(it)</highlight></codeline>
<codeline lineno="2644"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;6&apos;</highlight></codeline>
<codeline lineno="2645"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2646"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2647"><highlight class="normal"></highlight></codeline>
<codeline lineno="2648"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>iterable,<sp/>maxlen=None):</highlight></codeline>
<codeline lineno="2649" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a01533de395633e3adaa813d6f75a78e6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a01533de395633e3adaa813d6f75a78e6" kindref="member">_source</ref><sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="2650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>maxlen<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2651" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a9375d48f74c84b11d85346f7a937ef0c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a9375d48f74c84b11d85346f7a937ef0c" kindref="member">_cache</ref><sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="2652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a9375d48f74c84b11d85346f7a937ef0c" kindref="member">_cache</ref><sp/>=<sp/>deque([],<sp/>maxlen)</highlight></codeline>
<codeline lineno="2654" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1ae5ae0c37b1bede87e28606c9b0c9ca55" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1ae5ae0c37b1bede87e28606c9b0c9ca55" kindref="member">_index</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2655"><highlight class="normal"></highlight></codeline>
<codeline lineno="2656"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__iter__(self):</highlight></codeline>
<codeline lineno="2657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="2658"><highlight class="normal"></highlight></codeline>
<codeline lineno="2659"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__next__(self):</highlight></codeline>
<codeline lineno="2660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1ae5ae0c37b1bede87e28606c9b0c9ca55" kindref="member">_index</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>item<sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a9375d48f74c84b11d85346f7a937ef0c" kindref="member">_cache</ref>[self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1ae5ae0c37b1bede87e28606c9b0c9ca55" kindref="member">_index</ref>]</highlight></codeline>
<codeline lineno="2663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>IndexError:</highlight></codeline>
<codeline lineno="2664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1ae5ae0c37b1bede87e28606c9b0c9ca55" kindref="member">_index</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1ae5ae0c37b1bede87e28606c9b0c9ca55" kindref="member">_index</ref><sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="2667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>item</highlight></codeline>
<codeline lineno="2668"><highlight class="normal"></highlight></codeline>
<codeline lineno="2669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>item<sp/>=<sp/>next(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a01533de395633e3adaa813d6f75a78e6" kindref="member">_source</ref>)</highlight></codeline>
<codeline lineno="2670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a9375d48f74c84b11d85346f7a937ef0c" kindref="member">_cache</ref>.append(item)</highlight></codeline>
<codeline lineno="2671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>item</highlight></codeline>
<codeline lineno="2672"><highlight class="normal"></highlight></codeline>
<codeline lineno="2673"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__bool__(self):</highlight></codeline>
<codeline lineno="2674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a37bc3c00b47dd355aa632c891e6482e2" kindref="member">peek</ref>()</highlight></codeline>
<codeline lineno="2676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopIteration:</highlight></codeline>
<codeline lineno="2677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2679"><highlight class="normal"></highlight></codeline>
<codeline lineno="2680" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a37bc3c00b47dd355aa632c891e6482e2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a37bc3c00b47dd355aa632c891e6482e2" kindref="member">peek</ref>(self,<sp/>default=_marker):</highlight></codeline>
<codeline lineno="2681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>peeked<sp/>=<sp/>next(self)</highlight></codeline>
<codeline lineno="2683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopIteration:</highlight></codeline>
<codeline lineno="2684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>default<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>_marker:</highlight></codeline>
<codeline lineno="2685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>default</highlight></codeline>
<codeline lineno="2687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1ae5ae0c37b1bede87e28606c9b0c9ca55" kindref="member">_index</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1ae5ae0c37b1bede87e28606c9b0c9ca55" kindref="member">_index</ref><sp/>=<sp/>len(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a9375d48f74c84b11d85346f7a937ef0c" kindref="member">_cache</ref>)</highlight></codeline>
<codeline lineno="2689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1ae5ae0c37b1bede87e28606c9b0c9ca55" kindref="member">_index</ref><sp/>-=<sp/>1</highlight></codeline>
<codeline lineno="2690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>peeked</highlight></codeline>
<codeline lineno="2691"><highlight class="normal"></highlight></codeline>
<codeline lineno="2692" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a7471b42576857743e1cca7d08f09d31e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a7471b42576857743e1cca7d08f09d31e" kindref="member">elements</ref>(self):</highlight></codeline>
<codeline lineno="2693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_sequence_view" kindref="compound">SequenceView</ref>(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a9375d48f74c84b11d85346f7a937ef0c" kindref="member">_cache</ref>)</highlight></codeline>
<codeline lineno="2694"><highlight class="normal"></highlight></codeline>
<codeline lineno="2695" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a0b97c973a001206b613aceec779eae34" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a0b97c973a001206b613aceec779eae34" kindref="member">seek</ref>(self,<sp/>index):</highlight></codeline>
<codeline lineno="2696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1ae5ae0c37b1bede87e28606c9b0c9ca55" kindref="member">_index</ref><sp/>=<sp/>index</highlight></codeline>
<codeline lineno="2697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>remainder<sp/>=<sp/>index<sp/>-<sp/>len(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1seekable_1a9375d48f74c84b11d85346f7a937ef0c" kindref="member">_cache</ref>)</highlight></codeline>
<codeline lineno="2698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>remainder<sp/>&gt;<sp/>0:</highlight></codeline>
<codeline lineno="2699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1recipes_1a06f3a800031fcc80c345df0826ec28f6" kindref="member">consume</ref>(self,<sp/>remainder)</highlight></codeline>
<codeline lineno="2700"><highlight class="normal"></highlight></codeline>
<codeline lineno="2701"><highlight class="normal"></highlight></codeline>
<codeline lineno="2702" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1run__length" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1run__length" kindref="compound">run_length</ref>:</highlight></codeline>
<codeline lineno="2703"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2704"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:func:`run_length.encode`<sp/>compresses<sp/>an<sp/>iterable<sp/>with<sp/>run-length<sp/>encoding.</highlight></codeline>
<codeline lineno="2705"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>It<sp/>yields<sp/>groups<sp/>of<sp/>repeated<sp/>items<sp/>with<sp/>the<sp/>count<sp/>of<sp/>how<sp/>many<sp/>times<sp/>they</highlight></codeline>
<codeline lineno="2706"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>were<sp/>repeated:</highlight></codeline>
<codeline lineno="2707"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2708"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>uncompressed<sp/>=<sp/>&apos;abbcccdddd&apos;</highlight></codeline>
<codeline lineno="2709"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(run_length.encode(uncompressed))</highlight></codeline>
<codeline lineno="2710"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(&apos;a&apos;,<sp/>1),<sp/>(&apos;b&apos;,<sp/>2),<sp/>(&apos;c&apos;,<sp/>3),<sp/>(&apos;d&apos;,<sp/>4)]</highlight></codeline>
<codeline lineno="2711"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2712"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:func:`run_length.decode`<sp/>decompresses<sp/>an<sp/>iterable<sp/>that<sp/>was<sp/>previously</highlight></codeline>
<codeline lineno="2713"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>compressed<sp/>with<sp/>run-length<sp/>encoding.<sp/>It<sp/>yields<sp/>the<sp/>items<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="2714"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>decompressed<sp/>iterable:</highlight></codeline>
<codeline lineno="2715"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2716"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>compressed<sp/>=<sp/>[(&apos;a&apos;,<sp/>1),<sp/>(&apos;b&apos;,<sp/>2),<sp/>(&apos;c&apos;,<sp/>3),<sp/>(&apos;d&apos;,<sp/>4)]</highlight></codeline>
<codeline lineno="2717"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(run_length.decode(compressed))</highlight></codeline>
<codeline lineno="2718"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;a&apos;,<sp/>&apos;b&apos;,<sp/>&apos;b&apos;,<sp/>&apos;c&apos;,<sp/>&apos;c&apos;,<sp/>&apos;c&apos;,<sp/>&apos;d&apos;,<sp/>&apos;d&apos;,<sp/>&apos;d&apos;,<sp/>&apos;d&apos;]</highlight></codeline>
<codeline lineno="2719"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2720"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2721"><highlight class="normal"></highlight></codeline>
<codeline lineno="2722"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2723" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1run__length_1ad58076551271fa2a775b12129df70509" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1run__length_1ad58076551271fa2a775b12129df70509" kindref="member">encode</ref>(iterable):</highlight></codeline>
<codeline lineno="2724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>((k,<sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a64c69fff987516a452aa90c06d24885e" kindref="member">ilen</ref>(g))<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k,<sp/>g<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>groupby(iterable))</highlight></codeline>
<codeline lineno="2725"><highlight class="normal"></highlight></codeline>
<codeline lineno="2726"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2727" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1run__length_1aad066151679b7bb7954a8254eff4a29c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1run__length_1aad066151679b7bb7954a8254eff4a29c" kindref="member">decode</ref>(iterable):</highlight></codeline>
<codeline lineno="2728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>chain.from_iterable(repeat(k,<sp/>n)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k,<sp/>n<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>iterable)</highlight></codeline>
<codeline lineno="2729"><highlight class="normal"></highlight></codeline>
<codeline lineno="2730"><highlight class="normal"></highlight></codeline>
<codeline lineno="2731" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a9d9a2af8ed9c6a97fc0d47f59ab8dd52" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a9d9a2af8ed9c6a97fc0d47f59ab8dd52" kindref="member">exactly_n</ref>(iterable,<sp/>n,<sp/>predicate=bool):</highlight></codeline>
<codeline lineno="2732"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>``True``<sp/>if<sp/>exactly<sp/>``n``<sp/>items<sp/>in<sp/>the<sp/>iterable<sp/>are<sp/>``True``</highlight></codeline>
<codeline lineno="2733"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>according<sp/>to<sp/>the<sp/>*predicate*<sp/>function.</highlight></codeline>
<codeline lineno="2734"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2735"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>exactly_n([True,<sp/>True,<sp/>False],<sp/>2)</highlight></codeline>
<codeline lineno="2736"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>True</highlight></codeline>
<codeline lineno="2737"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>exactly_n([True,<sp/>True,<sp/>False],<sp/>1)</highlight></codeline>
<codeline lineno="2738"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>False</highlight></codeline>
<codeline lineno="2739"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>exactly_n([0,<sp/>1,<sp/>2,<sp/>3,<sp/>4,<sp/>5],<sp/>3,<sp/>lambda<sp/>x:<sp/>x<sp/>&lt;<sp/>3)</highlight></codeline>
<codeline lineno="2740"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>True</highlight></codeline>
<codeline lineno="2741"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2742"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>iterable<sp/>will<sp/>be<sp/>advanced<sp/>until<sp/>``n<sp/>+<sp/>1``<sp/>truthy<sp/>items<sp/>are<sp/>encountered,</highlight></codeline>
<codeline lineno="2743"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>so<sp/>avoid<sp/>calling<sp/>it<sp/>on<sp/>infinite<sp/>iterables.</highlight></codeline>
<codeline lineno="2744"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2745"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2746"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>len(<ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1recipes_1ada7fe6e78b23058991218c632fff4cf5" kindref="member">take</ref>(n<sp/>+<sp/>1,<sp/>filter(predicate,<sp/>iterable)))<sp/>==<sp/>n</highlight></codeline>
<codeline lineno="2747"><highlight class="normal"></highlight></codeline>
<codeline lineno="2748"><highlight class="normal"></highlight></codeline>
<codeline lineno="2749" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1affed850f38028aaebb5989efe884862a" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1affed850f38028aaebb5989efe884862a" kindref="member">circular_shifts</ref>(iterable):</highlight></codeline>
<codeline lineno="2750"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>a<sp/>list<sp/>of<sp/>circular<sp/>shifts<sp/>of<sp/>*iterable*.</highlight></codeline>
<codeline lineno="2751"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2752"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>circular_shifts(range(4))</highlight></codeline>
<codeline lineno="2753"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[(0,<sp/>1,<sp/>2,<sp/>3),<sp/>(1,<sp/>2,<sp/>3,<sp/>0),<sp/>(2,<sp/>3,<sp/>0,<sp/>1),<sp/>(3,<sp/>0,<sp/>1,<sp/>2)]</highlight></codeline>
<codeline lineno="2754"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2755"><highlight class="normal"><sp/><sp/><sp/><sp/>lst<sp/>=<sp/>list(iterable)</highlight></codeline>
<codeline lineno="2756"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1recipes_1ada7fe6e78b23058991218c632fff4cf5" kindref="member">take</ref>(len(lst),<sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a6a25a63106c08986d199ddbd78d46277" kindref="member">windowed</ref>(cycle(lst),<sp/>len(lst)))</highlight></codeline>
<codeline lineno="2757"><highlight class="normal"></highlight></codeline>
<codeline lineno="2758"><highlight class="normal"></highlight></codeline>
<codeline lineno="2759" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a21e8616c9a2d21c6b3b81e351225bf60" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a21e8616c9a2d21c6b3b81e351225bf60" kindref="member">make_decorator</ref>(wrapping_func,<sp/>result_index=0):</highlight></codeline>
<codeline lineno="2760"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>a<sp/>decorator<sp/>version<sp/>of<sp/>*wrapping_func*,<sp/>which<sp/>is<sp/>a<sp/>function<sp/>that</highlight></codeline>
<codeline lineno="2761"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>modifies<sp/>an<sp/>iterable.<sp/>*result_index*<sp/>is<sp/>the<sp/>position<sp/>in<sp/>that<sp/>function&apos;s</highlight></codeline>
<codeline lineno="2762"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>signature<sp/>where<sp/>the<sp/>iterable<sp/>goes.</highlight></codeline>
<codeline lineno="2763"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2764"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>lets<sp/>you<sp/>use<sp/>itertools<sp/>on<sp/>the<sp/>&quot;production<sp/>end,&quot;<sp/>i.e.<sp/>at<sp/>function</highlight></codeline>
<codeline lineno="2765"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>definition.<sp/>This<sp/>can<sp/>augment<sp/>what<sp/>the<sp/>function<sp/>returns<sp/>without<sp/>changing<sp/>the</highlight></codeline>
<codeline lineno="2766"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>function&apos;s<sp/>code.</highlight></codeline>
<codeline lineno="2767"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2768"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>example,<sp/>to<sp/>produce<sp/>a<sp/>decorator<sp/>version<sp/>of<sp/>:func:`chunked`:</highlight></codeline>
<codeline lineno="2769"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2770"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>more_itertools<sp/>import<sp/>chunked</highlight></codeline>
<codeline lineno="2771"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>chunker<sp/>=<sp/>make_decorator(chunked,<sp/>result_index=0)</highlight></codeline>
<codeline lineno="2772"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>@chunker(3)</highlight></codeline>
<codeline lineno="2773"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/>def<sp/>iter_range(n):</highlight></codeline>
<codeline lineno="2774"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>return<sp/>iter(range(n))</highlight></codeline>
<codeline lineno="2775"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="2776"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(iter_range(9))</highlight></codeline>
<codeline lineno="2777"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[0,<sp/>1,<sp/>2],<sp/>[3,<sp/>4,<sp/>5],<sp/>[6,<sp/>7,<sp/>8]]</highlight></codeline>
<codeline lineno="2778"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2779"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>To<sp/>only<sp/>allow<sp/>truthy<sp/>items<sp/>to<sp/>be<sp/>returned:</highlight></codeline>
<codeline lineno="2780"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2781"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>truth_serum<sp/>=<sp/>make_decorator(filter,<sp/>result_index=1)</highlight></codeline>
<codeline lineno="2782"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>@truth_serum(bool)</highlight></codeline>
<codeline lineno="2783"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/>def<sp/>boolean_test():</highlight></codeline>
<codeline lineno="2784"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>return<sp/>[0,<sp/>1,<sp/>&apos;&apos;,<sp/>&apos;<sp/>&apos;,<sp/>False,<sp/>True]</highlight></codeline>
<codeline lineno="2785"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="2786"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(boolean_test())</highlight></codeline>
<codeline lineno="2787"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>&apos;<sp/>&apos;,<sp/>True]</highlight></codeline>
<codeline lineno="2788"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2789"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>:func:`peekable`<sp/>and<sp/>:func:`seekable`<sp/>wrappers<sp/>make<sp/>for<sp/>practical</highlight></codeline>
<codeline lineno="2790"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>decorators:</highlight></codeline>
<codeline lineno="2791"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2792"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>more_itertools<sp/>import<sp/>peekable</highlight></codeline>
<codeline lineno="2793"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>peekable_function<sp/>=<sp/>make_decorator(peekable)</highlight></codeline>
<codeline lineno="2794"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>@peekable_function()</highlight></codeline>
<codeline lineno="2795"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/>def<sp/>str_range(*args):</highlight></codeline>
<codeline lineno="2796"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>return<sp/>(str(x)<sp/>for<sp/>x<sp/>in<sp/>range(*args))</highlight></codeline>
<codeline lineno="2797"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="2798"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it<sp/>=<sp/>str_range(1,<sp/>20,<sp/>2)</highlight></codeline>
<codeline lineno="2799"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(it),<sp/>next(it),<sp/>next(it)</highlight></codeline>
<codeline lineno="2800"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(&apos;1&apos;,<sp/>&apos;3&apos;,<sp/>&apos;5&apos;)</highlight></codeline>
<codeline lineno="2801"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it.peek()</highlight></codeline>
<codeline lineno="2802"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;7&apos;</highlight></codeline>
<codeline lineno="2803"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(it)</highlight></codeline>
<codeline lineno="2804"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;7&apos;</highlight></codeline>
<codeline lineno="2805"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2806"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2807"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>See<sp/>https://sites.google.com/site/bbayles/index/decorator_factory<sp/>for</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2808"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>notes<sp/>on<sp/>how<sp/>this<sp/>works.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2809"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">decorator(*wrapping_args,<sp/>**wrapping_kwargs):</highlight></codeline>
<codeline lineno="2810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">outer_wrapper(f):</highlight></codeline>
<codeline lineno="2811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">inner_wrapper(*args,<sp/>**kwargs):</highlight></codeline>
<codeline lineno="2812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>f(*args,<sp/>**kwargs)</highlight></codeline>
<codeline lineno="2813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapping_args_<sp/>=<sp/>list(wrapping_args)</highlight></codeline>
<codeline lineno="2814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapping_args_.insert(result_index,<sp/>result)</highlight></codeline>
<codeline lineno="2815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>wrapping_func(*wrapping_args_,<sp/>**wrapping_kwargs)</highlight></codeline>
<codeline lineno="2816"><highlight class="normal"></highlight></codeline>
<codeline lineno="2817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>inner_wrapper</highlight></codeline>
<codeline lineno="2818"><highlight class="normal"></highlight></codeline>
<codeline lineno="2819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>outer_wrapper</highlight></codeline>
<codeline lineno="2820"><highlight class="normal"></highlight></codeline>
<codeline lineno="2821"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>decorator</highlight></codeline>
<codeline lineno="2822"><highlight class="normal"></highlight></codeline>
<codeline lineno="2823"><highlight class="normal"></highlight></codeline>
<codeline lineno="2824" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a45c533b865a3514e16c54991daba7af2" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a45c533b865a3514e16c54991daba7af2" kindref="member">map_reduce</ref>(iterable,<sp/>keyfunc,<sp/>valuefunc=None,<sp/>reducefunc=None):</highlight></codeline>
<codeline lineno="2825"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>a<sp/>dictionary<sp/>that<sp/>maps<sp/>the<sp/>items<sp/>in<sp/>*iterable*<sp/>to<sp/>categories</highlight></codeline>
<codeline lineno="2826"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>defined<sp/>by<sp/>*keyfunc*,<sp/>transforms<sp/>them<sp/>with<sp/>*valuefunc*,<sp/>and</highlight></codeline>
<codeline lineno="2827"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>then<sp/>summarizes<sp/>them<sp/>by<sp/>category<sp/>with<sp/>*reducefunc*.</highlight></codeline>
<codeline lineno="2828"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2829"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*valuefunc*<sp/>defaults<sp/>to<sp/>the<sp/>identity<sp/>function<sp/>if<sp/>it<sp/>is<sp/>unspecified.</highlight></codeline>
<codeline lineno="2830"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*reducefunc*<sp/>is<sp/>unspecified,<sp/>no<sp/>summarization<sp/>takes<sp/>place:</highlight></codeline>
<codeline lineno="2831"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2832"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>keyfunc<sp/>=<sp/>lambda<sp/>x:<sp/>x.upper()</highlight></codeline>
<codeline lineno="2833"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>result<sp/>=<sp/>map_reduce(&apos;abbccc&apos;,<sp/>keyfunc)</highlight></codeline>
<codeline lineno="2834"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>sorted(result.items())</highlight></codeline>
<codeline lineno="2835"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(&apos;A&apos;,<sp/>[&apos;a&apos;]),<sp/>(&apos;B&apos;,<sp/>[&apos;b&apos;,<sp/>&apos;b&apos;]),<sp/>(&apos;C&apos;,<sp/>[&apos;c&apos;,<sp/>&apos;c&apos;,<sp/>&apos;c&apos;])]</highlight></codeline>
<codeline lineno="2836"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2837"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Specifying<sp/>*valuefunc*<sp/>transforms<sp/>the<sp/>categorized<sp/>items:</highlight></codeline>
<codeline lineno="2838"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2839"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>keyfunc<sp/>=<sp/>lambda<sp/>x:<sp/>x.upper()</highlight></codeline>
<codeline lineno="2840"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>valuefunc<sp/>=<sp/>lambda<sp/>x:<sp/>1</highlight></codeline>
<codeline lineno="2841"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>result<sp/>=<sp/>map_reduce(&apos;abbccc&apos;,<sp/>keyfunc,<sp/>valuefunc)</highlight></codeline>
<codeline lineno="2842"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>sorted(result.items())</highlight></codeline>
<codeline lineno="2843"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(&apos;A&apos;,<sp/>[1]),<sp/>(&apos;B&apos;,<sp/>[1,<sp/>1]),<sp/>(&apos;C&apos;,<sp/>[1,<sp/>1,<sp/>1])]</highlight></codeline>
<codeline lineno="2844"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2845"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Specifying<sp/>*reducefunc*<sp/>summarizes<sp/>the<sp/>categorized<sp/>items:</highlight></codeline>
<codeline lineno="2846"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2847"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>keyfunc<sp/>=<sp/>lambda<sp/>x:<sp/>x.upper()</highlight></codeline>
<codeline lineno="2848"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>valuefunc<sp/>=<sp/>lambda<sp/>x:<sp/>1</highlight></codeline>
<codeline lineno="2849"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>reducefunc<sp/>=<sp/>sum</highlight></codeline>
<codeline lineno="2850"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>result<sp/>=<sp/>map_reduce(&apos;abbccc&apos;,<sp/>keyfunc,<sp/>valuefunc,<sp/>reducefunc)</highlight></codeline>
<codeline lineno="2851"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>sorted(result.items())</highlight></codeline>
<codeline lineno="2852"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(&apos;A&apos;,<sp/>1),<sp/>(&apos;B&apos;,<sp/>2),<sp/>(&apos;C&apos;,<sp/>3)]</highlight></codeline>
<codeline lineno="2853"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2854"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>You<sp/>may<sp/>want<sp/>to<sp/>filter<sp/>the<sp/>input<sp/>iterable<sp/>before<sp/>applying<sp/>the<sp/>map/reduce</highlight></codeline>
<codeline lineno="2855"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>procedure:</highlight></codeline>
<codeline lineno="2856"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2857"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>all_items<sp/>=<sp/>range(30)</highlight></codeline>
<codeline lineno="2858"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>items<sp/>=<sp/>[x<sp/>for<sp/>x<sp/>in<sp/>all_items<sp/>if<sp/>10<sp/>&lt;=<sp/>x<sp/>&lt;=<sp/>20]<sp/><sp/>#<sp/>Filter</highlight></codeline>
<codeline lineno="2859"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>keyfunc<sp/>=<sp/>lambda<sp/>x:<sp/>x<sp/>%<sp/>2<sp/><sp/>#<sp/>Evens<sp/>map<sp/>to<sp/>0;<sp/>odds<sp/>to<sp/>1</highlight></codeline>
<codeline lineno="2860"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>categories<sp/>=<sp/>map_reduce(items,<sp/>keyfunc=keyfunc)</highlight></codeline>
<codeline lineno="2861"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>sorted(categories.items())</highlight></codeline>
<codeline lineno="2862"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(0,<sp/>[10,<sp/>12,<sp/>14,<sp/>16,<sp/>18,<sp/>20]),<sp/>(1,<sp/>[11,<sp/>13,<sp/>15,<sp/>17,<sp/>19])]</highlight></codeline>
<codeline lineno="2863"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>summaries<sp/>=<sp/>map_reduce(items,<sp/>keyfunc=keyfunc,<sp/>reducefunc=sum)</highlight></codeline>
<codeline lineno="2864"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>sorted(summaries.items())</highlight></codeline>
<codeline lineno="2865"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(0,<sp/>90),<sp/>(1,<sp/>75)]</highlight></codeline>
<codeline lineno="2866"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2867"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Note<sp/>that<sp/>all<sp/>items<sp/>in<sp/>the<sp/>iterable<sp/>are<sp/>gathered<sp/>into<sp/>a<sp/>list<sp/>before<sp/>the</highlight></codeline>
<codeline lineno="2868"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>summarization<sp/>step,<sp/>which<sp/>may<sp/>require<sp/>significant<sp/>storage.</highlight></codeline>
<codeline lineno="2869"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2870"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>returned<sp/>object<sp/>is<sp/>a<sp/>:obj:`collections.defaultdict`<sp/>with<sp/>the</highlight></codeline>
<codeline lineno="2871"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``default_factory``<sp/>set<sp/>to<sp/>``None``,<sp/>such<sp/>that<sp/>it<sp/>behaves<sp/>like<sp/>a<sp/>normal</highlight></codeline>
<codeline lineno="2872"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>dictionary.</highlight></codeline>
<codeline lineno="2873"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2874"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2875"><highlight class="normal"><sp/><sp/><sp/><sp/>valuefunc<sp/>=<sp/>(</highlight><highlight class="keyword">lambda</highlight><highlight class="normal"><sp/>x:<sp/>x)<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(valuefunc<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>valuefunc</highlight></codeline>
<codeline lineno="2876"><highlight class="normal"></highlight></codeline>
<codeline lineno="2877"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>defaultdict(list)</highlight></codeline>
<codeline lineno="2878"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>iterable:</highlight></codeline>
<codeline lineno="2879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>key<sp/>=<sp/>keyfunc(item)</highlight></codeline>
<codeline lineno="2880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/>valuefunc(item)</highlight></codeline>
<codeline lineno="2881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret[key].append(value)</highlight></codeline>
<codeline lineno="2882"><highlight class="normal"></highlight></codeline>
<codeline lineno="2883"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>reducefunc<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>key,<sp/>value_list<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ret.items():</highlight></codeline>
<codeline lineno="2885"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret[key]<sp/>=<sp/>reducefunc(value_list)</highlight></codeline>
<codeline lineno="2886"><highlight class="normal"></highlight></codeline>
<codeline lineno="2887"><highlight class="normal"><sp/><sp/><sp/><sp/>ret.default_factory<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2888"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret</highlight></codeline>
<codeline lineno="2889"><highlight class="normal"></highlight></codeline>
<codeline lineno="2890"><highlight class="normal"></highlight></codeline>
<codeline lineno="2891" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a31f682ab11fa2bc3a54def3f13ae20d9" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a31f682ab11fa2bc3a54def3f13ae20d9" kindref="member">rlocate</ref>(iterable,<sp/>pred=bool,<sp/>window_size=None):</highlight></codeline>
<codeline lineno="2892"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>the<sp/>index<sp/>of<sp/>each<sp/>item<sp/>in<sp/>*iterable*<sp/>for<sp/>which<sp/>*pred*<sp/>returns</highlight></codeline>
<codeline lineno="2893"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``True``,<sp/>starting<sp/>from<sp/>the<sp/>right<sp/>and<sp/>moving<sp/>left.</highlight></codeline>
<codeline lineno="2894"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2895"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*pred*<sp/>defaults<sp/>to<sp/>:func:`bool`,<sp/>which<sp/>will<sp/>select<sp/>truthy<sp/>items:</highlight></codeline>
<codeline lineno="2896"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2897"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(rlocate([0,<sp/>1,<sp/>1,<sp/>0,<sp/>1,<sp/>0,<sp/>0]))<sp/><sp/>#<sp/>Truthy<sp/>at<sp/>1,<sp/>2,<sp/>and<sp/>4</highlight></codeline>
<codeline lineno="2898"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[4,<sp/>2,<sp/>1]</highlight></codeline>
<codeline lineno="2899"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2900"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Set<sp/>*pred*<sp/>to<sp/>a<sp/>custom<sp/>function<sp/>to,<sp/>e.g.,<sp/>find<sp/>the<sp/>indexes<sp/>for<sp/>a<sp/>particular</highlight></codeline>
<codeline lineno="2901"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>item:</highlight></codeline>
<codeline lineno="2902"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2903"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>iter(&apos;abcb&apos;)</highlight></codeline>
<codeline lineno="2904"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>pred<sp/>=<sp/>lambda<sp/>x:<sp/>x<sp/>==<sp/>&apos;b&apos;</highlight></codeline>
<codeline lineno="2905"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(rlocate(iterable,<sp/>pred))</highlight></codeline>
<codeline lineno="2906"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[3,<sp/>1]</highlight></codeline>
<codeline lineno="2907"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2908"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*window_size*<sp/>is<sp/>given,<sp/>then<sp/>the<sp/>*pred*<sp/>function<sp/>will<sp/>be<sp/>called<sp/>with</highlight></codeline>
<codeline lineno="2909"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>that<sp/>many<sp/>items.<sp/>This<sp/>enables<sp/>searching<sp/>for<sp/>sub-sequences:</highlight></codeline>
<codeline lineno="2910"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2911"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[0,<sp/>1,<sp/>2,<sp/>3,<sp/>0,<sp/>1,<sp/>2,<sp/>3,<sp/>0,<sp/>1,<sp/>2,<sp/>3]</highlight></codeline>
<codeline lineno="2912"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>pred<sp/>=<sp/>lambda<sp/>*args:<sp/>args<sp/>==<sp/>(1,<sp/>2,<sp/>3)</highlight></codeline>
<codeline lineno="2913"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(rlocate(iterable,<sp/>pred=pred,<sp/>window_size=3))</highlight></codeline>
<codeline lineno="2914"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[9,<sp/>5,<sp/>1]</highlight></codeline>
<codeline lineno="2915"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2916"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Beware,<sp/>this<sp/>function<sp/>won&apos;t<sp/>return<sp/>anything<sp/>for<sp/>infinite<sp/>iterables.</highlight></codeline>
<codeline lineno="2917"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*iterable*<sp/>is<sp/>reversible,<sp/>``rlocate``<sp/>will<sp/>reverse<sp/>it<sp/>and<sp/>search<sp/>from</highlight></codeline>
<codeline lineno="2918"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>the<sp/>right.<sp/>Otherwise,<sp/>it<sp/>will<sp/>search<sp/>from<sp/>the<sp/>left<sp/>and<sp/>return<sp/>the<sp/>results</highlight></codeline>
<codeline lineno="2919"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>in<sp/>reverse<sp/>order.</highlight></codeline>
<codeline lineno="2920"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2921"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>See<sp/>:func:`locate`<sp/>to<sp/>for<sp/>other<sp/>example<sp/>applications.</highlight></codeline>
<codeline lineno="2922"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2923"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2924"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>window_size<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>len_iter<sp/>=<sp/>len(iterable)</highlight></codeline>
<codeline lineno="2927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(len_iter<sp/>-<sp/>i<sp/>-<sp/>1<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a05e18ee5ccec970465321f705ee1e11b" kindref="member">locate</ref>(reversed(iterable),<sp/>pred))</highlight></codeline>
<codeline lineno="2928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>TypeError:</highlight></codeline>
<codeline lineno="2929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2930"><highlight class="normal"></highlight></codeline>
<codeline lineno="2931"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>reversed(list(<ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a05e18ee5ccec970465321f705ee1e11b" kindref="member">locate</ref>(iterable,<sp/>pred,<sp/>window_size)))</highlight></codeline>
<codeline lineno="2932"><highlight class="normal"></highlight></codeline>
<codeline lineno="2933"><highlight class="normal"></highlight></codeline>
<codeline lineno="2934" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ab8daa550cec9c16c67c4500228d1e08d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ab8daa550cec9c16c67c4500228d1e08d" kindref="member">replace</ref>(iterable,<sp/>pred,<sp/>substitutes,<sp/>count=None,<sp/>window_size=1):</highlight></codeline>
<codeline lineno="2935"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>the<sp/>items<sp/>from<sp/>*iterable*,<sp/>replacing<sp/>the<sp/>items<sp/>for<sp/>which<sp/>*pred*</highlight></codeline>
<codeline lineno="2936"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>returns<sp/>``True``<sp/>with<sp/>the<sp/>items<sp/>from<sp/>the<sp/>iterable<sp/>*substitutes*.</highlight></codeline>
<codeline lineno="2937"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2938"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[1,<sp/>1,<sp/>0,<sp/>1,<sp/>1,<sp/>0,<sp/>1,<sp/>1]</highlight></codeline>
<codeline lineno="2939"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>pred<sp/>=<sp/>lambda<sp/>x:<sp/>x<sp/>==<sp/>0</highlight></codeline>
<codeline lineno="2940"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>substitutes<sp/>=<sp/>(2,<sp/>3)</highlight></codeline>
<codeline lineno="2941"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(replace(iterable,<sp/>pred,<sp/>substitutes))</highlight></codeline>
<codeline lineno="2942"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>1,<sp/>2,<sp/>3,<sp/>1,<sp/>1,<sp/>2,<sp/>3,<sp/>1,<sp/>1]</highlight></codeline>
<codeline lineno="2943"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2944"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*count*<sp/>is<sp/>given,<sp/>the<sp/>number<sp/>of<sp/>replacements<sp/>will<sp/>be<sp/>limited:</highlight></codeline>
<codeline lineno="2945"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2946"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[1,<sp/>1,<sp/>0,<sp/>1,<sp/>1,<sp/>0,<sp/>1,<sp/>1,<sp/>0]</highlight></codeline>
<codeline lineno="2947"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>pred<sp/>=<sp/>lambda<sp/>x:<sp/>x<sp/>==<sp/>0</highlight></codeline>
<codeline lineno="2948"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>substitutes<sp/>=<sp/>[None]</highlight></codeline>
<codeline lineno="2949"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(replace(iterable,<sp/>pred,<sp/>substitutes,<sp/>count=2))</highlight></codeline>
<codeline lineno="2950"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>1,<sp/>None,<sp/>1,<sp/>1,<sp/>None,<sp/>1,<sp/>1,<sp/>0]</highlight></codeline>
<codeline lineno="2951"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2952"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Use<sp/>*window_size*<sp/>to<sp/>control<sp/>the<sp/>number<sp/>of<sp/>items<sp/>passed<sp/>as<sp/>arguments<sp/>to</highlight></codeline>
<codeline lineno="2953"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*pred*.<sp/>This<sp/>allows<sp/>for<sp/>locating<sp/>and<sp/>replacing<sp/>subsequences.</highlight></codeline>
<codeline lineno="2954"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2955"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[0,<sp/>1,<sp/>2,<sp/>5,<sp/>0,<sp/>1,<sp/>2,<sp/>5]</highlight></codeline>
<codeline lineno="2956"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>window_size<sp/>=<sp/>3</highlight></codeline>
<codeline lineno="2957"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>pred<sp/>=<sp/>lambda<sp/>*args:<sp/>args<sp/>==<sp/>(0,<sp/>1,<sp/>2)<sp/><sp/>#<sp/>3<sp/>items<sp/>passed<sp/>to<sp/>pred</highlight></codeline>
<codeline lineno="2958"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>substitutes<sp/>=<sp/>[3,<sp/>4]<sp/>#<sp/>Splice<sp/>in<sp/>these<sp/>items</highlight></codeline>
<codeline lineno="2959"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(replace(iterable,<sp/>pred,<sp/>substitutes,<sp/>window_size=window_size))</highlight></codeline>
<codeline lineno="2960"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[3,<sp/>4,<sp/>5,<sp/>3,<sp/>4,<sp/>5]</highlight></codeline>
<codeline lineno="2961"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2962"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2963"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>window_size<sp/>&lt;<sp/>1:</highlight></codeline>
<codeline lineno="2964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;window_size<sp/>must<sp/>be<sp/>at<sp/>least<sp/>1&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="2965"><highlight class="normal"></highlight></codeline>
<codeline lineno="2966"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Save<sp/>the<sp/>substitutes<sp/>iterable,<sp/>since<sp/>it&apos;s<sp/>used<sp/>more<sp/>than<sp/>once</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2967"><highlight class="normal"><sp/><sp/><sp/><sp/>substitutes<sp/>=<sp/>tuple(substitutes)</highlight></codeline>
<codeline lineno="2968"><highlight class="normal"></highlight></codeline>
<codeline lineno="2969"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Add<sp/>padding<sp/>such<sp/>that<sp/>the<sp/>number<sp/>of<sp/>windows<sp/>matches<sp/>the<sp/>length<sp/>of<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2970"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>iterable</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2971"><highlight class="normal"><sp/><sp/><sp/><sp/>it<sp/>=<sp/>chain(iterable,<sp/>[_marker]<sp/>*<sp/>(window_size<sp/>-<sp/>1))</highlight></codeline>
<codeline lineno="2972"><highlight class="normal"><sp/><sp/><sp/><sp/>windows<sp/>=<sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a6a25a63106c08986d199ddbd78d46277" kindref="member">windowed</ref>(it,<sp/>window_size)</highlight></codeline>
<codeline lineno="2973"><highlight class="normal"></highlight></codeline>
<codeline lineno="2974"><highlight class="normal"><sp/><sp/><sp/><sp/>n<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="2975"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>w<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>windows:</highlight></codeline>
<codeline lineno="2976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>the<sp/>current<sp/>window<sp/>matches<sp/>our<sp/>predicate<sp/>(and<sp/>we<sp/>haven&apos;t<sp/>hit</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>our<sp/>maximum<sp/>number<sp/>of<sp/>replacements),<sp/>splice<sp/>in<sp/>the<sp/>substitutes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>and<sp/>then<sp/>consume<sp/>the<sp/>following<sp/>windows<sp/>that<sp/>overlap<sp/>with<sp/>this<sp/>one.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>For<sp/>example,<sp/>if<sp/>the<sp/>iterable<sp/>is<sp/>(0,<sp/>1,<sp/>2,<sp/>3,<sp/>4...)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>and<sp/>the<sp/>window<sp/>size<sp/>is<sp/>2,<sp/>we<sp/>have<sp/>(0,<sp/>1),<sp/>(1,<sp/>2),<sp/>(2,<sp/>3)...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>the<sp/>predicate<sp/>matches<sp/>on<sp/>(0,<sp/>1),<sp/>we<sp/>need<sp/>to<sp/>zap<sp/>(0,<sp/>1)<sp/>and<sp/>(1,<sp/>2)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>pred(*w):</highlight></codeline>
<codeline lineno="2983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(count<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>(n<sp/>&lt;<sp/>count):</highlight></codeline>
<codeline lineno="2984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="2985"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>substitutes</highlight></codeline>
<codeline lineno="2986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1recipes_1a06f3a800031fcc80c345df0826ec28f6" kindref="member">consume</ref>(windows,<sp/>window_size<sp/>-<sp/>1)</highlight></codeline>
<codeline lineno="2987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2988"><highlight class="normal"></highlight></codeline>
<codeline lineno="2989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>there<sp/>was<sp/>no<sp/>match<sp/>(or<sp/>we&apos;ve<sp/>reached<sp/>the<sp/>replacement<sp/>limit),</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>yield<sp/>the<sp/>first<sp/>item<sp/>from<sp/>the<sp/>window.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>w<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>(w[0]<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>_marker):</highlight></codeline>
<codeline lineno="2992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>w[0]</highlight></codeline>
<codeline lineno="2993"><highlight class="normal"></highlight></codeline>
<codeline lineno="2994"><highlight class="normal"></highlight></codeline>
<codeline lineno="2995" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a50ac8728632c6d80de2b0e3f627b1b77" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a50ac8728632c6d80de2b0e3f627b1b77" kindref="member">partitions</ref>(iterable):</highlight></codeline>
<codeline lineno="2996"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>all<sp/>possible<sp/>order-preserving<sp/>partitions<sp/>of<sp/>*iterable*.</highlight></codeline>
<codeline lineno="2997"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="2998"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>&apos;abc&apos;</highlight></codeline>
<codeline lineno="2999"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>for<sp/>part<sp/>in<sp/>partitions(iterable):</highlight></codeline>
<codeline lineno="3000"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>print([&apos;&apos;.join(p)<sp/>for<sp/>p<sp/>in<sp/>part])</highlight></codeline>
<codeline lineno="3001"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;abc&apos;]</highlight></codeline>
<codeline lineno="3002"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;a&apos;,<sp/>&apos;bc&apos;]</highlight></codeline>
<codeline lineno="3003"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;ab&apos;,<sp/>&apos;c&apos;]</highlight></codeline>
<codeline lineno="3004"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;a&apos;,<sp/>&apos;b&apos;,<sp/>&apos;c&apos;]</highlight></codeline>
<codeline lineno="3005"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3006"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>is<sp/>unrelated<sp/>to<sp/>:func:`partition`.</highlight></codeline>
<codeline lineno="3007"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3008"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3009"><highlight class="normal"><sp/><sp/><sp/><sp/>sequence<sp/>=<sp/>list(iterable)</highlight></codeline>
<codeline lineno="3010"><highlight class="normal"><sp/><sp/><sp/><sp/>n<sp/>=<sp/>len(sequence)</highlight></codeline>
<codeline lineno="3011"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1recipes_1a78c1352de622cb198c545375117fd40c" kindref="member">powerset</ref>(range(1,<sp/>n)):</highlight></codeline>
<codeline lineno="3012"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>[sequence[i:j]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i,<sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>zip((0,)<sp/>+<sp/>i,<sp/>i<sp/>+<sp/>(n,))]</highlight></codeline>
<codeline lineno="3013"><highlight class="normal"></highlight></codeline>
<codeline lineno="3014"><highlight class="normal"></highlight></codeline>
<codeline lineno="3015" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a09aba9fcbb4adacab1fdac7c921e39b0" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a09aba9fcbb4adacab1fdac7c921e39b0" kindref="member">set_partitions</ref>(iterable,<sp/>k=None):</highlight></codeline>
<codeline lineno="3016"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="3017"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Yield<sp/>the<sp/>set<sp/>partitions<sp/>of<sp/>*iterable*<sp/>into<sp/>*k*<sp/>parts.<sp/>Set<sp/>partitions<sp/>are</highlight></codeline>
<codeline lineno="3018"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>not<sp/>order-preserving.</highlight></codeline>
<codeline lineno="3019"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3020"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>&apos;abc&apos;</highlight></codeline>
<codeline lineno="3021"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>for<sp/>part<sp/>in<sp/>set_partitions(iterable,<sp/>2):</highlight></codeline>
<codeline lineno="3022"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>print([&apos;&apos;.join(p)<sp/>for<sp/>p<sp/>in<sp/>part])</highlight></codeline>
<codeline lineno="3023"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;a&apos;,<sp/>&apos;bc&apos;]</highlight></codeline>
<codeline lineno="3024"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;ab&apos;,<sp/>&apos;c&apos;]</highlight></codeline>
<codeline lineno="3025"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;b&apos;,<sp/>&apos;ac&apos;]</highlight></codeline>
<codeline lineno="3026"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3027"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3028"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>*k*<sp/>is<sp/>not<sp/>given,<sp/>every<sp/>set<sp/>partition<sp/>is<sp/>generated.</highlight></codeline>
<codeline lineno="3029"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3030"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>&apos;abc&apos;</highlight></codeline>
<codeline lineno="3031"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>for<sp/>part<sp/>in<sp/>set_partitions(iterable):</highlight></codeline>
<codeline lineno="3032"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>print([&apos;&apos;.join(p)<sp/>for<sp/>p<sp/>in<sp/>part])</highlight></codeline>
<codeline lineno="3033"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;abc&apos;]</highlight></codeline>
<codeline lineno="3034"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;a&apos;,<sp/>&apos;bc&apos;]</highlight></codeline>
<codeline lineno="3035"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;ab&apos;,<sp/>&apos;c&apos;]</highlight></codeline>
<codeline lineno="3036"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;b&apos;,<sp/>&apos;ac&apos;]</highlight></codeline>
<codeline lineno="3037"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;a&apos;,<sp/>&apos;b&apos;,<sp/>&apos;c&apos;]</highlight></codeline>
<codeline lineno="3038"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3039"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3040"><highlight class="normal"><sp/><sp/><sp/><sp/>L<sp/>=<sp/>list(iterable)</highlight></codeline>
<codeline lineno="3041"><highlight class="normal"><sp/><sp/><sp/><sp/>n<sp/>=<sp/>len(L)</highlight></codeline>
<codeline lineno="3042"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3043"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>k<sp/>&lt;<sp/>1:</highlight></codeline>
<codeline lineno="3044"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight></codeline>
<codeline lineno="3045"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Can&apos;t<sp/>partition<sp/>in<sp/>a<sp/>negative<sp/>or<sp/>zero<sp/>number<sp/>of<sp/>groups&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="3047"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>k<sp/>&gt;<sp/>n:</highlight></codeline>
<codeline lineno="3048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3049"><highlight class="normal"></highlight></codeline>
<codeline lineno="3050"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">set_partitions_helper(L,<sp/>k):</highlight></codeline>
<codeline lineno="3051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/>len(L)</highlight></codeline>
<codeline lineno="3052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>k<sp/>==<sp/>1:</highlight></codeline>
<codeline lineno="3053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>[L]</highlight></codeline>
<codeline lineno="3054"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>n<sp/>==<sp/>k:</highlight></codeline>
<codeline lineno="3055"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>[[s]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>s<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>L]</highlight></codeline>
<codeline lineno="3056"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3057"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>e,<sp/>*M<sp/>=<sp/>L</highlight></codeline>
<codeline lineno="3058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>set_partitions_helper(M,<sp/>k<sp/>-<sp/>1):</highlight></codeline>
<codeline lineno="3059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>[[e],<sp/>*p]</highlight></codeline>
<codeline lineno="3060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>set_partitions_helper(M,<sp/>k):</highlight></codeline>
<codeline lineno="3061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(p)):</highlight></codeline>
<codeline lineno="3062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>p[:i]<sp/>+<sp/>[[e]<sp/>+<sp/>p[i]]<sp/>+<sp/>p[i<sp/>+<sp/>1<sp/>:]</highlight></codeline>
<codeline lineno="3063"><highlight class="normal"></highlight></codeline>
<codeline lineno="3064"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3065"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(1,<sp/>n<sp/>+<sp/>1):</highlight></codeline>
<codeline lineno="3066"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>set_partitions_helper(L,<sp/>k)</highlight></codeline>
<codeline lineno="3067"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>set_partitions_helper(L,<sp/>k)</highlight></codeline>
<codeline lineno="3069"><highlight class="normal"></highlight></codeline>
<codeline lineno="3070"><highlight class="normal"></highlight></codeline>
<codeline lineno="3071" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1time__limited" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1time__limited" kindref="compound">time_limited</ref>:</highlight></codeline>
<codeline lineno="3072"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="3073"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Yield<sp/>items<sp/>from<sp/>*iterable*<sp/>until<sp/>*limit_seconds*<sp/>have<sp/>passed.</highlight></codeline>
<codeline lineno="3074"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>time<sp/>limit<sp/>expires<sp/>before<sp/>all<sp/>items<sp/>have<sp/>been<sp/>yielded,<sp/>the</highlight></codeline>
<codeline lineno="3075"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``timed_out``<sp/>parameter<sp/>will<sp/>be<sp/>set<sp/>to<sp/>``True``.</highlight></codeline>
<codeline lineno="3076"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3077"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>time<sp/>import<sp/>sleep</highlight></codeline>
<codeline lineno="3078"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>def<sp/>generator():</highlight></codeline>
<codeline lineno="3079"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>yield<sp/>1</highlight></codeline>
<codeline lineno="3080"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>yield<sp/>2</highlight></codeline>
<codeline lineno="3081"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>sleep(0.2)</highlight></codeline>
<codeline lineno="3082"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>yield<sp/>3</highlight></codeline>
<codeline lineno="3083"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>time_limited(0.1,<sp/>generator())</highlight></codeline>
<codeline lineno="3084"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(iterable)</highlight></codeline>
<codeline lineno="3085"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[1,<sp/>2]</highlight></codeline>
<codeline lineno="3086"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable.timed_out</highlight></codeline>
<codeline lineno="3087"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>True</highlight></codeline>
<codeline lineno="3088"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3089"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Note<sp/>that<sp/>the<sp/>time<sp/>is<sp/>checked<sp/>before<sp/>each<sp/>item<sp/>is<sp/>yielded,<sp/>and<sp/>iteration</highlight></codeline>
<codeline lineno="3090"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>stops<sp/>if<sp/><sp/>the<sp/>time<sp/>elapsed<sp/>is<sp/>greater<sp/>than<sp/>*limit_seconds*.<sp/>If<sp/>your<sp/>time</highlight></codeline>
<codeline lineno="3091"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>limit<sp/>is<sp/>1<sp/>second,<sp/>but<sp/>it<sp/>takes<sp/>2<sp/>seconds<sp/>to<sp/>generate<sp/>the<sp/>first<sp/>item<sp/>from</highlight></codeline>
<codeline lineno="3092"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>the<sp/>iterable,<sp/>the<sp/>function<sp/>will<sp/>run<sp/>for<sp/>2<sp/>seconds<sp/>and<sp/>not<sp/>yield<sp/>anything.</highlight></codeline>
<codeline lineno="3093"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3094"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3095"><highlight class="normal"></highlight></codeline>
<codeline lineno="3096"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>limit_seconds,<sp/>iterable):</highlight></codeline>
<codeline lineno="3097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit_seconds<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="3098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;limit_seconds<sp/>must<sp/>be<sp/>positive&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="3099" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1time__limited_1afd9a751859ddb2a44350cc60410ee67c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1time__limited_1afd9a751859ddb2a44350cc60410ee67c" kindref="member">limit_seconds</ref><sp/>=<sp/>limit_seconds</highlight></codeline>
<codeline lineno="3100" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1time__limited_1ab6a945ff865eeb39bdd89024d2b66fd0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1time__limited_1ab6a945ff865eeb39bdd89024d2b66fd0" kindref="member">_iterable</ref><sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="3101" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1time__limited_1a3a3409dda46b043a7af24e0aa239e7fd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1time__limited_1a3a3409dda46b043a7af24e0aa239e7fd" kindref="member">_start_time</ref><sp/>=<sp/>monotonic()</highlight></codeline>
<codeline lineno="3102" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1time__limited_1a5460f1520f5dedfa53162b2b0bd9a69d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1time__limited_1a5460f1520f5dedfa53162b2b0bd9a69d" kindref="member">timed_out</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3103"><highlight class="normal"></highlight></codeline>
<codeline lineno="3104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__iter__(self):</highlight></codeline>
<codeline lineno="3105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="3106"><highlight class="normal"></highlight></codeline>
<codeline lineno="3107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__next__(self):</highlight></codeline>
<codeline lineno="3108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>item<sp/>=<sp/>next(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1time__limited_1ab6a945ff865eeb39bdd89024d2b66fd0" kindref="member">_iterable</ref>)</highlight></codeline>
<codeline lineno="3109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>monotonic()<sp/>-<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1time__limited_1a3a3409dda46b043a7af24e0aa239e7fd" kindref="member">_start_time</ref><sp/>&gt;<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1time__limited_1afd9a751859ddb2a44350cc60410ee67c" kindref="member">limit_seconds</ref>:</highlight></codeline>
<codeline lineno="3110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1time__limited_1a5460f1520f5dedfa53162b2b0bd9a69d" kindref="member">timed_out</ref><sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>StopIteration</highlight></codeline>
<codeline lineno="3112"><highlight class="normal"></highlight></codeline>
<codeline lineno="3113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>item</highlight></codeline>
<codeline lineno="3114"><highlight class="normal"></highlight></codeline>
<codeline lineno="3115"><highlight class="normal"></highlight></codeline>
<codeline lineno="3116" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a6f27ecbe9378a7e871e33d55a980ebc7" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a6f27ecbe9378a7e871e33d55a980ebc7" kindref="member">only</ref>(iterable,<sp/>default=None,<sp/>too_long=None):</highlight></codeline>
<codeline lineno="3117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;If<sp/>*iterable*<sp/>has<sp/>only<sp/>one<sp/>item,<sp/>return<sp/>it.</highlight></codeline>
<codeline lineno="3118"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>it<sp/>has<sp/>zero<sp/>items,<sp/>return<sp/>*default*.</highlight></codeline>
<codeline lineno="3119"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>it<sp/>has<sp/>more<sp/>than<sp/>one<sp/>item,<sp/>raise<sp/>the<sp/>exception<sp/>given<sp/>by<sp/>*too_long*,</highlight></codeline>
<codeline lineno="3120"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>which<sp/>is<sp/>``ValueError``<sp/>by<sp/>default.</highlight></codeline>
<codeline lineno="3121"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3122"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>only([],<sp/>default=&apos;missing&apos;)</highlight></codeline>
<codeline lineno="3123"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&apos;missing&apos;</highlight></codeline>
<codeline lineno="3124"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>only([1])</highlight></codeline>
<codeline lineno="3125"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>1</highlight></codeline>
<codeline lineno="3126"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>only([1,<sp/>2])<sp/><sp/>#<sp/>doctest:<sp/>+IGNORE_EXCEPTION_DETAIL</highlight></codeline>
<codeline lineno="3127"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Traceback<sp/>(most<sp/>recent<sp/>call<sp/>last):</highlight></codeline>
<codeline lineno="3128"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="3129"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>ValueError:<sp/>Expected<sp/>exactly<sp/>one<sp/>item<sp/>in<sp/>iterable,<sp/>but<sp/>got<sp/>1,<sp/>2,</highlight></codeline>
<codeline lineno="3130"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/>and<sp/>perhaps<sp/>more.&apos;</highlight></codeline>
<codeline lineno="3131"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>only([1,<sp/>2],<sp/>too_long=TypeError)<sp/><sp/>#<sp/>doctest:<sp/>+IGNORE_EXCEPTION_DETAIL</highlight></codeline>
<codeline lineno="3132"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Traceback<sp/>(most<sp/>recent<sp/>call<sp/>last):</highlight></codeline>
<codeline lineno="3133"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="3134"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>TypeError</highlight></codeline>
<codeline lineno="3135"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3136"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Note<sp/>that<sp/>:func:`only`<sp/>attempts<sp/>to<sp/>advance<sp/>*iterable*<sp/>twice<sp/>to<sp/>ensure<sp/>there</highlight></codeline>
<codeline lineno="3137"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>is<sp/>only<sp/>one<sp/>item.<sp/><sp/>See<sp/>:func:`spy`<sp/>or<sp/>:func:`peekable`<sp/>to<sp/>check</highlight></codeline>
<codeline lineno="3138"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>iterable<sp/>contents<sp/>less<sp/>destructively.</highlight></codeline>
<codeline lineno="3139"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3140"><highlight class="normal"><sp/><sp/><sp/><sp/>it<sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="3141"><highlight class="normal"><sp/><sp/><sp/><sp/>first_value<sp/>=<sp/>next(it,<sp/>default)</highlight></codeline>
<codeline lineno="3142"><highlight class="normal"></highlight></codeline>
<codeline lineno="3143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>second_value<sp/>=<sp/>next(it)</highlight></codeline>
<codeline lineno="3145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopIteration:</highlight></codeline>
<codeline lineno="3146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="3149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;Expected<sp/>exactly<sp/>one<sp/>item<sp/>in<sp/>iterable,<sp/>but<sp/>got<sp/>{!r},<sp/>{!r},<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;and<sp/>perhaps<sp/>more.&apos;</highlight><highlight class="normal">.format(first_value,<sp/>second_value)</highlight></codeline>
<codeline lineno="3151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="3152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>too_long<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>ValueError(msg)</highlight></codeline>
<codeline lineno="3153"><highlight class="normal"></highlight></codeline>
<codeline lineno="3154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>first_value</highlight></codeline>
<codeline lineno="3155"><highlight class="normal"></highlight></codeline>
<codeline lineno="3156"><highlight class="normal"></highlight></codeline>
<codeline lineno="3157" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a9c641087a4891d3ac5b40616a3394bd5" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a9c641087a4891d3ac5b40616a3394bd5" kindref="member">ichunked</ref>(iterable,<sp/>n):</highlight></codeline>
<codeline lineno="3158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Break<sp/>*iterable*<sp/>into<sp/>sub-iterables<sp/>with<sp/>*n*<sp/>elements<sp/>each.</highlight></codeline>
<codeline lineno="3159"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:func:`ichunked`<sp/>is<sp/>like<sp/>:func:`chunked`,<sp/>but<sp/>it<sp/>yields<sp/>iterables</highlight></codeline>
<codeline lineno="3160"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>instead<sp/>of<sp/>lists.</highlight></codeline>
<codeline lineno="3161"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3162"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>sub-iterables<sp/>are<sp/>read<sp/>in<sp/>order,<sp/>the<sp/>elements<sp/>of<sp/>*iterable*</highlight></codeline>
<codeline lineno="3163"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>won&apos;t<sp/>be<sp/>stored<sp/>in<sp/>memory.</highlight></codeline>
<codeline lineno="3164"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>they<sp/>are<sp/>read<sp/>out<sp/>of<sp/>order,<sp/>:func:`itertools.tee`<sp/>is<sp/>used<sp/>to<sp/>cache</highlight></codeline>
<codeline lineno="3165"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>elements<sp/>as<sp/>necessary.</highlight></codeline>
<codeline lineno="3166"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3167"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>from<sp/>itertools<sp/>import<sp/>count</highlight></codeline>
<codeline lineno="3168"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>all_chunks<sp/>=<sp/>ichunked(count(),<sp/>4)</highlight></codeline>
<codeline lineno="3169"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>c_1,<sp/>c_2,<sp/>c_3<sp/>=<sp/>next(all_chunks),<sp/>next(all_chunks),<sp/>next(all_chunks)</highlight></codeline>
<codeline lineno="3170"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(c_2)<sp/><sp/>#<sp/>c_1&apos;s<sp/>elements<sp/>have<sp/>been<sp/>cached;<sp/>c_3&apos;s<sp/>haven&apos;t<sp/>been</highlight></codeline>
<codeline lineno="3171"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[4,<sp/>5,<sp/>6,<sp/>7]</highlight></codeline>
<codeline lineno="3172"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(c_1)</highlight></codeline>
<codeline lineno="3173"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[0,<sp/>1,<sp/>2,<sp/>3]</highlight></codeline>
<codeline lineno="3174"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(c_3)</highlight></codeline>
<codeline lineno="3175"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[8,<sp/>9,<sp/>10,<sp/>11]</highlight></codeline>
<codeline lineno="3176"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3177"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3178"><highlight class="normal"><sp/><sp/><sp/><sp/>source<sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="3179"><highlight class="normal"></highlight></codeline>
<codeline lineno="3180"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Check<sp/>to<sp/>see<sp/>whether<sp/>we&apos;re<sp/>at<sp/>the<sp/>end<sp/>of<sp/>the<sp/>source<sp/>iterable</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>item<sp/>=<sp/>next(source,<sp/>_marker)</highlight></codeline>
<codeline lineno="3183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>item<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>_marker:</highlight></codeline>
<codeline lineno="3184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3185"><highlight class="normal"></highlight></codeline>
<codeline lineno="3186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Clone<sp/>the<sp/>source<sp/>and<sp/>yield<sp/>an<sp/>n-length<sp/>slice</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>source,<sp/>it<sp/>=<sp/>tee(chain([item],<sp/>source))</highlight></codeline>
<codeline lineno="3188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>islice(it,<sp/>n)</highlight></codeline>
<codeline lineno="3189"><highlight class="normal"></highlight></codeline>
<codeline lineno="3190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Advance<sp/>the<sp/>source<sp/>iterable</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1recipes_1a06f3a800031fcc80c345df0826ec28f6" kindref="member">consume</ref>(source,<sp/>n)</highlight></codeline>
<codeline lineno="3192"><highlight class="normal"></highlight></codeline>
<codeline lineno="3193"><highlight class="normal"></highlight></codeline>
<codeline lineno="3194" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1aecf4eef1c3957d30770055397f1b10ef" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1aecf4eef1c3957d30770055397f1b10ef" kindref="member">distinct_combinations</ref>(iterable,<sp/>r):</highlight></codeline>
<codeline lineno="3195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>the<sp/>distinct<sp/>combinations<sp/>of<sp/>*r*<sp/>items<sp/>taken<sp/>from<sp/>*iterable*.</highlight></codeline>
<codeline lineno="3196"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3197"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(distinct_combinations([0,<sp/>0,<sp/>1],<sp/>2))</highlight></codeline>
<codeline lineno="3198"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[(0,<sp/>0),<sp/>(0,<sp/>1)]</highlight></codeline>
<codeline lineno="3199"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3200"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Equivalent<sp/>to<sp/>``set(combinations(iterable))``,<sp/>except<sp/>duplicates<sp/>are<sp/>not</highlight></codeline>
<codeline lineno="3201"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>generated<sp/>and<sp/>thrown<sp/>away.<sp/>For<sp/>larger<sp/>input<sp/>sequences<sp/>this<sp/>is<sp/>much<sp/>more</highlight></codeline>
<codeline lineno="3202"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>efficient.</highlight></codeline>
<codeline lineno="3203"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3204"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>r<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="3206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;r<sp/>must<sp/>be<sp/>non-negative&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="3207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>r<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="3208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>()</highlight></codeline>
<codeline lineno="3209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3210"><highlight class="normal"><sp/><sp/><sp/><sp/>pool<sp/>=<sp/>tuple(iterable)</highlight></codeline>
<codeline lineno="3211"><highlight class="normal"><sp/><sp/><sp/><sp/>generators<sp/>=<sp/>[<ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1recipes_1a0bcd4db1473f0599b9ff1ba125a4e3c5" kindref="member">unique_everseen</ref>(enumerate(pool),<sp/>key=itemgetter(1))]</highlight></codeline>
<codeline lineno="3212"><highlight class="normal"><sp/><sp/><sp/><sp/>current_combo<sp/>=<sp/>[</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">]<sp/>*<sp/>r</highlight></codeline>
<codeline lineno="3213"><highlight class="normal"><sp/><sp/><sp/><sp/>level<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="3214"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>generators:</highlight></codeline>
<codeline lineno="3215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_idx,<sp/>p<sp/>=<sp/>next(generators[-1])</highlight></codeline>
<codeline lineno="3217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopIteration:</highlight></codeline>
<codeline lineno="3218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>generators.pop()</highlight></codeline>
<codeline lineno="3219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>level<sp/>-=<sp/>1</highlight></codeline>
<codeline lineno="3220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>current_combo[level]<sp/>=<sp/>p</highlight></codeline>
<codeline lineno="3222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>level<sp/>+<sp/>1<sp/>==<sp/>r:</highlight></codeline>
<codeline lineno="3223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>tuple(current_combo)</highlight></codeline>
<codeline lineno="3224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>generators.append(</highlight></codeline>
<codeline lineno="3226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1recipes_1a0bcd4db1473f0599b9ff1ba125a4e3c5" kindref="member">unique_everseen</ref>(</highlight></codeline>
<codeline lineno="3227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>enumerate(pool[cur_idx<sp/>+<sp/>1<sp/>:],<sp/>cur_idx<sp/>+<sp/>1),</highlight></codeline>
<codeline lineno="3228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>key=itemgetter(1),</highlight></codeline>
<codeline lineno="3229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="3230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="3231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>level<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="3232"><highlight class="normal"></highlight></codeline>
<codeline lineno="3233"><highlight class="normal"></highlight></codeline>
<codeline lineno="3234" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a75cf15114e78cfa3671c3635f0e07826" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a75cf15114e78cfa3671c3635f0e07826" kindref="member">filter_except</ref>(validator,<sp/>iterable,<sp/>*exceptions):</highlight></codeline>
<codeline lineno="3235"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>the<sp/>items<sp/>from<sp/>*iterable*<sp/>for<sp/>which<sp/>the<sp/>*validator*<sp/>function<sp/>does</highlight></codeline>
<codeline lineno="3236"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>not<sp/>raise<sp/>one<sp/>of<sp/>the<sp/>specified<sp/>*exceptions*.</highlight></codeline>
<codeline lineno="3237"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3238"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*validator*<sp/>is<sp/>called<sp/>for<sp/>each<sp/>item<sp/>in<sp/>*iterable*.</highlight></codeline>
<codeline lineno="3239"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>It<sp/>should<sp/>be<sp/>a<sp/>function<sp/>that<sp/>accepts<sp/>one<sp/>argument<sp/>and<sp/>raises<sp/>an<sp/>exception</highlight></codeline>
<codeline lineno="3240"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>if<sp/>that<sp/>item<sp/>is<sp/>not<sp/>valid.</highlight></codeline>
<codeline lineno="3241"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3242"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[&apos;1&apos;,<sp/>&apos;2&apos;,<sp/>&apos;three&apos;,<sp/>&apos;4&apos;,<sp/>None]</highlight></codeline>
<codeline lineno="3243"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(filter_except(int,<sp/>iterable,<sp/>ValueError,<sp/>TypeError))</highlight></codeline>
<codeline lineno="3244"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;1&apos;,<sp/>&apos;2&apos;,<sp/>&apos;4&apos;]</highlight></codeline>
<codeline lineno="3245"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3246"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>an<sp/>exception<sp/>other<sp/>than<sp/>one<sp/>given<sp/>by<sp/>*exceptions*<sp/>is<sp/>raised<sp/>by</highlight></codeline>
<codeline lineno="3247"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*validator*,<sp/>it<sp/>is<sp/>raised<sp/>like<sp/>normal.</highlight></codeline>
<codeline lineno="3248"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3249"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>iterable:</highlight></codeline>
<codeline lineno="3250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>validator(item)</highlight></codeline>
<codeline lineno="3252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>exceptions:</highlight></codeline>
<codeline lineno="3253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>item</highlight></codeline>
<codeline lineno="3256"><highlight class="normal"></highlight></codeline>
<codeline lineno="3257"><highlight class="normal"></highlight></codeline>
<codeline lineno="3258" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1af5f31c6152daaffa29cd357b6080416f" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1af5f31c6152daaffa29cd357b6080416f" kindref="member">map_except</ref>(function,<sp/>iterable,<sp/>*exceptions):</highlight></codeline>
<codeline lineno="3259"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Transform<sp/>each<sp/>item<sp/>from<sp/>*iterable*<sp/>with<sp/>*function*<sp/>and<sp/>yield<sp/>the</highlight></codeline>
<codeline lineno="3260"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>result,<sp/>unless<sp/>*function*<sp/>raises<sp/>one<sp/>of<sp/>the<sp/>specified<sp/>*exceptions*.</highlight></codeline>
<codeline lineno="3261"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3262"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*function*<sp/>is<sp/>called<sp/>to<sp/>transform<sp/>each<sp/>item<sp/>in<sp/>*iterable*.</highlight></codeline>
<codeline lineno="3263"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>It<sp/>should<sp/>be<sp/>a<sp/>accept<sp/>one<sp/>argument.</highlight></codeline>
<codeline lineno="3264"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3265"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>[&apos;1&apos;,<sp/>&apos;2&apos;,<sp/>&apos;three&apos;,<sp/>&apos;4&apos;,<sp/>None]</highlight></codeline>
<codeline lineno="3266"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(map_except(int,<sp/>iterable,<sp/>ValueError,<sp/>TypeError))</highlight></codeline>
<codeline lineno="3267"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>4]</highlight></codeline>
<codeline lineno="3268"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3269"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>an<sp/>exception<sp/>other<sp/>than<sp/>one<sp/>given<sp/>by<sp/>*exceptions*<sp/>is<sp/>raised<sp/>by</highlight></codeline>
<codeline lineno="3270"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*function*,<sp/>it<sp/>is<sp/>raised<sp/>like<sp/>normal.</highlight></codeline>
<codeline lineno="3271"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3272"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>item<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>iterable:</highlight></codeline>
<codeline lineno="3273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>function(item)</highlight></codeline>
<codeline lineno="3275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>exceptions:</highlight></codeline>
<codeline lineno="3276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3277"><highlight class="normal"></highlight></codeline>
<codeline lineno="3278"><highlight class="normal"></highlight></codeline>
<codeline lineno="3279" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a0d30cb28efe1b2b0e586aee21b16368b" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a0d30cb28efe1b2b0e586aee21b16368b" kindref="member">_sample_unweighted</ref>(iterable,<sp/>k):</highlight></codeline>
<codeline lineno="3280"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Implementation<sp/>of<sp/>&quot;Algorithm<sp/>L&quot;<sp/>from<sp/>the<sp/>1994<sp/>paper<sp/>by<sp/>Kim-Hung<sp/>Li:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>&quot;Reservoir-Sampling<sp/>Algorithms<sp/>of<sp/>Time<sp/>Complexity<sp/>O(n(1+log(N/n)))&quot;.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3282"><highlight class="normal"></highlight></codeline>
<codeline lineno="3283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Fill<sp/>up<sp/>the<sp/>reservoir<sp/>(collection<sp/>of<sp/>samples)<sp/>with<sp/>the<sp/>first<sp/>`k`<sp/>samples</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3284"><highlight class="normal"><sp/><sp/><sp/><sp/>reservoir<sp/>=<sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1recipes_1ada7fe6e78b23058991218c632fff4cf5" kindref="member">take</ref>(k,<sp/>iterable)</highlight></codeline>
<codeline lineno="3285"><highlight class="normal"></highlight></codeline>
<codeline lineno="3286"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Generate<sp/>random<sp/>number<sp/>that&apos;s<sp/>the<sp/>largest<sp/>in<sp/>a<sp/>sample<sp/>of<sp/>k<sp/>U(0,1)<sp/>numbers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3287"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Largest<sp/>order<sp/>statistic:<sp/>https://en.wikipedia.org/wiki/Order_statistic</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3288"><highlight class="normal"><sp/><sp/><sp/><sp/>W<sp/>=<sp/>exp(log(random())<sp/>/<sp/>k)</highlight></codeline>
<codeline lineno="3289"><highlight class="normal"></highlight></codeline>
<codeline lineno="3290"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>The<sp/>number<sp/>of<sp/>elements<sp/>to<sp/>skip<sp/>before<sp/>changing<sp/>the<sp/>reservoir<sp/>is<sp/>a<sp/>random</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3291"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>number<sp/>with<sp/>a<sp/>geometric<sp/>distribution.<sp/>Sample<sp/>it<sp/>using<sp/>random()<sp/>and<sp/>logs.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3292"><highlight class="normal"><sp/><sp/><sp/><sp/>next_index<sp/>=<sp/>k<sp/>+<sp/>floor(log(random())<sp/>/<sp/>log(1<sp/>-<sp/>W))</highlight></codeline>
<codeline lineno="3293"><highlight class="normal"></highlight></codeline>
<codeline lineno="3294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>index,<sp/>element<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>enumerate(iterable,<sp/>k):</highlight></codeline>
<codeline lineno="3295"><highlight class="normal"></highlight></codeline>
<codeline lineno="3296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>index<sp/>==<sp/>next_index:</highlight></codeline>
<codeline lineno="3297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reservoir[randrange(k)]<sp/>=<sp/>element</highlight></codeline>
<codeline lineno="3298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>The<sp/>new<sp/>W<sp/>is<sp/>the<sp/>largest<sp/>in<sp/>a<sp/>sample<sp/>of<sp/>k<sp/>U(0,<sp/>`old_W`)<sp/>numbers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>W<sp/>*=<sp/>exp(log(random())<sp/>/<sp/>k)</highlight></codeline>
<codeline lineno="3300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>next_index<sp/>+=<sp/>floor(log(random())<sp/>/<sp/>log(1<sp/>-<sp/>W))<sp/>+<sp/>1</highlight></codeline>
<codeline lineno="3301"><highlight class="normal"></highlight></codeline>
<codeline lineno="3302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>reservoir</highlight></codeline>
<codeline lineno="3303"><highlight class="normal"></highlight></codeline>
<codeline lineno="3304"><highlight class="normal"></highlight></codeline>
<codeline lineno="3305" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a4ec7ac4b35d3e11e81091ab5cd00017e" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a4ec7ac4b35d3e11e81091ab5cd00017e" kindref="member">_sample_weighted</ref>(iterable,<sp/>k,<sp/>weights):</highlight></codeline>
<codeline lineno="3306"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Implementation<sp/>of<sp/>&quot;A-ExpJ&quot;<sp/>from<sp/>the<sp/>2006<sp/>paper<sp/>by<sp/>Efraimidis<sp/>et<sp/>al.<sp/>:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>&quot;Weighted<sp/>random<sp/>sampling<sp/>with<sp/>a<sp/>reservoir&quot;.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3308"><highlight class="normal"></highlight></codeline>
<codeline lineno="3309"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Log-transform<sp/>for<sp/>numerical<sp/>stability<sp/>for<sp/>weights<sp/>that<sp/>are<sp/>small/large</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3310"><highlight class="normal"><sp/><sp/><sp/><sp/>weight_keys<sp/>=<sp/>(log(random())<sp/>/<sp/>weight<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>weight<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>weights)</highlight></codeline>
<codeline lineno="3311"><highlight class="normal"></highlight></codeline>
<codeline lineno="3312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Fill<sp/>up<sp/>the<sp/>reservoir<sp/>(collection<sp/>of<sp/>samples)<sp/>with<sp/>the<sp/>first<sp/>`k`</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3313"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>weight-keys<sp/>and<sp/>elements,<sp/>then<sp/>heapify<sp/>the<sp/>list.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3314"><highlight class="normal"><sp/><sp/><sp/><sp/>reservoir<sp/>=<sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1recipes_1ada7fe6e78b23058991218c632fff4cf5" kindref="member">take</ref>(k,<sp/>zip(weight_keys,<sp/>iterable))</highlight></codeline>
<codeline lineno="3315"><highlight class="normal"><sp/><sp/><sp/><sp/>heapify(reservoir)</highlight></codeline>
<codeline lineno="3316"><highlight class="normal"></highlight></codeline>
<codeline lineno="3317"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>The<sp/>number<sp/>of<sp/>jumps<sp/>before<sp/>changing<sp/>the<sp/>reservoir<sp/>is<sp/>a<sp/>random<sp/>variable</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>with<sp/>an<sp/>exponential<sp/>distribution.<sp/>Sample<sp/>it<sp/>using<sp/>random()<sp/>and<sp/>logs.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3319"><highlight class="normal"><sp/><sp/><sp/><sp/>smallest_weight_key,<sp/>_<sp/>=<sp/>reservoir[0]</highlight></codeline>
<codeline lineno="3320"><highlight class="normal"><sp/><sp/><sp/><sp/>weights_to_skip<sp/>=<sp/>log(random())<sp/>/<sp/>smallest_weight_key</highlight></codeline>
<codeline lineno="3321"><highlight class="normal"></highlight></codeline>
<codeline lineno="3322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>weight,<sp/>element<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>zip(weights,<sp/>iterable):</highlight></codeline>
<codeline lineno="3323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>weight<sp/>&gt;=<sp/>weights_to_skip:</highlight></codeline>
<codeline lineno="3324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>The<sp/>notation<sp/>here<sp/>is<sp/>consistent<sp/>with<sp/>the<sp/>paper,<sp/>but<sp/>we<sp/>store</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>weight-keys<sp/>in<sp/>log-space<sp/>for<sp/>better<sp/>numerical<sp/>stability.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>smallest_weight_key,<sp/>_<sp/>=<sp/>reservoir[0]</highlight></codeline>
<codeline lineno="3327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t_w<sp/>=<sp/>exp(weight<sp/>*<sp/>smallest_weight_key)</highlight></codeline>
<codeline lineno="3328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r_2<sp/>=<sp/>uniform(t_w,<sp/>1)<sp/><sp/></highlight><highlight class="comment">#<sp/>generate<sp/>U(t_w,<sp/>1)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weight_key<sp/>=<sp/>log(r_2)<sp/>/<sp/>weight</highlight></codeline>
<codeline lineno="3330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>heapreplace(reservoir,<sp/>(weight_key,<sp/>element))</highlight></codeline>
<codeline lineno="3331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>smallest_weight_key,<sp/>_<sp/>=<sp/>reservoir[0]</highlight></codeline>
<codeline lineno="3332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weights_to_skip<sp/>=<sp/>log(random())<sp/>/<sp/>smallest_weight_key</highlight></codeline>
<codeline lineno="3333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weights_to_skip<sp/>-=<sp/>weight</highlight></codeline>
<codeline lineno="3335"><highlight class="normal"></highlight></codeline>
<codeline lineno="3336"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Equivalent<sp/>to<sp/>[element<sp/>for<sp/>weight_key,<sp/>element<sp/>in<sp/>sorted(reservoir)]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3337"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[heappop(reservoir)[1]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(k)]</highlight></codeline>
<codeline lineno="3338"><highlight class="normal"></highlight></codeline>
<codeline lineno="3339"><highlight class="normal"></highlight></codeline>
<codeline lineno="3340" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a1405cfbac3f502521faf280895b1920a" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a1405cfbac3f502521faf280895b1920a" kindref="member">sample</ref>(iterable,<sp/>k,<sp/>weights=None):</highlight></codeline>
<codeline lineno="3341"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>a<sp/>*k*-length<sp/>list<sp/>of<sp/>elements<sp/>chosen<sp/>(without<sp/>replacement)</highlight></codeline>
<codeline lineno="3342"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>from<sp/>the<sp/>*iterable*.<sp/>Like<sp/>:func:`random.sample`,<sp/>but<sp/>works<sp/>on<sp/>iterables</highlight></codeline>
<codeline lineno="3343"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>of<sp/>unknown<sp/>length.</highlight></codeline>
<codeline lineno="3344"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3345"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>range(100)</highlight></codeline>
<codeline lineno="3346"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>sample(iterable,<sp/>5)<sp/><sp/>#<sp/>doctest:<sp/>+SKIP</highlight></codeline>
<codeline lineno="3347"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[81,<sp/>60,<sp/>96,<sp/>16,<sp/>4]</highlight></codeline>
<codeline lineno="3348"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3349"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>An<sp/>iterable<sp/>with<sp/>*weights*<sp/>may<sp/>also<sp/>be<sp/>given:</highlight></codeline>
<codeline lineno="3350"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3351"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>range(100)</highlight></codeline>
<codeline lineno="3352"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>weights<sp/>=<sp/>(i<sp/>*<sp/>i<sp/>+<sp/>1<sp/>for<sp/>i<sp/>in<sp/>range(100))</highlight></codeline>
<codeline lineno="3353"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>sampled<sp/>=<sp/>sample(iterable,<sp/>5,<sp/>weights=weights)<sp/><sp/>#<sp/>doctest:<sp/>+SKIP</highlight></codeline>
<codeline lineno="3354"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[79,<sp/>67,<sp/>74,<sp/>66,<sp/>78]</highlight></codeline>
<codeline lineno="3355"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3356"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>algorithm<sp/>can<sp/>also<sp/>be<sp/>used<sp/>to<sp/>generate<sp/>weighted<sp/>random<sp/>permutations.</highlight></codeline>
<codeline lineno="3357"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>relative<sp/>weight<sp/>of<sp/>each<sp/>item<sp/>determines<sp/>the<sp/>probability<sp/>that<sp/>it</highlight></codeline>
<codeline lineno="3358"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>appears<sp/>late<sp/>in<sp/>the<sp/>permutation.</highlight></codeline>
<codeline lineno="3359"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3360"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>data<sp/>=<sp/>&quot;abcdefgh&quot;</highlight></codeline>
<codeline lineno="3361"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>weights<sp/>=<sp/>range(1,<sp/>len(data)<sp/>+<sp/>1)</highlight></codeline>
<codeline lineno="3362"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>sample(data,<sp/>k=len(data),<sp/>weights=weights)<sp/><sp/>#<sp/>doctest:<sp/>+SKIP</highlight></codeline>
<codeline lineno="3363"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;c&apos;,<sp/>&apos;a&apos;,<sp/>&apos;b&apos;,<sp/>&apos;e&apos;,<sp/>&apos;g&apos;,<sp/>&apos;d&apos;,<sp/>&apos;h&apos;,<sp/>&apos;f&apos;]</highlight></codeline>
<codeline lineno="3364"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3365"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>k<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="3366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[]</highlight></codeline>
<codeline lineno="3367"><highlight class="normal"></highlight></codeline>
<codeline lineno="3368"><highlight class="normal"><sp/><sp/><sp/><sp/>iterable<sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="3369"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>weights<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a0d30cb28efe1b2b0e586aee21b16368b" kindref="member">_sample_unweighted</ref>(iterable,<sp/>k)</highlight></codeline>
<codeline lineno="3371"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weights<sp/>=<sp/>iter(weights)</highlight></codeline>
<codeline lineno="3373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a4ec7ac4b35d3e11e81091ab5cd00017e" kindref="member">_sample_weighted</ref>(iterable,<sp/>k,<sp/>weights)</highlight></codeline>
<codeline lineno="3374"><highlight class="normal"></highlight></codeline>
<codeline lineno="3375"><highlight class="normal"></highlight></codeline>
<codeline lineno="3376" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a81cbbbf641f0a69938658857aacd4a4b" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a81cbbbf641f0a69938658857aacd4a4b" kindref="member">is_sorted</ref>(iterable,<sp/>key=None,<sp/>reverse=False):</highlight></codeline>
<codeline lineno="3377"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Returns<sp/>``True``<sp/>if<sp/>the<sp/>items<sp/>of<sp/>iterable<sp/>are<sp/>in<sp/>sorted<sp/>order,<sp/>and</highlight></codeline>
<codeline lineno="3378"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``False``<sp/>otherwise.<sp/>*key*<sp/>and<sp/>*reverse*<sp/>have<sp/>the<sp/>same<sp/>meaning<sp/>that<sp/>they<sp/>do</highlight></codeline>
<codeline lineno="3379"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>in<sp/>the<sp/>built-in<sp/>:func:`sorted`<sp/>function.</highlight></codeline>
<codeline lineno="3380"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3381"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>is_sorted([&apos;1&apos;,<sp/>&apos;2&apos;,<sp/>&apos;3&apos;,<sp/>&apos;4&apos;,<sp/>&apos;5&apos;],<sp/>key=int)</highlight></codeline>
<codeline lineno="3382"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>True</highlight></codeline>
<codeline lineno="3383"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>is_sorted([5,<sp/>4,<sp/>3,<sp/>1,<sp/>2],<sp/>reverse=True)</highlight></codeline>
<codeline lineno="3384"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>False</highlight></codeline>
<codeline lineno="3385"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3386"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>function<sp/>returns<sp/>``False``<sp/>after<sp/>encountering<sp/>the<sp/>first<sp/>out-of-order</highlight></codeline>
<codeline lineno="3387"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>item.<sp/>If<sp/>there<sp/>are<sp/>no<sp/>out-of-order<sp/>items,<sp/>the<sp/>iterable<sp/>is<sp/>exhausted.</highlight></codeline>
<codeline lineno="3388"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3389"><highlight class="normal"></highlight></codeline>
<codeline lineno="3390"><highlight class="normal"><sp/><sp/><sp/><sp/>compare<sp/>=<sp/>lt<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>reverse<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>gt</highlight></codeline>
<codeline lineno="3391"><highlight class="normal"><sp/><sp/><sp/><sp/>it<sp/>=<sp/>iterable<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(key<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>map(key,<sp/>iterable)</highlight></codeline>
<codeline lineno="3392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>any(starmap(compare,<sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1recipes_1a9cd7dddf054cda2e2f24203685040f06" kindref="member">pairwise</ref>(it)))</highlight></codeline>
<codeline lineno="3393"><highlight class="normal"></highlight></codeline>
<codeline lineno="3394"><highlight class="normal"></highlight></codeline>
<codeline lineno="3395" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_abort_thread" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_abort_thread" kindref="compound">AbortThread</ref>(BaseException):</highlight></codeline>
<codeline lineno="3396"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3397"><highlight class="normal"></highlight></codeline>
<codeline lineno="3398"><highlight class="normal"></highlight></codeline>
<codeline lineno="3399" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">callback_iter:</highlight></codeline>
<codeline lineno="3400"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Convert<sp/>a<sp/>function<sp/>that<sp/>uses<sp/>callbacks<sp/>to<sp/>an<sp/>iterator.</highlight></codeline>
<codeline lineno="3401"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3402"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Let<sp/>*func*<sp/>be<sp/>a<sp/>function<sp/>that<sp/>takes<sp/>a<sp/>`callback`<sp/>keyword<sp/>argument.</highlight></codeline>
<codeline lineno="3403"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>example:</highlight></codeline>
<codeline lineno="3404"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3405"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>def<sp/>func(callback=None):</highlight></codeline>
<codeline lineno="3406"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>for<sp/>i,<sp/>c<sp/>in<sp/>[(1,<sp/>&apos;a&apos;),<sp/>(2,<sp/>&apos;b&apos;),<sp/>(3,<sp/>&apos;c&apos;)]:</highlight></codeline>
<codeline lineno="3407"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>callback:</highlight></codeline>
<codeline lineno="3408"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>callback(i,<sp/>c)</highlight></codeline>
<codeline lineno="3409"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>return<sp/>4</highlight></codeline>
<codeline lineno="3410"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3411"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3412"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Use<sp/>``with<sp/>callback_iter(func)``<sp/>to<sp/>get<sp/>an<sp/>iterator<sp/>over<sp/>the<sp/>parameters</highlight></codeline>
<codeline lineno="3413"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>that<sp/>are<sp/>delivered<sp/>to<sp/>the<sp/>callback.</highlight></codeline>
<codeline lineno="3414"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3415"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>with<sp/>callback_iter(func)<sp/>as<sp/>it:</highlight></codeline>
<codeline lineno="3416"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>for<sp/>args,<sp/>kwargs<sp/>in<sp/>it:</highlight></codeline>
<codeline lineno="3417"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(args)</highlight></codeline>
<codeline lineno="3418"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(1,<sp/>&apos;a&apos;)</highlight></codeline>
<codeline lineno="3419"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(2,<sp/>&apos;b&apos;)</highlight></codeline>
<codeline lineno="3420"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(3,<sp/>&apos;c&apos;)</highlight></codeline>
<codeline lineno="3421"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3422"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>function<sp/>will<sp/>be<sp/>called<sp/>in<sp/>a<sp/>background<sp/>thread.<sp/>The<sp/>``done``<sp/>property</highlight></codeline>
<codeline lineno="3423"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>indicates<sp/>whether<sp/>it<sp/>has<sp/>completed<sp/>execution.</highlight></codeline>
<codeline lineno="3424"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3425"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it.done</highlight></codeline>
<codeline lineno="3426"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>True</highlight></codeline>
<codeline lineno="3427"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3428"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>it<sp/>completes<sp/>successfully,<sp/>its<sp/>return<sp/>value<sp/>will<sp/>be<sp/>available</highlight></codeline>
<codeline lineno="3429"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>in<sp/>the<sp/>``result``<sp/>property.</highlight></codeline>
<codeline lineno="3430"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3431"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it.result</highlight></codeline>
<codeline lineno="3432"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>4</highlight></codeline>
<codeline lineno="3433"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3434"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Notes:</highlight></codeline>
<codeline lineno="3435"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3436"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*<sp/>If<sp/>the<sp/>function<sp/>uses<sp/>some<sp/>keyword<sp/>argument<sp/>besides<sp/>``callback``,<sp/>supply</highlight></codeline>
<codeline lineno="3437"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>*callback_kwd*.</highlight></codeline>
<codeline lineno="3438"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*<sp/>If<sp/>it<sp/>finished<sp/>executing,<sp/>but<sp/>raised<sp/>an<sp/>exception,<sp/>accessing<sp/>the</highlight></codeline>
<codeline lineno="3439"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>``result``<sp/>property<sp/>will<sp/>raise<sp/>the<sp/>same<sp/>exception.</highlight></codeline>
<codeline lineno="3440"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*<sp/>If<sp/>it<sp/>hasn&apos;t<sp/>finished<sp/>executing,<sp/>accessing<sp/>the<sp/>``result``</highlight></codeline>
<codeline lineno="3441"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>property<sp/>from<sp/>within<sp/>the<sp/>``with``<sp/>block<sp/>will<sp/>raise<sp/>``RuntimeError``.</highlight></codeline>
<codeline lineno="3442"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*<sp/>If<sp/>it<sp/>hasn&apos;t<sp/>finished<sp/>executing,<sp/>accessing<sp/>the<sp/>``result``<sp/>property<sp/>from</highlight></codeline>
<codeline lineno="3443"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>outside<sp/>the<sp/>``with``<sp/>block<sp/>will<sp/>raise<sp/>a</highlight></codeline>
<codeline lineno="3444"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>``more_itertools.AbortThread``<sp/>exception.</highlight></codeline>
<codeline lineno="3445"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*<sp/>Provide<sp/>*wait_seconds*<sp/>to<sp/>adjust<sp/>how<sp/>frequently<sp/>the<sp/>it<sp/>is<sp/>polled<sp/>for</highlight></codeline>
<codeline lineno="3446"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>output.</highlight></codeline>
<codeline lineno="3447"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3448"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3449"><highlight class="normal"></highlight></codeline>
<codeline lineno="3450"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>func,<sp/>callback_kwd=&apos;callback&apos;,<sp/>wait_seconds=0.1):</highlight></codeline>
<codeline lineno="3451" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1ad52d8a24cbd2705cdb5f40c99203de88" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1ad52d8a24cbd2705cdb5f40c99203de88" kindref="member">_func</ref><sp/>=<sp/>func</highlight></codeline>
<codeline lineno="3452" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1ae99fc1eefdf3f20e94d6034d26c7a326" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1ae99fc1eefdf3f20e94d6034d26c7a326" kindref="member">_callback_kwd</ref><sp/>=<sp/>callback_kwd</highlight></codeline>
<codeline lineno="3453" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1ad751d5ec6a38269b5c7788a4ee7c17d5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1ad751d5ec6a38269b5c7788a4ee7c17d5" kindref="member">_aborted</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3454" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a948d0a32e6aae4dc8faafd6b79026808" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a948d0a32e6aae4dc8faafd6b79026808" kindref="member">_future</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3455" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a7ede6a7b9d2663529adb5323e5c1ea5d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a7ede6a7b9d2663529adb5323e5c1ea5d" kindref="member">_wait_seconds</ref><sp/>=<sp/>wait_seconds</highlight></codeline>
<codeline lineno="3456" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a73e7e087026597b55cd9b3484567ce0d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a73e7e087026597b55cd9b3484567ce0d" kindref="member">_executor</ref><sp/>=<sp/>__import__(</highlight><highlight class="stringliteral">&quot;concurrent.futures&quot;</highlight><highlight class="normal">).futures.ThreadPoolExecutor(max_workers=1)</highlight></codeline>
<codeline lineno="3457" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a1b670c241e2f96e2214c7fd7da16de8a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a1b670c241e2f96e2214c7fd7da16de8a" kindref="member">_iterator</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a05c0fdd2e4088e3a9914e4fa2e6fd050" kindref="member">_reader</ref>()</highlight></codeline>
<codeline lineno="3458"><highlight class="normal"></highlight></codeline>
<codeline lineno="3459"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__enter__(self):</highlight></codeline>
<codeline lineno="3460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="3461"><highlight class="normal"></highlight></codeline>
<codeline lineno="3462"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__exit__(self,<sp/>exc_type,<sp/>exc_value,<sp/>traceback):</highlight></codeline>
<codeline lineno="3463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1ad751d5ec6a38269b5c7788a4ee7c17d5" kindref="member">_aborted</ref><sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a73e7e087026597b55cd9b3484567ce0d" kindref="member">_executor</ref>.shutdown()</highlight></codeline>
<codeline lineno="3465"><highlight class="normal"></highlight></codeline>
<codeline lineno="3466"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__iter__(self):</highlight></codeline>
<codeline lineno="3467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="3468"><highlight class="normal"></highlight></codeline>
<codeline lineno="3469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__next__(self):</highlight></codeline>
<codeline lineno="3470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>next(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a1b670c241e2f96e2214c7fd7da16de8a" kindref="member">_iterator</ref>)</highlight></codeline>
<codeline lineno="3471"><highlight class="normal"></highlight></codeline>
<codeline lineno="3472"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3473" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a081241147cdf94c4bb9acda2fcb96713" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a6dd45671737149c126ad19d24c78b06a" kindref="member">done</ref>(self):</highlight></codeline>
<codeline lineno="3474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a948d0a32e6aae4dc8faafd6b79026808" kindref="member">_future</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a948d0a32e6aae4dc8faafd6b79026808" kindref="member">_future</ref>.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a6dd45671737149c126ad19d24c78b06a" kindref="member">done</ref>()</highlight></codeline>
<codeline lineno="3477"><highlight class="normal"></highlight></codeline>
<codeline lineno="3478"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3479" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a1f392626f7413a76bea54b12f1fd9504" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a1f392626f7413a76bea54b12f1fd9504" kindref="member">result</ref>(self):</highlight></codeline>
<codeline lineno="3480" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a6dd45671737149c126ad19d24c78b06a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a6dd45671737149c126ad19d24c78b06a" kindref="member">done</ref>:</highlight></codeline>
<codeline lineno="3481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>RuntimeError(</highlight><highlight class="stringliteral">&apos;Function<sp/>has<sp/>not<sp/>yet<sp/>completed&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="3482"><highlight class="normal"></highlight></codeline>
<codeline lineno="3483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a948d0a32e6aae4dc8faafd6b79026808" kindref="member">_future</ref>.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a1f392626f7413a76bea54b12f1fd9504" kindref="member">result</ref>()</highlight></codeline>
<codeline lineno="3484"><highlight class="normal"></highlight></codeline>
<codeline lineno="3485" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a05c0fdd2e4088e3a9914e4fa2e6fd050" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a05c0fdd2e4088e3a9914e4fa2e6fd050" kindref="member">_reader</ref>(self):</highlight></codeline>
<codeline lineno="3486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q<sp/>=<sp/>Queue()</highlight></codeline>
<codeline lineno="3487"><highlight class="normal"></highlight></codeline>
<codeline lineno="3488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">callback(*args,<sp/>**kwargs):</highlight></codeline>
<codeline lineno="3489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1ad751d5ec6a38269b5c7788a4ee7c17d5" kindref="member">_aborted</ref>:</highlight></codeline>
<codeline lineno="3490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1_abort_thread" kindref="compound">AbortThread</ref>(</highlight><highlight class="stringliteral">&apos;canceled<sp/>by<sp/>user&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="3491"><highlight class="normal"></highlight></codeline>
<codeline lineno="3492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q.put((args,<sp/>kwargs))</highlight></codeline>
<codeline lineno="3493"><highlight class="normal"></highlight></codeline>
<codeline lineno="3494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a948d0a32e6aae4dc8faafd6b79026808" kindref="member">_future</ref><sp/>=<sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a73e7e087026597b55cd9b3484567ce0d" kindref="member">_executor</ref>.submit(</highlight></codeline>
<codeline lineno="3495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1ad52d8a24cbd2705cdb5f40c99203de88" kindref="member">_func</ref>,<sp/>**{self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1ae99fc1eefdf3f20e94d6034d26c7a326" kindref="member">_callback_kwd</ref>:<sp/>callback}</highlight></codeline>
<codeline lineno="3496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="3497"><highlight class="normal"></highlight></codeline>
<codeline lineno="3498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>item<sp/>=<sp/>q.get(timeout=self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a7ede6a7b9d2663529adb5323e5c1ea5d" kindref="member">_wait_seconds</ref>)</highlight></codeline>
<codeline lineno="3501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>Empty:</highlight></codeline>
<codeline lineno="3502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q.task_done()</highlight></codeline>
<codeline lineno="3505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>item</highlight></codeline>
<codeline lineno="3506"><highlight class="normal"></highlight></codeline>
<codeline lineno="3507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a948d0a32e6aae4dc8faafd6b79026808" kindref="member">_future</ref>.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1callback__iter_1a6dd45671737149c126ad19d24c78b06a" kindref="member">done</ref>():</highlight></codeline>
<codeline lineno="3508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3509"><highlight class="normal"></highlight></codeline>
<codeline lineno="3510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>remaining<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="3511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>item<sp/>=<sp/>q.get_nowait()</highlight></codeline>
<codeline lineno="3514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>Empty:</highlight></codeline>
<codeline lineno="3515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q.task_done()</highlight></codeline>
<codeline lineno="3518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>remaining.append(item)</highlight></codeline>
<codeline lineno="3519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q.join()</highlight></codeline>
<codeline lineno="3520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>remaining</highlight></codeline>
<codeline lineno="3521"><highlight class="normal"></highlight></codeline>
<codeline lineno="3522"><highlight class="normal"></highlight></codeline>
<codeline lineno="3523" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a02c0440945239e801c6cb8025ab068c9" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a02c0440945239e801c6cb8025ab068c9" kindref="member">windowed_complete</ref>(iterable,<sp/>n):</highlight></codeline>
<codeline lineno="3524"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="3525"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Yield<sp/>``(beginning,<sp/>middle,<sp/>end)``<sp/>tuples,<sp/>where:</highlight></codeline>
<codeline lineno="3526"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3527"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*<sp/>Each<sp/>``middle``<sp/>has<sp/>*n*<sp/>items<sp/>from<sp/>*iterable*</highlight></codeline>
<codeline lineno="3528"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*<sp/>Each<sp/>``beginning``<sp/>has<sp/>the<sp/>items<sp/>before<sp/>the<sp/>ones<sp/>in<sp/>``middle``</highlight></codeline>
<codeline lineno="3529"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*<sp/>Each<sp/>``end``<sp/>has<sp/>the<sp/>items<sp/>after<sp/>the<sp/>ones<sp/>in<sp/>``middle``</highlight></codeline>
<codeline lineno="3530"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3531"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>range(7)</highlight></codeline>
<codeline lineno="3532"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>n<sp/>=<sp/>3</highlight></codeline>
<codeline lineno="3533"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>for<sp/>beginning,<sp/>middle,<sp/>end<sp/>in<sp/>windowed_complete(iterable,<sp/>n):</highlight></codeline>
<codeline lineno="3534"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/>print(beginning,<sp/>middle,<sp/>end)</highlight></codeline>
<codeline lineno="3535"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>()<sp/>(0,<sp/>1,<sp/>2)<sp/>(3,<sp/>4,<sp/>5,<sp/>6)</highlight></codeline>
<codeline lineno="3536"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(0,)<sp/>(1,<sp/>2,<sp/>3)<sp/>(4,<sp/>5,<sp/>6)</highlight></codeline>
<codeline lineno="3537"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(0,<sp/>1)<sp/>(2,<sp/>3,<sp/>4)<sp/>(5,<sp/>6)</highlight></codeline>
<codeline lineno="3538"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(0,<sp/>1,<sp/>2)<sp/>(3,<sp/>4,<sp/>5)<sp/>(6,)</highlight></codeline>
<codeline lineno="3539"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(0,<sp/>1,<sp/>2,<sp/>3)<sp/>(4,<sp/>5,<sp/>6)<sp/>()</highlight></codeline>
<codeline lineno="3540"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3541"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Note<sp/>that<sp/>*n*<sp/>must<sp/>be<sp/>at<sp/>least<sp/>0<sp/>and<sp/>most<sp/>equal<sp/>to<sp/>the<sp/>length<sp/>of</highlight></codeline>
<codeline lineno="3542"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*iterable*.</highlight></codeline>
<codeline lineno="3543"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3544"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>will<sp/>exhaust<sp/>the<sp/>iterable<sp/>and<sp/>may<sp/>require<sp/>significant</highlight></codeline>
<codeline lineno="3545"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>storage.</highlight></codeline>
<codeline lineno="3546"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3547"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="3548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;n<sp/>must<sp/>be<sp/>&gt;=<sp/>0&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="3549"><highlight class="normal"></highlight></codeline>
<codeline lineno="3550"><highlight class="normal"><sp/><sp/><sp/><sp/>seq<sp/>=<sp/>tuple(iterable)</highlight></codeline>
<codeline lineno="3551"><highlight class="normal"><sp/><sp/><sp/><sp/>size<sp/>=<sp/>len(seq)</highlight></codeline>
<codeline lineno="3552"><highlight class="normal"></highlight></codeline>
<codeline lineno="3553"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n<sp/>&gt;<sp/>size:</highlight></codeline>
<codeline lineno="3554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;n<sp/>must<sp/>be<sp/>&lt;=<sp/>len(seq)&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="3555"><highlight class="normal"></highlight></codeline>
<codeline lineno="3556"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(size<sp/>-<sp/>n<sp/>+<sp/>1):</highlight></codeline>
<codeline lineno="3557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>beginning<sp/>=<sp/>seq[:i]</highlight></codeline>
<codeline lineno="3558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>middle<sp/>=<sp/>seq[i<sp/>:<sp/>i<sp/>+<sp/>n]</highlight></codeline>
<codeline lineno="3559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>end<sp/>=<sp/>seq[i<sp/>+<sp/>n<sp/>:]</highlight></codeline>
<codeline lineno="3560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>beginning,<sp/>middle,<sp/>end</highlight></codeline>
<codeline lineno="3561"><highlight class="normal"></highlight></codeline>
<codeline lineno="3562"><highlight class="normal"></highlight></codeline>
<codeline lineno="3563" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a85b736b170fbf6c04c61095495941cc9" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a85b736b170fbf6c04c61095495941cc9" kindref="member">all_unique</ref>(iterable,<sp/>key=None):</highlight></codeline>
<codeline lineno="3564"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="3565"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns<sp/>``True``<sp/>if<sp/>all<sp/>the<sp/>elements<sp/>of<sp/>*iterable*<sp/>are<sp/>unique<sp/>(no<sp/>two</highlight></codeline>
<codeline lineno="3566"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>elements<sp/>are<sp/>equal).</highlight></codeline>
<codeline lineno="3567"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3568"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>all_unique(&apos;ABCB&apos;)</highlight></codeline>
<codeline lineno="3569"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>False</highlight></codeline>
<codeline lineno="3570"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3571"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>a<sp/>*key*<sp/>function<sp/>is<sp/>specified,<sp/>it<sp/>will<sp/>be<sp/>used<sp/>to<sp/>make<sp/>comparisons.</highlight></codeline>
<codeline lineno="3572"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3573"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>all_unique(&apos;ABCb&apos;)</highlight></codeline>
<codeline lineno="3574"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>True</highlight></codeline>
<codeline lineno="3575"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>all_unique(&apos;ABCb&apos;,<sp/>str.lower)</highlight></codeline>
<codeline lineno="3576"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>False</highlight></codeline>
<codeline lineno="3577"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3578"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>function<sp/>returns<sp/>as<sp/>soon<sp/>as<sp/>the<sp/>first<sp/>non-unique<sp/>element<sp/>is</highlight></codeline>
<codeline lineno="3579"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>encountered.<sp/>Iterables<sp/>with<sp/>a<sp/>mix<sp/>of<sp/>hashable<sp/>and<sp/>unhashable<sp/>items<sp/>can</highlight></codeline>
<codeline lineno="3580"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>be<sp/>used,<sp/>but<sp/>the<sp/>function<sp/>will<sp/>be<sp/>slower<sp/>for<sp/>unhashable<sp/>items.</highlight></codeline>
<codeline lineno="3581"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3582"><highlight class="normal"><sp/><sp/><sp/><sp/>seenset<sp/>=<sp/>set()</highlight></codeline>
<codeline lineno="3583"><highlight class="normal"><sp/><sp/><sp/><sp/>seenset_add<sp/>=<sp/>seenset.add</highlight></codeline>
<codeline lineno="3584"><highlight class="normal"><sp/><sp/><sp/><sp/>seenlist<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="3585"><highlight class="normal"><sp/><sp/><sp/><sp/>seenlist_add<sp/>=<sp/>seenlist.append</highlight></codeline>
<codeline lineno="3586"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>element<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>map(key,<sp/>iterable)<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>key<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>iterable:</highlight></codeline>
<codeline lineno="3587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>element<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>seenset:</highlight></codeline>
<codeline lineno="3589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>seenset_add(element)</highlight></codeline>
<codeline lineno="3591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>TypeError:</highlight></codeline>
<codeline lineno="3592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>element<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>seenlist:</highlight></codeline>
<codeline lineno="3593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>seenlist_add(element)</highlight></codeline>
<codeline lineno="3595"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3596"><highlight class="normal"></highlight></codeline>
<codeline lineno="3597"><highlight class="normal"></highlight></codeline>
<codeline lineno="3598" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a0b3159489420e4a47a301c6d2d9c0529" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a0b3159489420e4a47a301c6d2d9c0529" kindref="member">nth_product</ref>(index,<sp/>*args):</highlight></codeline>
<codeline lineno="3599"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Equivalent<sp/>to<sp/>``list(product(*args))[index]``.</highlight></codeline>
<codeline lineno="3600"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3601"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>products<sp/>of<sp/>*args*<sp/>can<sp/>be<sp/>ordered<sp/>lexicographically.</highlight></codeline>
<codeline lineno="3602"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:func:`nth_product`<sp/>computes<sp/>the<sp/>product<sp/>at<sp/>sort<sp/>position<sp/>*index*<sp/>without</highlight></codeline>
<codeline lineno="3603"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>computing<sp/>the<sp/>previous<sp/>products.</highlight></codeline>
<codeline lineno="3604"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3605"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>nth_product(8,<sp/>range(2),<sp/>range(2),<sp/>range(2),<sp/>range(2))</highlight></codeline>
<codeline lineno="3606"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(1,<sp/>0,<sp/>0,<sp/>0)</highlight></codeline>
<codeline lineno="3607"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3608"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``IndexError``<sp/>will<sp/>be<sp/>raised<sp/>if<sp/>the<sp/>given<sp/>*index*<sp/>is<sp/>invalid.</highlight></codeline>
<codeline lineno="3609"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3610"><highlight class="normal"><sp/><sp/><sp/><sp/>pools<sp/>=<sp/>list(map(tuple,<sp/>reversed(args)))</highlight></codeline>
<codeline lineno="3611"><highlight class="normal"><sp/><sp/><sp/><sp/>ns<sp/>=<sp/>list(map(len,<sp/>pools))</highlight></codeline>
<codeline lineno="3612"><highlight class="normal"></highlight></codeline>
<codeline lineno="3613"><highlight class="normal"><sp/><sp/><sp/><sp/>c<sp/>=<sp/>reduce(mul,<sp/>ns)</highlight></codeline>
<codeline lineno="3614"><highlight class="normal"></highlight></codeline>
<codeline lineno="3615"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>index<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="3616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>+=<sp/>c</highlight></codeline>
<codeline lineno="3617"><highlight class="normal"></highlight></codeline>
<codeline lineno="3618"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>0<sp/>&lt;=<sp/>index<sp/>&lt;<sp/>c:</highlight></codeline>
<codeline lineno="3619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>IndexError</highlight></codeline>
<codeline lineno="3620"><highlight class="normal"></highlight></codeline>
<codeline lineno="3621"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="3622"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>pool,<sp/>n<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>zip(pools,<sp/>ns):</highlight></codeline>
<codeline lineno="3623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result.append(pool[index<sp/>%<sp/>n])</highlight></codeline>
<codeline lineno="3624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>//=<sp/>n</highlight></codeline>
<codeline lineno="3625"><highlight class="normal"></highlight></codeline>
<codeline lineno="3626"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tuple(reversed(result))</highlight></codeline>
<codeline lineno="3627"><highlight class="normal"></highlight></codeline>
<codeline lineno="3628"><highlight class="normal"></highlight></codeline>
<codeline lineno="3629" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a1e8fb234f6fe28459220bb2acf7e7024" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a1e8fb234f6fe28459220bb2acf7e7024" kindref="member">nth_permutation</ref>(iterable,<sp/>r,<sp/>index):</highlight></codeline>
<codeline lineno="3630"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Equivalent<sp/>to<sp/>``list(permutations(iterable,<sp/>r))[index]```</highlight></codeline>
<codeline lineno="3631"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3632"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>subsequences<sp/>of<sp/>*iterable*<sp/>that<sp/>are<sp/>of<sp/>length<sp/>*r*<sp/>where<sp/>order<sp/>is</highlight></codeline>
<codeline lineno="3633"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>important<sp/>can<sp/>be<sp/>ordered<sp/>lexicographically.<sp/>:func:`nth_permutation`</highlight></codeline>
<codeline lineno="3634"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>computes<sp/>the<sp/>subsequence<sp/>at<sp/>sort<sp/>position<sp/>*index*<sp/>directly,<sp/>without</highlight></codeline>
<codeline lineno="3635"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>computing<sp/>the<sp/>previous<sp/>subsequences.</highlight></codeline>
<codeline lineno="3636"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3637"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>nth_permutation(&apos;ghijk&apos;,<sp/>2,<sp/>5)</highlight></codeline>
<codeline lineno="3638"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(&apos;h&apos;,<sp/>&apos;i&apos;)</highlight></codeline>
<codeline lineno="3639"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3640"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``ValueError``<sp/>will<sp/>be<sp/>raised<sp/>If<sp/>*r*<sp/>is<sp/>negative<sp/>or<sp/>greater<sp/>than<sp/>the<sp/>length</highlight></codeline>
<codeline lineno="3641"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>of<sp/>*iterable*.</highlight></codeline>
<codeline lineno="3642"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``IndexError``<sp/>will<sp/>be<sp/>raised<sp/>if<sp/>the<sp/>given<sp/>*index*<sp/>is<sp/>invalid.</highlight></codeline>
<codeline lineno="3643"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3644"><highlight class="normal"><sp/><sp/><sp/><sp/>pool<sp/>=<sp/>list(iterable)</highlight></codeline>
<codeline lineno="3645"><highlight class="normal"><sp/><sp/><sp/><sp/>n<sp/>=<sp/>len(pool)</highlight></codeline>
<codeline lineno="3646"><highlight class="normal"></highlight></codeline>
<codeline lineno="3647"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>r<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>r<sp/>==<sp/>n:</highlight></codeline>
<codeline lineno="3648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r,<sp/>c<sp/>=<sp/>n,<sp/>factorial(n)</highlight></codeline>
<codeline lineno="3649"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>0<sp/>&lt;=<sp/>r<sp/>&lt;<sp/>n:</highlight></codeline>
<codeline lineno="3650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError</highlight></codeline>
<codeline lineno="3651"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/>factorial(n)<sp/>//<sp/>factorial(n<sp/>-<sp/>r)</highlight></codeline>
<codeline lineno="3653"><highlight class="normal"></highlight></codeline>
<codeline lineno="3654"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>index<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="3655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>+=<sp/>c</highlight></codeline>
<codeline lineno="3656"><highlight class="normal"></highlight></codeline>
<codeline lineno="3657"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>0<sp/>&lt;=<sp/>index<sp/>&lt;<sp/>c:</highlight></codeline>
<codeline lineno="3658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>IndexError</highlight></codeline>
<codeline lineno="3659"><highlight class="normal"></highlight></codeline>
<codeline lineno="3660"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>c<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="3661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tuple()</highlight></codeline>
<codeline lineno="3662"><highlight class="normal"></highlight></codeline>
<codeline lineno="3663"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>[0]<sp/>*<sp/>r</highlight></codeline>
<codeline lineno="3664"><highlight class="normal"><sp/><sp/><sp/><sp/>q<sp/>=<sp/>index<sp/>*<sp/>factorial(n)<sp/>//<sp/>c<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>r<sp/>&lt;<sp/>n<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>index</highlight></codeline>
<codeline lineno="3665"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>d<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(1,<sp/>n<sp/>+<sp/>1):</highlight></codeline>
<codeline lineno="3666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q,<sp/>i<sp/>=<sp/>divmod(q,<sp/>d)</highlight></codeline>
<codeline lineno="3667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>0<sp/>&lt;=<sp/>n<sp/>-<sp/>d<sp/>&lt;<sp/>r:</highlight></codeline>
<codeline lineno="3668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result[n<sp/>-<sp/>d]<sp/>=<sp/>i</highlight></codeline>
<codeline lineno="3669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>q<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="3670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3671"><highlight class="normal"></highlight></codeline>
<codeline lineno="3672"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tuple(map(pool.pop,<sp/>result))</highlight></codeline>
<codeline lineno="3673"><highlight class="normal"></highlight></codeline>
<codeline lineno="3674"><highlight class="normal"></highlight></codeline>
<codeline lineno="3675" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a0b402e9e076f6d6c1d7d13dccb5d992c" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a0b402e9e076f6d6c1d7d13dccb5d992c" kindref="member">value_chain</ref>(*args):</highlight></codeline>
<codeline lineno="3676"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Yield<sp/>all<sp/>arguments<sp/>passed<sp/>to<sp/>the<sp/>function<sp/>in<sp/>the<sp/>same<sp/>order<sp/>in<sp/>which</highlight></codeline>
<codeline lineno="3677"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>they<sp/>were<sp/>passed.<sp/>If<sp/>an<sp/>argument<sp/>itself<sp/>is<sp/>iterable<sp/>then<sp/>iterate<sp/>over<sp/>its</highlight></codeline>
<codeline lineno="3678"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>values.</highlight></codeline>
<codeline lineno="3679"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3680"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(value_chain(1,<sp/>2,<sp/>3,<sp/>[4,<sp/>5,<sp/>6]))</highlight></codeline>
<codeline lineno="3681"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[1,<sp/>2,<sp/>3,<sp/>4,<sp/>5,<sp/>6]</highlight></codeline>
<codeline lineno="3682"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3683"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Binary<sp/>and<sp/>text<sp/>strings<sp/>are<sp/>not<sp/>considered<sp/>iterable<sp/>and<sp/>are<sp/>emitted</highlight></codeline>
<codeline lineno="3684"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>as-is:</highlight></codeline>
<codeline lineno="3685"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3686"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(value_chain(&apos;12&apos;,<sp/>&apos;34&apos;,<sp/>[&apos;56&apos;,<sp/>&apos;78&apos;]))</highlight></codeline>
<codeline lineno="3687"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;12&apos;,<sp/>&apos;34&apos;,<sp/>&apos;56&apos;,<sp/>&apos;78&apos;]</highlight></codeline>
<codeline lineno="3688"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3689"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3690"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Multiple<sp/>levels<sp/>of<sp/>nesting<sp/>are<sp/>not<sp/>flattened.</highlight></codeline>
<codeline lineno="3691"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3692"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3693"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>value<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>args:</highlight></codeline>
<codeline lineno="3694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(value,<sp/>(str,<sp/>bytes)):</highlight></codeline>
<codeline lineno="3695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>value</highlight></codeline>
<codeline lineno="3696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>value</highlight></codeline>
<codeline lineno="3699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>TypeError:</highlight></codeline>
<codeline lineno="3700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/>value</highlight></codeline>
<codeline lineno="3701"><highlight class="normal"></highlight></codeline>
<codeline lineno="3702"><highlight class="normal"></highlight></codeline>
<codeline lineno="3703" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ad04f1738abb04e3d9334e3daf689c4a5" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1ad04f1738abb04e3d9334e3daf689c4a5" kindref="member">product_index</ref>(element,<sp/>*args):</highlight></codeline>
<codeline lineno="3704"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Equivalent<sp/>to<sp/>``list(product(*args)).index(element)``</highlight></codeline>
<codeline lineno="3705"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3706"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>products<sp/>of<sp/>*args*<sp/>can<sp/>be<sp/>ordered<sp/>lexicographically.</highlight></codeline>
<codeline lineno="3707"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:func:`product_index`<sp/>computes<sp/>the<sp/>first<sp/>index<sp/>of<sp/>*element*<sp/>without</highlight></codeline>
<codeline lineno="3708"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>computing<sp/>the<sp/>previous<sp/>products.</highlight></codeline>
<codeline lineno="3709"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3710"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>product_index([8,<sp/>2],<sp/>range(10),<sp/>range(5))</highlight></codeline>
<codeline lineno="3711"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>42</highlight></codeline>
<codeline lineno="3712"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3713"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``ValueError``<sp/>will<sp/>be<sp/>raised<sp/>if<sp/>the<sp/>given<sp/>*element*<sp/>isn&apos;t<sp/>in<sp/>the<sp/>product</highlight></codeline>
<codeline lineno="3714"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>of<sp/>*args*.</highlight></codeline>
<codeline lineno="3715"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3716"><highlight class="normal"><sp/><sp/><sp/><sp/>index<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="3717"><highlight class="normal"></highlight></codeline>
<codeline lineno="3718"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x,<sp/>pool<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>zip_longest(element,<sp/>args,<sp/>fillvalue=_marker):</highlight></codeline>
<codeline lineno="3719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>_marker<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>pool<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>_marker:</highlight></codeline>
<codeline lineno="3720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;element<sp/>is<sp/>not<sp/>a<sp/>product<sp/>of<sp/>args&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="3721"><highlight class="normal"></highlight></codeline>
<codeline lineno="3722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pool<sp/>=<sp/>tuple(pool)</highlight></codeline>
<codeline lineno="3723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>=<sp/>index<sp/>*<sp/>len(pool)<sp/>+<sp/>pool.index(x)</highlight></codeline>
<codeline lineno="3724"><highlight class="normal"></highlight></codeline>
<codeline lineno="3725"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>index</highlight></codeline>
<codeline lineno="3726"><highlight class="normal"></highlight></codeline>
<codeline lineno="3727"><highlight class="normal"></highlight></codeline>
<codeline lineno="3728" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a60d03eaa373fc38712ee738617d1f0e4" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a60d03eaa373fc38712ee738617d1f0e4" kindref="member">combination_index</ref>(element,<sp/>iterable):</highlight></codeline>
<codeline lineno="3729"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Equivalent<sp/>to<sp/>``list(combinations(iterable,<sp/>r)).index(element)``</highlight></codeline>
<codeline lineno="3730"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3731"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>subsequences<sp/>of<sp/>*iterable*<sp/>that<sp/>are<sp/>of<sp/>length<sp/>*r*<sp/>can<sp/>be<sp/>ordered</highlight></codeline>
<codeline lineno="3732"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>lexicographically.<sp/>:func:`combination_index`<sp/>computes<sp/>the<sp/>index<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="3733"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>first<sp/>*element*,<sp/>without<sp/>computing<sp/>the<sp/>previous<sp/>combinations.</highlight></codeline>
<codeline lineno="3734"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3735"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>combination_index(&apos;adf&apos;,<sp/>&apos;abcdefg&apos;)</highlight></codeline>
<codeline lineno="3736"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>10</highlight></codeline>
<codeline lineno="3737"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3738"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``ValueError``<sp/>will<sp/>be<sp/>raised<sp/>if<sp/>the<sp/>given<sp/>*element*<sp/>isn&apos;t<sp/>one<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="3739"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>combinations<sp/>of<sp/>*iterable*.</highlight></codeline>
<codeline lineno="3740"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3741"><highlight class="normal"><sp/><sp/><sp/><sp/>element<sp/>=<sp/>enumerate(element)</highlight></codeline>
<codeline lineno="3742"><highlight class="normal"><sp/><sp/><sp/><sp/>k,<sp/>y<sp/>=<sp/>next(element,<sp/>(</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="3743"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0</highlight></codeline>
<codeline lineno="3745"><highlight class="normal"></highlight></codeline>
<codeline lineno="3746"><highlight class="normal"><sp/><sp/><sp/><sp/>indexes<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="3747"><highlight class="normal"><sp/><sp/><sp/><sp/>pool<sp/>=<sp/>enumerate(iterable)</highlight></codeline>
<codeline lineno="3748"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>n,<sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>pool:</highlight></codeline>
<codeline lineno="3749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>x<sp/>==<sp/>y:</highlight></codeline>
<codeline lineno="3750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>indexes.append(n)</highlight></codeline>
<codeline lineno="3751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tmp,<sp/>y<sp/>=<sp/>next(element,<sp/>(</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="3752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>tmp<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>k<sp/>=<sp/>tmp</highlight></codeline>
<codeline lineno="3756"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;element<sp/>is<sp/>not<sp/>a<sp/>combination<sp/>of<sp/>iterable&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="3758"><highlight class="normal"></highlight></codeline>
<codeline lineno="3759"><highlight class="normal"><sp/><sp/><sp/><sp/>n,<sp/>_<sp/>=<sp/><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1a8451a225701bd3bc60ca00f234062208" kindref="member">last</ref>(pool,<sp/>default=(n,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="3760"><highlight class="normal"></highlight></codeline>
<codeline lineno="3761"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Python<sp/>versiosn<sp/>below<sp/>3.8<sp/>don&apos;t<sp/>have<sp/>math.comb</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3762"><highlight class="normal"><sp/><sp/><sp/><sp/>index<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="3763"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i,<sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>enumerate(reversed(indexes),<sp/>start=1):</highlight></codeline>
<codeline lineno="3764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>j<sp/>=<sp/>n<sp/>-<sp/>j</highlight></codeline>
<codeline lineno="3765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>i<sp/>&lt;=<sp/>j:</highlight></codeline>
<codeline lineno="3766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>+=<sp/>factorial(j)<sp/>//<sp/>(factorial(i)<sp/>*<sp/>factorial(j<sp/>-<sp/>i))</highlight></codeline>
<codeline lineno="3767"><highlight class="normal"></highlight></codeline>
<codeline lineno="3768"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>factorial(n<sp/>+<sp/>1)<sp/>//<sp/>(factorial(k<sp/>+<sp/>1)<sp/>*<sp/>factorial(n<sp/>-<sp/>k))<sp/>-<sp/>index</highlight></codeline>
<codeline lineno="3769"><highlight class="normal"></highlight></codeline>
<codeline lineno="3770"><highlight class="normal"></highlight></codeline>
<codeline lineno="3771" refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1aa8a435858b2e240b461187e43423a959" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesetuptools_1_1__vendor_1_1more__itertools_1_1more_1aa8a435858b2e240b461187e43423a959" kindref="member">permutation_index</ref>(element,<sp/>iterable):</highlight></codeline>
<codeline lineno="3772"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Equivalent<sp/>to<sp/>``list(permutations(iterable,<sp/>r)).index(element)```</highlight></codeline>
<codeline lineno="3773"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3774"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>subsequences<sp/>of<sp/>*iterable*<sp/>that<sp/>are<sp/>of<sp/>length<sp/>*r*<sp/>where<sp/>order<sp/>is</highlight></codeline>
<codeline lineno="3775"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>important<sp/>can<sp/>be<sp/>ordered<sp/>lexicographically.<sp/>:func:`permutation_index`</highlight></codeline>
<codeline lineno="3776"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>computes<sp/>the<sp/>index<sp/>of<sp/>the<sp/>first<sp/>*element*<sp/>directly,<sp/>without<sp/>computing</highlight></codeline>
<codeline lineno="3777"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>the<sp/>previous<sp/>permutations.</highlight></codeline>
<codeline lineno="3778"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3779"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>permutation_index([1,<sp/>3,<sp/>2],<sp/>range(5))</highlight></codeline>
<codeline lineno="3780"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>19</highlight></codeline>
<codeline lineno="3781"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3782"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``ValueError``<sp/>will<sp/>be<sp/>raised<sp/>if<sp/>the<sp/>given<sp/>*element*<sp/>isn&apos;t<sp/>one<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="3783"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>permutations<sp/>of<sp/>*iterable*.</highlight></codeline>
<codeline lineno="3784"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3785"><highlight class="normal"><sp/><sp/><sp/><sp/>index<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="3786"><highlight class="normal"><sp/><sp/><sp/><sp/>pool<sp/>=<sp/>list(iterable)</highlight></codeline>
<codeline lineno="3787"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i,<sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>zip(range(len(pool),<sp/>-1,<sp/>-1),<sp/>element):</highlight></codeline>
<codeline lineno="3788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r<sp/>=<sp/>pool.index(x)</highlight></codeline>
<codeline lineno="3789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>=<sp/>index<sp/>*<sp/>i<sp/>+<sp/>r</highlight></codeline>
<codeline lineno="3790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>del<sp/>pool[r]</highlight></codeline>
<codeline lineno="3791"><highlight class="normal"></highlight></codeline>
<codeline lineno="3792"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>index</highlight></codeline>
<codeline lineno="3793"><highlight class="normal"></highlight></codeline>
<codeline lineno="3794"><highlight class="normal"></highlight></codeline>
<codeline lineno="3795" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1countable" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1countable" kindref="compound">countable</ref>:</highlight></codeline>
<codeline lineno="3796"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Wrap<sp/>*iterable*<sp/>and<sp/>keep<sp/>a<sp/>count<sp/>of<sp/>how<sp/>many<sp/>items<sp/>have<sp/>been<sp/>consumed.</highlight></codeline>
<codeline lineno="3797"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3798"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>``items_seen``<sp/>attribute<sp/>starts<sp/>at<sp/>``0``<sp/>and<sp/>increments<sp/>as<sp/>the<sp/>iterable</highlight></codeline>
<codeline lineno="3799"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>is<sp/>consumed:</highlight></codeline>
<codeline lineno="3800"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3801"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>iterable<sp/>=<sp/>map(str,<sp/>range(10))</highlight></codeline>
<codeline lineno="3802"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it<sp/>=<sp/>countable(iterable)</highlight></codeline>
<codeline lineno="3803"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it.items_seen</highlight></codeline>
<codeline lineno="3804"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0</highlight></codeline>
<codeline lineno="3805"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>next(it),<sp/>next(it)</highlight></codeline>
<codeline lineno="3806"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(&apos;0&apos;,<sp/>&apos;1&apos;)</highlight></codeline>
<codeline lineno="3807"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>list(it)</highlight></codeline>
<codeline lineno="3808"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&apos;2&apos;,<sp/>&apos;3&apos;,<sp/>&apos;4&apos;,<sp/>&apos;5&apos;,<sp/>&apos;6&apos;,<sp/>&apos;7&apos;,<sp/>&apos;8&apos;,<sp/>&apos;9&apos;]</highlight></codeline>
<codeline lineno="3809"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>it.items_seen</highlight></codeline>
<codeline lineno="3810"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>10</highlight></codeline>
<codeline lineno="3811"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3812"><highlight class="normal"></highlight></codeline>
<codeline lineno="3813"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>iterable):</highlight></codeline>
<codeline lineno="3814" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1countable_1aa8da54b41b4680c07167cb97ec7e7802" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1countable_1aa8da54b41b4680c07167cb97ec7e7802" kindref="member">_it</ref><sp/>=<sp/>iter(iterable)</highlight></codeline>
<codeline lineno="3815" refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1countable_1ab2d678ea7d66159f39918f2ecd19a6b2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1countable_1ab2d678ea7d66159f39918f2ecd19a6b2" kindref="member">items_seen</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="3816"><highlight class="normal"></highlight></codeline>
<codeline lineno="3817"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__iter__(self):</highlight></codeline>
<codeline lineno="3818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="3819"><highlight class="normal"></highlight></codeline>
<codeline lineno="3820"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__next__(self):</highlight></codeline>
<codeline lineno="3821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>item<sp/>=<sp/>next(self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1countable_1aa8da54b41b4680c07167cb97ec7e7802" kindref="member">_it</ref>)</highlight></codeline>
<codeline lineno="3822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsetuptools_1_1__vendor_1_1more__itertools_1_1more_1_1countable_1ab2d678ea7d66159f39918f2ecd19a6b2" kindref="member">items_seen</ref><sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="3823"><highlight class="normal"></highlight></codeline>
<codeline lineno="3824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>item</highlight></codeline>
    </programlisting>
    <location file="microservicio_data_stream/venv/Lib/site-packages/setuptools/_vendor/more_itertools/more.py"/>
  </compounddef>
</doxygen>
