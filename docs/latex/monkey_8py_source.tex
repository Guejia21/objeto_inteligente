\doxysection{monkey.\+py}
\hypertarget{monkey_8py_source}{}\label{monkey_8py_source}\index{microservicio\_data\_stream/venv/Lib/site-\/packages/setuptools/monkey.py@{microservicio\_data\_stream/venv/Lib/site-\/packages/setuptools/monkey.py}}
\mbox{\hyperlink{monkey_8py}{Ir a la documentaci√≥n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00001}\mbox{\hyperlink{namespacesetuptools_1_1monkey}{00001}}\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00002}00002\ \textcolor{stringliteral}{Monkey\ patching\ of\ distutils.}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00003}00003\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00005}00005\ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00006}00006\ \textcolor{keyword}{import}\ distutils.filelist}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00007}00007\ \textcolor{keyword}{import}\ platform}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00008}00008\ \textcolor{keyword}{import}\ types}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00009}00009\ \textcolor{keyword}{import}\ functools}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00010}00010\ \textcolor{keyword}{from}\ importlib\ \textcolor{keyword}{import}\ import\_module}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00011}00011\ \textcolor{keyword}{import}\ inspect}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00013}00013\ \textcolor{keyword}{import}\ setuptools}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00015}00015\ \_\_all\_\_\ =\ []}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00016}00016\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00017}00017\ \textcolor{stringliteral}{Everything\ is\ private.\ Contact\ the\ project\ team}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00018}00018\ \textcolor{stringliteral}{if\ you\ think\ you\ need\ this\ functionality.}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00019}00019\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00022}\mbox{\hyperlink{namespacesetuptools_1_1monkey_a82c9be7bc07224018b8fcbccfc7ac4fc}{00022}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesetuptools_1_1monkey_a82c9be7bc07224018b8fcbccfc7ac4fc}{\_get\_mro}}(cls):}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00023}00023\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00024}00024\ \textcolor{stringliteral}{\ \ \ \ Returns\ the\ bases\ classes\ for\ cls\ sorted\ by\ the\ MRO.}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00025}00025\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00026}00026\ \textcolor{stringliteral}{\ \ \ \ Works\ around\ an\ issue\ on\ Jython\ where\ inspect.getmro\ will\ not\ return\ all}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00027}00027\ \textcolor{stringliteral}{\ \ \ \ base\ classes\ if\ multiple\ classes\ share\ the\ same\ name.\ Instead,\ this}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00028}00028\ \textcolor{stringliteral}{\ \ \ \ function\ will\ return\ a\ tuple\ containing\ the\ class\ itself,\ and\ the\ contents}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00029}00029\ \textcolor{stringliteral}{\ \ \ \ of\ cls.\_\_bases\_\_.\ See\ https://github.com/pypa/setuptools/issues/1024.}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00030}00030\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00031}00031\ \ \ \ \ \textcolor{keywordflow}{if}\ platform.python\_implementation()\ ==\ \textcolor{stringliteral}{"{}Jython"{}}:}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (cls,)\ +\ cls.\_\_bases\_\_}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00033}00033\ \ \ \ \ \textcolor{keywordflow}{return}\ inspect.getmro(cls)}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00036}\mbox{\hyperlink{namespacesetuptools_1_1monkey_a088c6dda330a4dd5d67da5d454131484}{00036}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesetuptools_1_1monkey_a088c6dda330a4dd5d67da5d454131484}{get\_unpatched}}(item):}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00037}00037\ \ \ \ \ lookup\ =\ (}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ get\_unpatched\_class\ \textcolor{keywordflow}{if}\ isinstance(item,\ type)\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ get\_unpatched\_function\ \textcolor{keywordflow}{if}\ isinstance(item,\ types.FunctionType)\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ \textcolor{keyword}{lambda}\ item:\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00041}00041\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00042}00042\ \ \ \ \ \textcolor{keywordflow}{return}\ lookup(item)}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00045}\mbox{\hyperlink{namespacesetuptools_1_1monkey_a7012bc7c2cccbe5056c29022d7bd6695}{00045}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesetuptools_1_1monkey_a7012bc7c2cccbe5056c29022d7bd6695}{get\_unpatched\_class}}(cls):}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00046}00046\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Protect\ against\ re-\/patching\ the\ distutils\ if\ reloaded}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00047}00047\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00048}00048\ \textcolor{stringliteral}{\ \ \ \ Also\ ensures\ that\ no\ other\ distutils\ extension\ monkeypatched\ the\ distutils}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00049}00049\ \textcolor{stringliteral}{\ \ \ \ first.}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00050}00050\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00051}00051\ \ \ \ \ external\_bases\ =\ (}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00052}00052\ \ \ \ \ \ \ \ \ cls}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00053}00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ cls\ \textcolor{keywordflow}{in}\ \mbox{\hyperlink{namespacesetuptools_1_1monkey_a82c9be7bc07224018b8fcbccfc7ac4fc}{\_get\_mro}}(cls)}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ cls.\_\_module\_\_.startswith(\textcolor{stringliteral}{'setuptools'})}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00055}00055\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00056}00056\ \ \ \ \ base\ =\ next(external\_bases)}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00057}00057\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ base.\_\_module\_\_.startswith(\textcolor{stringliteral}{'distutils'}):}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ msg\ =\ \textcolor{stringliteral}{"{}distutils\ has\ already\ been\ patched\ by\ \%r"{}}\ \%\ cls}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ AssertionError(msg)}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00060}00060\ \ \ \ \ \textcolor{keywordflow}{return}\ base}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00061}00061\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00062}00062\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00063}\mbox{\hyperlink{namespacesetuptools_1_1monkey_af3ddd650b2d211ab486940c8ab78fd86}{00063}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesetuptools_1_1monkey_af3ddd650b2d211ab486940c8ab78fd86}{patch\_all}}():}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00064}00064\ \ \ \ \ \textcolor{comment}{\#\ we\ can't\ patch\ distutils.cmd,\ alas}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00065}00065\ \ \ \ \ distutils.core.Command\ =\ \mbox{\hyperlink{classsetuptools_1_1_command}{setuptools.Command}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00067}00067\ \ \ \ \ has\_issue\_12885\ =\ sys.version\_info\ <=\ (3,\ 5,\ 3)}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00069}00069\ \ \ \ \ \textcolor{keywordflow}{if}\ has\_issue\_12885:}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00070}00070\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ fix\ findall\ bug\ in\ distutils\ (http://bugs.python.org/issue12885)}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00071}00071\ \ \ \ \ \ \ \ \ distutils.filelist.findall\ =\ setuptools.findall}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00073}00073\ \ \ \ \ needs\_warehouse\ =\ (}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00074}00074\ \ \ \ \ \ \ \ \ (3,\ 4)\ <\ sys.version\_info\ <\ (3,\ 4,\ 6)}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00075}00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{or}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ (3,\ 5)\ <\ sys.version\_info\ <=\ (3,\ 5,\ 3)}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00077}00077\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00079}00079\ \ \ \ \ \textcolor{keywordflow}{if}\ needs\_warehouse:}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00080}00080\ \ \ \ \ \ \ \ \ warehouse\ =\ \textcolor{stringliteral}{'https://upload.pypi.org/legacy/'}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00081}00081\ \ \ \ \ \ \ \ \ distutils.config.PyPIRCCommand.DEFAULT\_REPOSITORY\ =\ warehouse}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00082}00082\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00083}00083\ \ \ \ \ \mbox{\hyperlink{namespacesetuptools_1_1monkey_a7f426a7d48738b2499011d1226e705d4}{\_patch\_distribution\_metadata}}()}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00085}00085\ \ \ \ \ \textcolor{comment}{\#\ Install\ Distribution\ throughout\ the\ distutils}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00086}00086\ \ \ \ \ \textcolor{keywordflow}{for}\ module\ \textcolor{keywordflow}{in}\ distutils.dist,\ distutils.core,\ distutils.cmd:}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00087}00087\ \ \ \ \ \ \ \ \ module.Distribution\ =\ \mbox{\hyperlink{classsetuptools_1_1dist_1_1_distribution}{setuptools.dist.Distribution}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00088}00088\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00089}00089\ \ \ \ \ \textcolor{comment}{\#\ Install\ the\ patched\ Extension}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00090}00090\ \ \ \ \ distutils.core.Extension\ =\ \mbox{\hyperlink{classsetuptools_1_1extension_1_1_extension}{setuptools.extension.Extension}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00091}00091\ \ \ \ \ distutils.extension.Extension\ =\ \mbox{\hyperlink{classsetuptools_1_1extension_1_1_extension}{setuptools.extension.Extension}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00092}00092\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{'distutils.command.build\_ext'}\ \textcolor{keywordflow}{in}\ sys.modules:}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00093}00093\ \ \ \ \ \ \ \ \ sys.modules[\textcolor{stringliteral}{'distutils.command.build\_ext'}].Extension\ =\ (}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00094}00094\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsetuptools_1_1extension_1_1_extension}{setuptools.extension.Extension}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00095}00095\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00096}00096\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00097}00097\ \ \ \ \ \mbox{\hyperlink{namespacesetuptools_1_1monkey_aa61c598b24bda0000a5450e7901202c8}{patch\_for\_msvc\_specialized\_compiler}}()}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00098}00098\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00099}00099\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00100}\mbox{\hyperlink{namespacesetuptools_1_1monkey_a7f426a7d48738b2499011d1226e705d4}{00100}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesetuptools_1_1monkey_a7f426a7d48738b2499011d1226e705d4}{\_patch\_distribution\_metadata}}():}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00101}00101\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Patch\ write\_pkg\_file\ and\ read\_pkg\_file\ for\ higher\ metadata\ standards"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00102}00102\ \ \ \ \ \textcolor{keywordflow}{for}\ attr\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{'write\_pkg\_file'},\ \textcolor{stringliteral}{'read\_pkg\_file'},\ \textcolor{stringliteral}{'get\_metadata\_version'}):}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00103}00103\ \ \ \ \ \ \ \ \ new\_val\ =\ getattr(\mbox{\hyperlink{namespacesetuptools_1_1dist}{setuptools.dist}},\ attr)}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00104}00104\ \ \ \ \ \ \ \ \ setattr(distutils.dist.DistributionMetadata,\ attr,\ new\_val)}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00105}00105\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00106}00106\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00107}\mbox{\hyperlink{namespacesetuptools_1_1monkey_a2614737a9f042a53a1427c41917e05e5}{00107}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesetuptools_1_1monkey_a2614737a9f042a53a1427c41917e05e5}{patch\_func}}(replacement,\ target\_mod,\ func\_name):}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00108}00108\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00109}00109\ \textcolor{stringliteral}{\ \ \ \ Patch\ func\_name\ in\ target\_mod\ with\ replacement}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00110}00110\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00111}00111\ \textcolor{stringliteral}{\ \ \ \ Important\ -\/\ original\ must\ be\ resolved\ by\ name\ to\ avoid}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00112}00112\ \textcolor{stringliteral}{\ \ \ \ patching\ an\ already\ patched\ function.}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00113}00113\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00114}00114\ \ \ \ \ original\ =\ getattr(target\_mod,\ func\_name)}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00115}00115\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00116}00116\ \ \ \ \ \textcolor{comment}{\#\ set\ the\ 'unpatched'\ attribute\ on\ the\ replacement\ to}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00117}00117\ \ \ \ \ \textcolor{comment}{\#\ point\ to\ the\ original.}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00118}00118\ \ \ \ \ vars(replacement).setdefault(\textcolor{stringliteral}{'unpatched'},\ original)}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00119}00119\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00120}00120\ \ \ \ \ \textcolor{comment}{\#\ replace\ the\ function\ in\ the\ original\ module}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00121}00121\ \ \ \ \ setattr(target\_mod,\ func\_name,\ replacement)}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00122}00122\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00124}\mbox{\hyperlink{namespacesetuptools_1_1monkey_ace8febb6fe5e978211f8c7f20bdc769f}{00124}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesetuptools_1_1monkey_ace8febb6fe5e978211f8c7f20bdc769f}{get\_unpatched\_function}}(candidate):}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00125}00125\ \ \ \ \ \textcolor{keywordflow}{return}\ getattr(candidate,\ \textcolor{stringliteral}{'unpatched'})}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00126}00126\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00127}00127\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00128}\mbox{\hyperlink{namespacesetuptools_1_1monkey_aa61c598b24bda0000a5450e7901202c8}{00128}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesetuptools_1_1monkey_aa61c598b24bda0000a5450e7901202c8}{patch\_for\_msvc\_specialized\_compiler}}():}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00129}00129\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00130}00130\ \textcolor{stringliteral}{\ \ \ \ Patch\ functions\ in\ distutils\ to\ use\ standalone\ Microsoft\ Visual\ C++}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00131}00131\ \textcolor{stringliteral}{\ \ \ \ compilers.}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00132}00132\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00133}00133\ \ \ \ \ \textcolor{comment}{\#\ import\ late\ to\ avoid\ circular\ imports\ on\ Python\ <\ 3.5}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00134}00134\ \ \ \ \ msvc\ =\ import\_module(\textcolor{stringliteral}{'setuptools.msvc'})}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00135}00135\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00136}00136\ \ \ \ \ \textcolor{keywordflow}{if}\ platform.system()\ !=\ \textcolor{stringliteral}{'Windows'}:}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00137}00137\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Compilers\ only\ available\ on\ Microsoft\ Windows}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00138}00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00139}00139\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00140}00140\ \ \ \ \ \textcolor{keyword}{def\ }patch\_params(mod\_name,\ func\_name):}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00141}00141\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00142}00142\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Prepare\ the\ parameters\ for\ patch\_func\ to\ patch\ indicated\ function.}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00143}00143\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00144}00144\ \ \ \ \ \ \ \ \ repl\_prefix\ =\ \textcolor{stringliteral}{'msvc14\_'}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00145}00145\ \ \ \ \ \ \ \ \ repl\_name\ =\ repl\_prefix\ +\ func\_name.lstrip(\textcolor{stringliteral}{'\_'})}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00146}00146\ \ \ \ \ \ \ \ \ repl\ =\ getattr(msvc,\ repl\_name)}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00147}00147\ \ \ \ \ \ \ \ \ mod\ =\ import\_module(mod\_name)}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00148}00148\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ hasattr(mod,\ func\_name):}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ImportError(func\_name)}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00150}00150\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ repl,\ mod,\ func\_name}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00151}00151\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00152}00152\ \ \ \ \ \textcolor{comment}{\#\ Python\ 3.5+}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00153}00153\ \ \ \ \ msvc14\ =\ functools.partial(patch\_params,\ \textcolor{stringliteral}{'distutils.\_msvccompiler'})}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00154}00154\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00155}00155\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00156}00156\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Patch\ distutils.\_msvccompiler.\_get\_vc\_env}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00157}00157\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesetuptools_1_1monkey_a2614737a9f042a53a1427c41917e05e5}{patch\_func}}(*msvc14(\textcolor{stringliteral}{'\_get\_vc\_env'}))}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00158}00158\ \ \ \ \ \textcolor{keywordflow}{except}\ ImportError:}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00159}00159\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00160}00160\ }
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00161}00161\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00162}00162\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Patch\ distutils.\_msvccompiler.gen\_lib\_options\ for\ Numpy}}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00163}00163\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesetuptools_1_1monkey_a2614737a9f042a53a1427c41917e05e5}{patch\_func}}(*msvc14(\textcolor{stringliteral}{'gen\_lib\_options'}))}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00164}00164\ \ \ \ \ \textcolor{keywordflow}{except}\ ImportError:}
\DoxyCodeLine{\Hypertarget{monkey_8py_source_l00165}00165\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}

\end{DoxyCode}
