\doxysection{build\+\_\+scripts.\+py}
\hypertarget{build__scripts_8py_source}{}\label{build__scripts_8py_source}\index{microservicio\_data\_stream/venv/Lib/site-\/packages/setuptools/\_distutils/command/build\_scripts.py@{microservicio\_data\_stream/venv/Lib/site-\/packages/setuptools/\_distutils/command/build\_scripts.py}}
\mbox{\hyperlink{build__scripts_8py}{Ir a la documentaciÃ³n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00001}\mbox{\hyperlink{namespacesetuptools_1_1__distutils_1_1command_1_1build__scripts}{00001}}\ \textcolor{stringliteral}{"{}"{}"{}distutils.command.build\_scripts}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00002}00002\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00003}00003\ \textcolor{stringliteral}{Implements\ the\ Distutils\ 'build\_scripts'\ command."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00005}00005\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00006}00006\ \textcolor{keyword}{import}\ re}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00007}00007\ \textcolor{keyword}{from}\ stat\ \textcolor{keyword}{import}\ ST\_MODE}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00008}00008\ \textcolor{keyword}{from}\ distutils\ \textcolor{keyword}{import}\ sysconfig}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00009}00009\ \textcolor{keyword}{from}\ distutils.core\ \textcolor{keyword}{import}\ Command}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00010}00010\ \textcolor{keyword}{from}\ distutils.dep\_util\ \textcolor{keyword}{import}\ newer}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00011}00011\ \textcolor{keyword}{from}\ distutils.util\ \textcolor{keyword}{import}\ convert\_path}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00012}00012\ \textcolor{keyword}{from}\ distutils\ \textcolor{keyword}{import}\ log}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00013}00013\ \textcolor{keyword}{import}\ tokenize}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00015}\mbox{\hyperlink{namespacesetuptools_1_1__distutils_1_1command_1_1build__scripts_a8129939ac65c1a7b05de9fbadb29d25b}{00015}}\ shebang\_pattern\ =\ re.compile(\textcolor{stringliteral}{'\string^\#!.*python[0-\/9.]*([\ \(\backslash\)t].*)?\$'})}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00016}00016\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00017}00017\ \textcolor{stringliteral}{Pattern\ matching\ a\ Python\ interpreter\ indicated\ in\ first\ line\ of\ a\ script.}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00018}00018\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00020}00020\ \textcolor{comment}{\#\ for\ Setuptools\ compatibility}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00021}\mbox{\hyperlink{namespacesetuptools_1_1__distutils_1_1command_1_1build__scripts_ae3e0cb42111dcf251cb7b019c6fd5040}{00021}}\ first\_line\_re\ =\ shebang\_pattern}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00024}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts}{00024}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts}{build\_scripts}}(\mbox{\hyperlink{classsetuptools_1_1_command}{Command}}):}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00026}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a3d4672cb576701f4e0eeb2544cdca305}{00026}}\ \ \ \ \ description\ =\ \textcolor{stringliteral}{"{}\(\backslash\)"{}build\(\backslash\)"{}\ scripts\ (copy\ and\ fixup\ \#!\ line)"{}}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00028}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_af71006d2b599ada8592340a777c6b2dc}{00028}}\ \ \ \ \ user\_options\ =\ [}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00029}00029\ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{'build-\/dir='},\ \textcolor{stringliteral}{'d'},\ \textcolor{stringliteral}{"{}directory\ to\ \(\backslash\)"{}build\(\backslash\)"{}\ (copy)\ to"{}}),}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{'force'},\ \textcolor{stringliteral}{'f'},\ \textcolor{stringliteral}{"{}forcibly\ build\ everything\ (ignore\ file\ timestamps"{}}),}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00031}00031\ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{'executable='},\ \textcolor{stringliteral}{'e'},\ \textcolor{stringliteral}{"{}specify\ final\ destination\ interpreter\ path"{}}),}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00032}00032\ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00034}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a29c4badda00ac5842ae8f2ecaf6cb68e}{00034}}\ \ \ \ \ boolean\_options\ =\ [\textcolor{stringliteral}{'force'}]}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00036}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a461fa36f83a9a2cdf1eef02a2af10d60}{00036}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a461fa36f83a9a2cdf1eef02a2af10d60}{initialize\_options}}(self):}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00037}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a87ca57ba67a1d1a416c52e65712974c7}{00037}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a87ca57ba67a1d1a416c52e65712974c7}{build\_dir}}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00038}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a16c2f09c7948005c041642a4b44ac1e6}{00038}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a16c2f09c7948005c041642a4b44ac1e6}{scripts}}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00039}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a07c86038d70d442730e486f49428e5de}{00039}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a07c86038d70d442730e486f49428e5de}{force}}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00040}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a39391853aedeaec9f08f086d4da82494}{00040}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a39391853aedeaec9f08f086d4da82494}{executable}}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00042}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_aeb0cf060a8c86f18f82b9ccdfd6ca9e9}{00042}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_aeb0cf060a8c86f18f82b9ccdfd6ca9e9}{finalize\_options}}(self):}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ self.set\_undefined\_options(}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'build'},}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00045}00045\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{'build\_scripts'},\ \textcolor{stringliteral}{'build\_dir'}),}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00046}00046\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{'force'},\ \textcolor{stringliteral}{'force'}),}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00047}00047\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{'executable'},\ \textcolor{stringliteral}{'executable'}),}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00049}00049\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a16c2f09c7948005c041642a4b44ac1e6}{scripts}}\ =\ self.distribution.scripts}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00051}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a87e7df3ac4f14c7514cc447a526edc80}{00051}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a87e7df3ac4f14c7514cc447a526edc80}{get\_source\_files}}(self):}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00052}00052\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a16c2f09c7948005c041642a4b44ac1e6}{scripts}}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00054}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_af9a76a5525306e636d9581cd467388b2}{00054}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_af9a76a5525306e636d9581cd467388b2}{run}}(self):}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00055}00055\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a16c2f09c7948005c041642a4b44ac1e6}{scripts}}:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_aab78bd43ba559774fb2fd7cbfda03371}{copy\_scripts}}()}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00059}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_aab78bd43ba559774fb2fd7cbfda03371}{00059}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_aab78bd43ba559774fb2fd7cbfda03371}{copy\_scripts}}(self):}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00061}00061\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Copy\ each\ script\ listed\ in\ \`{}\`{}self.scripts\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00062}00062\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00063}00063\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ a\ script\ is\ marked\ as\ a\ Python\ script\ (first\ line\ matches}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00064}00064\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ 'shebang\_pattern',\ i.e.\ starts\ with\ \`{}\`{}\#!\`{}\`{}\ and\ contains}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00065}00065\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}python"{}),\ then\ adjust\ in\ the\ copy\ the\ first\ line\ to\ refer\ to}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00066}00066\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ current\ Python\ interpreter.}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00067}00067\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00068}00068\ \ \ \ \ \ \ \ \ self.mkpath(self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a87ca57ba67a1d1a416c52e65712974c7}{build\_dir}})}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00069}00069\ \ \ \ \ \ \ \ \ outfiles\ =\ []}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00070}00070\ \ \ \ \ \ \ \ \ updated\_files\ =\ []}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00071}00071\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ script\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a16c2f09c7948005c041642a4b44ac1e6}{scripts}}:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_ae9ba915b70b8e691e98b0cc28de0be97}{\_copy\_script}}(script,\ outfiles,\ updated\_files)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00074}00074\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_ac3575da8a632e2b441173b845a02f632}{\_change\_modes}}(outfiles)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ outfiles,\ updated\_files}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00078}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_ae9ba915b70b8e691e98b0cc28de0be97}{00078}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_ae9ba915b70b8e691e98b0cc28de0be97}{\_copy\_script}}(self,\ script,\ outfiles,\ updated\_files):\ \ \textcolor{comment}{\#\ noqa:\ C901}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00079}00079\ \ \ \ \ \ \ \ \ shebang\_match\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00080}00080\ \ \ \ \ \ \ \ \ script\ =\ \mbox{\hyperlink{namespacesetuptools_a88d3013aac4d5258c5379d90a4fac663}{convert\_path}}(script)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00081}00081\ \ \ \ \ \ \ \ \ outfile\ =\ os.path.join(self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a87ca57ba67a1d1a416c52e65712974c7}{build\_dir}},\ os.path.basename(script))}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00082}00082\ \ \ \ \ \ \ \ \ outfiles.append(outfile)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00084}00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a07c86038d70d442730e486f49428e5de}{force}}\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ newer(script,\ outfile):}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00085}00085\ \ \ \ \ \ \ \ \ \ \ \ \ log.debug(\textcolor{stringliteral}{"{}not\ copying\ \%s\ (up-\/to-\/date)"{}},\ script)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00086}00086\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00087}00087\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00088}00088\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Always\ open\ the\ file,\ but\ ignore\ failures\ in\ dry-\/run\ mode}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00089}00089\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ in\ order\ to\ attempt\ to\ copy\ directly.}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00090}00090\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00091}00091\ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ tokenize.open(script)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00092}00092\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ OSError:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00093}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a71e6537e5346dc1584d34630711b9a27}{00093}}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a71e6537e5346dc1584d34630711b9a27}{dry\_run}}:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00094}00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00095}00095\ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00096}00096\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00097}00097\ \ \ \ \ \ \ \ \ \ \ \ \ first\_line\ =\ f.readline()}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00098}00098\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ first\_line:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00099}00099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.warn(\textcolor{stringliteral}{"{}\%s\ is\ an\ empty\ file\ (skipping)"{}}\ \%\ script)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00100}00100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00102}00102\ \ \ \ \ \ \ \ \ \ \ \ \ shebang\_match\ =\ shebang\_pattern.match(first\_line)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00103}00103\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00104}00104\ \ \ \ \ \ \ \ \ updated\_files.append(outfile)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00105}00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ shebang\_match:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00106}00106\ \ \ \ \ \ \ \ \ \ \ \ \ log.info(\textcolor{stringliteral}{"{}copying\ and\ adjusting\ \%s\ -\/>\ \%s"{}},\ script,\ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a87ca57ba67a1d1a416c52e65712974c7}{build\_dir}})}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00107}00107\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a71e6537e5346dc1584d34630711b9a27}{dry\_run}}:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ sysconfig.python\_build:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00109}00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ executable\ =\ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a39391853aedeaec9f08f086d4da82494}{executable}}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00110}00110\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00111}00111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ executable\ =\ os.path.join(}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sysconfig.get\_config\_var(\textcolor{stringliteral}{"{}BINDIR"{}}),}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}python\%s\%s"{}}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \%\ (}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sysconfig.get\_config\_var(\textcolor{stringliteral}{"{}VERSION"{}}),}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sysconfig.get\_config\_var(\textcolor{stringliteral}{"{}EXE"{}}),}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ),}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ post\_interp\ =\ shebang\_match.group(1)\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{''}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00120}00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ shebang\ =\ \textcolor{stringliteral}{"{}\#!"{}}\ +\ executable\ +\ post\_interp\ +\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00121}00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_aadf7becf6683b90520cff858695555aa}{\_validate\_shebang}}(shebang,\ f.encoding)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open(outfile,\ \textcolor{stringliteral}{"{}w"{}},\ encoding=f.encoding)\ \textcolor{keyword}{as}\ outf:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00123}00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ outf.write(shebang)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00124}00124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ outf.writelines(f.readlines())}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00125}00125\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ f:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00126}00126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f.close()}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00127}00127\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00128}00128\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ f:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00129}00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f.close()}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ self.copy\_file(script,\ outfile)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00131}00131\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00132}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_ac3575da8a632e2b441173b845a02f632}{00132}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_ac3575da8a632e2b441173b845a02f632}{\_change\_modes}}(self,\ outfiles):}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00133}00133\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.name\ !=\ \textcolor{stringliteral}{'posix'}:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00134}00134\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00135}00135\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00136}00136\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ file\ \textcolor{keywordflow}{in}\ outfiles:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00137}00137\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a34e403ba2693216c21a86191b9994528}{\_change\_mode}}(file)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00138}00138\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00139}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a34e403ba2693216c21a86191b9994528}{00139}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a34e403ba2693216c21a86191b9994528}{\_change\_mode}}(self,\ file):}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00140}00140\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_a71e6537e5346dc1584d34630711b9a27}{dry\_run}}:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00141}00141\ \ \ \ \ \ \ \ \ \ \ \ \ log.info(\textcolor{stringliteral}{"{}changing\ mode\ of\ \%s"{}},\ file)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00142}00142\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00143}00143\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00144}00144\ \ \ \ \ \ \ \ \ oldmode\ =\ os.stat(file)[ST\_MODE]\ \&\ 0o7777}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00145}00145\ \ \ \ \ \ \ \ \ newmode\ =\ (oldmode\ |\ 0o555)\ \&\ 0o7777}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00146}00146\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ newmode\ !=\ oldmode:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00147}00147\ \ \ \ \ \ \ \ \ \ \ \ \ log.info(\textcolor{stringliteral}{"{}changing\ mode\ of\ \%s\ from\ \%o\ to\ \%o"{}},\ file,\ oldmode,\ newmode)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00148}00148\ \ \ \ \ \ \ \ \ \ \ \ \ os.chmod(file,\ newmode)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00149}00149\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00150}00150\ \ \ \ \ \textcolor{preprocessor}{@staticmethod}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00151}\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_aadf7becf6683b90520cff858695555aa}{00151}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classsetuptools_1_1__distutils_1_1command_1_1build__scripts_1_1build__scripts_aadf7becf6683b90520cff858695555aa}{\_validate\_shebang}}(shebang,\ encoding):}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00152}00152\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Python\ parser\ starts\ to\ read\ a\ script\ using\ UTF-\/8\ until}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00153}00153\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ it\ gets\ a\ \#coding:xxx\ cookie.\ The\ shebang\ has\ to\ be\ the}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00154}00154\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ first\ line\ of\ a\ file,\ the\ \#coding:xxx\ cookie\ cannot\ be}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00155}00155\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ written\ before.\ So\ the\ shebang\ has\ to\ be\ encodable\ to}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00156}00156\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ UTF-\/8.}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00157}00157\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00158}00158\ \ \ \ \ \ \ \ \ \ \ \ \ shebang.encode(\textcolor{stringliteral}{'utf-\/8'})}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00159}00159\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ UnicodeEncodeError:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00161}00161\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ shebang\ (\{!r\})\ is\ not\ encodable\ "{}}\ \textcolor{stringliteral}{"{}to\ utf-\/8"{}}.format(shebang)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00162}00162\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00163}00163\ }
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00164}00164\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ the\ script\ is\ encoded\ to\ a\ custom\ encoding\ (use\ a}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00165}00165\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \#coding:xxx\ cookie),\ the\ shebang\ has\ to\ be\ encodable\ to}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00166}00166\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ the\ script\ encoding\ too.}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00167}00167\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00168}00168\ \ \ \ \ \ \ \ \ \ \ \ \ shebang.encode(encoding)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00169}00169\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ UnicodeEncodeError:}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00171}00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ shebang\ (\{!r\})\ is\ not\ encodable\ "{}}}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00172}00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}to\ the\ script\ encoding\ (\{\})"{}}.format(shebang,\ encoding)}
\DoxyCodeLine{\Hypertarget{build__scripts_8py_source_l00173}00173\ \ \ \ \ \ \ \ \ \ \ \ \ )}

\end{DoxyCode}
