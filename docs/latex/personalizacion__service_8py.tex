\doxysection{Referencia del archivo microservicio\+\_\+personalizacion/app/domain/services/personalizacion\+\_\+service.py}
\hypertarget{personalizacion__service_8py}{}\label{personalizacion__service_8py}\index{microservicio\_personalizacion/app/domain/services/personalizacion\_service.py@{microservicio\_personalizacion/app/domain/services/personalizacion\_service.py}}
\doxysubsubsection*{Clases}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classapp_1_1domain_1_1services_1_1personalizacion__service_1_1_personalizacion_service}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+Personalizacion\+Service}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Espacios de nombres}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespaceapp}{app}}
\item 
namespace \mbox{\hyperlink{namespaceapp_1_1domain}{app.\+domain}}
\item 
namespace \mbox{\hyperlink{namespaceapp_1_1domain_1_1services}{app.\+domain.\+services}}
\item 
namespace \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service}{app.\+domain.\+services.\+personalizacion\+\_\+service}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Funciones}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classstarlette_1_1responses_1_1_j_s_o_n_response}{JSONResponse}} \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ac9bfbc073df7194be1288e9848e78270}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+desactivar\+Ecas\+Usuario\+Actual}} (self)
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a7b805be6ce48f5c6a79d7d23b51097fe}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+crear\+Ecas}} (self, \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a2ab48e5c318af295d5a8a4241fd5e2d7}{lista\+Ecas\+Crear}})
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aae7e5d20a9f355076b8d5f9903e06751}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+inicializar\+Ecas\+Usuario}} (self, lista\+Ecas\+Activar)
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a2527f6f145c877b6a607575dd6f0efc8}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+eliminar\+Ecas}} (self, \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a9fd324616a5cf02beec186f5c58f7396}{lista\+Ecas\+Eliminar}})
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a9c882b9e65c59f73c377ed5da559fa31}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+verificar\+Usuario}} (self, email)
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a1fa87e44ae034f58574c2b7123f7cd95}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+posicion\+Valor}} (self, lista\+Dic, clave, valor)
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ae4e2a7716d0b54ac26d2d56018214226}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+ecas\+Archivo\+ADiccionario}} (self)
\item 
\mbox{\hyperlink{classstarlette_1_1responses_1_1_j_s_o_n_response}{JSONResponse}} \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a30bb0c913de5516d6fcc3600afca1ce9}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+registro\+Interaccion\+Usuario\+Objeto}} (self, \mbox{\hyperlink{classapp_1_1application_1_1dtos_1_1request__dtos_1_1_registro_interaccion_d_t_o}{Registro\+Interaccion\+DTO}} data)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
list \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a9fd324616a5cf02beec186f5c58f7396}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+lista\+Ecas\+Eliminar}} = \mbox{[}$\,$\mbox{]}
\begin{DoxyCompactList}\small\item\em lista\+Ecas\+Crear \mbox{[}\{\textquotesingle{}name\+\_\+event\+\_\+resource\textquotesingle{}\+: \textquotesingle{}temperatura\textquotesingle{}, \textquotesingle{}unit\+\_\+action\textquotesingle{}\+: \textquotesingle{}None\textquotesingle{}, \textquotesingle{}type\+\_\+variable\+\_\+action\textquotesingle{}\+: \textquotesingle{}bool\textquotesingle{}, \textquotesingle{}comparator\+\_\+action\textquotesingle{}\+: \textquotesingle{}igual\textquotesingle{}, \textquotesingle{}id\+\_\+action\+\_\+object\textquotesingle{}\+: \textquotesingle{}708637323\textquotesingle{}, \textquotesingle{}ip\+\_\+action\+\_\+object\textquotesingle{}\+: \textquotesingle{}192.\+168.\+123.\+104\textquotesingle{}, \textquotesingle{}name\+\_\+eca\textquotesingle{}\+: \textquotesingle{}subir\+Temperatura\textquotesingle{}, \textquotesingle{}end\+\_\+date\+\_\+activity\textquotesingle{}\+: \textquotesingle{}\textquotesingle{}, \textquotesingle{}variable\+\_\+condition\textquotesingle{}\+: \textquotesingle{}20\textquotesingle{}, \textquotesingle{}comparator\+\_\+condition\textquotesingle{}\+: \textquotesingle{}igual\textquotesingle{}, \textquotesingle{}meaning\+\_\+condition\textquotesingle{}\+: \textquotesingle{}hace calor\textquotesingle{}, \textquotesingle{}state\+\_\+eca\textquotesingle{}\+: \textquotesingle{}on\textquotesingle{}, \textquotesingle{}name\+\_\+action\+\_\+object\textquotesingle{}\+: \textquotesingle{}Regulador Temperatura\textquotesingle{}, \textquotesingle{}id\+\_\+action\+\_\+resource\textquotesingle{}\+: \textquotesingle{}ventilador\textquotesingle{}, \textquotesingle{}start\+\_\+date\+\_\+activity\textquotesingle{}\+: \textquotesingle{}\textquotesingle{}, \textquotesingle{}name\+\_\+activity\textquotesingle{}\+: \textquotesingle{}\textquotesingle{}, \textquotesingle{}meaning\+\_\+action\textquotesingle{}\+: \textquotesingle{}encender ventilador\textquotesingle{}, \textquotesingle{}name\+\_\+event\+\_\+object\textquotesingle{}\+: \textquotesingle{}Regulador Temperatura\textquotesingle{}, \textquotesingle{}id\+\_\+event\+\_\+resource\textquotesingle{}\+: \textquotesingle{}temperatura\textquotesingle{}, \textquotesingle{}variable\+\_\+action\textquotesingle{}\+: \textquotesingle{}1\textquotesingle{}, \textquotesingle{}ip\+\_\+event\+\_\+object\textquotesingle{}\+: \textquotesingle{}192.\+168.\+123.\+104\textquotesingle{}, \textquotesingle{}unit\+\_\+condition\textquotesingle{}\+: \textquotesingle{}\textquotesingle{}, \textquotesingle{}id\+\_\+event\+\_\+object\textquotesingle{}\+: \textquotesingle{}708637323\textquotesingle{}, \textquotesingle{}name\+\_\+action\+\_\+resource\textquotesingle{}\+: \textquotesingle{}ventilador\textquotesingle{}, \textquotesingle{}type\+\_\+variable\+\_\+condition\textquotesingle{}\+: \textquotesingle{}float\textquotesingle{}\}\mbox{]} \end{DoxyCompactList}\item 
list \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ab684c89dfd4ec2f16c83f1335c5f299d}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+lista\+Ecas\+Igual\+Estado}} = \mbox{[}$\,$\mbox{]}
\item 
list \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aa2767b2af43986712ec841bdd37adef7}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+lista\+Ecas\+Modificar\+Estado}} = \mbox{[}$\,$\mbox{]}
\item 
list \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a2ab48e5c318af295d5a8a4241fd5e2d7}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+lista\+Ecas\+Crear}} = \mbox{[}$\,$\mbox{]}
\item 
list \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aa3607d6ec3524b21192452bfeb5cb229}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+posiciones\+Ecas\+Encontrados}} = \mbox{[}$\,$\mbox{]}
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_abfe38c85f4926f744caa654aac5cdb3f}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+posicion}} = self.\+posicion\+Valor(ecas\+Archivo, "{}name\+\_\+eca"{}, item\mbox{[}"{}name\+\_\+eca"{}\mbox{]})
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aab64c7d2ba574c0c574c5babf009b8fa}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+item\+Eca\+Archivo}} = ecas\+Archivo\mbox{[}\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_abfe38c85f4926f744caa654aac5cdb3f}{posicion}}\mbox{]}
\begin{DoxyCompactList}\small\item\em Si el eca del archivo esta en los del usuario, hay que activarlo osea eca\+Archivo en lista\+Ecas\+Usuario. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a32faaee5948602a5cc428e672b60401e}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+i}} = 0
\begin{DoxyCompactList}\small\item\em Esta en los ecas del usuario, pero no el el archivo. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aba9d199425dd41013b56d9ed599066b4}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+hilo\+Crear\+Ecas}} = threading.\+Thread(target = self.\+crear\+Ecas, name="{}Hilo\+Crear\+Ecas"{}, args =(\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a2ab48e5c318af295d5a8a4241fd5e2d7}{lista\+Ecas\+Crear}},))
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a4803b2c84d7fae4e8c9dffc490c2cf04}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+hiloinicializar\+Ecas\+Usuario}} = threading.\+Thread(target = self.\+inicializar\+Ecas\+Usuario, name="{}Hilo\+Inicializar\+Ecas\+Usuario"{}, args =(\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ab684c89dfd4ec2f16c83f1335c5f299d}{lista\+Ecas\+Igual\+Estado}},))
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a0fa43818061d24da9623f8a6b9607323}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+hilo\+Eliminar\+Ecas\+Usurio}} = threading.\+Thread(target = self.\+eliminar\+Ecas, name="{}Hilo\+Eliminar\+Ecas\+Usurio"{}, args =(\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a9fd324616a5cf02beec186f5c58f7396}{lista\+Ecas\+Eliminar}},))
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ad3d616e046a3a742a036cddfee1c692b}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+archivo}} = open(self.\+path\+Ecas\+Usuario,\textquotesingle{}w+\textquotesingle{})
\begin{DoxyCompactList}\small\item\em Sobreescribo el archivo para que solo tenga los ecas de la ontologia del usuario. \end{DoxyCompactList}\item 
list \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ac0a5917d5a2b11da3b4b6639a71d7452}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+lista\+Ecas\+Archivo}} = \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a2ab48e5c318af295d5a8a4241fd5e2d7}{lista\+Ecas\+Crear}} + \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aa2767b2af43986712ec841bdd37adef7}{lista\+Ecas\+Modificar\+Estado}} + \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ab684c89dfd4ec2f16c83f1335c5f299d}{lista\+Ecas\+Igual\+Estado}}
\item 
str \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a8596c2ac7722136bba938e77f5f6d15d}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+linea}} = item\mbox{[}"{}name\+\_\+eca"{}\mbox{]} + "{},"{} + item\mbox{[}"{}state\+\_\+eca"{}\mbox{]} + "{}\textbackslash{}n"{}
\item 
str \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a049e403b3570389ff53d2cda29716360}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+user\+\_\+eca}} = \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1ontology__service_a8663fc24b0f4e97b8fe519cb12d24f41}{ontology\+\_\+service.\+consultar\+\_\+email\+\_\+usuario}}()
\begin{DoxyCompactList}\small\item\em Cada Usuario va a tener un archivo email.\+txt donde se almacena el nombre del ECA y su estado. \end{DoxyCompactList}\item 
str \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ab1961a46631ed1a1bbf3210d147cf507}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+path\+Ecas\+Usuario}} = self.\+path + self.\+user\+\_\+eca +"{}.txt"{}
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ae080dc3cb17cf25bcd6bc09cad492512}{app.\+domain.\+services.\+personalizacion\+\_\+service.\+osid}}
\end{DoxyCompactItemize}
