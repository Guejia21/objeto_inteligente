\doxysection{Referencia del directorio microservicio\+\_\+data\+\_\+stream}
\hypertarget{dir_2aa1f102b37d9b4aece219a2ace30718}{}\label{dir_2aa1f102b37d9b4aece219a2ace30718}\index{Referencia del directorio microservicio\_data\_stream@{Referencia del directorio microservicio\_data\_stream}}
\doxysubsubsection*{Directorios}
\begin{DoxyCompactItemize}
\item 
directorio \mbox{\hyperlink{dir_12aeef2c1c9167388388729eb48455f7}{broker}}
\item 
directorio \mbox{\hyperlink{dir_3e7dcc2da1a5bffc39cc8402d320b2ea}{hardware}}
\item 
directorio \mbox{\hyperlink{dir_ab2f09009488751953af1523e6398f95}{lib}}
\item 
directorio \mbox{\hyperlink{dir_6de7011899838c080a4e5f9c00720e43}{routes}}
\item 
directorio \mbox{\hyperlink{dir_78bc6e87b30f7e04e7ad6b434968683b}{services}}
\item 
directorio \mbox{\hyperlink{dir_766002635246d729e749bde9a498cb6e}{storage}}
\item 
directorio \mbox{\hyperlink{dir_d67ebe39bda80220a896fafdc066964b}{tests}}
\item 
directorio \mbox{\hyperlink{dir_969735b450a96e3804bc8db065f0b9f9}{utils}}
\item 
directorio \mbox{\hyperlink{dir_bdef65ffaf6029743caac15343bd296b}{venv}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Archivos}
\begin{DoxyCompactItemize}
\item 
archivo \mbox{\hyperlink{microservicio__data__stream_2config_8py}{config.\+py}}
\item 
archivo \mbox{\hyperlink{microservicio__data__stream_2main_8py}{main.\+py}}
\end{DoxyCompactItemize}


\doxysubsection{Descripción detallada}
Para instalar micropython en linux debe seguirse la guia\+: \href{https://docs.micropython.org/en/latest/develop/gettingstarted.html}{\texttt{https\+://docs.\+micropython.\+org/en/latest/develop/gettingstarted.\+html}} Se puede crear un enlace simbolico para usar micropython como un comando nativo, de esta forma\+:

sudo ln -\/s \texorpdfstring{$<$}{<}"{}rutamicropython"{}\texorpdfstring{$>$}{>}/micropython /usr/local/bin/micropython\hypertarget{dir_2aa1f102b37d9b4aece219a2ace30718_autotoc_md6}{}\doxysubsection{\texorpdfstring{Nota importante}{Nota importante}}\label{dir_2aa1f102b37d9b4aece219a2ace30718_autotoc_md6}
Para la ejecución con la rasberry se recomienda hacerlo con python3, por lo tanto se deberán hacer cambios respecto a las librerias, por ejemplo, en vez de ujson (para micropython) usar json\hypertarget{dir_2aa1f102b37d9b4aece219a2ace30718_autotoc_md7}{}\doxysubsection{\texorpdfstring{Broker de mensajería}{Broker de mensajería}}\label{dir_2aa1f102b37d9b4aece219a2ace30718_autotoc_md7}
En este micro se usará una comunicación mqtt, debido a que el protocolo nativo manejado por Rabbit\+Mq no está soportado en Micropython. A pesar de eso, Rabbit ofrece un plugin mqtt, con el fin de publicar mensajes en este protocolo, para activar el plugin debe iniciarse Rabbit mq y hacer\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\ sh}
\DoxyCodeLine{rabbitmq-\/plugins\ enable\ -\/-\/offline\ rabbitmq\_mqtt}

\end{DoxyCode}


Si se ejecuta por medio de Docker se debe ingresar a la consola del contenedor y ejecutar el comando anterior, posteriormente debe reinicarse el contenedor.

Para ejecutar rabbit por medio de Docker se hace (debe ejecutarse dese obojeto\+\_\+inteligente/)\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{docker\ run\ -\/d\ -\/-\/name\ rabbitmq\ -\/p\ 5672:5672\ -\/p\ 15672:15672\ -\/p\ 1883:1883\ -\/v\ \string~/rabbitmq/rabbitmq.conf:/etc/rabbitmq/rabbitmq.conf\ -\/e\ RABBITMQ\_DEFAULT\_USER=admin\ -\/e\ RABBITMQ\_DEFAULT\_PASS=admin\ rabbitmq:3.13-\/management\ bash\ -\/c\ "{}rabbitmq-\/plugins\ enable\ -\/-\/offline\ rabbitmq\_management\ rabbitmq\_mqtt\ \&\&\ rabbitmq-\/server"{}}

\end{DoxyCode}
 