\doxysection{\+\_\+core\+\_\+utils.\+py}
\hypertarget{__core__utils_8py_source}{}\label{__core__utils_8py_source}\index{micro\_gestion\_objetos/venv/Lib/site-\/packages/pydantic/\_internal/\_core\_utils.py@{micro\_gestion\_objetos/venv/Lib/site-\/packages/pydantic/\_internal/\_core\_utils.py}}
\mbox{\hyperlink{__core__utils_8py}{Ir a la documentaciÃ³n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00001}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils}{00001}}\ \textcolor{keyword}{from}\ \_\_future\_\_\ \textcolor{keyword}{import}\ annotations}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00003}00003\ \textcolor{keyword}{import}\ inspect}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00004}00004\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacecollections_1_1abc}{collections.abc}}\ \textcolor{keyword}{import}\ Mapping,\ Sequence}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00005}00005\ \textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ TYPE\_CHECKING,\ Any,\ Union}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00007}00007\ \textcolor{keyword}{from}\ pydantic\_core\ \textcolor{keyword}{import}\ CoreSchema,\ core\_schema}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00008}00008\ \textcolor{keyword}{from}\ typing\_extensions\ \textcolor{keyword}{import}\ TypeGuard,\ get\_args,\ get\_origin}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00009}00009\ \textcolor{keyword}{from}\ typing\_inspection\ \textcolor{keyword}{import}\ typing\_objects}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00011}00011\ \textcolor{keyword}{from}\ .\ \textcolor{keyword}{import}\ \_repr}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00012}00012\ \textcolor{keyword}{from}\ .\_typing\_extra\ \textcolor{keyword}{import}\ is\_generic\_alias}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00014}00014\ \textcolor{keywordflow}{if}\ TYPE\_CHECKING:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00015}00015\ \ \ \ \ \textcolor{keyword}{from}\ rich.console\ \textcolor{keyword}{import}\ Console}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00017}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_a2809a40abeb20fce6f2970c4298f2bd5}{00017}}\ AnyFunctionSchema\ =\ Union[}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00018}00018\ \ \ \ \ \mbox{\hyperlink{classpydantic__core_1_1core__schema_1_1_after_validator_function_schema}{core\_schema.AfterValidatorFunctionSchema}},}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00019}00019\ \ \ \ \ \mbox{\hyperlink{classpydantic__core_1_1core__schema_1_1_before_validator_function_schema}{core\_schema.BeforeValidatorFunctionSchema}},}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00020}00020\ \ \ \ \ \mbox{\hyperlink{classpydantic__core_1_1core__schema_1_1_wrap_validator_function_schema}{core\_schema.WrapValidatorFunctionSchema}},}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00021}00021\ \ \ \ \ \mbox{\hyperlink{classpydantic__core_1_1core__schema_1_1_plain_validator_function_schema}{core\_schema.PlainValidatorFunctionSchema}},}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00022}00022\ ]}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00025}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_aef267c6d2e76e71a5d19edb99ef4b116}{00025}}\ FunctionSchemaWithInnerSchema\ =\ Union[}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00026}00026\ \ \ \ \ \mbox{\hyperlink{classpydantic__core_1_1core__schema_1_1_after_validator_function_schema}{core\_schema.AfterValidatorFunctionSchema}},}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00027}00027\ \ \ \ \ \mbox{\hyperlink{classpydantic__core_1_1core__schema_1_1_before_validator_function_schema}{core\_schema.BeforeValidatorFunctionSchema}},}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00028}00028\ \ \ \ \ \mbox{\hyperlink{classpydantic__core_1_1core__schema_1_1_wrap_validator_function_schema}{core\_schema.WrapValidatorFunctionSchema}},}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00029}00029\ ]}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00031}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_a1f7ad21b31cbda0f041996d9c497d583}{00031}}\ CoreSchemaField\ =\ Union[}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00032}00032\ \ \ \ \ \mbox{\hyperlink{classpydantic__core_1_1core__schema_1_1_model_field}{core\_schema.ModelField}},\ \mbox{\hyperlink{classpydantic__core_1_1core__schema_1_1_dataclass_field}{core\_schema.DataclassField}},\ \mbox{\hyperlink{classpydantic__core_1_1core__schema_1_1_typed_dict_field}{core\_schema.TypedDictField}},\ \mbox{\hyperlink{classpydantic__core_1_1core__schema_1_1_computed_field}{core\_schema.ComputedField}}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00033}00033\ ]}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00034}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_acacda4f87b4516ef3216488fd6f86dc6}{00034}}\ CoreSchemaOrField\ =\ Union[core\_schema.CoreSchema,\ CoreSchemaField]}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00036}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_a0fbceb59f2f43b6580b4b4e56e474f32}{00036}}\ \_CORE\_SCHEMA\_FIELD\_TYPES\ =\ \{\textcolor{stringliteral}{'typed-\/dict-\/field'},\ \textcolor{stringliteral}{'dataclass-\/field'},\ \textcolor{stringliteral}{'model-\/field'},\ \textcolor{stringliteral}{'computed-\/field'}\}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00037}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_a9da520fc6a808b1602acc9fb5ceb23f0}{00037}}\ \_FUNCTION\_WITH\_INNER\_SCHEMA\_TYPES\ =\ \{\textcolor{stringliteral}{'function-\/before'},\ \textcolor{stringliteral}{'function-\/after'},\ \textcolor{stringliteral}{'function-\/wrap'}\}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00038}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_a08b2c4271be8e825447403edb498f5c2}{00038}}\ \_LIST\_LIKE\_SCHEMA\_WITH\_ITEMS\_TYPES\ =\ \{\textcolor{stringliteral}{'list'},\ \textcolor{stringliteral}{'set'},\ \textcolor{stringliteral}{'frozenset'}\}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00041}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_a13c47248634c66eb934b28153a6cd1db}{00041}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_a13c47248634c66eb934b28153a6cd1db}{is\_core\_schema}}(}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00042}00042\ \ \ \ \ schema:\ CoreSchemaOrField,}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00043}00043\ )\ -\/>\ TypeGuard[CoreSchema]:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00044}00044\ \ \ \ \ \textcolor{keywordflow}{return}\ schema[\textcolor{stringliteral}{'type'}]\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ \_CORE\_SCHEMA\_FIELD\_TYPES}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00047}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_a303cb607e4079de1150c64beb9b5eeb9}{00047}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_a303cb607e4079de1150c64beb9b5eeb9}{is\_core\_schema\_field}}(}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00048}00048\ \ \ \ \ schema:\ CoreSchemaOrField,}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00049}00049\ )\ -\/>\ TypeGuard[CoreSchemaField]:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00050}00050\ \ \ \ \ \textcolor{keywordflow}{return}\ schema[\textcolor{stringliteral}{'type'}]\ \textcolor{keywordflow}{in}\ \_CORE\_SCHEMA\_FIELD\_TYPES}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00053}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_aaec980fad6b7b5b1ecc6937fd5f602ab}{00053}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_aaec980fad6b7b5b1ecc6937fd5f602ab}{is\_function\_with\_inner\_schema}}(}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00054}00054\ \ \ \ \ schema:\ CoreSchemaOrField,}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00055}00055\ )\ -\/>\ TypeGuard[FunctionSchemaWithInnerSchema]:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00056}00056\ \ \ \ \ \textcolor{keywordflow}{return}\ schema[\textcolor{stringliteral}{'type'}]\ \textcolor{keywordflow}{in}\ \_FUNCTION\_WITH\_INNER\_SCHEMA\_TYPES}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00059}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_a02b3bcd6212b511b5de73be201036072}{00059}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_a02b3bcd6212b511b5de73be201036072}{is\_list\_like\_schema\_with\_items\_schema}}(}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00060}00060\ \ \ \ \ schema:\ CoreSchema,}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00061}00061\ )\ -\/>\ TypeGuard[\mbox{\hyperlink{classpydantic__core_1_1core__schema_1_1_list_schema}{core\_schema.ListSchema}}\ |\ \mbox{\hyperlink{classpydantic__core_1_1core__schema_1_1_set_schema}{core\_schema.SetSchema}}\ |\ \mbox{\hyperlink{classpydantic__core_1_1core__schema_1_1_frozen_set_schema}{core\_schema.FrozenSetSchema}}]:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00062}00062\ \ \ \ \ \textcolor{keywordflow}{return}\ schema[\textcolor{stringliteral}{'type'}]\ \textcolor{keywordflow}{in}\ \_LIST\_LIKE\_SCHEMA\_WITH\_ITEMS\_TYPES}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00064}00064\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00065}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_a9e5dccd26eb52a5e48134e3c48d900b0}{00065}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_a9e5dccd26eb52a5e48134e3c48d900b0}{get\_type\_ref}}(type\_:\ Any,\ args\_override:\ tuple[type[Any],\ ...]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None})\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00066}00066\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Produces\ the\ ref\ to\ be\ used\ for\ this\ type\ by\ pydantic\_core's\ core\ schemas.}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00067}00067\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00068}00068\ \textcolor{stringliteral}{\ \ \ \ This\ \`{}args\_override\`{}\ argument\ was\ added\ for\ the\ purpose\ of\ creating\ valid\ recursive\ references}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00069}00069\ \textcolor{stringliteral}{\ \ \ \ when\ creating\ generic\ models\ without\ needing\ to\ create\ a\ concrete\ class.}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00070}00070\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00071}00071\ \ \ \ \ origin\ =\ get\_origin(type\_)\ \textcolor{keywordflow}{or}\ type\_}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00073}00073\ \ \ \ \ args\ =\ get\_args(type\_)\ \textcolor{keywordflow}{if}\ is\_generic\_alias(type\_)\ \textcolor{keywordflow}{else}\ (args\_override\ \textcolor{keywordflow}{or}\ ())}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00074}00074\ \ \ \ \ generic\_metadata\ =\ getattr(type\_,\ \textcolor{stringliteral}{'\_\_pydantic\_generic\_metadata\_\_'},\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00075}00075\ \ \ \ \ \textcolor{keywordflow}{if}\ generic\_metadata:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ origin\ =\ generic\_metadata[\textcolor{stringliteral}{'origin'}]\ \textcolor{keywordflow}{or}\ origin}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ args\ =\ generic\_metadata[\textcolor{stringliteral}{'args'}]\ \textcolor{keywordflow}{or}\ args}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00079}00079\ \ \ \ \ module\_name\ =\ getattr(origin,\ \textcolor{stringliteral}{'\_\_module\_\_'},\ \textcolor{stringliteral}{'<No\ \_\_module\_\_>'})}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00080}00080\ \ \ \ \ \textcolor{keywordflow}{if}\ typing\_objects.is\_typealiastype(origin):}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00081}00081\ \ \ \ \ \ \ \ \ type\_ref\ =\ f\textcolor{stringliteral}{'\{module\_name\}.\{origin.\_\_name\_\_\}:\{id(origin)\}'}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00082}00082\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00083}00083\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00084}00084\ \ \ \ \ \ \ \ \ \ \ \ \ qualname\ =\ getattr(origin,\ \textcolor{stringliteral}{'\_\_qualname\_\_'},\ f\textcolor{stringliteral}{'<No\ \_\_qualname\_\_:\ \{origin\}>'})}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00085}00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ Exception:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00086}00086\ \ \ \ \ \ \ \ \ \ \ \ \ qualname\ =\ getattr(origin,\ \textcolor{stringliteral}{'\_\_qualname\_\_'},\ \textcolor{stringliteral}{'<No\ \_\_qualname\_\_>'})}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00087}00087\ \ \ \ \ \ \ \ \ type\_ref\ =\ f\textcolor{stringliteral}{'\{module\_name\}.\{qualname\}:\{id(origin)\}'}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00088}00088\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00089}00089\ \ \ \ \ arg\_refs:\ list[str]\ =\ []}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00090}00090\ \ \ \ \ \textcolor{keywordflow}{for}\ arg\ \textcolor{keywordflow}{in}\ args:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00091}00091\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(arg,\ str):}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00092}00092\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Handle\ string\ literals\ as\ a\ special\ case;\ we\ may\ be\ able\ to\ remove\ this\ special\ handling\ if\ we}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00093}00093\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ wrap\ them\ in\ a\ ForwardRef\ at\ some\ point.}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00094}00094\ \ \ \ \ \ \ \ \ \ \ \ \ arg\_ref\ =\ f\textcolor{stringliteral}{'\{arg\}:str-\/\{id(arg)\}'}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00095}00095\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00096}00096\ \ \ \ \ \ \ \ \ \ \ \ \ arg\_ref\ =\ f\textcolor{stringliteral}{'\{\_repr.display\_as\_type(arg)\}:\{id(arg)\}'}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00097}00097\ \ \ \ \ \ \ \ \ arg\_refs.append(arg\_ref)}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00098}00098\ \ \ \ \ \textcolor{keywordflow}{if}\ arg\_refs:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00099}00099\ \ \ \ \ \ \ \ \ type\_ref\ =\ f\textcolor{stringliteral}{'\{type\_ref\}[\{"{},"{}.join(arg\_refs)\}]'}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00100}00100\ \ \ \ \ \textcolor{keywordflow}{return}\ type\_ref}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00102}00102\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00103}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_acd4f45a698fe4134d3b98c445f42a7ce}{00103}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_acd4f45a698fe4134d3b98c445f42a7ce}{get\_ref}}(s:\ core\_schema.CoreSchema)\ -\/>\ \textcolor{keywordtype}{None}\ |\ str:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00104}00104\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Get\ the\ ref\ from\ the\ schema\ if\ it\ has\ one.}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00105}00105\ \textcolor{stringliteral}{\ \ \ \ This\ exists\ just\ for\ type\ checking\ to\ work\ correctly.}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00106}00106\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00107}00107\ \ \ \ \ \textcolor{keywordflow}{return}\ s.get(\textcolor{stringliteral}{'ref'},\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00108}00108\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00109}00109\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00110}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_ad815141fd8e0df4002d6bfbac43b23b0}{00110}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_ad815141fd8e0df4002d6bfbac43b23b0}{\_clean\_schema\_for\_pretty\_print}}(obj:\ Any,\ strip\_metadata:\ bool\ =\ \textcolor{keyword}{True})\ -\/>\ Any:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00111}00111\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}A\ utility\ function\ to\ remove\ irrelevant\ information\ from\ a\ core\ schema."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00112}00112\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(obj,\ Mapping):}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00113}00113\ \ \ \ \ \ \ \ \ new\_dct\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00114}00114\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ obj.items():}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ k\ ==\ \textcolor{stringliteral}{'metadata'}\ \textcolor{keywordflow}{and}\ strip\_metadata:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ new\_metadata\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00117}00117\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ meta\_k,\ meta\_v\ \textcolor{keywordflow}{in}\ v.items():}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ meta\_k\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{'pydantic\_js\_functions'},\ \textcolor{stringliteral}{'pydantic\_js\_annotation\_functions'}):}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00120}00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ new\_metadata[\textcolor{stringliteral}{'js\_metadata'}]\ =\ \textcolor{stringliteral}{'<stripped>'}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00121}00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ new\_metadata[meta\_k]\ =\ \mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_ad815141fd8e0df4002d6bfbac43b23b0}{\_clean\_schema\_for\_pretty\_print}}(meta\_v,\ strip\_metadata=strip\_metadata)}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00124}00124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ list(new\_metadata.keys())\ ==\ [\textcolor{stringliteral}{'js\_metadata'}]:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00125}00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ new\_metadata\ =\ \{\textcolor{stringliteral}{'<stripped>'}\}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00126}00126\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00127}00127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ new\_dct[k]\ =\ new\_metadata}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00128}00128\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Remove\ some\ defaults:}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00129}00129\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ k\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{'custom\_init'},\ \textcolor{stringliteral}{'root\_model'})\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ v:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00131}00131\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00132}00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ new\_dct[k]\ =\ \mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_ad815141fd8e0df4002d6bfbac43b23b0}{\_clean\_schema\_for\_pretty\_print}}(v,\ strip\_metadata=strip\_metadata)}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00133}00133\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00134}00134\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ new\_dct}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00135}00135\ \ \ \ \ \textcolor{keywordflow}{elif}\ isinstance(obj,\ Sequence)\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ isinstance(obj,\ str):}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00136}00136\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_ad815141fd8e0df4002d6bfbac43b23b0}{\_clean\_schema\_for\_pretty\_print}}(v,\ strip\_metadata=strip\_metadata)\ \textcolor{keywordflow}{for}\ v\ \textcolor{keywordflow}{in}\ obj]}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00137}00137\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00138}00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ obj}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00139}00139\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00140}00140\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00141}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_a0ece7fabfcbd6c71901e96c1e198ad0b}{00141}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_a0ece7fabfcbd6c71901e96c1e198ad0b}{pretty\_print\_core\_schema}}(}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00142}00142\ \ \ \ \ val:\ Any,}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00143}00143\ \ \ \ \ *,}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00144}00144\ \ \ \ \ console:\ Console\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00145}00145\ \ \ \ \ max\_depth:\ int\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00146}00146\ \ \ \ \ strip\_metadata:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00147}00147\ )\ -\/>\ \textcolor{keywordtype}{None}:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00148}00148\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Pretty-\/print\ a\ core\ schema\ using\ the\ \`{}rich\`{}\ library.}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00149}00149\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00150}00150\ \textcolor{stringliteral}{\ \ \ \ Args:}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00151}00151\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ val:\ The\ core\ schema\ to\ print,\ or\ a\ Pydantic\ model/dataclass/type\ adapter}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00152}00152\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ (in\ which\ case\ the\ cached\ core\ schema\ is\ fetched\ and\ printed).}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00153}00153\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ console:\ A\ rich\ console\ to\ use\ when\ printing.\ Defaults\ to\ the\ global\ rich\ console\ instance.}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00154}00154\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ max\_depth:\ The\ number\ of\ nesting\ levels\ which\ may\ be\ printed.}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00155}00155\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ strip\_metadata:\ Whether\ to\ strip\ metadata\ in\ the\ output.\ If\ \`{}True\`{}\ any\ known\ core\ metadata}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00156}00156\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ attributes\ will\ be\ stripped\ (but\ custom\ attributes\ are\ kept).\ Defaults\ to\ \`{}True\`{}.}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00157}00157\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00158}00158\ \ \ \ \ \textcolor{comment}{\#\ lazy\ import:}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00159}00159\ \ \ \ \ \textcolor{keyword}{from}\ rich.pretty\ \textcolor{keyword}{import}\ pprint}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00160}00160\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00161}00161\ \ \ \ \ \textcolor{comment}{\#\ circ.\ imports:}}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00162}00162\ \ \ \ \ \textcolor{keyword}{from}\ pydantic\ \textcolor{keyword}{import}\ BaseModel,\ TypeAdapter}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00163}00163\ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepydantic_1_1dataclasses}{pydantic.dataclasses}}\ \textcolor{keyword}{import}\ is\_pydantic\_dataclass}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00164}00164\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00165}00165\ \ \ \ \ \textcolor{keywordflow}{if}\ (inspect.isclass(val)\ \textcolor{keywordflow}{and}\ issubclass(val,\ BaseModel))\ \textcolor{keywordflow}{or}\ is\_pydantic\_dataclass(val):}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00166}00166\ \ \ \ \ \ \ \ \ val\ =\ val.\_\_pydantic\_core\_schema\_\_}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00167}00167\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(val,\ TypeAdapter):}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00168}00168\ \ \ \ \ \ \ \ \ val\ =\ val.core\_schema}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00169}00169\ \ \ \ \ cleaned\_schema\ =\ \mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_ad815141fd8e0df4002d6bfbac43b23b0}{\_clean\_schema\_for\_pretty\_print}}(val,\ strip\_metadata=strip\_metadata)}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00170}00170\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00171}00171\ \ \ \ \ pprint(cleaned\_schema,\ console=console,\ max\_depth=max\_depth)}
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00172}00172\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00173}00173\ }
\DoxyCodeLine{\Hypertarget{__core__utils_8py_source_l00174}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__core__utils_ab518e7eeaa8fa6e9afcc40a939ae9b02}{00174}}\ pps\ =\ pretty\_print\_core\_schema}

\end{DoxyCode}
