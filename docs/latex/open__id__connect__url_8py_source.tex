\doxysection{open\+\_\+id\+\_\+connect\+\_\+url.\+py}
\hypertarget{open__id__connect__url_8py_source}{}\label{open__id__connect__url_8py_source}\index{micro\_gestion\_objetos/venv/Lib/site-\/packages/fastapi/security/open\_id\_connect\_url.py@{micro\_gestion\_objetos/venv/Lib/site-\/packages/fastapi/security/open\_id\_connect\_url.py}}
\mbox{\hyperlink{open__id__connect__url_8py}{Ir a la documentaciÃ³n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00001}\mbox{\hyperlink{namespacefastapi_1_1security_1_1open__id__connect__url}{00001}}\ \textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ Optional}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00003}00003\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefastapi_1_1openapi_1_1models}{fastapi.openapi.models}}\ \textcolor{keyword}{import}\ OpenIdConnect\ \textcolor{keyword}{as}\ OpenIdConnectModel}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00004}00004\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefastapi_1_1security_1_1base}{fastapi.security.base}}\ \textcolor{keyword}{import}\ SecurityBase}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00005}00005\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacestarlette_1_1exceptions}{starlette.exceptions}}\ \textcolor{keyword}{import}\ HTTPException}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00006}00006\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacestarlette_1_1requests}{starlette.requests}}\ \textcolor{keyword}{import}\ Request}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00007}00007\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacestarlette_1_1status}{starlette.status}}\ \textcolor{keyword}{import}\ HTTP\_403\_FORBIDDEN}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00008}00008\ \textcolor{keyword}{from}\ typing\_extensions\ \textcolor{keyword}{import}\ Annotated,\ Doc}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00011}\mbox{\hyperlink{classfastapi_1_1security_1_1open__id__connect__url_1_1_open_id_connect}{00011}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classfastapi_1_1openapi_1_1models_1_1_open_id_connect}{OpenIdConnect}}(\mbox{\hyperlink{classfastapi_1_1openapi_1_1models_1_1_security_base}{SecurityBase}}):}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00012}00012\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00013}00013\ \textcolor{stringliteral}{\ \ \ \ OpenID\ Connect\ authentication\ class.\ An\ instance\ of\ it\ would\ be\ used\ as\ a}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00014}00014\ \textcolor{stringliteral}{\ \ \ \ dependency.}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00015}00015\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00017}00017\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00018}00018\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00019}00019\ \ \ \ \ \ \ \ \ *,}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00020}00020\ \ \ \ \ \ \ \ \ openIdConnectUrl:\ Annotated[}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00021}00021\ \ \ \ \ \ \ \ \ \ \ \ \ str,}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00022}00022\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtyping__extensions_1_1_doc}{Doc}}(}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00023}00023\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00024}00024\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ The\ OpenID\ Connect\ URL.}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00025}00025\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00026}00026\ \ \ \ \ \ \ \ \ \ \ \ \ ),}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00027}00027\ \ \ \ \ \ \ \ \ ],}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ scheme\_name:\ Annotated[}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00029}00029\ \ \ \ \ \ \ \ \ \ \ \ \ Optional[str],}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtyping__extensions_1_1_doc}{Doc}}(}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00031}00031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00032}00032\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Security\ scheme\ name.}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00033}00033\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00034}00034\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ It\ will\ be\ included\ in\ the\ generated\ OpenAPI\ (e.g.\ visible\ at\ \`{}/docs\`{}).}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00035}00035\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ ),}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ ]\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ description:\ Annotated[}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ \ \ \ \ Optional[str],}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtyping__extensions_1_1_doc}{Doc}}(}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00041}00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00042}00042\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Security\ scheme\ description.}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00043}00043\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00044}00044\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ It\ will\ be\ included\ in\ the\ generated\ OpenAPI\ (e.g.\ visible\ at\ \`{}/docs\`{}).}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00045}00045\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00046}00046\ \ \ \ \ \ \ \ \ \ \ \ \ ),}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00047}00047\ \ \ \ \ \ \ \ \ ]\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ auto\_error:\ Annotated[}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00049}00049\ \ \ \ \ \ \ \ \ \ \ \ \ bool,}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00050}00050\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtyping__extensions_1_1_doc}{Doc}}(}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00051}00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00052}00052\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ By\ default,\ if\ no\ HTTP\ Authorization\ header\ is\ provided,\ required\ for}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00053}00053\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ OpenID\ Connect\ authentication,\ it\ will\ automatically\ cancel\ the\ request}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00054}00054\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ and\ send\ the\ client\ an\ error.}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00055}00055\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00056}00056\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ If\ \`{}auto\_error\`{}\ is\ set\ to\ \`{}False\`{},\ when\ the\ HTTP\ Authorization\ header}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00057}00057\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is\ not\ available,\ instead\ of\ erroring\ out,\ the\ dependency\ result\ will}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00058}00058\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ be\ \`{}None\`{}.}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00059}00059\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00060}00060\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ This\ is\ useful\ when\ you\ want\ to\ have\ optional\ authentication.}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00061}00061\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00062}00062\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ It\ is\ also\ useful\ when\ you\ want\ to\ have\ authentication\ that\ can\ be}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00063}00063\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ provided\ in\ one\ of\ multiple\ optional\ ways\ (for\ example,\ with\ OpenID}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00064}00064\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Connect\ or\ in\ a\ cookie).}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00065}00065\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00066}00066\ \ \ \ \ \ \ \ \ \ \ \ \ ),}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00067}00067\ \ \ \ \ \ \ \ \ ]\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00068}00068\ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00069}\mbox{\hyperlink{classfastapi_1_1security_1_1open__id__connect__url_1_1_open_id_connect_a44b17cde1ec51ade9993678c775133d0}{00069}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfastapi_1_1security_1_1open__id__connect__url_1_1_open_id_connect_a44b17cde1ec51ade9993678c775133d0}{model}}\ =\ OpenIdConnectModel(}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ openIdConnectUrl=openIdConnectUrl,\ description=description}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00071}00071\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00072}\mbox{\hyperlink{classfastapi_1_1security_1_1open__id__connect__url_1_1_open_id_connect_a0238d4b891dadf853a0457e937e36d77}{00072}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfastapi_1_1security_1_1open__id__connect__url_1_1_open_id_connect_a0238d4b891dadf853a0457e937e36d77}{scheme\_name}}\ =\ scheme\_name\ \textcolor{keywordflow}{or}\ self.\mbox{\hyperlink{classpydantic_1_1main_1_1_base_model}{\_\_class\_\_}}.\_\_name\_\_}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00073}\mbox{\hyperlink{classfastapi_1_1security_1_1open__id__connect__url_1_1_open_id_connect_a15c1a2270a4dcfc0c917d1bf24a7751f}{00073}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfastapi_1_1security_1_1open__id__connect__url_1_1_open_id_connect_a15c1a2270a4dcfc0c917d1bf24a7751f}{auto\_error}}\ =\ auto\_error}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00074}00074\ }
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00075}00075\ \ \ \ \ \textcolor{keyword}{async\ def\ }\_\_call\_\_(self,\ request:\ Request)\ -\/>\ Optional[str]:}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ authorization\ =\ request.headers.get(\textcolor{stringliteral}{"{}Authorization"{}})}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ authorization:}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00078}00078\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classfastapi_1_1security_1_1open__id__connect__url_1_1_open_id_connect_a15c1a2270a4dcfc0c917d1bf24a7751f}{auto\_error}}:}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00079}00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classstarlette_1_1exceptions_1_1_h_t_t_p_exception}{HTTPException}}(}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00080}00080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ status\_code=HTTP\_403\_FORBIDDEN,\ detail=\textcolor{stringliteral}{"{}Not\ authenticated"{}}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00081}00081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00082}00082\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00083}00083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{open__id__connect__url_8py_source_l00084}00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ authorization}

\end{DoxyCode}
