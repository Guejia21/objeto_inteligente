\doxysection{Referencia del espacio de nombres poblacion}
\hypertarget{namespacepoblacion}{}\label{namespacepoblacion}\index{poblacion@{poblacion}}
\doxysubsubsection*{Funciones}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacepoblacion_a11cebb60c665885fb6e77c7cf738556d}{poblar\+\_\+metadatos\+\_\+objeto}} (Poblador\+Payload\+DTO metadata, Poblacion\+Service service=Depends(get\+\_\+poblacion\+\_\+service))
\item 
\mbox{\hyperlink{namespacepoblacion_a9ff2fd7b97b1ee27bfcd6a62143385f1}{poblar\+\_\+eca}} (Eca\+Payload\+DTO \mbox{\hyperlink{namespaceeca}{eca}}, Poblacion\+Service service=Depends(get\+\_\+poblacion\+\_\+service))
\item 
\mbox{\hyperlink{namespacepoblacion_aa4d5ecb3d082d4818b4193aa1d25b798}{editar\+\_\+eca}} (Eca\+Payload\+DTO \mbox{\hyperlink{namespaceeca}{eca}}, Poblacion\+Service service=Depends(get\+\_\+poblacion\+\_\+service))
\item 
\mbox{\hyperlink{namespacepoblacion_a948efd94489282772d56b1e3104abfad}{cargar\+\_\+ontologia}} (\mbox{\hyperlink{classfastapi_1_1datastructures_1_1_upload_file}{Upload\+File}} file=File(..., description="{}Archivo de ontología (.owl)"{}), str nombre=Form(..., description="{}Nombre de la ontología"{}), str ip\+Coordinador=Form(..., description="{}IP del coordinador"{}), Poblacion\+Ontologia\+Usuario\+Service service=Depends(get\+\_\+poblacion\+\_\+pu\+\_\+service))
\item 
\mbox{\hyperlink{namespacepoblacion_a965e9c8e68abad903ca38aa547f1f94a}{registro\+\_\+interaccion}} (Registro\+Interaccion\+DTO data, Poblacion\+Ontologia\+Usuario\+Service service=Depends(get\+\_\+poblacion\+\_\+pu\+\_\+service))
\item 
\mbox{\hyperlink{namespacepoblacion_a561cc7e8acb2cdafce1a6b0e197cff6e}{eliminar\+\_\+ontologia\+\_\+usuario}} (Poblacion\+Ontologia\+Usuario\+Service service=Depends(get\+\_\+poblacion\+\_\+pu\+\_\+service))
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacepoblacion_af6e361dd202a4c8c46b5bc78005622a1}{ontologia\+\_\+router}} = \mbox{\hyperlink{classfastapi_1_1routing_1_1_a_p_i_router}{APIRouter}}(prefix="{}/ontology/poblacion"{}, tags=\mbox{[}"{}Poblacion de Base de conocimiento"{}\mbox{]})
\item 
\mbox{\hyperlink{namespacepoblacion_a428d70c95b4a9f0cf4903dbbbce4b54b}{ontologia\+\_\+usuario\+\_\+router}} = \mbox{\hyperlink{classfastapi_1_1routing_1_1_a_p_i_router}{APIRouter}}(prefix="{}/ontology/poblacion\+\_\+usuario"{}, tags=\mbox{[}"{}Poblacion de Perfil de Usuario"{}\mbox{]})
\end{DoxyCompactItemize}


\doxysubsection{Descripción detallada}
\begin{DoxyVerb}    @file poblacion.py
    @brief Controlador REST para operaciones de población de ontologías.
    @details
    Proporciona endpoints para:
    - Poblar metadatos del objeto inteligente en la ontología
    - Crear/editar reglas ECA (Event-Condition-Action)
    - Cargar ontologías de usuario (upload de archivos .owl)
    - Registrar interacciones usuario-objeto
    - Eliminar ontologías de usuario
    
    Routers:
    - ontologia_router (prefix=/ontology/poblacion): poblamiento de objeto/ECA
    - ontologia_usuario_router (prefix=/ontology/poblacion_usuario): gestión de perfiles
    
    @note Los endpoints de carga de ontología pueden procesarse de forma asíncrona
          (recomendado: responder 202 Accepted y procesar en background).
    
    @author  NexTech
    @version 1.0
    @date 2025-01-10
    
    @see PoblacionService Para lógica de negocio
    @see PoblacionOntologiaUsuarioService Para operaciones de usuario
    @see docs/diagrams/flow_diagrams.md Para diagramas de procesos
\end{DoxyVerb}
 

\label{doc-func-members}
\Hypertarget{namespacepoblacion_doc-func-members}
\doxysubsection{Documentación de funciones}
\Hypertarget{namespacepoblacion_a948efd94489282772d56b1e3104abfad}\index{poblacion@{poblacion}!cargar\_ontologia@{cargar\_ontologia}}
\index{cargar\_ontologia@{cargar\_ontologia}!poblacion@{poblacion}}
\doxysubsubsection{\texorpdfstring{cargar\_ontologia()}{cargar\_ontologia()}}
{\footnotesize\ttfamily \label{namespacepoblacion_a948efd94489282772d56b1e3104abfad} 
poblacion.\+cargar\+\_\+ontologia (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classfastapi_1_1datastructures_1_1_upload_file}{Upload\+File}} }]{file}{ = {\ttfamily File(...,~description="{}Archivo~de~ontología~(.owl)"{})}, }\item[{str }]{nombre}{ = {\ttfamily Form(...,~description="{}Nombre~de~la~ontología"{})}, }\item[{str }]{ip\+Coordinador}{ = {\ttfamily Form(...,~description="{}IP~del~coordinador"{})}, }\item[{Poblacion\+Ontologia\+Usuario\+Service }]{service}{ = {\ttfamily Depends(get\+\_\+poblacion\+\_\+pu\+\_\+service)}}\end{DoxyParamCaption})}

\begin{DoxyVerb}    @brief Carga una ontología de usuario desde archivo (.owl).
    
    @param file Archivo .owl a cargar (multipart/form-data).
    @param nombre Identificador/nombre de la ontología.
    @param ipCoordinador IP del coordinador (para notificación/registro).
    @param service Servicio de población de usuario (inyectado).
    
    @return Status 201 Created si exitoso, o error 500 si falla.
    
    @exception FileNotFoundError Si el archivo no puede procesarse.
    @exception RuntimeError Si falla la carga en el motor de ontología.
    
    @details
    Carga un archivo OWL de perfil de usuario en el sistema.
    
    Flujo:
    1. Lee contenido del archivo desde request
    2. Delega en servicio para parsear e indexar
    3. Registra en coordinador (opcional)
    
    @note Esta es una operación potencialmente larga. Considerar:
          1. Responder 202 Accepted inmediatamente
          2. Procesar el archivo en background (Job Queue)
          3. Exponer endpoint de status del job
    
    @see PoblacionOntologiaUsuarioService.cargarOntologia()
    @see docs/diagrams/flow_diagrams.md (B) Cargar ontología sequence
    
    @warning No implementar validación de tamaño de archivo podría
             causar ataques DoS. Añadir límite MAX_FILE_SIZE.
\end{DoxyVerb}
 

Definición en la línea \mbox{\hyperlink{poblacion_8py_source_l00131}{131}} del archivo \mbox{\hyperlink{poblacion_8py_source}{poblacion.\+py}}.

\Hypertarget{namespacepoblacion_aa4d5ecb3d082d4818b4193aa1d25b798}\index{poblacion@{poblacion}!editar\_eca@{editar\_eca}}
\index{editar\_eca@{editar\_eca}!poblacion@{poblacion}}
\doxysubsubsection{\texorpdfstring{editar\_eca()}{editar\_eca()}}
{\footnotesize\ttfamily \label{namespacepoblacion_aa4d5ecb3d082d4818b4193aa1d25b798} 
poblacion.\+editar\+\_\+eca (\begin{DoxyParamCaption}\item[{Eca\+Payload\+DTO}]{eca}{, }\item[{Poblacion\+Service }]{service}{ = {\ttfamily Depends(get\+\_\+poblacion\+\_\+service)}}\end{DoxyParamCaption})}

\begin{DoxyVerb}    @brief Edita una regla ECA existente en la ontología.
    
    @param eca DTO EcaPayloadDTO con definición actualizada de la regla.
    @param service Servicio de población.
    
    @return Status 200 OK si exitoso, o error 500.
    
    @exception ValueError Si los datos de ECA son inválidos.
    @exception RuntimeError Si falla la edición en ontología.
    
    @details
    Actualiza una regla ECA existente. Similar a poblar_eca pero
    modifica una regla previamente creada.
    
    @note Considerar sincronización: si múltiples clientes editan
          la misma ECA, puede haber condiciones de carrera.
    
    @see PoblacionService.editar_eca()
    @see docs/diagrams/flow_diagrams.md (C) Poblar/Editar ECA sequence
\end{DoxyVerb}
 

Definición en la línea \mbox{\hyperlink{poblacion_8py_source_l00100}{100}} del archivo \mbox{\hyperlink{poblacion_8py_source}{poblacion.\+py}}.

\Hypertarget{namespacepoblacion_a561cc7e8acb2cdafce1a6b0e197cff6e}\index{poblacion@{poblacion}!eliminar\_ontologia\_usuario@{eliminar\_ontologia\_usuario}}
\index{eliminar\_ontologia\_usuario@{eliminar\_ontologia\_usuario}!poblacion@{poblacion}}
\doxysubsubsection{\texorpdfstring{eliminar\_ontologia\_usuario()}{eliminar\_ontologia\_usuario()}}
{\footnotesize\ttfamily \label{namespacepoblacion_a561cc7e8acb2cdafce1a6b0e197cff6e} 
poblacion.\+eliminar\+\_\+ontologia\+\_\+usuario (\begin{DoxyParamCaption}\item[{Poblacion\+Ontologia\+Usuario\+Service }]{service}{ = {\ttfamily Depends(get\+\_\+poblacion\+\_\+pu\+\_\+service)}}\end{DoxyParamCaption})}

\begin{DoxyVerb}    @brief Elimina la ontología del perfil de usuario.
    
    @param service Servicio de población de usuario.
    
    @return Status 200 OK si exitoso, o error 500.
    
    @exception RuntimeError Si falla la eliminación.
    
    @details
    Borra completamente la ontología del perfil de usuario del sistema.
    Operación destructiva.
    
    @note Considerar implementar soft-delete + job de limpieza asíncrona
          para recuperabilidad. O requerir confirmación.
    
    @see PoblacionOntologiaUsuarioService.eliminarOntologia()
    @see docs/diagrams/flow_diagrams.md (D) Eliminación sequence
\end{DoxyVerb}
 

Definición en la línea \mbox{\hyperlink{poblacion_8py_source_l00202}{202}} del archivo \mbox{\hyperlink{poblacion_8py_source}{poblacion.\+py}}.

\Hypertarget{namespacepoblacion_a9ff2fd7b97b1ee27bfcd6a62143385f1}\index{poblacion@{poblacion}!poblar\_eca@{poblar\_eca}}
\index{poblar\_eca@{poblar\_eca}!poblacion@{poblacion}}
\doxysubsubsection{\texorpdfstring{poblar\_eca()}{poblar\_eca()}}
{\footnotesize\ttfamily \label{namespacepoblacion_a9ff2fd7b97b1ee27bfcd6a62143385f1} 
poblacion.\+poblar\+\_\+eca (\begin{DoxyParamCaption}\item[{Eca\+Payload\+DTO}]{eca}{, }\item[{Poblacion\+Service }]{service}{ = {\ttfamily Depends(get\+\_\+poblacion\+\_\+service)}}\end{DoxyParamCaption})}

\begin{DoxyVerb}    @brief Puebla una nueva regla ECA (Event-Condition-Action) en la ontología.
    
    @param eca DTO EcaPayloadDTO con definición de la regla.
    @param service Servicio de población.
    
    @return Status 201 Created si exitoso, o error 500.
    
    @exception ValueError Si los datos de ECA son inválidos.
    @exception RuntimeError Si falla la población en ontología.
    
    @details
    Crea una nueva regla ECA en la ontología. Las ECAs son reglas
    event-driven que permiten automatizar comportamientos del objeto.
    
    @note Si la regla requiere re-reasoning costoso, considerar
          procesar de forma asíncrona (responder 202).
    
    @see PoblacionService.poblar_eca()
    @see docs/diagrams/flow_diagrams.md (C) Poblar/Editar ECA sequence
\end{DoxyVerb}
 

Definición en la línea \mbox{\hyperlink{poblacion_8py_source_l00073}{73}} del archivo \mbox{\hyperlink{poblacion_8py_source}{poblacion.\+py}}.

\Hypertarget{namespacepoblacion_a11cebb60c665885fb6e77c7cf738556d}\index{poblacion@{poblacion}!poblar\_metadatos\_objeto@{poblar\_metadatos\_objeto}}
\index{poblar\_metadatos\_objeto@{poblar\_metadatos\_objeto}!poblacion@{poblacion}}
\doxysubsubsection{\texorpdfstring{poblar\_metadatos\_objeto()}{poblar\_metadatos\_objeto()}}
{\footnotesize\ttfamily \label{namespacepoblacion_a11cebb60c665885fb6e77c7cf738556d} 
poblacion.\+poblar\+\_\+metadatos\+\_\+objeto (\begin{DoxyParamCaption}\item[{Poblador\+Payload\+DTO}]{metadata}{, }\item[{Poblacion\+Service }]{service}{ = {\ttfamily Depends(get\+\_\+poblacion\+\_\+service)}}\end{DoxyParamCaption})}

\begin{DoxyVerb}    @brief Puebla los metadatos del objeto inteligente en la ontología.
    
    @param metadata DTO PobladorPayloadDTO con diccionarios de objeto y recursos.
    @param service Instancia del servicio de población (inyectada).
    
    @return Status 201 Created si exitoso, o error 500 si falla.
    
    @exception ValueError Si los datos del DTO son inválidos.
    @exception RuntimeError Si falla la población de ontología.
    
    @details
    Operación que puebla la ontología OWL con:
    1. Metadatos del objeto inteligente (individuos, propiedades)
    2. Múltiples recursos asociados (datastreams, propiedades, etc.)
    
    Flujo:
    1. Extrae diccionarios del DTO
    2. Convierte a JSON para serialización
    3. Delega en servicio de población
    4. Retorna 201 Created
    
    @note Esta es una operación compuesta que requiere idempotencia:
          si se ejecuta dos veces con los mismos datos, debe ser segura
          (crear sólo si no existe, o actualizar).
    
    @see PoblacionService.poblar_metadatos_objeto()
    @see docs/diagrams/flow_diagrams.md (A) Poblar metadatos sequence
\end{DoxyVerb}
 

Definición en la línea \mbox{\hyperlink{poblacion_8py_source_l00037}{37}} del archivo \mbox{\hyperlink{poblacion_8py_source}{poblacion.\+py}}.

\Hypertarget{namespacepoblacion_a965e9c8e68abad903ca38aa547f1f94a}\index{poblacion@{poblacion}!registro\_interaccion@{registro\_interaccion}}
\index{registro\_interaccion@{registro\_interaccion}!poblacion@{poblacion}}
\doxysubsubsection{\texorpdfstring{registro\_interaccion()}{registro\_interaccion()}}
{\footnotesize\ttfamily \label{namespacepoblacion_a965e9c8e68abad903ca38aa547f1f94a} 
poblacion.\+registro\+\_\+interaccion (\begin{DoxyParamCaption}\item[{Registro\+Interaccion\+DTO}]{data}{, }\item[{Poblacion\+Ontologia\+Usuario\+Service }]{service}{ = {\ttfamily Depends(get\+\_\+poblacion\+\_\+pu\+\_\+service)}}\end{DoxyParamCaption})}

\begin{DoxyVerb}    @brief Registra una interacción del usuario con un objeto inteligente.
    
    @param data DTO RegistroInteraccionDTO con detalles de la interacción.
    @param service Servicio de población de usuario.
    
    @return Status 200 OK si exitoso, o error 500.
    
    @exception ValueError Si los datos de interacción son inválidos.
    @exception RuntimeError Si falla la persistencia de la interacción.
    
    @details
    Registra eventos/interacciones del usuario con objetos en su ontología
    de perfil. Esto permite crear un historial y personalización basada
    en patrones de uso.
    
    @see PoblacionOntologiaUsuarioService.registroInteraccionUsuarioObjeto()
\end{DoxyVerb}
 

Definición en la línea \mbox{\hyperlink{poblacion_8py_source_l00175}{175}} del archivo \mbox{\hyperlink{poblacion_8py_source}{poblacion.\+py}}.



\label{doc-var-members}
\Hypertarget{namespacepoblacion_doc-var-members}
\doxysubsection{Documentación de variables}
\Hypertarget{namespacepoblacion_af6e361dd202a4c8c46b5bc78005622a1}\index{poblacion@{poblacion}!ontologia\_router@{ontologia\_router}}
\index{ontologia\_router@{ontologia\_router}!poblacion@{poblacion}}
\doxysubsubsection{\texorpdfstring{ontologia\_router}{ontologia\_router}}
{\footnotesize\ttfamily \label{namespacepoblacion_af6e361dd202a4c8c46b5bc78005622a1} 
poblacion.\+ontologia\+\_\+router = \mbox{\hyperlink{classfastapi_1_1routing_1_1_a_p_i_router}{APIRouter}}(prefix="{}/ontology/poblacion"{}, tags=\mbox{[}"{}Poblacion de Base de conocimiento"{}\mbox{]})}



Definición en la línea \mbox{\hyperlink{poblacion_8py_source_l00034}{34}} del archivo \mbox{\hyperlink{poblacion_8py_source}{poblacion.\+py}}.

\Hypertarget{namespacepoblacion_a428d70c95b4a9f0cf4903dbbbce4b54b}\index{poblacion@{poblacion}!ontologia\_usuario\_router@{ontologia\_usuario\_router}}
\index{ontologia\_usuario\_router@{ontologia\_usuario\_router}!poblacion@{poblacion}}
\doxysubsubsection{\texorpdfstring{ontologia\_usuario\_router}{ontologia\_usuario\_router}}
{\footnotesize\ttfamily \label{namespacepoblacion_a428d70c95b4a9f0cf4903dbbbce4b54b} 
poblacion.\+ontologia\+\_\+usuario\+\_\+router = \mbox{\hyperlink{classfastapi_1_1routing_1_1_a_p_i_router}{APIRouter}}(prefix="{}/ontology/poblacion\+\_\+usuario"{}, tags=\mbox{[}"{}Poblacion de Perfil de Usuario"{}\mbox{]})}



Definición en la línea \mbox{\hyperlink{poblacion_8py_source_l00127}{127}} del archivo \mbox{\hyperlink{poblacion_8py_source}{poblacion.\+py}}.

