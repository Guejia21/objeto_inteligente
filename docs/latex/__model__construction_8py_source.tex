\doxysection{\+\_\+model\+\_\+construction.\+py}
\hypertarget{__model__construction_8py_source}{}\label{__model__construction_8py_source}\index{micro\_gestion\_objetos/venv/Lib/site-\/packages/pydantic/\_internal/\_model\_construction.py@{micro\_gestion\_objetos/venv/Lib/site-\/packages/pydantic/\_internal/\_model\_construction.py}}
\mbox{\hyperlink{__model__construction_8py}{Ir a la documentaciÃ³n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00001}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction}{00001}}\ \textcolor{stringliteral}{"{}"{}"{}Private\ logic\ for\ creating\ models."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00003}00003\ \textcolor{keyword}{from}\ \_\_future\_\_\ \textcolor{keyword}{import}\ annotations\ \textcolor{keyword}{as}\ \_annotations}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00005}00005\ \textcolor{keyword}{import}\ operator}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00006}00006\ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00007}00007\ \textcolor{keyword}{import}\ typing}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00008}00008\ \textcolor{keyword}{import}\ warnings}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00009}00009\ \textcolor{keyword}{import}\ weakref}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00010}00010\ \textcolor{keyword}{from}\ abc\ \textcolor{keyword}{import}\ ABCMeta}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00011}00011\ \textcolor{keyword}{from}\ functools\ \textcolor{keyword}{import}\ cache,\ partial,\ wraps}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00012}00012\ \textcolor{keyword}{from}\ types\ \textcolor{keyword}{import}\ FunctionType}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00013}00013\ \textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ TYPE\_CHECKING,\ Any,\ Callable,\ Generic,\ Literal,\ NoReturn,\ TypeVar,\ cast}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00015}00015\ \textcolor{keyword}{from}\ pydantic\_core\ \textcolor{keyword}{import}\ PydanticUndefined,\ SchemaSerializer}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00016}00016\ \textcolor{keyword}{from}\ typing\_extensions\ \textcolor{keyword}{import}\ TypeAliasType,\ dataclass\_transform,\ deprecated,\ get\_args,\ get\_origin}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00017}00017\ \textcolor{keyword}{from}\ typing\_inspection\ \textcolor{keyword}{import}\ typing\_objects}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00019}00019\ \textcolor{keyword}{from}\ ..errors\ \textcolor{keyword}{import}\ PydanticUndefinedAnnotation,\ PydanticUserError}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00020}00020\ \textcolor{keyword}{from}\ ..plugin.\_schema\_validator\ \textcolor{keyword}{import}\ create\_schema\_validator}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00021}00021\ \textcolor{keyword}{from}\ ..warnings\ \textcolor{keyword}{import}\ GenericBeforeBaseModelWarning,\ PydanticDeprecatedSince20}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00022}00022\ \textcolor{keyword}{from}\ .\_config\ \textcolor{keyword}{import}\ ConfigWrapper}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00023}00023\ \textcolor{keyword}{from}\ .\_decorators\ \textcolor{keyword}{import}\ DecoratorInfos,\ PydanticDescriptorProxy,\ get\_attribute\_from\_bases,\ unwrap\_wrapped\_function}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00024}00024\ \textcolor{keyword}{from}\ .\_fields\ \textcolor{keyword}{import}\ collect\_model\_fields,\ is\_valid\_field\_name,\ is\_valid\_privateattr\_name,\ rebuild\_model\_fields}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00025}00025\ \textcolor{keyword}{from}\ .\_generate\_schema\ \textcolor{keyword}{import}\ GenerateSchema,\ InvalidSchemaError}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00026}00026\ \textcolor{keyword}{from}\ .\_generics\ \textcolor{keyword}{import}\ PydanticGenericMetadata,\ get\_model\_typevars\_map}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00027}00027\ \textcolor{keyword}{from}\ .\_import\_utils\ \textcolor{keyword}{import}\ import\_cached\_base\_model,\ import\_cached\_field\_info}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00028}00028\ \textcolor{keyword}{from}\ .\_mock\_val\_ser\ \textcolor{keyword}{import}\ set\_model\_mocks}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00029}00029\ \textcolor{keyword}{from}\ .\_namespace\_utils\ \textcolor{keyword}{import}\ NsResolver}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00030}00030\ \textcolor{keyword}{from}\ .\_signature\ \textcolor{keyword}{import}\ generate\_pydantic\_signature}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00031}00031\ \textcolor{keyword}{from}\ .\_typing\_extra\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00032}00032\ \ \ \ \ \_make\_forward\_ref,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00033}00033\ \ \ \ \ eval\_type\_backport,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00034}00034\ \ \ \ \ is\_classvar\_annotation,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00035}00035\ \ \ \ \ parent\_frame\_namespace,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00036}00036\ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00037}00037\ \textcolor{keyword}{from}\ .\_utils\ \textcolor{keyword}{import}\ LazyClassAttribute,\ SafeGetItemProxy}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00039}00039\ \textcolor{keywordflow}{if}\ TYPE\_CHECKING:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00040}00040\ \ \ \ \ \textcolor{keyword}{from}\ ..fields\ \textcolor{keyword}{import}\ Field\ \textcolor{keyword}{as}\ PydanticModelField}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00041}00041\ \ \ \ \ \textcolor{keyword}{from}\ ..fields\ \textcolor{keyword}{import}\ FieldInfo,\ ModelPrivateAttr}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00042}00042\ \ \ \ \ \textcolor{keyword}{from}\ ..fields\ \textcolor{keyword}{import}\ PrivateAttr\ \textcolor{keyword}{as}\ PydanticModelPrivateAttr}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00043}00043\ \ \ \ \ \textcolor{keyword}{from}\ ..main\ \textcolor{keyword}{import}\ BaseModel}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00044}00044\ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00045}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a1f30e302113edede770912e4c25da2c0}{00045}}\ \ \ \ \ PydanticModelField\ =\ object()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00046}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a311d54b8b3ed800d4c21ea6fed7fc9e2}{00046}}\ \ \ \ \ PydanticModelPrivateAttr\ =\ object()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00048}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a7f5024d2ebe16af2738348273b14f25b}{00048}}\ object\_setattr\ =\ object.\_\_setattr\_\_}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00051}\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___model_namespace_dict}{00051}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___model_namespace_dict}{\_ModelNamespaceDict}}(dict):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00052}00052\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}A\ dictionary\ subclass\ that\ intercepts\ attribute\ setting\ on\ model\ classes\ and}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00053}00053\ \textcolor{stringliteral}{\ \ \ \ warns\ about\ overriding\ of\ decorators.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00054}00054\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00056}00056\ \ \ \ \ \textcolor{keyword}{def\ }\_\_setitem\_\_(self,\ k:\ str,\ v:\ object)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ existing:\ Any\ =\ self.get(k,\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ existing\ \textcolor{keywordflow}{and}\ v\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ existing\ \textcolor{keywordflow}{and}\ isinstance(existing,\ PydanticDescriptorProxy):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'\`{}\{k\}`\ overrides\ an\ existing\ Pydantic\ \`{}\{existing.decorator\_info.decorator\_repr\}`\ decorator'},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stacklevel=2,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ super().\_\_setitem\_\_(k,\ v)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00067}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a631137c0f97ad327fa4a7f8755cdad0a}{00067}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a631137c0f97ad327fa4a7f8755cdad0a}{NoInitField}}(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00068}00068\ \ \ \ \ *,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00069}00069\ \ \ \ \ init:\ Literal[\textcolor{keyword}{False}]\ =\ \textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00070}00070\ )\ -\/>\ Any:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00071}00071\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Only\ for\ typing\ purposes.\ Used\ as\ default\ value\ of\ \`{}\_\_pydantic\_fields\_set\_\_\`{},}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00072}00072\ \textcolor{stringliteral}{\ \ \ \ \`{}\_\_pydantic\_extra\_\_\`{},\ \`{}\_\_pydantic\_private\_\_\`{},\ so\ they\ could\ be\ ignored\ when}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00073}00073\ \textcolor{stringliteral}{\ \ \ \ synthesizing\ the\ \`{}\_\_init\_\_\`{}\ signature.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00074}00074\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00077}00077\ \textcolor{comment}{\#\ For\ ModelMetaclass.register():}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00078}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a8ab7fedeb4000bf29c2312901f5a47fa}{00078}}\ \_T\ =\ TypeVar(\textcolor{stringliteral}{'\_T'})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00081}00081\ \textcolor{preprocessor}{@dataclass\_transform(kw\_only\_default=True,\ field\_specifiers=(PydanticModelField,\ PydanticModelPrivateAttr,\ NoInitField)})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00082}\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass}{00082}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass}{ModelMetaclass}}(ABCMeta):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00083}00083\ \ \ \ \ \textcolor{keyword}{def\ }\_\_new\_\_(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00084}00084\ \ \ \ \ \ \ \ \ mcs,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00085}00085\ \ \ \ \ \ \ \ \ cls\_name:\ str,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00086}00086\ \ \ \ \ \ \ \ \ bases:\ tuple[type[Any],\ ...],}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00087}00087\ \ \ \ \ \ \ \ \ namespace:\ dict[str,\ Any],}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00088}00088\ \ \ \ \ \ \ \ \ \_\_pydantic\_generic\_metadata\_\_:\ PydanticGenericMetadata\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00089}00089\ \ \ \ \ \ \ \ \ \_\_pydantic\_reset\_parent\_namespace\_\_:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00090}00090\ \ \ \ \ \ \ \ \ \_create\_model\_module:\ str\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00091}00091\ \ \ \ \ \ \ \ \ **kwargs:\ Any,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00092}00092\ \ \ \ \ )\ -\/>\ type:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00093}00093\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Metaclass\ for\ creating\ Pydantic\ models.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00094}00094\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00095}00095\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Args:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00096}00096\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ cls\_name:\ The\ name\ of\ the\ class\ to\ be\ created.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00097}00097\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ bases:\ The\ base\ classes\ of\ the\ class\ to\ be\ created.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00098}00098\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ namespace:\ The\ attribute\ dictionary\ of\ the\ class\ to\ be\ created.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00099}00099\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \_\_pydantic\_generic\_metadata\_\_:\ Metadata\ for\ generic\ models.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00100}00100\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \_\_pydantic\_reset\_parent\_namespace\_\_:\ Reset\ parent\ namespace.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00101}00101\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \_create\_model\_module:\ The\ module\ of\ the\ class\ to\ be\ created,\ if\ created\ by\ \`{}create\_model\`{}.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00102}00102\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ **kwargs:\ Catch-\/all\ for\ any\ other\ keyword\ arguments.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00103}00103\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00104}00104\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Returns:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00105}00105\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ The\ new\ class\ created\ by\ the\ metaclass.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00106}00106\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00107}00107\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Note\ \`{}ModelMetaclass`\ refers\ to\ \`{}BaseModel`,\ but\ is\ also\ used\ to\ *create*\ \`{}BaseModel`,\ so\ we\ rely\ on\ the\ fact}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00108}00108\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ that\ \`{}BaseModel`\ itself\ won't\ have\ any\ bases,\ but\ any\ subclass\ of\ it\ will,\ to\ determine\ whether\ the\ \`{}\_\_new\_\_`}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00109}00109\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ call\ we're\ in\ the\ middle\ of\ is\ for\ the\ \`{}BaseModel`\ class.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00110}00110\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ bases:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00111}00111\ \ \ \ \ \ \ \ \ \ \ \ \ raw\_annotations:\ dict[str,\ Any]}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ sys.version\_info\ >=\ (3,\ 14):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'\_\_annotations\_\_'}\ \textcolor{keywordflow}{in}\ namespace}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ):\ \ \textcolor{comment}{\#\ \`{}from\ \_\_future\_\_\ import\ annotations`\ was\ used\ in\ the\ model's\ module}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raw\_annotations\ =\ namespace[\textcolor{stringliteral}{'\_\_annotations\_\_'}]}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ See\ https://docs.python.org/3.14/library/annotationlib.html\#using-\/annotations-\/in-\/a-\/metaclass:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ annotationlib\ \textcolor{keyword}{import}\ Format,\ call\_annotate\_function,\ get\_annotate\_from\_class\_namespace}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00120}00120\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00121}00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ annotate\ :=\ get\_annotate\_from\_class\_namespace(namespace):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raw\_annotations\ =\ call\_annotate\_function(annotate,\ format=Format.FORWARDREF)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00123}00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00124}00124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raw\_annotations\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00125}00125\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00126}00126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raw\_annotations\ =\ namespace.get(\textcolor{stringliteral}{'\_\_annotations\_\_'},\ \{\})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00127}00127\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00128}00128\ \ \ \ \ \ \ \ \ \ \ \ \ base\_field\_names,\ class\_vars,\ base\_private\_attributes\ =\ mcs.\_collect\_bases\_data(bases)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00129}00129\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ config\_wrapper\ =\ ConfigWrapper.for\_model(bases,\ namespace,\ raw\_annotations,\ kwargs)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00131}00131\ \ \ \ \ \ \ \ \ \ \ \ \ namespace[\textcolor{stringliteral}{'model\_config'}]\ =\ config\_wrapper.config\_dict}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00132}00132\ \ \ \ \ \ \ \ \ \ \ \ \ private\_attributes\ =\ \mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a857c9654152d04274c688bf988351933}{inspect\_namespace}}(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00133}00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ namespace,\ raw\_annotations,\ config\_wrapper.ignored\_types,\ class\_vars,\ base\_field\_names}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00134}00134\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00135}00135\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ private\_attributes\ \textcolor{keywordflow}{or}\ base\_private\_attributes:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00136}00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ original\_model\_post\_init\ =\ \mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_ae1d3bc1fd42f59f03bd182c62a3b2ded}{get\_model\_post\_init}}(namespace,\ bases)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00137}00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ original\_model\_post\_init\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00138}00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ if\ there\ are\ private\_attributes\ and\ a\ model\_post\_init\ function,\ we\ handle\ both}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00139}00139\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00140}00140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{preprocessor}{@wraps(original\_model\_post\_init)}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00141}00141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }wrapped\_model\_post\_init(self:\ BaseModel,\ context:\ Any,\ /)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00142}00142\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}We\ need\ to\ both\ initialize\ private\ attributes\ and\ call\ the\ user-\/defined\ model\_post\_init}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00143}00143\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ method.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00144}00144\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00145}00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a71de054cdb69db8e12dda49aa75ddf50}{init\_private\_attributes}}(self,\ context)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00146}00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ original\_model\_post\_init(self,\ context)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00147}00147\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00148}00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ namespace[\textcolor{stringliteral}{'model\_post\_init'}]\ =\ wrapped\_model\_post\_init}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00150}00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ namespace[\textcolor{stringliteral}{'model\_post\_init'}]\ =\ init\_private\_attributes}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00151}00151\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00152}00152\ \ \ \ \ \ \ \ \ \ \ \ \ namespace[\textcolor{stringliteral}{'\_\_class\_vars\_\_'}]\ =\ class\_vars}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00153}00153\ \ \ \ \ \ \ \ \ \ \ \ \ namespace[\textcolor{stringliteral}{'\_\_private\_attributes\_\_'}]\ =\ \{**base\_private\_attributes,\ **private\_attributes\}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00154}00154\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00155}00155\ \ \ \ \ \ \ \ \ \ \ \ \ cls\ =\ cast(\textcolor{stringliteral}{'type[BaseModel]'},\ super().\_\_new\_\_(mcs,\ cls\_name,\ bases,\ namespace,\ **kwargs))}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00156}00156\ \ \ \ \ \ \ \ \ \ \ \ \ BaseModel\_\ =\ import\_cached\_base\_model()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00157}00157\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00158}00158\ \ \ \ \ \ \ \ \ \ \ \ \ mro\ =\ cls.\_\_mro\_\_}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00159}00159\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ Generic\ \textcolor{keywordflow}{in}\ mro\ \textcolor{keywordflow}{and}\ mro.index(Generic)\ <\ mro.index(BaseModel\_):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00161}00161\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classpydantic_1_1warnings_1_1_generic_before_base_model_warning}{GenericBeforeBaseModelWarning}}(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00162}00162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'Classes\ should\ inherit\ from\ \`{}BaseModel`\ before\ generic\ classes\ (e.g.\ \`{}typing.Generic[T]`)\ '}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00163}00163\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'for\ pydantic\ generics\ to\ work\ properly.'}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00164}00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ),}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00165}00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stacklevel=2,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00166}00166\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00167}00167\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00168}00168\ \ \ \ \ \ \ \ \ \ \ \ \ cls.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass}{\_\_pydantic\_custom\_init\_\_}}\ =\ \textcolor{keywordflow}{not}\ getattr(cls.\_\_init\_\_,\ \textcolor{stringliteral}{'\_\_pydantic\_base\_init\_\_'},\ \textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00169}00169\ \ \ \ \ \ \ \ \ \ \ \ \ cls.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass}{\_\_pydantic\_post\_init\_\_}}\ =\ (}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{if}\ cls.model\_post\_init\ \textcolor{keywordflow}{is}\ BaseModel\_.model\_post\_init\ \textcolor{keywordflow}{else}\ \textcolor{stringliteral}{'model\_post\_init'}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00171}00171\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00172}00172\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00173}00173\ \ \ \ \ \ \ \ \ \ \ \ \ cls.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass}{\_\_pydantic\_setattr\_handlers\_\_}}\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00174}00174\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00175}00175\ \ \ \ \ \ \ \ \ \ \ \ \ cls.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass}{\_\_pydantic\_decorators\_\_}}\ =\ DecoratorInfos.build(cls)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00176}00176\ \ \ \ \ \ \ \ \ \ \ \ \ cls.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass}{\_\_pydantic\_decorators\_\_}}.update\_from\_config(config\_wrapper)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00177}00177\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00178}00178\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Use\ the\ getattr\ below\ to\ grab\ the\ \_\_parameters\_\_\ from\ the\ \`{}typing.Generic`\ parent\ class}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \_\_pydantic\_generic\_metadata\_\_:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00180}00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cls.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass}{\_\_pydantic\_generic\_metadata\_\_}}\ =\ \_\_pydantic\_generic\_metadata\_\_}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00181}00181\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ parent\_parameters\ =\ getattr(cls,\ \textcolor{stringliteral}{'\_\_pydantic\_generic\_metadata\_\_'},\ \{\}).get(\textcolor{stringliteral}{'parameters'},\ ())}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ parameters\ =\ getattr(cls,\ \textcolor{stringliteral}{'\_\_parameters\_\_'},\ \textcolor{keywordtype}{None})\ \textcolor{keywordflow}{or}\ parent\_parameters}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00184}00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ parameters\ \textcolor{keywordflow}{and}\ parent\_parameters\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ all(x\ \textcolor{keywordflow}{in}\ parameters\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ parent\_parameters):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ ..root\_model\ \textcolor{keyword}{import}\ RootModelRootType}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00186}00186\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ missing\_parameters\ =\ tuple(x\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ parameters\ \textcolor{keywordflow}{if}\ x\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ parent\_parameters)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ RootModelRootType\ \textcolor{keywordflow}{in}\ parent\_parameters\ \textcolor{keywordflow}{and}\ RootModelRootType\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ parameters:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00189}00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ This\ is\ a\ special\ case\ where\ the\ user\ has\ subclassed\ \`{}RootModel`,\ but\ has\ not\ parametrized}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ RootModel\ with\ the\ generic\ type\ identifiers\ being\ used.\ Ex:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00191}00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ class\ MyModel(RootModel,\ Generic[T]):}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00192}00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ \ root:\ T}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00193}00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Should\ instead\ just\ be:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00194}00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ class\ MyModel(RootModel[T]):}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00195}00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ root:\ T}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00196}00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ parameters\_str\ =\ \textcolor{stringliteral}{',\ '}.join([x.\_\_name\_\_\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ missing\_parameters])}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00197}00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ error\_message\ =\ (}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00198}00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'\{cls.\_\_name\_\_\}\ is\ a\ subclass\ of\ \`{}RootModel`,\ but\ does\ not\ include\ the\ generic\ type\ identifier(s)\ '}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00199}00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'\{parameters\_str\}\ in\ its\ parameters.\ '}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00200}00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'You\ should\ parametrize\ RootModel\ directly,\ e.g.,\ \`{}class\ \{cls.\_\_name\_\_\}(RootModel[\{parameters\_str\}]):\ ...`.'}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00201}00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00202}00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00203}00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ combined\_parameters\ =\ parent\_parameters\ +\ missing\_parameters}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00204}00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ parameters\_str\ =\ \textcolor{stringliteral}{',\ '}.join([str(x)\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ combined\_parameters])}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00205}00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ generic\_type\_label\ =\ f\textcolor{stringliteral}{'typing.Generic[\{parameters\_str\}]'}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00206}00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ error\_message\ =\ (}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00207}00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'All\ parameters\ must\ be\ present\ on\ typing.Generic;'}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00208}00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'\ you\ should\ inherit\ from\ \{generic\_type\_label\}.'}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00209}00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00210}00210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ Generic\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ bases:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00211}00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ raise\ an\ error\ here\ not\ because\ it\ is\ desirable,\ but\ because\ some\ cases\ are\ mishandled.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00212}00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ It\ would\ be\ nice\ to\ remove\ this\ error\ and\ still\ have\ things\ behave\ as\ expected,\ it's\ just}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00213}00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ challenging\ because\ we\ are\ using\ a\ custom\ \`{}\_\_class\_getitem\_\_`\ to\ parametrize\ generic\ models,}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00214}00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ and\ not\ returning\ a\ typing.\_GenericAlias\ from\ it.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00215}00215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bases\_str\ =\ \textcolor{stringliteral}{',\ '}.join([x.\_\_name\_\_\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ bases]\ +\ [generic\_type\_label])}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00216}00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ error\_message\ +=\ (}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00217}00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'\ Note:\ \`{}typing.Generic`\ must\ go\ last:\ \`{}class\ \{cls.\_\_name\_\_\}(\{bases\_str\}):\ ...`)'}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00218}00218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00219}00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ TypeError(error\_message)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00220}00220\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00221}00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cls.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass}{\_\_pydantic\_generic\_metadata\_\_}}\ =\ \{}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00222}00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'origin'}:\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00223}00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'args'}:\ (),}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00224}00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'parameters'}:\ parameters,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00225}00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00226}00226\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00227}00227\ \ \ \ \ \ \ \ \ \ \ \ \ cls.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass}{\_\_pydantic\_complete\_\_}}\ =\ \textcolor{keyword}{False}\ \ \textcolor{comment}{\#\ Ensure\ this\ specific\ class\ gets\ completed}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00228}00228\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00229}00229\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ preserve\ \`{}\_\_set\_name\_\_`\ protocol\ defined\ in\ https://peps.python.org/pep-\/0487}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00230}00230\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ for\ attributes\ not\ in\ \`{}new\_namespace`\ (e.g.\ private\ attributes)}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00231}00231\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ name,\ obj\ \textcolor{keywordflow}{in}\ private\_attributes.items():}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00232}00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ obj.\_\_set\_name\_\_(cls,\ name)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00233}00233\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00234}00234\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \_\_pydantic\_reset\_parent\_namespace\_\_:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00235}00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cls.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass}{\_\_pydantic\_parent\_namespace\_\_}}\ =\ \mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_aa06e1824e075bd95f6248cfe342dd1fe}{build\_lenient\_weakvaluedict}}(parent\_frame\_namespace())}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00236}00236\ \ \ \ \ \ \ \ \ \ \ \ \ parent\_namespace:\ dict[str,\ Any]\ |\ \textcolor{keywordtype}{None}\ =\ getattr(cls,\ \textcolor{stringliteral}{'\_\_pydantic\_parent\_namespace\_\_'},\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00237}00237\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(parent\_namespace,\ dict):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00238}00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ parent\_namespace\ =\ \mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a085d597c7adf067a90f1a3726ab6808c}{unpack\_lenient\_weakvaluedict}}(parent\_namespace)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00239}00239\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00240}00240\ \ \ \ \ \ \ \ \ \ \ \ \ ns\_resolver\ =\ \mbox{\hyperlink{classpydantic_1_1__internal_1_1__namespace__utils_1_1_ns_resolver}{NsResolver}}(parent\_namespace=parent\_namespace)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00241}00241\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00242}00242\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a5cc071e88df0a131d549f8c92fe08183}{set\_model\_fields}}(cls,\ config\_wrapper=config\_wrapper,\ ns\_resolver=ns\_resolver)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00243}00243\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00244}00244\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ This\ is\ also\ set\ in\ \`{}complete\_model\_class()`,\ after\ schema\ gen\ because\ they\ are\ recreated.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00245}00245\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ set\ them\ here\ as\ well\ for\ backwards\ compatibility:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00246}00246\ \ \ \ \ \ \ \ \ \ \ \ \ cls.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass}{\_\_pydantic\_computed\_fields\_\_}}\ =\ \{}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00247}00247\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ k:\ v.info\ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ cls.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass}{\_\_pydantic\_decorators\_\_}}.computed\_fields.items()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00248}00248\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00249}00249\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00250}00250\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ config\_wrapper.defer\_build:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00251}00251\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ set\_model\_mocks(cls)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00252}00252\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00253}00253\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Any\ operation\ that\ requires\ accessing\ the\ field\ infos\ instances\ should\ be\ put\ inside}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00254}00254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \`{}complete\_model\_class()`:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00255}00255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a1b2ba90c0681e79ba6be4e5b4dc99d31}{complete\_model\_class}}(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00256}00256\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cls,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00257}00257\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ config\_wrapper,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00258}00258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ns\_resolver,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00259}00259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\_errors=\textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00260}00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ create\_model\_module=\_create\_model\_module,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00261}00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00262}00262\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00263}00263\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ config\_wrapper.frozen\ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{'\_\_hash\_\_'}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ namespace:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00264}00264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a3c82d0a6198fef28b0e87b344f4c1c0f}{set\_default\_hash\_func}}(cls,\ bases)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00265}00265\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00266}00266\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ using\ super(cls,\ cls)\ on\ the\ next\ line\ ensures\ we\ only\ call\ the\ parent\ class's\ \_\_pydantic\_init\_subclass\_\_}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00267}00267\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ I\ believe\ the\ \`{}type:\ ignore`\ is\ only\ necessary\ because\ mypy\ doesn't\ realize\ that\ this\ code\ branch\ is}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00268}00268\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ only\ hit\ for\ \_proper\_\ subclasses\ of\ BaseModel}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00269}00269\ \ \ \ \ \ \ \ \ \ \ \ \ super(cls,\ cls).\_\_pydantic\_init\_subclass\_\_(**kwargs)\ \ \textcolor{comment}{\#\ type:\ ignore[misc]}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00270}00270\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ cls}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00271}00271\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00272}00272\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ These\ are\ instance\ variables,\ but\ have\ been\ assigned\ to\ \`{}NoInitField`\ to\ trick\ the\ type\ checker.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00273}00273\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ instance\_slot\ \textcolor{keywordflow}{in}\ \textcolor{stringliteral}{'\_\_pydantic\_fields\_set\_\_'},\ \textcolor{stringliteral}{'\_\_pydantic\_extra\_\_'},\ \textcolor{stringliteral}{'\_\_pydantic\_private\_\_'}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00274}00274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ namespace.pop(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00275}00275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ instance\_slot,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00276}00276\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{None},\ \ \textcolor{comment}{\#\ In\ case\ the\ metaclass\ is\ used\ with\ a\ class\ other\ than\ \`{}BaseModel`.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00277}00277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00278}00278\ \ \ \ \ \ \ \ \ \ \ \ \ namespace.get(\textcolor{stringliteral}{'\_\_annotations\_\_'},\ \{\}).clear()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00279}00279\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ super().\_\_new\_\_(mcs,\ cls\_name,\ bases,\ namespace,\ **kwargs)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00280}00280\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00281}00281\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ TYPE\_CHECKING:\ \ \textcolor{comment}{\#\ pragma:\ no\ branch}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00282}00282\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ put\ \`{}\_\_getattr\_\_`\ in\ a\ non-\/TYPE\_CHECKING\ block\ because\ otherwise,\ mypy\ allows\ arbitrary\ attribute\ access}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00283}00283\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00284}00284\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }\_\_getattr\_\_(self,\ item:\ str)\ -\/>\ Any:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00285}00285\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}This\ is\ necessary\ to\ keep\ attribute\ access\ working\ for\ class\ attribute\ access."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00286}00286\ \ \ \ \ \ \ \ \ \ \ \ \ private\_attributes\ =\ self.\_\_dict\_\_.get(\textcolor{stringliteral}{'\_\_private\_attributes\_\_'})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00287}00287\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ private\_attributes\ \textcolor{keywordflow}{and}\ item\ \textcolor{keywordflow}{in}\ private\_attributes:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00288}00288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ private\_attributes[item]}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00289}00289\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ AttributeError(item)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00290}00290\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00291}00291\ \ \ \ \ \textcolor{preprocessor}{@classmethod}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00292}00292\ \ \ \ \ \textcolor{keyword}{def\ }\_\_prepare\_\_(cls,\ *args:\ Any,\ **kwargs:\ Any)\ -\/>\ dict[str,\ object]:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00293}00293\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___model_namespace_dict}{\_ModelNamespaceDict}}()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00294}00294\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00295}00295\ \ \ \ \ \textcolor{comment}{\#\ Due\ to\ performance\ and\ memory\ issues,\ in\ the\ ABCMeta.\_\_subclasscheck\_\_\ implementation,\ we\ don't\ support}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00296}00296\ \ \ \ \ \textcolor{comment}{\#\ registered\ virtual\ subclasses.\ See\ https://github.com/python/cpython/issues/92810\#issuecomment-\/2762454345.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00297}00297\ \ \ \ \ \textcolor{comment}{\#\ This\ may\ change\ once\ the\ CPython\ gets\ fixed\ (possibly\ in\ 3.15),\ in\ which\ case\ we\ should\ conditionally}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00298}00298\ \ \ \ \ \textcolor{comment}{\#\ define\ \`{}register()`.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00299}\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass_a161c03eae7566b55a87e380b448b64d6}{00299}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass_a161c03eae7566b55a87e380b448b64d6}{register}}(self,\ subclass:\ type[\_T])\ -\/>\ type[\_T]:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00300}00300\ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00301}00301\ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}For\ performance\ reasons,\ virtual\ subclasses\ registered\ using\ '\{self.\_\_qualname\_\_\}.register()'\ "{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00302}00302\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}are\ not\ supported\ in\ 'isinstance()'\ and\ 'issubclass()'\ checks."{}},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00303}00303\ \ \ \ \ \ \ \ \ \ \ \ \ stacklevel=2,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00304}00304\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00305}00305\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ super().\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass_a161c03eae7566b55a87e380b448b64d6}{register}}(subclass)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00306}00306\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00307}00307\ \ \ \ \ \_\_instancecheck\_\_\ =\ type.\_\_instancecheck\_\_\ \ \textcolor{comment}{\#\ pyright:\ ignore[reportAssignmentType]}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00308}00308\ \ \ \ \ \_\_subclasscheck\_\_\ =\ type.\_\_subclasscheck\_\_\ \ \textcolor{comment}{\#\ pyright:\ ignore[reportAssignmentType]}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00309}00309\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00310}00310\ \ \ \ \ \textcolor{preprocessor}{@staticmethod}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00311}\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass_abd682bfc83c80a4c6d1b2e23639e6553}{00311}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1_model_metaclass_abd682bfc83c80a4c6d1b2e23639e6553}{\_collect\_bases\_data}}(bases:\ tuple[type[Any],\ ...])\ -\/>\ tuple[set[str],\ set[str],\ dict[str,\ ModelPrivateAttr]]:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00312}00312\ \ \ \ \ \ \ \ \ BaseModel\ =\ import\_cached\_base\_model()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00313}00313\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00314}00314\ \ \ \ \ \ \ \ \ field\_names:\ set[str]\ =\ set()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00315}00315\ \ \ \ \ \ \ \ \ class\_vars:\ set[str]\ =\ set()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00316}00316\ \ \ \ \ \ \ \ \ private\_attributes:\ dict[str,\ ModelPrivateAttr]\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00317}00317\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ base\ \textcolor{keywordflow}{in}\ bases:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00318}00318\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ issubclass(base,\ BaseModel)\ \textcolor{keywordflow}{and}\ base\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ BaseModel:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00319}00319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ model\_fields\ might\ not\ be\ defined\ yet\ in\ the\ case\ of\ generics,\ so\ we\ use\ getattr\ here:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00320}00320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ field\_names.update(getattr(base,\ \textcolor{stringliteral}{'\_\_pydantic\_fields\_\_'},\ \{\}).keys())}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00321}00321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ class\_vars.update(base.\_\_class\_vars\_\_)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00322}00322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ private\_attributes.update(base.\_\_private\_attributes\_\_)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00323}00323\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ field\_names,\ class\_vars,\ private\_attributes}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00324}00324\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00325}00325\ \ \ \ \ \textcolor{preprocessor}{@property}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00326}00326\ \ \ \ \ \textcolor{preprocessor}{@deprecated}(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00327}00327\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'The\ \`{}\_\_fields\_\_`\ attribute\ is\ deprecated,\ use\ the\ \`{}model\_fields`\ class\ property\ instead.'},\ category=\textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00328}00328\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00329}00329\ \ \ \ \ \textcolor{keyword}{def\ }\_\_fields\_\_(self)\ -\/>\ dict[str,\ FieldInfo]:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00330}00330\ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00331}00331\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'The\ \`{}\_\_fields\_\_`\ attribute\ is\ deprecated,\ use\ the\ \`{}model\_fields`\ class\ property\ instead.'},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00332}00332\ \ \ \ \ \ \ \ \ \ \ \ \ PydanticDeprecatedSince20,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00333}00333\ \ \ \ \ \ \ \ \ \ \ \ \ stacklevel=2,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00334}00334\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00335}00335\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ getattr(self,\ \textcolor{stringliteral}{'\_\_pydantic\_fields\_\_'},\ \{\})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00336}00336\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00337}00337\ \ \ \ \ \textcolor{preprocessor}{@property}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00338}00338\ \ \ \ \ \textcolor{keyword}{def\ }\_\_pydantic\_fields\_complete\_\_(self)\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00339}00339\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Whether\ the\ fields\ where\ successfully\ collected\ (i.e.\ type\ hints\ were\ successfully\ resolves).}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00340}00340\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00341}00341\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ This\ is\ a\ private\ attribute,\ not\ meant\ to\ be\ used\ outside\ Pydantic.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00342}00342\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00343}00343\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ hasattr(self,\ \textcolor{stringliteral}{'\_\_pydantic\_fields\_\_'}):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00344}00344\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00345}00345\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00346}00346\ \ \ \ \ \ \ \ \ field\_infos\ =\ cast(\textcolor{stringliteral}{'dict[str,\ FieldInfo]'},\ self.\_\_pydantic\_fields\_\_)\ \ \textcolor{comment}{\#\ pyright:\ ignore[reportAttributeAccessIssue]}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00347}00347\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00348}00348\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ all(field\_info.\_complete\ \textcolor{keywordflow}{for}\ field\_info\ \textcolor{keywordflow}{in}\ field\_infos.values())}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00349}00349\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00350}00350\ \ \ \ \ \textcolor{keyword}{def\ }\_\_dir\_\_(self)\ -\/>\ list[str]:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00351}00351\ \ \ \ \ \ \ \ \ attributes\ =\ list(super().\_\_dir\_\_())}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00352}00352\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{'\_\_fields\_\_'}\ \textcolor{keywordflow}{in}\ attributes:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00353}00353\ \ \ \ \ \ \ \ \ \ \ \ \ attributes.remove(\textcolor{stringliteral}{'\_\_fields\_\_'})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00354}00354\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ attributes}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00355}00355\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00356}00356\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00357}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a71de054cdb69db8e12dda49aa75ddf50}{00357}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a71de054cdb69db8e12dda49aa75ddf50}{init\_private\_attributes}}(self:\ BaseModel,\ context:\ Any,\ /)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00358}00358\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}This\ function\ is\ meant\ to\ behave\ like\ a\ BaseModel\ method\ to\ initialise\ private\ attributes.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00359}00359\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00360}00360\ \textcolor{stringliteral}{\ \ \ \ It\ takes\ context\ as\ an\ argument\ since\ that's\ what\ pydantic-\/core\ passes\ when\ calling\ it.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00361}00361\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00362}00362\ \textcolor{stringliteral}{\ \ \ \ Args:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00363}00363\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ self:\ The\ BaseModel\ instance.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00364}00364\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ context:\ The\ context.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00365}00365\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00366}00366\ \ \ \ \ \textcolor{keywordflow}{if}\ getattr(self,\ \textcolor{stringliteral}{'\_\_pydantic\_private\_\_'},\ \textcolor{keywordtype}{None})\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00367}00367\ \ \ \ \ \ \ \ \ pydantic\_private\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00368}00368\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ name,\ private\_attr\ \textcolor{keywordflow}{in}\ self.\_\_private\_attributes\_\_.items():}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00369}00369\ \ \ \ \ \ \ \ \ \ \ \ \ default\ =\ private\_attr.get\_default()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00370}00370\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ default\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ PydanticUndefined:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00371}00371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pydantic\_private[name]\ =\ default}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00372}00372\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a7f5024d2ebe16af2738348273b14f25b}{object\_setattr}}(self,\ \textcolor{stringliteral}{'\_\_pydantic\_private\_\_'},\ pydantic\_private)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00373}00373\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00374}00374\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00375}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_ae1d3bc1fd42f59f03bd182c62a3b2ded}{00375}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_ae1d3bc1fd42f59f03bd182c62a3b2ded}{get\_model\_post\_init}}(namespace:\ dict[str,\ Any],\ bases:\ tuple[type[Any],\ ...])\ -\/>\ Callable[...,\ Any]\ |\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00376}00376\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Get\ the\ \`{}model\_post\_init\`{}\ method\ from\ the\ namespace\ or\ the\ class\ bases,\ or\ \`{}None\`{}\ if\ not\ defined."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00377}00377\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{'model\_post\_init'}\ \textcolor{keywordflow}{in}\ namespace:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00378}00378\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ namespace[\textcolor{stringliteral}{'model\_post\_init'}]}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00379}00379\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00380}00380\ \ \ \ \ BaseModel\ =\ import\_cached\_base\_model()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00381}00381\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00382}00382\ \ \ \ \ model\_post\_init\ =\ get\_attribute\_from\_bases(bases,\ \textcolor{stringliteral}{'model\_post\_init'})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00383}00383\ \ \ \ \ \textcolor{keywordflow}{if}\ model\_post\_init\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ BaseModel.model\_post\_init:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00384}00384\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ model\_post\_init}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00385}00385\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00386}00386\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00387}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a857c9654152d04274c688bf988351933}{00387}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a857c9654152d04274c688bf988351933}{inspect\_namespace}}(\ \ \textcolor{comment}{\#\ noqa\ C901}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00388}00388\ \ \ \ \ namespace:\ dict[str,\ Any],}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00389}00389\ \ \ \ \ raw\_annotations:\ dict[str,\ Any],}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00390}00390\ \ \ \ \ ignored\_types:\ tuple[type[Any],\ ...],}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00391}00391\ \ \ \ \ base\_class\_vars:\ set[str],}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00392}00392\ \ \ \ \ base\_class\_fields:\ set[str],}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00393}00393\ )\ -\/>\ dict[str,\ ModelPrivateAttr]:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00394}00394\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Iterate\ over\ the\ namespace\ and:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00395}00395\ \textcolor{stringliteral}{\ \ \ \ *\ gather\ private\ attributes}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00396}00396\ \textcolor{stringliteral}{\ \ \ \ *\ check\ for\ items\ which\ look\ like\ fields\ but\ are\ not\ (e.g.\ have\ no\ annotation)\ and\ warn.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00397}00397\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00398}00398\ \textcolor{stringliteral}{\ \ \ \ Args:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00399}00399\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ namespace:\ The\ attribute\ dictionary\ of\ the\ class\ to\ be\ created.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00400}00400\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ raw\_annotations:\ The\ (non-\/evaluated)\ annotations\ of\ the\ model.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00401}00401\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ignored\_types:\ A\ tuple\ of\ ignore\ types.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00402}00402\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ base\_class\_vars:\ A\ set\ of\ base\ class\ class\ variables.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00403}00403\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ base\_class\_fields:\ A\ set\ of\ base\ class\ fields.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00404}00404\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00405}00405\ \textcolor{stringliteral}{\ \ \ \ Returns:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00406}00406\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ dict\ contains\ private\ attributes\ info.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00407}00407\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00408}00408\ \textcolor{stringliteral}{\ \ \ \ Raises:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00409}00409\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ TypeError:\ If\ there\ is\ a\ \`{}\_\_root\_\_\`{}\ field\ in\ model.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00410}00410\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ NameError:\ If\ private\ attribute\ name\ is\ invalid.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00411}00411\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ PydanticUserError:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00412}00412\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ -\/\ If\ a\ field\ does\ not\ have\ a\ type\ annotation.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00413}00413\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ -\/\ If\ a\ field\ on\ base\ class\ was\ overridden\ by\ a\ non-\/annotated\ attribute.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00414}00414\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00415}00415\ \ \ \ \ \textcolor{keyword}{from}\ ..fields\ \textcolor{keyword}{import}\ ModelPrivateAttr,\ PrivateAttr}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00416}00416\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00417}00417\ \ \ \ \ FieldInfo\ =\ import\_cached\_field\_info()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00418}00418\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00419}00419\ \ \ \ \ all\_ignored\_types\ =\ ignored\_types\ +\ \mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_ad1d13eb7ea0382a3b776d7c66c23e9be}{default\_ignored\_types}}()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00420}00420\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00421}00421\ \ \ \ \ private\_attributes:\ dict[str,\ ModelPrivateAttr]\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00422}00422\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00423}00423\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{'\_\_root\_\_'}\ \textcolor{keywordflow}{in}\ raw\_annotations\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{'\_\_root\_\_'}\ \textcolor{keywordflow}{in}\ namespace:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00424}00424\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ TypeError(\textcolor{stringliteral}{"{}To\ define\ root\ models,\ use\ \`{}pydantic.RootModel`\ rather\ than\ a\ field\ called\ '\_\_root\_\_'"{}})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00425}00425\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00426}00426\ \ \ \ \ ignored\_names:\ set[str]\ =\ set()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00427}00427\ \ \ \ \ \textcolor{keywordflow}{for}\ var\_name,\ value\ \textcolor{keywordflow}{in}\ list(namespace.items()):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00428}00428\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ var\_name\ ==\ \textcolor{stringliteral}{'model\_config'}\ \textcolor{keywordflow}{or}\ var\_name\ ==\ \textcolor{stringliteral}{'\_\_pydantic\_extra\_\_'}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00429}00429\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00430}00430\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ (}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00431}00431\ \ \ \ \ \ \ \ \ \ \ \ \ isinstance(value,\ type)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00432}00432\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ value.\_\_module\_\_\ ==\ namespace[\textcolor{stringliteral}{'\_\_module\_\_'}]}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00433}00433\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{'\_\_qualname\_\_'}\ \textcolor{keywordflow}{in}\ namespace}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00434}00434\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ value.\_\_qualname\_\_.startswith(f\textcolor{stringliteral}{'\{namespace["{}\_\_qualname\_\_"{}]\}.'})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00435}00435\ \ \ \ \ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00436}00436\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \`{}value`\ is\ a\ nested\ type\ defined\ in\ this\ namespace;\ don't\ error}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00437}00437\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00438}00438\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ isinstance(value,\ all\_ignored\_types)\ \textcolor{keywordflow}{or}\ value.\_\_class\_\_.\_\_module\_\_\ ==\ \textcolor{stringliteral}{'functools'}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00439}00439\ \ \ \ \ \ \ \ \ \ \ \ \ ignored\_names.add(var\_name)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00440}00440\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00441}00441\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ isinstance(value,\ ModelPrivateAttr):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00442}00442\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ var\_name.startswith(\textcolor{stringliteral}{'\_\_'}):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00443}00443\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ NameError(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00444}00444\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'Private\ attributes\ must\ not\ use\ dunder\ names;'}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00445}00445\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'\ use\ a\ single\ underscore\ prefix\ instead\ of\ \{var\_name!r\}.'}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00446}00446\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00447}00447\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ is\_valid\_field\_name(var\_name):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00448}00448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ NameError(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00449}00449\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'Private\ attributes\ must\ not\ use\ valid\ field\ names;'}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00450}00450\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'\ use\ sunder\ names,\ e.g.\ \{"{}\_"{}\ +\ var\_name!r\}\ instead\ of\ \{var\_name!r\}.'}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00451}00451\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00452}00452\ \ \ \ \ \ \ \ \ \ \ \ \ private\_attributes[var\_name]\ =\ value}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00453}00453\ \ \ \ \ \ \ \ \ \ \ \ \ del\ namespace[var\_name]}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00454}00454\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ isinstance(value,\ FieldInfo)\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ is\_valid\_field\_name(var\_name):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00455}00455\ \ \ \ \ \ \ \ \ \ \ \ \ suggested\_name\ =\ var\_name.lstrip(\textcolor{stringliteral}{'\_'})\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{'my\_field'}\ \ \textcolor{comment}{\#\ don't\ suggest\ ''\ for\ all-\/underscore\ name}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00456}00456\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ NameError(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00457}00457\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'Fields\ must\ not\ use\ names\ with\ leading\ underscores;'}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00458}00458\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'\ e.g.,\ use\ \{suggested\_name!r\}\ instead\ of\ \{var\_name!r\}.'}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00459}00459\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00460}00460\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00461}00461\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ var\_name.startswith(\textcolor{stringliteral}{'\_\_'}):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00462}00462\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00463}00463\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ is\_valid\_privateattr\_name(var\_name):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00464}00464\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ var\_name\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ raw\_annotations\ \textcolor{keywordflow}{or}\ \textcolor{keywordflow}{not}\ is\_classvar\_annotation(raw\_annotations[var\_name]):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00465}00465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ private\_attributes[var\_name]\ =\ cast(ModelPrivateAttr,\ PrivateAttr(default=value))}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00466}00466\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ del\ namespace[var\_name]}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00467}00467\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ var\_name\ \textcolor{keywordflow}{in}\ base\_class\_vars:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00468}00468\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00469}00469\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ var\_name\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ raw\_annotations:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00470}00470\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ var\_name\ \textcolor{keywordflow}{in}\ base\_class\_fields:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00471}00471\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classpydantic_1_1errors_1_1_pydantic_user_error}{PydanticUserError}}(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00472}00472\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'Field\ \{var\_name!r\}\ defined\ on\ a\ base\ class\ was\ overridden\ by\ a\ non-\/annotated\ attribute.\ '}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00473}00473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'All\ field\ definitions,\ including\ overrides,\ require\ a\ type\ annotation.'},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00474}00474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ code=\textcolor{stringliteral}{'model-\/field-\/overridden'},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00475}00475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00476}00476\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ isinstance(value,\ FieldInfo):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00477}00477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classpydantic_1_1errors_1_1_pydantic_user_error}{PydanticUserError}}(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00478}00478\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'Field\ \{var\_name!r\}\ requires\ a\ type\ annotation'},\ code=\textcolor{stringliteral}{'model-\/field-\/missing-\/annotation'}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00479}00479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00480}00480\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00481}00481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classpydantic_1_1errors_1_1_pydantic_user_error}{PydanticUserError}}(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00482}00482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'A\ non-\/annotated\ attribute\ was\ detected:\ \`{}\{var\_name\}\ =\ \{value!r\}`.\ All\ model\ fields\ require\ a\ '}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00483}00483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'type\ annotation;\ if\ \`{}\{var\_name\}`\ is\ not\ meant\ to\ be\ a\ field,\ you\ may\ be\ able\ to\ resolve\ this\ '}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00484}00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}error\ by\ annotating\ it\ as\ a\ \`{}ClassVar`\ or\ updating\ \`{}model\_config['ignored\_types']`."{}},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00485}00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ code=\textcolor{stringliteral}{'model-\/field-\/missing-\/annotation'},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00486}00486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00487}00487\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00488}00488\ \ \ \ \ \textcolor{keywordflow}{for}\ ann\_name,\ ann\_type\ \textcolor{keywordflow}{in}\ raw\_annotations.items():}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00489}00489\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00490}00490\ \ \ \ \ \ \ \ \ \ \ \ \ is\_valid\_privateattr\_name(ann\_name)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00491}00491\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ ann\_name\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ private\_attributes}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00492}00492\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ ann\_name\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ ignored\_names}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00493}00493\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ This\ condition\ can\ be\ a\ false\ negative\ when\ \`{}ann\_type`\ is\ stringified,}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00494}00494\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ but\ it\ is\ handled\ in\ most\ cases\ in\ \`{}set\_model\_fields`:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00495}00495\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ is\_classvar\_annotation(ann\_type)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00496}00496\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ ann\_type\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ all\_ignored\_types}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00497}00497\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ getattr(ann\_type,\ \textcolor{stringliteral}{'\_\_module\_\_'},\ \textcolor{keywordtype}{None})\ !=\ \textcolor{stringliteral}{'functools'}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00498}00498\ \ \ \ \ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00499}00499\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(ann\_type,\ str):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00500}00500\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Walking\ up\ the\ frames\ to\ get\ the\ module\ namespace\ where\ the\ model\ is\ defined}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00501}00501\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ (as\ the\ model\ class\ wasn't\ created\ yet,\ we\ unfortunately\ can't\ use\ \`{}cls.\_\_module\_\_`):}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00502}00502\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ frame\ =\ sys.\_getframe(2)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00503}00503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ frame\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00504}00504\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00505}00505\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ann\_type\ =\ eval\_type\_backport(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00506}00506\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_make\_forward\_ref(ann\_type,\ is\_argument=\textcolor{keyword}{False},\ is\_class=\textcolor{keyword}{True}),}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00507}00507\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ globalns=frame.f\_globals,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00508}00508\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ localns=frame.f\_locals,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00509}00509\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00510}00510\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ (NameError,\ TypeError):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00511}00511\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00512}00512\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00513}00513\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ typing\_objects.is\_annotated(get\_origin(ann\_type)):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00514}00514\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_,\ *metadata\ =\ get\_args(ann\_type)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00515}00515\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ private\_attr\ =\ next((v\ \textcolor{keywordflow}{for}\ v\ \textcolor{keywordflow}{in}\ metadata\ \textcolor{keywordflow}{if}\ isinstance(v,\ ModelPrivateAttr)),\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00516}00516\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ private\_attr\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00517}00517\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ private\_attributes[ann\_name]\ =\ private\_attr}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00518}00518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00519}00519\ \ \ \ \ \ \ \ \ \ \ \ \ private\_attributes[ann\_name]\ =\ PrivateAttr()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00520}00520\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00521}00521\ \ \ \ \ \textcolor{keywordflow}{return}\ private\_attributes}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00522}00522\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00523}00523\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00524}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a3c82d0a6198fef28b0e87b344f4c1c0f}{00524}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a3c82d0a6198fef28b0e87b344f4c1c0f}{set\_default\_hash\_func}}(cls:\ type[BaseModel],\ bases:\ tuple[type[Any],\ ...])\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00525}00525\ \ \ \ \ base\_hash\_func\ =\ get\_attribute\_from\_bases(bases,\ \textcolor{stringliteral}{'\_\_hash\_\_'})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00526}00526\ \ \ \ \ new\_hash\_func\ =\ \mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_aac5170b971c270d8f0699b5853f67b69}{make\_hash\_func}}(cls)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00527}00527\ \ \ \ \ \textcolor{keywordflow}{if}\ base\_hash\_func\ \textcolor{keywordflow}{in}\ \{\textcolor{keywordtype}{None},\ object.\_\_hash\_\_\}\ \textcolor{keywordflow}{or}\ getattr(base\_hash\_func,\ \textcolor{stringliteral}{'\_\_code\_\_'},\ \textcolor{keywordtype}{None})\ ==\ new\_hash\_func.\_\_code\_\_:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00528}00528\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ \`{}\_\_hash\_\_`\ is\ some\ default,\ we\ generate\ a\ hash\ function.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00529}00529\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ It\ will\ be\ \`{}None`\ if\ not\ overridden\ from\ BaseModel.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00530}00530\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ It\ may\ be\ \`{}object.\_\_hash\_\_`\ if\ there\ is\ another}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00531}00531\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ parent\ class\ earlier\ in\ the\ bases\ which\ doesn't\ override\ \`{}\_\_hash\_\_`\ (e.g.\ \`{}typing.Generic`).}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00532}00532\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ It\ may\ be\ a\ value\ set\ by\ \`{}set\_default\_hash\_func`\ if\ \`{}cls`\ is\ a\ subclass\ of\ another\ frozen\ model.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00533}00533\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ In\ the\ last\ case\ we\ still\ need\ a\ new\ hash\ function\ to\ account\ for\ new\ \`{}model\_fields`.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00534}00534\ \ \ \ \ \ \ \ \ cls.\_\_hash\_\_\ =\ new\_hash\_func}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00535}00535\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00536}00536\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00537}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_aac5170b971c270d8f0699b5853f67b69}{00537}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_aac5170b971c270d8f0699b5853f67b69}{make\_hash\_func}}(cls:\ type[BaseModel])\ -\/>\ Any:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00538}00538\ \ \ \ \ getter\ =\ operator.itemgetter(*cls.\_\_pydantic\_fields\_\_.keys())\ \textcolor{keywordflow}{if}\ cls.\_\_pydantic\_fields\_\_\ \textcolor{keywordflow}{else}\ \textcolor{keyword}{lambda}\ \_:\ 0}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00539}00539\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00540}00540\ \ \ \ \ \textcolor{keyword}{def\ }hash\_func(self:\ Any)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00541}00541\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00542}00542\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ hash(getter(self.\_\_dict\_\_))}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00543}00543\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ KeyError:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00544}00544\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ In\ rare\ cases\ (such\ as\ when\ using\ the\ deprecated\ copy\ method),\ the\ \_\_dict\_\_\ may\ not\ contain}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00545}00545\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ all\ model\ fields,\ which\ is\ how\ we\ can\ get\ here.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00546}00546\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ getter(self.\_\_dict\_\_)\ is\ much\ faster\ than\ any\ 'safe'\ method\ that\ accounts\ for\ missing\ keys,}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00547}00547\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ and\ wrapping\ it\ in\ a\ \`{}try`\ doesn't\ slow\ things\ down\ much\ in\ the\ common\ case.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00548}00548\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ hash(getter(\mbox{\hyperlink{classpydantic_1_1__internal_1_1__utils_1_1_safe_get_item_proxy}{SafeGetItemProxy}}(self.\_\_dict\_\_)))}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00549}00549\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00550}00550\ \ \ \ \ \textcolor{keywordflow}{return}\ hash\_func}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00551}00551\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00552}00552\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00553}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a5cc071e88df0a131d549f8c92fe08183}{00553}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a5cc071e88df0a131d549f8c92fe08183}{set\_model\_fields}}(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00554}00554\ \ \ \ \ cls:\ type[BaseModel],}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00555}00555\ \ \ \ \ config\_wrapper:\ ConfigWrapper,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00556}00556\ \ \ \ \ ns\_resolver:\ NsResolver\ |\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00557}00557\ )\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00558}00558\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Collect\ and\ set\ \`{}cls.\_\_pydantic\_fields\_\_\`{}\ and\ \`{}cls.\_\_class\_vars\_\_\`{}.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00559}00559\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00560}00560\ \textcolor{stringliteral}{\ \ \ \ Args:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00561}00561\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ cls:\ BaseModel\ or\ dataclass.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00562}00562\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ config\_wrapper:\ The\ config\ wrapper\ instance.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00563}00563\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ns\_resolver:\ Namespace\ resolver\ to\ use\ when\ getting\ model\ annotations.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00564}00564\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00565}00565\ \ \ \ \ typevars\_map\ =\ get\_model\_typevars\_map(cls)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00566}00566\ \ \ \ \ fields,\ class\_vars\ =\ collect\_model\_fields(cls,\ config\_wrapper,\ ns\_resolver,\ typevars\_map=typevars\_map)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00567}00567\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00568}00568\ \ \ \ \ cls.\_\_pydantic\_fields\_\_\ =\ fields}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00569}00569\ \ \ \ \ cls.\_\_class\_vars\_\_.update(class\_vars)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00570}00570\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00571}00571\ \ \ \ \ \textcolor{keywordflow}{for}\ k\ \textcolor{keywordflow}{in}\ class\_vars:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00572}00572\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Class\ vars\ should\ not\ be\ private\ attributes}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00573}00573\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ \ \ We\ remove\ them\ \_here\_\ and\ not\ earlier\ because\ we\ rely\ on\ inspecting\ the\ class\ to\ determine\ its\ classvars,}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00574}00574\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ \ \ but\ private\ attributes\ are\ determined\ by\ inspecting\ the\ namespace\ \_prior\_\ to\ class\ creation.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00575}00575\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ \ \ In\ the\ case\ that\ a\ classvar\ with\ a\ leading-\/'\_'\ is\ defined\ via\ a\ ForwardRef\ (e.g.,\ when\ using}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00576}00576\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ \ \ \`{}\_\_future\_\_.annotations`),\ we\ want\ to\ remove\ the\ private\ attribute\ which\ was\ detected\ \_before\_\ we\ knew\ it}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00577}00577\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ \ \ evaluated\ to\ a\ classvar}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00578}00578\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00579}00579\ \ \ \ \ \ \ \ \ value\ =\ cls.\_\_private\_attributes\_\_.pop(k,\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00580}00580\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ value\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{and}\ value.default\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ PydanticUndefined:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00581}00581\ \ \ \ \ \ \ \ \ \ \ \ \ setattr(cls,\ k,\ value.default)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00582}00582\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00583}00583\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00584}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a1b2ba90c0681e79ba6be4e5b4dc99d31}{00584}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a1b2ba90c0681e79ba6be4e5b4dc99d31}{complete\_model\_class}}(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00585}00585\ \ \ \ \ cls:\ type[BaseModel],}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00586}00586\ \ \ \ \ config\_wrapper:\ ConfigWrapper,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00587}00587\ \ \ \ \ ns\_resolver:\ NsResolver,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00588}00588\ \ \ \ \ *,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00589}00589\ \ \ \ \ raise\_errors:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00590}00590\ \ \ \ \ call\_on\_complete\_hook:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00591}00591\ \ \ \ \ create\_model\_module:\ str\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00592}00592\ )\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00593}00593\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Finish\ building\ a\ model\ class.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00594}00594\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00595}00595\ \textcolor{stringliteral}{\ \ \ \ This\ logic\ must\ be\ called\ after\ class\ has\ been\ created\ since\ validation\ functions\ must\ be\ bound}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00596}00596\ \textcolor{stringliteral}{\ \ \ \ and\ \`{}get\_type\_hints\`{}\ requires\ a\ class\ object.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00597}00597\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00598}00598\ \textcolor{stringliteral}{\ \ \ \ Args:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00599}00599\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ cls:\ BaseModel\ or\ dataclass.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00600}00600\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ config\_wrapper:\ The\ config\ wrapper\ instance.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00601}00601\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ns\_resolver:\ The\ namespace\ resolver\ instance\ to\ use\ during\ schema\ building.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00602}00602\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ raise\_errors:\ Whether\ to\ raise\ errors.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00603}00603\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ call\_on\_complete\_hook:\ Whether\ to\ call\ the\ \`{}\_\_pydantic\_on\_complete\_\_\`{}\ hook.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00604}00604\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ create\_model\_module:\ The\ module\ of\ the\ class\ to\ be\ created,\ if\ created\ by\ \`{}create\_model\`{}.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00605}00605\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00606}00606\ \textcolor{stringliteral}{\ \ \ \ Returns:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00607}00607\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}True\`{}\ if\ the\ model\ is\ successfully\ completed,\ else\ \`{}False\`{}.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00608}00608\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00609}00609\ \textcolor{stringliteral}{\ \ \ \ Raises:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00610}00610\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ PydanticUndefinedAnnotation:\ If\ \`{}PydanticUndefinedAnnotation\`{}\ occurs\ in\`{}\_\_get\_pydantic\_core\_schema\_\_\`{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00611}00611\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ and\ \`{}raise\_errors=True\`{}.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00612}00612\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00613}00613\ \ \ \ \ typevars\_map\ =\ get\_model\_typevars\_map(cls)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00614}00614\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00615}00615\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ cls.\_\_pydantic\_fields\_complete\_\_:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00616}00616\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Note:\ when\ coming\ from\ \`{}ModelMetaclass.\_\_new\_\_()`,\ this\ results\ in\ fields\ being\ built\ twice.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00617}00617\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ do\ so\ a\ second\ time\ here\ so\ that\ we\ can\ get\ the\ \`{}NameError`\ for\ the\ specific\ undefined\ annotation.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00618}00618\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Alternatively,\ we\ could\ let\ \`{}GenerateSchema()`\ raise\ the\ error,\ but\ there\ are\ cases\ where\ incomplete}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00619}00619\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ fields\ are\ inherited\ in\ \`{}collect\_model\_fields()`\ and\ can\ actually\ have\ their\ annotation\ resolved\ in\ the}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00620}00620\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ generate\ schema\ process.\ As\ we\ want\ to\ avoid\ having\ \`{}\_\_pydantic\_fields\_complete\_\_`\ set\ to\ \`{}False`}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00621}00621\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ when\ \`{}\_\_pydantic\_complete\_\_`\ is\ \`{}True`,\ we\ rebuild\ here:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00622}00622\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00623}00623\ \ \ \ \ \ \ \ \ \ \ \ \ cls.\_\_pydantic\_fields\_\_\ =\ rebuild\_model\_fields(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00624}00624\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cls,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00625}00625\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ config\_wrapper=config\_wrapper,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00626}00626\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ns\_resolver=ns\_resolver,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00627}00627\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ typevars\_map=typevars\_map,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00628}00628\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00629}00629\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ NameError\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00630}00630\ \ \ \ \ \ \ \ \ \ \ \ \ exc\ =\ PydanticUndefinedAnnotation.from\_name\_error(e)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00631}00631\ \ \ \ \ \ \ \ \ \ \ \ \ set\_model\_mocks(cls,\ f\textcolor{stringliteral}{'\`{}\{exc.name\}`'})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00632}00632\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ raise\_errors:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00633}00633\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ exc\ \textcolor{keyword}{from}\ e}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00634}00634\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00635}00635\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ raise\_errors\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ cls.\_\_pydantic\_fields\_complete\_\_:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00636}00636\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ No\ need\ to\ continue\ with\ schema\ gen,\ it\ is\ guaranteed\ to\ fail}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00637}00637\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00638}00638\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00639}00639\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ cls.\_\_pydantic\_fields\_complete\_\_}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00640}00640\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00641}00641\ \ \ \ \ gen\_schema\ =\ \mbox{\hyperlink{classpydantic_1_1__internal_1_1__generate__schema_1_1_generate_schema}{GenerateSchema}}(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00642}00642\ \ \ \ \ \ \ \ \ config\_wrapper,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00643}00643\ \ \ \ \ \ \ \ \ ns\_resolver,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00644}00644\ \ \ \ \ \ \ \ \ typevars\_map,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00645}00645\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00646}00646\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00647}00647\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00648}00648\ \ \ \ \ \ \ \ \ schema\ =\ gen\_schema.generate\_schema(cls)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00649}00649\ \ \ \ \ \textcolor{keywordflow}{except}\ PydanticUndefinedAnnotation\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00650}00650\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ raise\_errors:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00651}00651\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00652}00652\ \ \ \ \ \ \ \ \ set\_model\_mocks(cls,\ f\textcolor{stringliteral}{'\`{}\{e.name\}`'})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00653}00653\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00654}00654\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00655}00655\ \ \ \ \ core\_config\ =\ config\_wrapper.core\_config(title=cls.\_\_name\_\_)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00656}00656\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00657}00657\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00658}00658\ \ \ \ \ \ \ \ \ schema\ =\ gen\_schema.clean\_schema(schema)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00659}00659\ \ \ \ \ \textcolor{keywordflow}{except}\ InvalidSchemaError:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00660}00660\ \ \ \ \ \ \ \ \ set\_model\_mocks(cls)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00661}00661\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00662}00662\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00663}00663\ \ \ \ \ \textcolor{comment}{\#\ This\ needs\ to\ happen\ *after*\ model\ schema\ generation,\ as\ the\ return\ type}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00664}00664\ \ \ \ \ \textcolor{comment}{\#\ of\ the\ properties\ are\ evaluated\ and\ the\ \`{}ComputedFieldInfo`\ are\ recreated:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00665}00665\ \ \ \ \ cls.\_\_pydantic\_computed\_fields\_\_\ =\ \{k:\ v.info\ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ cls.\_\_pydantic\_decorators\_\_.computed\_fields.items()\}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00666}00666\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00667}00667\ \ \ \ \ \mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a122377dc4f2e3c41830d6ddf160ac6ee}{set\_deprecated\_descriptors}}(cls)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00668}00668\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00669}00669\ \ \ \ \ cls.\_\_pydantic\_core\_schema\_\_\ =\ schema}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00670}00670\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00671}00671\ \ \ \ \ cls.\_\_pydantic\_validator\_\_\ =\ create\_schema\_validator(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00672}00672\ \ \ \ \ \ \ \ \ schema,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00673}00673\ \ \ \ \ \ \ \ \ cls,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00674}00674\ \ \ \ \ \ \ \ \ create\_model\_module\ \textcolor{keywordflow}{or}\ cls.\_\_module\_\_,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00675}00675\ \ \ \ \ \ \ \ \ cls.\_\_qualname\_\_,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00676}00676\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'create\_model'}\ \textcolor{keywordflow}{if}\ create\_model\_module\ \textcolor{keywordflow}{else}\ \textcolor{stringliteral}{'BaseModel'},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00677}00677\ \ \ \ \ \ \ \ \ core\_config,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00678}00678\ \ \ \ \ \ \ \ \ config\_wrapper.plugin\_settings,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00679}00679\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00680}00680\ \ \ \ \ cls.\_\_pydantic\_serializer\_\_\ =\ SchemaSerializer(schema,\ core\_config)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00681}00681\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00682}00682\ \ \ \ \ \textcolor{comment}{\#\ set\ \_\_signature\_\_\ attr\ only\ for\ model\ class,\ but\ not\ for\ its\ instances}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00683}00683\ \ \ \ \ \textcolor{comment}{\#\ (because\ instances\ can\ define\ \`{}\_\_call\_\_`,\ and\ \`{}inspect.signature`\ shouldn't}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00684}00684\ \ \ \ \ \textcolor{comment}{\#\ use\ the\ \`{}\_\_signature\_\_`\ attribute\ and\ instead\ generate\ from\ \`{}\_\_call\_\_`).}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00685}00685\ \ \ \ \ cls.\_\_signature\_\_\ =\ \mbox{\hyperlink{classpydantic_1_1__internal_1_1__utils_1_1_lazy_class_attribute}{LazyClassAttribute}}(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00686}00686\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'\_\_signature\_\_'},}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00687}00687\ \ \ \ \ \ \ \ \ partial(}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00688}00688\ \ \ \ \ \ \ \ \ \ \ \ \ generate\_pydantic\_signature,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00689}00689\ \ \ \ \ \ \ \ \ \ \ \ \ init=cls.\_\_init\_\_,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00690}00690\ \ \ \ \ \ \ \ \ \ \ \ \ fields=cls.\_\_pydantic\_fields\_\_,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00691}00691\ \ \ \ \ \ \ \ \ \ \ \ \ validate\_by\_name=config\_wrapper.validate\_by\_name,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00692}00692\ \ \ \ \ \ \ \ \ \ \ \ \ extra=config\_wrapper.extra,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00693}00693\ \ \ \ \ \ \ \ \ ),}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00694}00694\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00695}00695\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00696}00696\ \ \ \ \ cls.\_\_pydantic\_complete\_\_\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00697}00697\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00698}00698\ \ \ \ \ \textcolor{keywordflow}{if}\ call\_on\_complete\_hook:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00699}00699\ \ \ \ \ \ \ \ \ cls.\_\_pydantic\_on\_complete\_\_()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00700}00700\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00701}00701\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00702}00702\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00703}00703\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00704}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a122377dc4f2e3c41830d6ddf160ac6ee}{00704}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a122377dc4f2e3c41830d6ddf160ac6ee}{set\_deprecated\_descriptors}}(cls:\ type[BaseModel])\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00705}00705\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Set\ data\ descriptors\ on\ the\ class\ for\ deprecated\ fields."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00706}00706\ \ \ \ \ \textcolor{keywordflow}{for}\ field,\ field\_info\ \textcolor{keywordflow}{in}\ cls.\_\_pydantic\_fields\_\_.items():}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00707}00707\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (msg\ :=\ field\_info.deprecation\_message)\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00708}00708\ \ \ \ \ \ \ \ \ \ \ \ \ desc\ =\ \mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor}{\_DeprecatedFieldDescriptor}}(msg)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00709}00709\ \ \ \ \ \ \ \ \ \ \ \ \ desc.\_\_set\_name\_\_(cls,\ field)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00710}00710\ \ \ \ \ \ \ \ \ \ \ \ \ setattr(cls,\ field,\ desc)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00711}00711\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00712}00712\ \ \ \ \ \textcolor{keywordflow}{for}\ field,\ computed\_field\_info\ \textcolor{keywordflow}{in}\ cls.\_\_pydantic\_computed\_fields\_\_.items():}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00713}00713\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00714}00714\ \ \ \ \ \ \ \ \ \ \ \ \ (msg\ :=\ computed\_field\_info.deprecation\_message)\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00715}00715\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Avoid\ having\ two\ warnings\ emitted:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00716}00716\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ hasattr(unwrap\_wrapped\_function(computed\_field\_info.wrapped\_property),\ \textcolor{stringliteral}{'\_\_deprecated\_\_'})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00717}00717\ \ \ \ \ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00718}00718\ \ \ \ \ \ \ \ \ \ \ \ \ desc\ =\ \mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor}{\_DeprecatedFieldDescriptor}}(msg,\ computed\_field\_info.wrapped\_property)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00719}00719\ \ \ \ \ \ \ \ \ \ \ \ \ desc.\_\_set\_name\_\_(cls,\ field)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00720}00720\ \ \ \ \ \ \ \ \ \ \ \ \ setattr(cls,\ field,\ desc)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00721}00721\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00722}00722\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00723}\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor}{00723}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor}{\_DeprecatedFieldDescriptor}}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00724}00724\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Read-\/only\ data\ descriptor\ used\ to\ emit\ a\ runtime\ deprecation\ warning\ before\ accessing\ a\ deprecated\ field.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00725}00725\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00726}00726\ \textcolor{stringliteral}{\ \ \ \ Attributes:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00727}00727\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ msg:\ The\ deprecation\ message\ to\ be\ emitted.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00728}00728\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ wrapped\_property:\ The\ property\ instance\ if\ the\ deprecated\ field\ is\ a\ computed\ field,\ or\ \`{}None\`{}.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00729}00729\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ field\_name:\ The\ name\ of\ the\ field\ being\ deprecated.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00730}00730\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00731}00731\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00732}00732\ \ \ \ \ field\_name:\ str}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00733}00733\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00734}00734\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ msg:\ str,\ wrapped\_property:\ property\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None})\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00735}\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor_a2c9ed34088ef948a5006a7bc43eb5445}{00735}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor_a2c9ed34088ef948a5006a7bc43eb5445}{msg}}\ =\ msg}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00736}\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor_a33208a46add19e0708656e0e3d2c087f}{00736}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor_a33208a46add19e0708656e0e3d2c087f}{wrapped\_property}}\ =\ wrapped\_property}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00737}00737\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00738}00738\ \ \ \ \ \textcolor{keyword}{def\ }\_\_set\_name\_\_(self,\ cls:\ type[BaseModel],\ name:\ str)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00739}\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor_af59509f6bb0370bc19cfd46b20b48c1c}{00739}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor_af59509f6bb0370bc19cfd46b20b48c1c}{field\_name}}\ =\ name}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00740}00740\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00741}00741\ \ \ \ \ \textcolor{keyword}{def\ }\_\_get\_\_(self,\ obj:\ BaseModel\ |\ \textcolor{keywordtype}{None},\ obj\_type:\ type[BaseModel]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None})\ -\/>\ Any:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00742}00742\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ obj\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00743}00743\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor_a33208a46add19e0708656e0e3d2c087f}{wrapped\_property}}\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00744}00744\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor_a33208a46add19e0708656e0e3d2c087f}{wrapped\_property}}.\_\_get\_\_(\textcolor{keywordtype}{None},\ obj\_type)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00745}00745\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ AttributeError(self.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor_af59509f6bb0370bc19cfd46b20b48c1c}{field\_name}})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00746}00746\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00747}00747\ \ \ \ \ \ \ \ \ warnings.warn(self.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor_a2c9ed34088ef948a5006a7bc43eb5445}{msg}},\ DeprecationWarning,\ stacklevel=2)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00748}00748\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00749}00749\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor_a33208a46add19e0708656e0e3d2c087f}{wrapped\_property}}\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00750}00750\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor_a33208a46add19e0708656e0e3d2c087f}{wrapped\_property}}.\_\_get\_\_(obj,\ obj\_type)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00751}00751\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ obj.\_\_dict\_\_[self.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor_af59509f6bb0370bc19cfd46b20b48c1c}{field\_name}}]}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00752}00752\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00753}00753\ \ \ \ \ \textcolor{comment}{\#\ Defined\ to\ make\ it\ a\ data\ descriptor\ and\ take\ precedence\ over\ the\ instance's\ dictionary.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00754}00754\ \ \ \ \ \textcolor{comment}{\#\ Note\ that\ it\ will\ not\ be\ called\ when\ setting\ a\ value\ on\ a\ model\ instance}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00755}00755\ \ \ \ \ \textcolor{comment}{\#\ as\ \`{}BaseModel.\_\_setattr\_\_`\ is\ defined\ and\ takes\ priority.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00756}00756\ \ \ \ \ \textcolor{keyword}{def\ }\_\_set\_\_(self,\ obj:\ Any,\ value:\ Any)\ -\/>\ NoReturn:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00757}00757\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ AttributeError(self.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___deprecated_field_descriptor_af59509f6bb0370bc19cfd46b20b48c1c}{field\_name}})}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00758}00758\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00759}00759\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00760}\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___pydantic_weak_ref}{00760}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___pydantic_weak_ref}{\_PydanticWeakRef}}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00761}00761\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Wrapper\ for\ \`{}weakref.ref\`{}\ that\ enables\ \`{}pickle\`{}\ serialization.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00762}00762\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00763}00763\ \textcolor{stringliteral}{\ \ \ \ Cloudpickle\ fails\ to\ serialize\ \`{}weakref.ref\`{}\ objects\ due\ to\ an\ arcane\ error\ related}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00764}00764\ \textcolor{stringliteral}{\ \ \ \ to\ abstract\ base\ classes\ (\`{}abc.ABC\`{}).\ This\ class\ works\ around\ the\ issue\ by\ wrapping}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00765}00765\ \textcolor{stringliteral}{\ \ \ \ \`{}weakref.ref\`{}\ instead\ of\ subclassing\ it.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00766}00766\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00767}00767\ \textcolor{stringliteral}{\ \ \ \ See\ https://github.com/pydantic/pydantic/issues/6763\ for\ context.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00768}00768\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00769}00769\ \textcolor{stringliteral}{\ \ \ \ Semantics:}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00770}00770\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/\ If\ not\ pickled,\ behaves\ the\ same\ as\ a\ \`{}weakref.ref\`{}.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00771}00771\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/\ If\ pickled\ along\ with\ the\ referenced\ object,\ the\ same\ \`{}weakref.ref\`{}\ behavior}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00772}00772\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ will\ be\ maintained\ between\ them\ after\ unpickling.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00773}00773\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/\ If\ pickled\ without\ the\ referenced\ object,\ after\ unpickling\ the\ underlying}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00774}00774\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ reference\ will\ be\ cleared\ (\`{}\_\_call\_\_\`{}\ will\ always\ return\ \`{}None\`{}).}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00775}00775\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00776}00776\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00777}00777\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ obj:\ Any):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00778}00778\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ obj\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00779}00779\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ The\ object\ will\ be\ \`{}None`\ upon\ deserialization\ if\ the\ serialized\ weakref}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00780}00780\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ had\ lost\ its\ underlying\ object.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00781}\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___pydantic_weak_ref_a69271f44d79244107144d378ef1c757a}{00781}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___pydantic_weak_ref_a69271f44d79244107144d378ef1c757a}{\_wr}}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00782}00782\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00783}00783\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___pydantic_weak_ref_a69271f44d79244107144d378ef1c757a}{\_wr}}\ =\ weakref.ref(obj)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00784}00784\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00785}00785\ \ \ \ \ \textcolor{keyword}{def\ }\_\_call\_\_(self)\ -\/>\ Any:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00786}00786\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___pydantic_weak_ref_a69271f44d79244107144d378ef1c757a}{\_wr}}\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00787}00787\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00788}00788\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00789}00789\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___pydantic_weak_ref_a69271f44d79244107144d378ef1c757a}{\_wr}}()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00790}00790\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00791}00791\ \ \ \ \ \textcolor{keyword}{def\ }\_\_reduce\_\_(self)\ -\/>\ tuple[Callable,\ tuple[weakref.ReferenceType\ |\ None]]:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00792}00792\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_PydanticWeakRef,\ (self(),)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00793}00793\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00794}00794\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00795}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_aa06e1824e075bd95f6248cfe342dd1fe}{00795}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_aa06e1824e075bd95f6248cfe342dd1fe}{build\_lenient\_weakvaluedict}}(d:\ dict[str,\ Any]\ |\ \textcolor{keywordtype}{None})\ -\/>\ dict[str,\ Any]\ |\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00796}00796\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Takes\ an\ input\ dictionary,\ and\ produces\ a\ new\ value\ that\ (invertibly)\ replaces\ the\ values\ with\ weakrefs.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00797}00797\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00798}00798\ \textcolor{stringliteral}{\ \ \ \ We\ can't\ just\ use\ a\ WeakValueDictionary\ because\ many\ types\ (including\ int,\ str,\ etc.)\ can't\ be\ stored\ as\ values}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00799}00799\ \textcolor{stringliteral}{\ \ \ \ in\ a\ WeakValueDictionary.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00800}00800\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00801}00801\ \textcolor{stringliteral}{\ \ \ \ The\ \`{}unpack\_lenient\_weakvaluedict\`{}\ function\ can\ be\ used\ to\ reverse\ this\ operation.}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00802}00802\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00803}00803\ \ \ \ \ \textcolor{keywordflow}{if}\ d\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00804}00804\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00805}00805\ \ \ \ \ result\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00806}00806\ \ \ \ \ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ d.items():}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00807}00807\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00808}00808\ \ \ \ \ \ \ \ \ \ \ \ \ proxy\ =\ \mbox{\hyperlink{classpydantic_1_1__internal_1_1__model__construction_1_1___pydantic_weak_ref}{\_PydanticWeakRef}}(v)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00809}00809\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ TypeError:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00810}00810\ \ \ \ \ \ \ \ \ \ \ \ \ proxy\ =\ v}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00811}00811\ \ \ \ \ \ \ \ \ result[k]\ =\ proxy}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00812}00812\ \ \ \ \ \textcolor{keywordflow}{return}\ result}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00813}00813\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00814}00814\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00815}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a085d597c7adf067a90f1a3726ab6808c}{00815}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_a085d597c7adf067a90f1a3726ab6808c}{unpack\_lenient\_weakvaluedict}}(d:\ dict[str,\ Any]\ |\ \textcolor{keywordtype}{None})\ -\/>\ dict[str,\ Any]\ |\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00816}00816\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Inverts\ the\ transform\ performed\ by\ \`{}build\_lenient\_weakvaluedict\`{}."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00817}00817\ \ \ \ \ \textcolor{keywordflow}{if}\ d\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00818}00818\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00819}00819\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00820}00820\ \ \ \ \ result\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00821}00821\ \ \ \ \ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ d.items():}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00822}00822\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(v,\ \_PydanticWeakRef):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00823}00823\ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ v()}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00824}00824\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ v\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00825}00825\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result[k]\ =\ v}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00826}00826\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00827}00827\ \ \ \ \ \ \ \ \ \ \ \ \ result[k]\ =\ v}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00828}00828\ \ \ \ \ \textcolor{keywordflow}{return}\ result}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00829}00829\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00830}00830\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00831}00831\ \textcolor{preprocessor}{@cache}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00832}\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_ad1d13eb7ea0382a3b776d7c66c23e9be}{00832}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepydantic_1_1__internal_1_1__model__construction_ad1d13eb7ea0382a3b776d7c66c23e9be}{default\_ignored\_types}}()\ -\/>\ tuple[type[Any],\ ...]:}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00833}00833\ \ \ \ \ \textcolor{keyword}{from}\ ..fields\ \textcolor{keyword}{import}\ ComputedFieldInfo}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00834}00834\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00835}00835\ \ \ \ \ ignored\_types\ =\ [}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00836}00836\ \ \ \ \ \ \ \ \ FunctionType,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00837}00837\ \ \ \ \ \ \ \ \ property,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00838}00838\ \ \ \ \ \ \ \ \ classmethod,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00839}00839\ \ \ \ \ \ \ \ \ staticmethod,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00840}00840\ \ \ \ \ \ \ \ \ PydanticDescriptorProxy,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00841}00841\ \ \ \ \ \ \ \ \ ComputedFieldInfo,}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00842}00842\ \ \ \ \ \ \ \ \ TypeAliasType,\ \ \textcolor{comment}{\#\ from\ \`{}typing\_extensions`}}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00843}00843\ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00844}00844\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00845}00845\ \ \ \ \ \textcolor{keywordflow}{if}\ sys.version\_info\ >=\ (3,\ 12):}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00846}00846\ \ \ \ \ \ \ \ \ ignored\_types.append(typing.TypeAliasType)}
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00847}00847\ }
\DoxyCodeLine{\Hypertarget{__model__construction_8py_source_l00848}00848\ \ \ \ \ \textcolor{keywordflow}{return}\ tuple(ignored\_types)}

\end{DoxyCode}
