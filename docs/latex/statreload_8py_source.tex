\doxysection{statreload.\+py}
\hypertarget{statreload_8py_source}{}\label{statreload_8py_source}\index{micro\_gestion\_objetos/venv/Lib/site-\/packages/uvicorn/supervisors/statreload.py@{micro\_gestion\_objetos/venv/Lib/site-\/packages/uvicorn/supervisors/statreload.py}}
\mbox{\hyperlink{statreload_8py}{Ir a la documentaciÃ³n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00001}\mbox{\hyperlink{namespaceuvicorn_1_1supervisors_1_1statreload}{00001}}\ \textcolor{keyword}{from}\ \_\_future\_\_\ \textcolor{keyword}{import}\ annotations}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00003}00003\ \textcolor{keyword}{import}\ logging}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00004}00004\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacecollections_1_1abc}{collections.abc}}\ \textcolor{keyword}{import}\ Iterator}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00005}00005\ \textcolor{keyword}{from}\ pathlib\ \textcolor{keyword}{import}\ Path}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00006}00006\ \textcolor{keyword}{from}\ socket\ \textcolor{keyword}{import}\ socket}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00007}00007\ \textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ Callable}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00009}00009\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespaceuvicorn_1_1config}{uvicorn.config}}\ \textcolor{keyword}{import}\ Config}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00010}00010\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespaceuvicorn_1_1supervisors_1_1basereload}{uvicorn.supervisors.basereload}}\ \textcolor{keyword}{import}\ BaseReload}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00012}\mbox{\hyperlink{namespaceuvicorn_1_1supervisors_1_1statreload_aa01032fc2f63e1fa5ebb6e65d2fbfea8}{00012}}\ logger\ =\ logging.getLogger(\textcolor{stringliteral}{"{}uvicorn.error"{}})}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00015}\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1statreload_1_1_stat_reload}{00015}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1statreload_1_1_stat_reload}{StatReload}}(\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1basereload_1_1_base_reload}{BaseReload}}):}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00016}00016\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00017}00017\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00018}00018\ \ \ \ \ \ \ \ \ config:\ Config,}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00019}00019\ \ \ \ \ \ \ \ \ target:\ Callable[[list[socket]\ |\ \textcolor{keywordtype}{None}],\ \textcolor{keywordtype}{None}],}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00020}00020\ \ \ \ \ \ \ \ \ sockets:\ list[socket],}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00021}00021\ \ \ \ \ )\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00022}00022\ \ \ \ \ \ \ \ \ super().\_\_init\_\_(config,\ target,\ sockets)}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00023}\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1statreload_1_1_stat_reload}{00023}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1basereload_1_1_base_reload_ad436f6a1a9e4df02e6b3fb0a6de60331}{reloader\_name}}\ =\ \textcolor{stringliteral}{"{}StatReload"{}}}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00024}\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1statreload_1_1_stat_reload_ad96ce53df9ea90592a4f88f2a0cd09d4}{00024}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1statreload_1_1_stat_reload_ad96ce53df9ea90592a4f88f2a0cd09d4}{mtimes}}:\ dict[Path,\ float]\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00026}00026\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ config.reload\_excludes\ \textcolor{keywordflow}{or}\ config.reload\_includes:}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00027}00027\ \ \ \ \ \ \ \ \ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}-\/-\/reload-\/include\ and\ -\/-\/reload-\/exclude\ have\ no\ effect\ unless\ watchfiles\ is\ installed."{}})}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00029}\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1statreload_1_1_stat_reload_a4e41e7b6b485c190118dfefdca541a31}{00029}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1statreload_1_1_stat_reload_a4e41e7b6b485c190118dfefdca541a31}{should\_restart}}(self)\ -\/>\ list[Path]\ |\ None:}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1basereload_1_1_base_reload_a97e3481850d5bda8202517105a0eceb9}{pause}}()}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ file\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1statreload_1_1_stat_reload_a87a7f7866a9a24bb590495d9c426b9f1}{iter\_py\_files}}():}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00034}00034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mtime\ =\ file.stat().st\_mtime}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ OSError:\ \ \textcolor{comment}{\#\ pragma:\ nocover}}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ old\_time\ =\ self.\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1statreload_1_1_stat_reload_ad96ce53df9ea90592a4f88f2a0cd09d4}{mtimes}}.get(file)}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ old\_time\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1statreload_1_1_stat_reload_ad96ce53df9ea90592a4f88f2a0cd09d4}{mtimes}}[file]\ =\ mtime}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00041}00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ mtime\ >\ old\_time:}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [file]}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00044}00044\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00046}\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1statreload_1_1_stat_reload_af0dbf7469729662731fdb333d21b266f}{00046}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1statreload_1_1_stat_reload_af0dbf7469729662731fdb333d21b266f}{restart}}(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00047}00047\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1statreload_1_1_stat_reload_ad96ce53df9ea90592a4f88f2a0cd09d4}{mtimes}}\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ super().\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1statreload_1_1_stat_reload_af0dbf7469729662731fdb333d21b266f}{restart}}()}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00050}\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1statreload_1_1_stat_reload_a87a7f7866a9a24bb590495d9c426b9f1}{00050}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1statreload_1_1_stat_reload_a87a7f7866a9a24bb590495d9c426b9f1}{iter\_py\_files}}(self)\ -\/>\ Iterator[Path]:}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00051}00051\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ reload\_dir\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classuvicorn_1_1supervisors_1_1basereload_1_1_base_reload_a1855ef9737897ae520864e7abfa53bfb}{config}}.reload\_dirs:}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00052}00052\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ path\ \textcolor{keywordflow}{in}\ list(reload\_dir.rglob(\textcolor{stringliteral}{"{}*.py"{}})):}
\DoxyCodeLine{\Hypertarget{statreload_8py_source_l00053}00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}\ path.resolve()}

\end{DoxyCode}
