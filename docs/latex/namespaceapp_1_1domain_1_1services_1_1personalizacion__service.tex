\doxysection{Referencia del espacio de nombres app.\+domain.\+services.\+personalizacion\+\_\+service}
\hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service}{}\label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection*{Clases}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classapp_1_1domain_1_1services_1_1personalizacion__service_1_1_personalizacion_service}{Personalizacion\+Service}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Funciones}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classstarlette_1_1responses_1_1_j_s_o_n_response}{JSONResponse}} \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ac9bfbc073df7194be1288e9848e78270}{desactivar\+Ecas\+Usuario\+Actual}} (self)
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a7b805be6ce48f5c6a79d7d23b51097fe}{crear\+Ecas}} (self, \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a2ab48e5c318af295d5a8a4241fd5e2d7}{lista\+Ecas\+Crear}})
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aae7e5d20a9f355076b8d5f9903e06751}{inicializar\+Ecas\+Usuario}} (self, lista\+Ecas\+Activar)
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a2527f6f145c877b6a607575dd6f0efc8}{eliminar\+Ecas}} (self, \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a9fd324616a5cf02beec186f5c58f7396}{lista\+Ecas\+Eliminar}})
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a9c882b9e65c59f73c377ed5da559fa31}{verificar\+Usuario}} (self, email)
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a1fa87e44ae034f58574c2b7123f7cd95}{posicion\+Valor}} (self, lista\+Dic, clave, valor)
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ae4e2a7716d0b54ac26d2d56018214226}{ecas\+Archivo\+ADiccionario}} (self)
\item 
\mbox{\hyperlink{classstarlette_1_1responses_1_1_j_s_o_n_response}{JSONResponse}} \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a30bb0c913de5516d6fcc3600afca1ce9}{registro\+Interaccion\+Usuario\+Objeto}} (self, \mbox{\hyperlink{classapp_1_1application_1_1dtos_1_1request__dtos_1_1_registro_interaccion_d_t_o}{Registro\+Interaccion\+DTO}} data)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
list \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a9fd324616a5cf02beec186f5c58f7396}{lista\+Ecas\+Eliminar}} = \mbox{[}$\,$\mbox{]}
\begin{DoxyCompactList}\small\item\em lista\+Ecas\+Crear \mbox{[}\{\textquotesingle{}name\+\_\+event\+\_\+resource\textquotesingle{}\+: \textquotesingle{}temperatura\textquotesingle{}, \textquotesingle{}unit\+\_\+action\textquotesingle{}\+: \textquotesingle{}None\textquotesingle{}, \textquotesingle{}type\+\_\+variable\+\_\+action\textquotesingle{}\+: \textquotesingle{}bool\textquotesingle{}, \textquotesingle{}comparator\+\_\+action\textquotesingle{}\+: \textquotesingle{}igual\textquotesingle{}, \textquotesingle{}id\+\_\+action\+\_\+object\textquotesingle{}\+: \textquotesingle{}708637323\textquotesingle{}, \textquotesingle{}ip\+\_\+action\+\_\+object\textquotesingle{}\+: \textquotesingle{}192.\+168.\+123.\+104\textquotesingle{}, \textquotesingle{}name\+\_\+eca\textquotesingle{}\+: \textquotesingle{}subir\+Temperatura\textquotesingle{}, \textquotesingle{}end\+\_\+date\+\_\+activity\textquotesingle{}\+: \textquotesingle{}\textquotesingle{}, \textquotesingle{}variable\+\_\+condition\textquotesingle{}\+: \textquotesingle{}20\textquotesingle{}, \textquotesingle{}comparator\+\_\+condition\textquotesingle{}\+: \textquotesingle{}igual\textquotesingle{}, \textquotesingle{}meaning\+\_\+condition\textquotesingle{}\+: \textquotesingle{}hace calor\textquotesingle{}, \textquotesingle{}state\+\_\+eca\textquotesingle{}\+: \textquotesingle{}on\textquotesingle{}, \textquotesingle{}name\+\_\+action\+\_\+object\textquotesingle{}\+: \textquotesingle{}Regulador Temperatura\textquotesingle{}, \textquotesingle{}id\+\_\+action\+\_\+resource\textquotesingle{}\+: \textquotesingle{}ventilador\textquotesingle{}, \textquotesingle{}start\+\_\+date\+\_\+activity\textquotesingle{}\+: \textquotesingle{}\textquotesingle{}, \textquotesingle{}name\+\_\+activity\textquotesingle{}\+: \textquotesingle{}\textquotesingle{}, \textquotesingle{}meaning\+\_\+action\textquotesingle{}\+: \textquotesingle{}encender ventilador\textquotesingle{}, \textquotesingle{}name\+\_\+event\+\_\+object\textquotesingle{}\+: \textquotesingle{}Regulador Temperatura\textquotesingle{}, \textquotesingle{}id\+\_\+event\+\_\+resource\textquotesingle{}\+: \textquotesingle{}temperatura\textquotesingle{}, \textquotesingle{}variable\+\_\+action\textquotesingle{}\+: \textquotesingle{}1\textquotesingle{}, \textquotesingle{}ip\+\_\+event\+\_\+object\textquotesingle{}\+: \textquotesingle{}192.\+168.\+123.\+104\textquotesingle{}, \textquotesingle{}unit\+\_\+condition\textquotesingle{}\+: \textquotesingle{}\textquotesingle{}, \textquotesingle{}id\+\_\+event\+\_\+object\textquotesingle{}\+: \textquotesingle{}708637323\textquotesingle{}, \textquotesingle{}name\+\_\+action\+\_\+resource\textquotesingle{}\+: \textquotesingle{}ventilador\textquotesingle{}, \textquotesingle{}type\+\_\+variable\+\_\+condition\textquotesingle{}\+: \textquotesingle{}float\textquotesingle{}\}\mbox{]} \end{DoxyCompactList}\item 
list \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ab684c89dfd4ec2f16c83f1335c5f299d}{lista\+Ecas\+Igual\+Estado}} = \mbox{[}$\,$\mbox{]}
\item 
list \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aa2767b2af43986712ec841bdd37adef7}{lista\+Ecas\+Modificar\+Estado}} = \mbox{[}$\,$\mbox{]}
\item 
list \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a2ab48e5c318af295d5a8a4241fd5e2d7}{lista\+Ecas\+Crear}} = \mbox{[}$\,$\mbox{]}
\item 
list \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aa3607d6ec3524b21192452bfeb5cb229}{posiciones\+Ecas\+Encontrados}} = \mbox{[}$\,$\mbox{]}
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_abfe38c85f4926f744caa654aac5cdb3f}{posicion}} = self.\+posicion\+Valor(ecas\+Archivo, "{}name\+\_\+eca"{}, item\mbox{[}"{}name\+\_\+eca"{}\mbox{]})
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aab64c7d2ba574c0c574c5babf009b8fa}{item\+Eca\+Archivo}} = ecas\+Archivo\mbox{[}\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_abfe38c85f4926f744caa654aac5cdb3f}{posicion}}\mbox{]}
\begin{DoxyCompactList}\small\item\em Si el eca del archivo esta en los del usuario, hay que activarlo osea eca\+Archivo en lista\+Ecas\+Usuario. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a32faaee5948602a5cc428e672b60401e}{i}} = 0
\begin{DoxyCompactList}\small\item\em Esta en los ecas del usuario, pero no el el archivo. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aba9d199425dd41013b56d9ed599066b4}{hilo\+Crear\+Ecas}} = threading.\+Thread(target = self.\+crear\+Ecas, name="{}Hilo\+Crear\+Ecas"{}, args =(\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a2ab48e5c318af295d5a8a4241fd5e2d7}{lista\+Ecas\+Crear}},))
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a4803b2c84d7fae4e8c9dffc490c2cf04}{hiloinicializar\+Ecas\+Usuario}} = threading.\+Thread(target = self.\+inicializar\+Ecas\+Usuario, name="{}Hilo\+Inicializar\+Ecas\+Usuario"{}, args =(\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ab684c89dfd4ec2f16c83f1335c5f299d}{lista\+Ecas\+Igual\+Estado}},))
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a0fa43818061d24da9623f8a6b9607323}{hilo\+Eliminar\+Ecas\+Usurio}} = threading.\+Thread(target = self.\+eliminar\+Ecas, name="{}Hilo\+Eliminar\+Ecas\+Usurio"{}, args =(\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a9fd324616a5cf02beec186f5c58f7396}{lista\+Ecas\+Eliminar}},))
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ad3d616e046a3a742a036cddfee1c692b}{archivo}} = open(self.\+path\+Ecas\+Usuario,\textquotesingle{}w+\textquotesingle{})
\begin{DoxyCompactList}\small\item\em Sobreescribo el archivo para que solo tenga los ecas de la ontologia del usuario. \end{DoxyCompactList}\item 
list \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ac0a5917d5a2b11da3b4b6639a71d7452}{lista\+Ecas\+Archivo}} = \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a2ab48e5c318af295d5a8a4241fd5e2d7}{lista\+Ecas\+Crear}} + \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aa2767b2af43986712ec841bdd37adef7}{lista\+Ecas\+Modificar\+Estado}} + \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ab684c89dfd4ec2f16c83f1335c5f299d}{lista\+Ecas\+Igual\+Estado}}
\item 
str \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a8596c2ac7722136bba938e77f5f6d15d}{linea}} = item\mbox{[}"{}name\+\_\+eca"{}\mbox{]} + "{},"{} + item\mbox{[}"{}state\+\_\+eca"{}\mbox{]} + "{}\textbackslash{}n"{}
\item 
str \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a049e403b3570389ff53d2cda29716360}{user\+\_\+eca}} = \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1ontology__service_a8663fc24b0f4e97b8fe519cb12d24f41}{ontology\+\_\+service.\+consultar\+\_\+email\+\_\+usuario}}()
\begin{DoxyCompactList}\small\item\em Cada Usuario va a tener un archivo email.\+txt donde se almacena el nombre del ECA y su estado. \end{DoxyCompactList}\item 
str \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ab1961a46631ed1a1bbf3210d147cf507}{path\+Ecas\+Usuario}} = self.\+path + self.\+user\+\_\+eca +"{}.txt"{}
\item 
\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ae080dc3cb17cf25bcd6bc09cad492512}{osid}}
\end{DoxyCompactItemize}


\doxysubsection{Descripción detallada}
\begin{DoxyVerb}    @file personalizacion_service.py
    @brief Servicio de aplicación para gestión de personalización de usuario.
    @details
    Implementa la lógica de negocio para:
    - Gestión de preferencias/contratos ECA del usuario
    - Carga y activación de ontologías de perfil
    - Coordinación con microservicio de automatización
    - Registro de interacciones usuario-objeto
    
    Patrón: Application Service + Domain Service
    
    Dependencias externas:
    - micro_gestion_conocimiento: para carga de ontologías
    - micro_automatizacion: para creación/gestión de ECAs
    - microservicio_data_stream: para registros de interacción
    
    @author Sistema Objeto Inteligente
    @version 1.0
    @date 2025-01-10
    
    @see PersonalizacionService Para endpoints
    @see ontology_service Para operaciones de ontología
    @see eca_service Para gestión de reglas ECA
\end{DoxyVerb}
 

\label{doc-func-members}
\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_doc-func-members}
\doxysubsection{Documentación de funciones}
\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a7b805be6ce48f5c6a79d7d23b51097fe}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!crearEcas@{crearEcas}}
\index{crearEcas@{crearEcas}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{crearEcas()}{crearEcas()}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a7b805be6ce48f5c6a79d7d23b51097fe} 
app.\+domain.\+services.\+personalizacion\+\_\+service.\+crear\+Ecas (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{lista\+Ecas\+Crear}{}\end{DoxyParamCaption})}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00295}{295}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ac9bfbc073df7194be1288e9848e78270}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!desactivarEcasUsuarioActual@{desactivarEcasUsuarioActual}}
\index{desactivarEcasUsuarioActual@{desactivarEcasUsuarioActual}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{desactivarEcasUsuarioActual()}{desactivarEcasUsuarioActual()}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ac9bfbc073df7194be1288e9848e78270} 
\mbox{\hyperlink{classstarlette_1_1responses_1_1_j_s_o_n_response}{JSONResponse}} app.\+domain.\+services.\+personalizacion\+\_\+service.\+desactivar\+Ecas\+Usuario\+Actual (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00271}{271}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ae4e2a7716d0b54ac26d2d56018214226}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!ecasArchivoADiccionario@{ecasArchivoADiccionario}}
\index{ecasArchivoADiccionario@{ecasArchivoADiccionario}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{ecasArchivoADiccionario()}{ecasArchivoADiccionario()}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ae4e2a7716d0b54ac26d2d56018214226} 
app.\+domain.\+services.\+personalizacion\+\_\+service.\+ecas\+Archivo\+ADiccionario (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00372}{372}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a2527f6f145c877b6a607575dd6f0efc8}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!eliminarEcas@{eliminarEcas}}
\index{eliminarEcas@{eliminarEcas}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{eliminarEcas()}{eliminarEcas()}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a2527f6f145c877b6a607575dd6f0efc8} 
app.\+domain.\+services.\+personalizacion\+\_\+service.\+eliminar\+Ecas (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{lista\+Ecas\+Eliminar}{}\end{DoxyParamCaption})}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00332}{332}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aae7e5d20a9f355076b8d5f9903e06751}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!inicializarEcasUsuario@{inicializarEcasUsuario}}
\index{inicializarEcasUsuario@{inicializarEcasUsuario}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{inicializarEcasUsuario()}{inicializarEcasUsuario()}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aae7e5d20a9f355076b8d5f9903e06751} 
app.\+domain.\+services.\+personalizacion\+\_\+service.\+inicializar\+Ecas\+Usuario (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{lista\+Ecas\+Activar}{}\end{DoxyParamCaption})}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00319}{319}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a1fa87e44ae034f58574c2b7123f7cd95}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!posicionValor@{posicionValor}}
\index{posicionValor@{posicionValor}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{posicionValor()}{posicionValor()}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a1fa87e44ae034f58574c2b7123f7cd95} 
app.\+domain.\+services.\+personalizacion\+\_\+service.\+posicion\+Valor (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{lista\+Dic}{, }\item[{}]{clave}{, }\item[{}]{valor}{}\end{DoxyParamCaption})}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00357}{357}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a30bb0c913de5516d6fcc3600afca1ce9}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!registroInteraccionUsuarioObjeto@{registroInteraccionUsuarioObjeto}}
\index{registroInteraccionUsuarioObjeto@{registroInteraccionUsuarioObjeto}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{registroInteraccionUsuarioObjeto()}{registroInteraccionUsuarioObjeto()}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a30bb0c913de5516d6fcc3600afca1ce9} 
\mbox{\hyperlink{classstarlette_1_1responses_1_1_j_s_o_n_response}{JSONResponse}} app.\+domain.\+services.\+personalizacion\+\_\+service.\+registro\+Interaccion\+Usuario\+Objeto (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{\mbox{\hyperlink{classapp_1_1application_1_1dtos_1_1request__dtos_1_1_registro_interaccion_d_t_o}{Registro\+Interaccion\+DTO}}}]{data}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}if os.path.exists(AppUtil.pathOWL + mac +  ".owl"):
    poblador = PoblarPerfilUsuario(mac, email, "CARGAR")
    poblador.registroInteraccionUsuarioObjeto( email, idDataStream, comando, osid, dateInteraction)\end{DoxyVerb}
 

Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00388}{388}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a9c882b9e65c59f73c377ed5da559fa31}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!verificarUsuario@{verificarUsuario}}
\index{verificarUsuario@{verificarUsuario}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{verificarUsuario()}{verificarUsuario()}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a9c882b9e65c59f73c377ed5da559fa31} 
app.\+domain.\+services.\+personalizacion\+\_\+service.\+verificar\+Usuario (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{email}{}\end{DoxyParamCaption})}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00337}{337}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.



\label{doc-var-members}
\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_doc-var-members}
\doxysubsection{Documentación de variables}
\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ad3d616e046a3a742a036cddfee1c692b}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!archivo@{archivo}}
\index{archivo@{archivo}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{archivo}{archivo}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ad3d616e046a3a742a036cddfee1c692b} 
app.\+domain.\+services.\+personalizacion\+\_\+service.\+archivo = open(self.\+path\+Ecas\+Usuario,\textquotesingle{}w+\textquotesingle{})}



Sobreescribo el archivo para que solo tenga los ecas de la ontologia del usuario. 



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00264}{264}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aba9d199425dd41013b56d9ed599066b4}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!hiloCrearEcas@{hiloCrearEcas}}
\index{hiloCrearEcas@{hiloCrearEcas}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{hiloCrearEcas}{hiloCrearEcas}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aba9d199425dd41013b56d9ed599066b4} 
app.\+domain.\+services.\+personalizacion\+\_\+service.\+hilo\+Crear\+Ecas = threading.\+Thread(target = self.\+crear\+Ecas, name="{}Hilo\+Crear\+Ecas"{}, args =(\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a2ab48e5c318af295d5a8a4241fd5e2d7}{lista\+Ecas\+Crear}},))}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00256}{256}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a0fa43818061d24da9623f8a6b9607323}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!hiloEliminarEcasUsurio@{hiloEliminarEcasUsurio}}
\index{hiloEliminarEcasUsurio@{hiloEliminarEcasUsurio}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{hiloEliminarEcasUsurio}{hiloEliminarEcasUsurio}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a0fa43818061d24da9623f8a6b9607323} 
app.\+domain.\+services.\+personalizacion\+\_\+service.\+hilo\+Eliminar\+Ecas\+Usurio = threading.\+Thread(target = self.\+eliminar\+Ecas, name="{}Hilo\+Eliminar\+Ecas\+Usurio"{}, args =(\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a9fd324616a5cf02beec186f5c58f7396}{lista\+Ecas\+Eliminar}},))}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00258}{258}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a4803b2c84d7fae4e8c9dffc490c2cf04}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!hiloinicializarEcasUsuario@{hiloinicializarEcasUsuario}}
\index{hiloinicializarEcasUsuario@{hiloinicializarEcasUsuario}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{hiloinicializarEcasUsuario}{hiloinicializarEcasUsuario}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a4803b2c84d7fae4e8c9dffc490c2cf04} 
app.\+domain.\+services.\+personalizacion\+\_\+service.\+hiloinicializar\+Ecas\+Usuario = threading.\+Thread(target = self.\+inicializar\+Ecas\+Usuario, name="{}Hilo\+Inicializar\+Ecas\+Usuario"{}, args =(\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ab684c89dfd4ec2f16c83f1335c5f299d}{lista\+Ecas\+Igual\+Estado}},))}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00257}{257}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a32faaee5948602a5cc428e672b60401e}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!i@{i}}
\index{i@{i}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{i}{i}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a32faaee5948602a5cc428e672b60401e} 
int app.\+domain.\+services.\+personalizacion\+\_\+service.\+i = 0}



Esta en los ecas del usuario, pero no el el archivo. 



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00238}{238}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aab64c7d2ba574c0c574c5babf009b8fa}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!itemEcaArchivo@{itemEcaArchivo}}
\index{itemEcaArchivo@{itemEcaArchivo}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{itemEcaArchivo}{itemEcaArchivo}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aab64c7d2ba574c0c574c5babf009b8fa} 
app.\+domain.\+services.\+personalizacion\+\_\+service.\+item\+Eca\+Archivo = ecas\+Archivo\mbox{[}\mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_abfe38c85f4926f744caa654aac5cdb3f}{posicion}}\mbox{]}}



Si el eca del archivo esta en los del usuario, hay que activarlo osea eca\+Archivo en lista\+Ecas\+Usuario. 



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00228}{228}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a8596c2ac7722136bba938e77f5f6d15d}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!linea@{linea}}
\index{linea@{linea}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{linea}{linea}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a8596c2ac7722136bba938e77f5f6d15d} 
str app.\+domain.\+services.\+personalizacion\+\_\+service.\+linea = item\mbox{[}"{}name\+\_\+eca"{}\mbox{]} + "{},"{} + item\mbox{[}"{}state\+\_\+eca"{}\mbox{]} + "{}\textbackslash{}n"{}}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00267}{267}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ac0a5917d5a2b11da3b4b6639a71d7452}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!listaEcasArchivo@{listaEcasArchivo}}
\index{listaEcasArchivo@{listaEcasArchivo}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{listaEcasArchivo}{listaEcasArchivo}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ac0a5917d5a2b11da3b4b6639a71d7452} 
list app.\+domain.\+services.\+personalizacion\+\_\+service.\+lista\+Ecas\+Archivo = \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a2ab48e5c318af295d5a8a4241fd5e2d7}{lista\+Ecas\+Crear}} + \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aa2767b2af43986712ec841bdd37adef7}{lista\+Ecas\+Modificar\+Estado}} + \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ab684c89dfd4ec2f16c83f1335c5f299d}{lista\+Ecas\+Igual\+Estado}}}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00265}{265}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a2ab48e5c318af295d5a8a4241fd5e2d7}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!listaEcasCrear@{listaEcasCrear}}
\index{listaEcasCrear@{listaEcasCrear}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{listaEcasCrear}{listaEcasCrear}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a2ab48e5c318af295d5a8a4241fd5e2d7} 
list app.\+domain.\+services.\+personalizacion\+\_\+service.\+lista\+Ecas\+Crear = \mbox{[}$\,$\mbox{]}}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00223}{223}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a9fd324616a5cf02beec186f5c58f7396}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!listaEcasEliminar@{listaEcasEliminar}}
\index{listaEcasEliminar@{listaEcasEliminar}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{listaEcasEliminar}{listaEcasEliminar}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a9fd324616a5cf02beec186f5c58f7396} 
list app.\+domain.\+services.\+personalizacion\+\_\+service.\+lista\+Ecas\+Eliminar = \mbox{[}$\,$\mbox{]}}



lista\+Ecas\+Crear \mbox{[}\{\textquotesingle{}name\+\_\+event\+\_\+resource\textquotesingle{}\+: \textquotesingle{}temperatura\textquotesingle{}, \textquotesingle{}unit\+\_\+action\textquotesingle{}\+: \textquotesingle{}None\textquotesingle{}, \textquotesingle{}type\+\_\+variable\+\_\+action\textquotesingle{}\+: \textquotesingle{}bool\textquotesingle{}, \textquotesingle{}comparator\+\_\+action\textquotesingle{}\+: \textquotesingle{}igual\textquotesingle{}, \textquotesingle{}id\+\_\+action\+\_\+object\textquotesingle{}\+: \textquotesingle{}708637323\textquotesingle{}, \textquotesingle{}ip\+\_\+action\+\_\+object\textquotesingle{}\+: \textquotesingle{}192.\+168.\+123.\+104\textquotesingle{}, \textquotesingle{}name\+\_\+eca\textquotesingle{}\+: \textquotesingle{}subir\+Temperatura\textquotesingle{}, \textquotesingle{}end\+\_\+date\+\_\+activity\textquotesingle{}\+: \textquotesingle{}\textquotesingle{}, \textquotesingle{}variable\+\_\+condition\textquotesingle{}\+: \textquotesingle{}20\textquotesingle{}, \textquotesingle{}comparator\+\_\+condition\textquotesingle{}\+: \textquotesingle{}igual\textquotesingle{}, \textquotesingle{}meaning\+\_\+condition\textquotesingle{}\+: \textquotesingle{}hace calor\textquotesingle{}, \textquotesingle{}state\+\_\+eca\textquotesingle{}\+: \textquotesingle{}on\textquotesingle{}, \textquotesingle{}name\+\_\+action\+\_\+object\textquotesingle{}\+: \textquotesingle{}Regulador Temperatura\textquotesingle{}, \textquotesingle{}id\+\_\+action\+\_\+resource\textquotesingle{}\+: \textquotesingle{}ventilador\textquotesingle{}, \textquotesingle{}start\+\_\+date\+\_\+activity\textquotesingle{}\+: \textquotesingle{}\textquotesingle{}, \textquotesingle{}name\+\_\+activity\textquotesingle{}\+: \textquotesingle{}\textquotesingle{}, \textquotesingle{}meaning\+\_\+action\textquotesingle{}\+: \textquotesingle{}encender ventilador\textquotesingle{}, \textquotesingle{}name\+\_\+event\+\_\+object\textquotesingle{}\+: \textquotesingle{}Regulador Temperatura\textquotesingle{}, \textquotesingle{}id\+\_\+event\+\_\+resource\textquotesingle{}\+: \textquotesingle{}temperatura\textquotesingle{}, \textquotesingle{}variable\+\_\+action\textquotesingle{}\+: \textquotesingle{}1\textquotesingle{}, \textquotesingle{}ip\+\_\+event\+\_\+object\textquotesingle{}\+: \textquotesingle{}192.\+168.\+123.\+104\textquotesingle{}, \textquotesingle{}unit\+\_\+condition\textquotesingle{}\+: \textquotesingle{}\textquotesingle{}, \textquotesingle{}id\+\_\+event\+\_\+object\textquotesingle{}\+: \textquotesingle{}708637323\textquotesingle{}, \textquotesingle{}name\+\_\+action\+\_\+resource\textquotesingle{}\+: \textquotesingle{}ventilador\textquotesingle{}, \textquotesingle{}type\+\_\+variable\+\_\+condition\textquotesingle{}\+: \textquotesingle{}float\textquotesingle{}\}\mbox{]} 



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00220}{220}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ab684c89dfd4ec2f16c83f1335c5f299d}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!listaEcasIgualEstado@{listaEcasIgualEstado}}
\index{listaEcasIgualEstado@{listaEcasIgualEstado}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{listaEcasIgualEstado}{listaEcasIgualEstado}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ab684c89dfd4ec2f16c83f1335c5f299d} 
list app.\+domain.\+services.\+personalizacion\+\_\+service.\+lista\+Ecas\+Igual\+Estado = \mbox{[}$\,$\mbox{]}}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00221}{221}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aa2767b2af43986712ec841bdd37adef7}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!listaEcasModificarEstado@{listaEcasModificarEstado}}
\index{listaEcasModificarEstado@{listaEcasModificarEstado}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{listaEcasModificarEstado}{listaEcasModificarEstado}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aa2767b2af43986712ec841bdd37adef7} 
list app.\+domain.\+services.\+personalizacion\+\_\+service.\+lista\+Ecas\+Modificar\+Estado = \mbox{[}$\,$\mbox{]}}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00222}{222}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ae080dc3cb17cf25bcd6bc09cad492512}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!osid@{osid}}
\index{osid@{osid}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{osid}{osid}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ae080dc3cb17cf25bcd6bc09cad492512} 
app.\+domain.\+services.\+personalizacion\+\_\+service.\+osid}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00282}{282}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ab1961a46631ed1a1bbf3210d147cf507}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!pathEcasUsuario@{pathEcasUsuario}}
\index{pathEcasUsuario@{pathEcasUsuario}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{pathEcasUsuario}{pathEcasUsuario}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_ab1961a46631ed1a1bbf3210d147cf507} 
app.\+domain.\+services.\+personalizacion\+\_\+service.\+path\+Ecas\+Usuario = self.\+path + self.\+user\+\_\+eca +"{}.txt"{}}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00277}{277}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_abfe38c85f4926f744caa654aac5cdb3f}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!posicion@{posicion}}
\index{posicion@{posicion}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{posicion}{posicion}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_abfe38c85f4926f744caa654aac5cdb3f} 
app.\+domain.\+services.\+personalizacion\+\_\+service.\+posicion = self.\+posicion\+Valor(ecas\+Archivo, "{}name\+\_\+eca"{}, item\mbox{[}"{}name\+\_\+eca"{}\mbox{]})}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00226}{226}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aa3607d6ec3524b21192452bfeb5cb229}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!posicionesEcasEncontrados@{posicionesEcasEncontrados}}
\index{posicionesEcasEncontrados@{posicionesEcasEncontrados}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{posicionesEcasEncontrados}{posicionesEcasEncontrados}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_aa3607d6ec3524b21192452bfeb5cb229} 
list app.\+domain.\+services.\+personalizacion\+\_\+service.\+posiciones\+Ecas\+Encontrados = \mbox{[}$\,$\mbox{]}}



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00224}{224}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

\Hypertarget{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a049e403b3570389ff53d2cda29716360}\index{app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}!user\_eca@{user\_eca}}
\index{user\_eca@{user\_eca}!app.domain.services.personalizacion\_service@{app.domain.services.personalizacion\_service}}
\doxysubsubsection{\texorpdfstring{user\_eca}{user\_eca}}
{\footnotesize\ttfamily \label{namespaceapp_1_1domain_1_1services_1_1personalizacion__service_a049e403b3570389ff53d2cda29716360} 
app.\+domain.\+services.\+personalizacion\+\_\+service.\+user\+\_\+eca = \mbox{\hyperlink{namespaceapp_1_1domain_1_1services_1_1ontology__service_a8663fc24b0f4e97b8fe519cb12d24f41}{ontology\+\_\+service.\+consultar\+\_\+email\+\_\+usuario}}()}



Cada Usuario va a tener un archivo email.\+txt donde se almacena el nombre del ECA y su estado. 



Definición en la línea \mbox{\hyperlink{personalizacion__service_8py_source_l00273}{273}} del archivo \mbox{\hyperlink{personalizacion__service_8py_source}{personalizacion\+\_\+service.\+py}}.

