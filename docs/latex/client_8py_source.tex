\doxysection{client.\+py}
\hypertarget{client_8py_source}{}\label{client_8py_source}\index{micro\_gestion\_objetos/venv/Lib/site-\/packages/paho/mqtt/client.py@{micro\_gestion\_objetos/venv/Lib/site-\/packages/paho/mqtt/client.py}}
\mbox{\hyperlink{client_8py}{Ir a la documentaciÃ³n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00001}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client}{00001}}\ \textcolor{comment}{\#\ Copyright\ (c)\ 2012-\/2019\ Roger\ Light\ and\ others}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00002}00002\ \textcolor{comment}{\#}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00003}00003\ \textcolor{comment}{\#\ All\ rights\ reserved.\ This\ program\ and\ the\ accompanying\ materials}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00004}00004\ \textcolor{comment}{\#\ are\ made\ available\ under\ the\ terms\ of\ the\ Eclipse\ Public\ License\ v2.0}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00005}00005\ \textcolor{comment}{\#\ and\ Eclipse\ Distribution\ License\ v1.0\ which\ accompany\ this\ distribution.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00006}00006\ \textcolor{comment}{\#}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00007}00007\ \textcolor{comment}{\#\ The\ Eclipse\ Public\ License\ is\ available\ at}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00008}00008\ \textcolor{comment}{\#\ \ \ \ http://www.eclipse.org/legal/epl-\/v20.html}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00009}00009\ \textcolor{comment}{\#\ and\ the\ Eclipse\ Distribution\ License\ is\ available\ at}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00010}00010\ \textcolor{comment}{\#\ \ \ http://www.eclipse.org/org/documents/edl-\/v10.php.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00011}00011\ \textcolor{comment}{\#}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00012}00012\ \textcolor{comment}{\#\ Contributors:}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00013}00013\ \textcolor{comment}{\#\ \ \ \ Roger\ Light\ -\/\ initial\ API\ and\ implementation}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00014}00014\ \textcolor{comment}{\#\ \ \ \ Ian\ Craggs\ -\/\ MQTT\ V5\ support}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00015}00015\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00016}00016\ \textcolor{stringliteral}{This\ is\ an\ MQTT\ client\ module.\ MQTT\ is\ a\ lightweight\ pub/sub\ messaging}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00017}00017\ \textcolor{stringliteral}{protocol\ that\ is\ easy\ to\ implement\ and\ suitable\ for\ low\ powered\ devices.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00018}00018\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00019}00019\ \textcolor{keyword}{from}\ \_\_future\_\_\ \textcolor{keyword}{import}\ annotations}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00021}00021\ \textcolor{keyword}{import}\ base64}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00022}00022\ \textcolor{keyword}{import}\ collections}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00023}00023\ \textcolor{keyword}{import}\ errno}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00024}00024\ \textcolor{keyword}{import}\ hashlib}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00025}00025\ \textcolor{keyword}{import}\ logging}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00026}00026\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00027}00027\ \textcolor{keyword}{import}\ platform}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00028}00028\ \textcolor{keyword}{import}\ select}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00029}00029\ \textcolor{keyword}{import}\ socket}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00030}00030\ \textcolor{keyword}{import}\ string}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00031}00031\ \textcolor{keyword}{import}\ struct}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00032}00032\ \textcolor{keyword}{import}\ threading}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00033}00033\ \textcolor{keyword}{import}\ time}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00034}00034\ \textcolor{keyword}{import}\ urllib.parse}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00035}00035\ \textcolor{keyword}{import}\ urllib.request}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00036}00036\ \textcolor{keyword}{import}\ uuid}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00037}00037\ \textcolor{keyword}{import}\ warnings}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00038}00038\ \textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ TYPE\_CHECKING,\ Any,\ Callable,\ Dict,\ Iterator,\ List,\ NamedTuple,\ Sequence,\ Tuple,\ Union,\ cast}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00040}00040\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepaho_1_1mqtt_1_1packettypes}{paho.mqtt.packettypes}}\ \textcolor{keyword}{import}\ PacketTypes}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00042}00042\ \textcolor{keyword}{from}\ .enums\ \textcolor{keyword}{import}\ CallbackAPIVersion,\ ConnackCode,\ LogLevel,\ MessageState,\ MessageType,\ MQTTErrorCode,\ MQTTProtocolVersion,\ PahoClientMode,\ \_ConnectionState}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00043}00043\ \textcolor{keyword}{from}\ .matcher\ \textcolor{keyword}{import}\ MQTTMatcher}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00044}00044\ \textcolor{keyword}{from}\ .properties\ \textcolor{keyword}{import}\ Properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00045}00045\ \textcolor{keyword}{from}\ .reasoncodes\ \textcolor{keyword}{import}\ ReasonCode,\ ReasonCodes}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00046}00046\ \textcolor{keyword}{from}\ .subscribeoptions\ \textcolor{keyword}{import}\ SubscribeOptions}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00048}00048\ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00049}00049\ \ \ \ \ \textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ Literal}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00050}00050\ \textcolor{keywordflow}{except}\ ImportError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00051}00051\ \ \ \ \ \textcolor{keyword}{from}\ typing\_extensions\ \textcolor{keyword}{import}\ Literal\ \ \textcolor{comment}{\#\ type:\ ignore}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00053}00053\ \textcolor{keywordflow}{if}\ TYPE\_CHECKING:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00054}00054\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00055}00055\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ TypedDict\ \ \textcolor{comment}{\#\ type:\ ignore}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00056}00056\ \ \ \ \ \textcolor{keywordflow}{except}\ ImportError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ typing\_extensions\ \textcolor{keyword}{import}\ TypedDict}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00059}00059\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ Protocol\ \ \textcolor{comment}{\#\ type:\ ignore}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00061}00061\ \ \ \ \ \textcolor{keywordflow}{except}\ ImportError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ typing\_extensions\ \textcolor{keyword}{import}\ Protocol\ \ \textcolor{comment}{\#\ type:\ ignore}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00064}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___in_packet}{00064}}\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___in_packet}{\_InPacket}}(TypedDict):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00065}00065\ \ \ \ \ \ \ \ \ command:\ int}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00066}00066\ \ \ \ \ \ \ \ \ have\_remaining:\ int}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00067}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___in_packet_ada80f7d0ce57adca694f1ebc4edd8773}{00067}}\ \ \ \ \ \ \ \ \ remaining\_count:\ list[int]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00068}00068\ \ \ \ \ \ \ \ \ remaining\_mult:\ int}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00069}00069\ \ \ \ \ \ \ \ \ remaining\_length:\ int}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00070}00070\ \ \ \ \ \ \ \ \ packet:\ bytearray}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00071}00071\ \ \ \ \ \ \ \ \ to\_process:\ int}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00072}00072\ \ \ \ \ \ \ \ \ pos:\ int}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00074}00074\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00075}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___out_packet}{00075}}\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___out_packet}{\_OutPacket}}(TypedDict):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ command:\ int}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ mid:\ int}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00078}00078\ \ \ \ \ \ \ \ \ qos:\ int}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00079}00079\ \ \ \ \ \ \ \ \ pos:\ int}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00080}00080\ \ \ \ \ \ \ \ \ to\_process:\ int}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00081}00081\ \ \ \ \ \ \ \ \ packet:\ bytes}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00082}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___out_packet_a25d8ceba0956c75fae4b4afb5080ed3a}{00082}}\ \ \ \ \ \ \ \ \ info:\ MQTTMessageInfo\ |\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00084}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_socket_like}{00084}}\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_socket_like}{SocketLike}}(\mbox{\hyperlink{classtyping__extensions_1_1_protocol}{Protocol}}):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00085}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_socket_like_a822b1d6765384bde96edac6e736de8f7}{00085}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_socket_like_a822b1d6765384bde96edac6e736de8f7}{recv}}(self,\ buffer\_size:\ int)\ -\/>\ bytes:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00086}00086\ \ \ \ \ \ \ \ \ \ \ \ \ ...}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00087}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_socket_like_a8a7789e2a089acebc38f223db67d0af4}{00087}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_socket_like_a8a7789e2a089acebc38f223db67d0af4}{send}}(self,\ buffer:\ bytes)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00088}00088\ \ \ \ \ \ \ \ \ \ \ \ \ ...}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00089}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_socket_like_a540af55b2eeda7a2c74e60d9193f63dc}{00089}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_socket_like_a540af55b2eeda7a2c74e60d9193f63dc}{close}}(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00090}00090\ \ \ \ \ \ \ \ \ \ \ \ \ ...}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00091}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_socket_like_a010dbcc5e6f00865e8f7f3277c7ae798}{00091}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_socket_like_a010dbcc5e6f00865e8f7f3277c7ae798}{fileno}}(self)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00092}00092\ \ \ \ \ \ \ \ \ \ \ \ \ ...}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00093}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_socket_like_ac1b8bdfd75be28ed6285038012e854c5}{00093}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_socket_like_ac1b8bdfd75be28ed6285038012e854c5}{setblocking}}(self,\ flag:\ bool)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00094}00094\ \ \ \ \ \ \ \ \ \ \ \ \ ...}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00095}00095\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00096}00096\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00097}00097\ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00098}00098\ \ \ \ \ \textcolor{keyword}{import}\ ssl}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00099}00099\ \textcolor{keywordflow}{except}\ ImportError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00100}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a83b7f15c31dd5c27463dab5790c87d25}{00100}}\ \ \ \ \ ssl\ =\ \textcolor{keywordtype}{None}\ \ \textcolor{comment}{\#\ type:\ ignore[assignment]}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00102}00102\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00103}00103\ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00104}00104\ \ \ \ \ \textcolor{keyword}{import}\ socks\ \ \textcolor{comment}{\#\ type:\ ignore[import-\/untyped]}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00105}00105\ \textcolor{keywordflow}{except}\ ImportError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00106}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a23a69ff61da74e1e4034717236eed7c5}{00106}}\ \ \ \ \ socks\ =\ \textcolor{keywordtype}{None}\ \ \textcolor{comment}{\#\ type:\ ignore[assignment]}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00108}00108\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00109}00109\ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00110}00110\ \ \ \ \ \textcolor{comment}{\#\ Use\ monotonic\ clock\ if\ available}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00111}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a834b8f4fbe5ec604671023b59d0377fd}{00111}}\ \ \ \ \ time\_func\ =\ time.monotonic}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00112}00112\ \textcolor{keywordflow}{except}\ AttributeError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00113}00113\ \ \ \ \ time\_func\ =\ time.time}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00114}00114\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00115}00115\ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00116}00116\ \ \ \ \ \textcolor{keyword}{import}\ dns.resolver}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00117}00117\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00118}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a1b36c54e891f6afc782b8497745d0d9b}{00118}}\ \ \ \ \ HAVE\_DNS\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00119}00119\ \textcolor{keywordflow}{except}\ ImportError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00120}00120\ \ \ \ \ HAVE\_DNS\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00121}00121\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00122}00122\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00123}00123\ \textcolor{keywordflow}{if}\ platform.system()\ ==\ \textcolor{stringliteral}{'Windows'}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00124}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_aebf92fb3e9c94f285ccebef7f9a846e6}{00124}}\ \ \ \ \ EAGAIN\ =\ errno.WSAEWOULDBLOCK\ \ \textcolor{comment}{\#\ type:\ ignore[attr-\/defined]}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00125}00125\ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00126}00126\ \ \ \ \ EAGAIN\ =\ errno.EAGAIN}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00127}00127\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00128}00128\ \textcolor{comment}{\#\ Avoid\ linter\ complain.\ We\ kept\ importing\ it\ as\ ReasonCodes\ (plural)\ for\ compatibility}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00129}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_ac6972bdb0d63d3cef81aa2d5056acd36}{00129}}\ \_\ =\ ReasonCodes}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00130}00130\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00131}00131\ \textcolor{comment}{\#\ Keep\ copy\ of\ enums\ values\ for\ compatibility.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00132}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a4427fe2ff4ab40e874b766f2011d00a2}{00132}}\ CONNECT\ =\ MessageType.CONNECT}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00133}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a90dcc43013f19052e43e23549e690887}{00133}}\ CONNACK\ =\ MessageType.CONNACK}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00134}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a38afb00330799a7595b822c6f9319449}{00134}}\ PUBLISH\ =\ MessageType.PUBLISH}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00135}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a6dd7b6b3d65891810f6217ec93ed2a4b}{00135}}\ PUBACK\ =\ MessageType.PUBACK}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00136}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a79d67ba72383fddb0c40fb34b44dde21}{00136}}\ PUBREC\ =\ MessageType.PUBREC}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00137}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_ac750044741dc1c0a4a5a391c9aaae32c}{00137}}\ PUBREL\ =\ MessageType.PUBREL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00138}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a2fee5dcadd824c093aa33998e04f7d03}{00138}}\ PUBCOMP\ =\ MessageType.PUBCOMP}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00139}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_af1b23815661f8eacf42aa6c02fa94cfa}{00139}}\ SUBSCRIBE\ =\ MessageType.SUBSCRIBE}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00140}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a1f68e4c5870219f685711e3d149c626d}{00140}}\ SUBACK\ =\ MessageType.SUBACK}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00141}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a7583f87343d7afc88c195a62a4495c45}{00141}}\ UNSUBSCRIBE\ =\ MessageType.UNSUBSCRIBE}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00142}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a6bbab5d499fb78b404ca09af3a5cc144}{00142}}\ UNSUBACK\ =\ MessageType.UNSUBACK}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00143}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_ab9f455a42b2950483ec0eb8cd5edca6e}{00143}}\ PINGREQ\ =\ MessageType.PINGREQ}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00144}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_ab0f04ed86a2b31916daee79be41e927e}{00144}}\ PINGRESP\ =\ MessageType.PINGRESP}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00145}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_ab322a270766353fda4b9de03f0121967}{00145}}\ DISCONNECT\ =\ MessageType.DISCONNECT}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00146}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a8570eb91aa4566a0118b2ce368cc321d}{00146}}\ AUTH\ =\ MessageType.AUTH}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00147}00147\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00148}00148\ \textcolor{comment}{\#\ Log\ levels}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00149}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_aa44d1a9715f8e13141b8ae6e97b08a66}{00149}}\ MQTT\_LOG\_INFO\ =\ LogLevel.MQTT\_LOG\_INFO}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00150}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a70f35c1d25c2cc41da1e259fa7bc760e}{00150}}\ MQTT\_LOG\_NOTICE\ =\ LogLevel.MQTT\_LOG\_NOTICE}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00151}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a2ba50bd2cd24f32893bafec8dc3a6070}{00151}}\ MQTT\_LOG\_WARNING\ =\ LogLevel.MQTT\_LOG\_WARNING}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00152}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a4ec979c85243619a48ba8dd6a402dfa4}{00152}}\ MQTT\_LOG\_ERR\ =\ LogLevel.MQTT\_LOG\_ERR}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00153}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a7534cb94cb9ca988c1a21bc07a203935}{00153}}\ MQTT\_LOG\_DEBUG\ =\ LogLevel.MQTT\_LOG\_DEBUG}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00154}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_af4c056514b387fb66d4aaa63ae5dab5e}{00154}}\ LOGGING\_LEVEL\ =\ \{}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00155}00155\ \ \ \ \ LogLevel.MQTT\_LOG\_DEBUG:\ logging.DEBUG,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00156}00156\ \ \ \ \ LogLevel.MQTT\_LOG\_INFO:\ logging.INFO,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00157}00157\ \ \ \ \ LogLevel.MQTT\_LOG\_NOTICE:\ logging.INFO,\ \ \textcolor{comment}{\#\ This\ has\ no\ direct\ equivalent\ level}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00158}00158\ \ \ \ \ LogLevel.MQTT\_LOG\_WARNING:\ logging.WARNING,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00159}00159\ \ \ \ \ LogLevel.MQTT\_LOG\_ERR:\ logging.ERROR,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00160}00160\ \}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00161}00161\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00162}00162\ \textcolor{comment}{\#\ CONNACK\ codes}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00163}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_abf727ee613a38b2a94873748cf1ea998}{00163}}\ CONNACK\_ACCEPTED\ =\ ConnackCode.CONNACK\_ACCEPTED}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00164}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a75ea575834fdc16b6e1abe4b60a0929b}{00164}}\ CONNACK\_REFUSED\_PROTOCOL\_VERSION\ =\ ConnackCode.CONNACK\_REFUSED\_PROTOCOL\_VERSION}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00165}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a0876809459a309c437bb175513e0c4ef}{00165}}\ CONNACK\_REFUSED\_IDENTIFIER\_REJECTED\ =\ ConnackCode.CONNACK\_REFUSED\_IDENTIFIER\_REJECTED}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00166}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a5997f05d945c049e6f227ae8ca8df740}{00166}}\ CONNACK\_REFUSED\_SERVER\_UNAVAILABLE\ =\ ConnackCode.CONNACK\_REFUSED\_SERVER\_UNAVAILABLE}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00167}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a74fbfb5d67ceb03a9f2b6351d6d8d72d}{00167}}\ CONNACK\_REFUSED\_BAD\_USERNAME\_PASSWORD\ =\ ConnackCode.CONNACK\_REFUSED\_BAD\_USERNAME\_PASSWORD}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00168}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a51d1c4f562adefde3dcb86df8c40ec19}{00168}}\ CONNACK\_REFUSED\_NOT\_AUTHORIZED\ =\ ConnackCode.CONNACK\_REFUSED\_NOT\_AUTHORIZED}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00169}00169\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00170}00170\ \textcolor{comment}{\#\ Message\ state}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00171}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_ab684cfe8393a402782c0802db5bac7ff}{00171}}\ mqtt\_ms\_invalid\ =\ MessageState.MQTT\_MS\_INVALID}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00172}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a02f61a981d2a8d5ccef6c19d493e74ad}{00172}}\ mqtt\_ms\_publish\ =\ MessageState.MQTT\_MS\_PUBLISH}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00173}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a1f931aa4696466d565fc4c18336d3380}{00173}}\ mqtt\_ms\_wait\_for\_puback\ =\ MessageState.MQTT\_MS\_WAIT\_FOR\_PUBACK}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00174}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a916f2e81ec11d9f13a3aa40390364c77}{00174}}\ mqtt\_ms\_wait\_for\_pubrec\ =\ MessageState.MQTT\_MS\_WAIT\_FOR\_PUBREC}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00175}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a8cdfcd1b0fdd1c65bc854df9684bd11c}{00175}}\ mqtt\_ms\_resend\_pubrel\ =\ MessageState.MQTT\_MS\_RESEND\_PUBREL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00176}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_ad8a48b34b2804608057880cdf7ff81f1}{00176}}\ mqtt\_ms\_wait\_for\_pubrel\ =\ MessageState.MQTT\_MS\_WAIT\_FOR\_PUBREL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00177}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_aac7c177ea72e587d3d2201f4fa448a76}{00177}}\ mqtt\_ms\_resend\_pubcomp\ =\ MessageState.MQTT\_MS\_RESEND\_PUBCOMP}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00178}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a24aa2eb0e5eaf3117f68412f1420c745}{00178}}\ mqtt\_ms\_wait\_for\_pubcomp\ =\ MessageState.MQTT\_MS\_WAIT\_FOR\_PUBCOMP}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00179}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a98d64d2298562a0156c851582b4097e5}{00179}}\ mqtt\_ms\_send\_pubrec\ =\ MessageState.MQTT\_MS\_SEND\_PUBREC}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00180}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a95b65ed497b7078fb43c59729d45984f}{00180}}\ mqtt\_ms\_queued\ =\ MessageState.MQTT\_MS\_QUEUED}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00181}00181\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00182}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a29392f868991da09c28189c7d91e5572}{00182}}\ MQTT\_ERR\_AGAIN\ =\ MQTTErrorCode.MQTT\_ERR\_AGAIN}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00183}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a45ee1a9be9e31002a531dcd170f84e4d}{00183}}\ MQTT\_ERR\_SUCCESS\ =\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00184}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_ae9d887ecfcac44d9008ed02d38149461}{00184}}\ MQTT\_ERR\_NOMEM\ =\ MQTTErrorCode.MQTT\_ERR\_NOMEM}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00185}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_af927e41002a5208ec0455352707e9637}{00185}}\ MQTT\_ERR\_PROTOCOL\ =\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00186}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_aa296ea7742a1a39bac115f70bcef69ec}{00186}}\ MQTT\_ERR\_INVAL\ =\ MQTTErrorCode.MQTT\_ERR\_INVAL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00187}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a29b5cddd2c5c91daa44edb4b48edc392}{00187}}\ MQTT\_ERR\_NO\_CONN\ =\ MQTTErrorCode.MQTT\_ERR\_NO\_CONN}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00188}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a58e55dd2da872230a6e25dc0961bb8e1}{00188}}\ MQTT\_ERR\_CONN\_REFUSED\ =\ MQTTErrorCode.MQTT\_ERR\_CONN\_REFUSED}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00189}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a967d4f9e1a1b2b60f59e2b3a7b104829}{00189}}\ MQTT\_ERR\_NOT\_FOUND\ =\ MQTTErrorCode.MQTT\_ERR\_NOT\_FOUND}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00190}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a5bcf31cd92fc9dfaf13422591664487d}{00190}}\ MQTT\_ERR\_CONN\_LOST\ =\ MQTTErrorCode.MQTT\_ERR\_CONN\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00191}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a54917cd4e29f33575e86f80d5e3f024e}{00191}}\ MQTT\_ERR\_TLS\ =\ MQTTErrorCode.MQTT\_ERR\_TLS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00192}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a4847d3fea8dcecd133afe3483f9764f0}{00192}}\ MQTT\_ERR\_PAYLOAD\_SIZE\ =\ MQTTErrorCode.MQTT\_ERR\_PAYLOAD\_SIZE}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00193}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_ab21ab64e6f6b1f3c56660fb9b3d2bf65}{00193}}\ MQTT\_ERR\_NOT\_SUPPORTED\ =\ MQTTErrorCode.MQTT\_ERR\_NOT\_SUPPORTED}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00194}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a522196c6fd2aea46dec5854e7c7b42c8}{00194}}\ MQTT\_ERR\_AUTH\ =\ MQTTErrorCode.MQTT\_ERR\_AUTH}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00195}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a0dfb79164709b2a6ff29002c455e7c30}{00195}}\ MQTT\_ERR\_ACL\_DENIED\ =\ MQTTErrorCode.MQTT\_ERR\_ACL\_DENIED}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00196}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a811a4eacee53be51ff73485e3c171468}{00196}}\ MQTT\_ERR\_UNKNOWN\ =\ MQTTErrorCode.MQTT\_ERR\_UNKNOWN}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00197}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a5cc647a67e28ee9230530aa2678b8507}{00197}}\ MQTT\_ERR\_ERRNO\ =\ MQTTErrorCode.MQTT\_ERR\_ERRNO}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00198}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_aa36d246296cedbe953aefa55a96a313f}{00198}}\ MQTT\_ERR\_QUEUE\_SIZE\ =\ MQTTErrorCode.MQTT\_ERR\_QUEUE\_SIZE}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00199}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_ae0bd7731eb2cb99c7f3b203b293039a6}{00199}}\ MQTT\_ERR\_KEEPALIVE\ =\ MQTTErrorCode.MQTT\_ERR\_KEEPALIVE}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00200}00200\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00201}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_af6d293afa2eaa0fc34026199dfadd09f}{00201}}\ MQTTv31\ =\ MQTTProtocolVersion.MQTTv31}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00202}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a0cdbbfcb44d70bd8bd28cd5d35e2dc48}{00202}}\ MQTTv311\ =\ MQTTProtocolVersion.MQTTv311}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00203}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a91758ad0745248ea810df1e34b331ca5}{00203}}\ MQTTv5\ =\ MQTTProtocolVersion.MQTTv5}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00204}00204\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00205}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a1169377a79de8213b1326ec35ee95066}{00205}}\ MQTT\_CLIENT\ =\ PahoClientMode.MQTT\_CLIENT}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00206}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_aea46705b031fff321eef319655c6ce54}{00206}}\ MQTT\_BRIDGE\ =\ PahoClientMode.MQTT\_BRIDGE}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00207}00207\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00208}00208\ \textcolor{comment}{\#\ For\ MQTT\ V5,\ use\ the\ clean\ start\ flag\ only\ on\ the\ first\ successful\ connect}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00209}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a91cd6b239e675ed0e3c34a188918964b}{00209}}\ MQTT\_CLEAN\_START\_FIRST\_ONLY:\ CleanStartOption\ =\ 3}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00210}00210\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00211}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_aa58760325fd0722176923af6028b0418}{00211}}\ sockpair\_data\ =\ b\textcolor{stringliteral}{"{}0"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00212}00212\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00213}00213\ \textcolor{comment}{\#\ Payload\ support\ all\ those\ type\ and\ will\ be\ converted\ to\ bytes:}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00214}00214\ \textcolor{comment}{\#\ *\ str\ are\ utf8\ encoded}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00215}00215\ \textcolor{comment}{\#\ *\ int/float\ are\ converted\ to\ string\ and\ utf8\ encoded\ (e.g.\ 1\ is\ converted\ to\ b"{}1"{})}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00216}00216\ \textcolor{comment}{\#\ *\ None\ is\ converted\ to\ a\ zero-\/length\ payload\ (i.e.\ b"{}"{})}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00217}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a1ad4b2854fdf49be616f09ca7125ccad}{00217}}\ PayloadType\ =\ Union[str,\ bytes,\ bytearray,\ int,\ float,\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00218}00218\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00219}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a2fdd812389ca74b3d46476c13755d685}{00219}}\ HTTPHeader\ =\ Dict[str,\ str]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00220}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a5617c10b42a3e9823cc68a527e9487c1}{00220}}\ WebSocketHeaders\ =\ Union[Callable[[HTTPHeader],\ HTTPHeader],\ HTTPHeader]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00221}00221\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00222}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a3536cd16c46363a7cf5d633ee764404c}{00222}}\ CleanStartOption\ =\ Union[bool,\ Literal[3]]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00223}00223\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00224}00224\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00225}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_connect_flags}{00225}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_connect_flags}{ConnectFlags}}(NamedTuple):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00226}00226\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Contains\ additional\ information\ passed\ to\ \`{}on\_connect\`{}\ callback"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00227}00227\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00228}00228\ \ \ \ \ session\_present:\ bool}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00229}00229\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00230}00230\ \textcolor{stringliteral}{\ \ \ \ this\ flag\ is\ useful\ for\ clients\ that\ are}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00231}00231\ \textcolor{stringliteral}{\ \ \ \ using\ clean\ session\ set\ to\ False\ only\ (MQTTv3)\ or\ clean\_start\ =\ False\ (MQTTv5).}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00232}00232\ \textcolor{stringliteral}{\ \ \ \ In\ that\ case,\ if\ client\ \ that\ reconnects\ to\ a\ broker\ that\ it\ has\ previously}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00233}00233\ \textcolor{stringliteral}{\ \ \ \ connected\ to,\ this\ flag\ indicates\ whether\ the\ broker\ still\ has\ the}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00234}00234\ \textcolor{stringliteral}{\ \ \ \ session\ information\ for\ the\ client.\ If\ true,\ the\ session\ still\ exists.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00235}00235\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00236}00236\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00237}00237\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00238}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_disconnect_flags}{00238}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_disconnect_flags}{DisconnectFlags}}(NamedTuple):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00239}00239\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Contains\ additional\ information\ passed\ to\ \`{}on\_disconnect\`{}\ callback"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00240}00240\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00241}00241\ \ \ \ \ is\_disconnect\_packet\_from\_server:\ bool}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00242}00242\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00243}00243\ \textcolor{stringliteral}{\ \ \ \ tells\ whether\ this\ on\_disconnect\ call\ is\ the\ result}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00244}00244\ \textcolor{stringliteral}{\ \ \ \ of\ receiving\ an\ DISCONNECT\ packet\ from\ the\ broker\ or\ if\ the\ on\_disconnect\ is\ only}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00245}00245\ \textcolor{stringliteral}{\ \ \ \ generated\ by\ the\ client\ library.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00246}00246\ \textcolor{stringliteral}{\ \ \ \ When\ true,\ the\ reason\ code\ is\ generated\ by\ the\ broker.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00247}00247\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00248}00248\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00249}00249\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00250}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a9a29c2c01ce0eee39c3df3b35d6a78d4}{00250}}\ CallbackOnConnect\_v1\_mqtt3\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ Dict[str,\ Any],\ MQTTErrorCode],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00251}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a7a498d17a73c7b508012426848529810}{00251}}\ CallbackOnConnect\_v1\_mqtt5\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ Dict[str,\ Any],\ ReasonCode,\ Union[Properties,\ \textcolor{keywordtype}{None}]],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00252}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a50b0cbb0495bf6aa705b2b8da4640745}{00252}}\ CallbackOnConnect\_v1\ =\ Union[CallbackOnConnect\_v1\_mqtt5,\ CallbackOnConnect\_v1\_mqtt3]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00253}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a54f2e267c361377139226c600cc45146}{00253}}\ CallbackOnConnect\_v2\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ ConnectFlags,\ ReasonCode,\ Union[Properties,\ \textcolor{keywordtype}{None}]],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00254}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a31f4a79fde6d775b3a5c1ed7fa8d7f8c}{00254}}\ CallbackOnConnect\ =\ Union[CallbackOnConnect\_v1,\ CallbackOnConnect\_v2]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00255}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a6f627c61f0911f389f82fb089c723204}{00255}}\ CallbackOnConnectFail\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00256}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a86167752efbbaab96769d6f517456e08}{00256}}\ CallbackOnDisconnect\_v1\_mqtt3\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ MQTTErrorCode],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00257}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a98f2615cc6d3a3b664d5d1a1f891ab6b}{00257}}\ CallbackOnDisconnect\_v1\_mqtt5\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ Union[ReasonCode,\ int,\ \textcolor{keywordtype}{None}],\ Union[Properties,\ \textcolor{keywordtype}{None}]],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00258}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_acd4986f267d927d6aa1fc87379e006c3}{00258}}\ CallbackOnDisconnect\_v1\ =\ Union[CallbackOnDisconnect\_v1\_mqtt3,\ CallbackOnDisconnect\_v1\_mqtt5]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00259}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_af188c5edf78bd49934cbb45819c907c6}{00259}}\ CallbackOnDisconnect\_v2\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ DisconnectFlags,\ ReasonCode,\ Union[Properties,\ \textcolor{keywordtype}{None}]],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00260}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a4c0a18dec79518582ffc06e3a9fd2975}{00260}}\ CallbackOnDisconnect\ =\ Union[CallbackOnDisconnect\_v1,\ CallbackOnDisconnect\_v2]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00261}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_af13ab31c142d5fe84b854623e1286e2c}{00261}}\ CallbackOnLog\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ int,\ str],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00262}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_aa616fa87eb1f50d10ea31dd344c71178}{00262}}\ CallbackOnMessage\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ \textcolor{stringliteral}{"{}MQTTMessage"{}}],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00263}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a58dda7cbdbf5cf33f435ce28a55870be}{00263}}\ CallbackOnPreConnect\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00264}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_ad638ff6065fad429d9621c4eecad687a}{00264}}\ CallbackOnPublish\_v1\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ int],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00265}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a6dfae4b3e5ee29d4d67c55149d45c510}{00265}}\ CallbackOnPublish\_v2\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ int,\ ReasonCode,\ Properties],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00266}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a1852cad9b46cf035efd64a63b12be170}{00266}}\ CallbackOnPublish\ =\ Union[CallbackOnPublish\_v1,\ CallbackOnPublish\_v2]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00267}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a8f79e48d2ababef5729f996195c9a174}{00267}}\ CallbackOnSocket\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ \textcolor{stringliteral}{"{}SocketLike"{}}],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00268}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_ab4db45ab83e2fc4b40fbeb1c742e7380}{00268}}\ CallbackOnSubscribe\_v1\_mqtt3\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ int,\ Tuple[int,\ ...]],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00269}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a82e183d57ce8d1f3250bce81bd8534d6}{00269}}\ CallbackOnSubscribe\_v1\_mqtt5\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ int,\ List[ReasonCode],\ Properties],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00270}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_ab723773fb4defe1e6f41e34d3cb3a9de}{00270}}\ CallbackOnSubscribe\_v1\ =\ Union[CallbackOnSubscribe\_v1\_mqtt3,\ CallbackOnSubscribe\_v1\_mqtt5]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00271}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_ab503be16226a7cf5febe7a4d988c635c}{00271}}\ CallbackOnSubscribe\_v2\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ int,\ List[ReasonCode],\ Union[Properties,\ \textcolor{keywordtype}{None}]],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00272}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_ad6d52b40ee0eb0dbc98ac581fed3dc46}{00272}}\ CallbackOnSubscribe\ =\ Union[CallbackOnSubscribe\_v1,\ CallbackOnSubscribe\_v2]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00273}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_ae5a3b9ca0661fea33d64ba6df1ef14ac}{00273}}\ CallbackOnUnsubscribe\_v1\_mqtt3\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ int],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00274}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a3cedfc249a7facec3ac3ec9baf8874a1}{00274}}\ CallbackOnUnsubscribe\_v1\_mqtt5\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ int,\ Properties,\ Union[ReasonCode,\ List[ReasonCode]]],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00275}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a6897a4407bf1706879f72efe00653c90}{00275}}\ CallbackOnUnsubscribe\_v1\ =\ Union[CallbackOnUnsubscribe\_v1\_mqtt3,\ CallbackOnUnsubscribe\_v1\_mqtt5]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00276}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a03fe091365d6358051e9b179c47857ea}{00276}}\ CallbackOnUnsubscribe\_v2\ =\ Callable[[\textcolor{stringliteral}{"{}Client"{}},\ Any,\ int,\ List[ReasonCode],\ Union[Properties,\ \textcolor{keywordtype}{None}]],\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00277}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a435a6e11437c1a01f68219f9e392fee7}{00277}}\ CallbackOnUnsubscribe\ =\ Union[CallbackOnUnsubscribe\_v1,\ CallbackOnUnsubscribe\_v2]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00278}00278\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00279}00279\ \textcolor{comment}{\#\ This\ is\ needed\ for\ typing\ because\ class\ Client\ redefined\ the\ name\ "{}socket"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00280}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a89622c7d0f124eaaec7583608da92b0f}{00280}}\ \_socket\ =\ socket}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00281}00281\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00282}00282\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00283}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_websocket_connection_error}{00283}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_websocket_connection_error}{WebsocketConnectionError}}(ConnectionError):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00284}00284\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}\ WebsocketConnectionError\ is\ a\ subclass\ of\ ConnectionError.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00285}00285\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00286}00286\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ It's\ raised\ when\ unable\ to\ perform\ the\ Websocket\ handshake.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00287}00287\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00288}00288\ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00289}00289\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00290}00290\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00291}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a3365dfa73eb9bb985ae1dbfa5b806608}{00291}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a3365dfa73eb9bb985ae1dbfa5b806608}{error\_string}}(mqtt\_errno:\ MQTTErrorCode\ |\ int)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00292}00292\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Return\ the\ error\ string\ associated\ with\ an\ mqtt\ error\ number."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00293}00293\ \ \ \ \ \textcolor{keywordflow}{if}\ mqtt\_errno\ ==\ MQTT\_ERR\_SUCCESS:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00294}00294\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}No\ error."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00295}00295\ \ \ \ \ \textcolor{keywordflow}{elif}\ mqtt\_errno\ ==\ MQTT\_ERR\_NOMEM:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00296}00296\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Out\ of\ memory."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00297}00297\ \ \ \ \ \textcolor{keywordflow}{elif}\ mqtt\_errno\ ==\ MQTT\_ERR\_PROTOCOL:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00298}00298\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}A\ network\ protocol\ error\ occurred\ when\ communicating\ with\ the\ broker."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00299}00299\ \ \ \ \ \textcolor{keywordflow}{elif}\ mqtt\_errno\ ==\ MQTT\_ERR\_INVAL:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00300}00300\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Invalid\ function\ arguments\ provided."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00301}00301\ \ \ \ \ \textcolor{keywordflow}{elif}\ mqtt\_errno\ ==\ MQTT\_ERR\_NO\_CONN:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00302}00302\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}The\ client\ is\ not\ currently\ connected."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00303}00303\ \ \ \ \ \textcolor{keywordflow}{elif}\ mqtt\_errno\ ==\ MQTT\_ERR\_CONN\_REFUSED:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00304}00304\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}The\ connection\ was\ refused."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00305}00305\ \ \ \ \ \textcolor{keywordflow}{elif}\ mqtt\_errno\ ==\ MQTT\_ERR\_NOT\_FOUND:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00306}00306\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Message\ not\ found\ (internal\ error)."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00307}00307\ \ \ \ \ \textcolor{keywordflow}{elif}\ mqtt\_errno\ ==\ MQTT\_ERR\_CONN\_LOST:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00308}00308\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}The\ connection\ was\ lost."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00309}00309\ \ \ \ \ \textcolor{keywordflow}{elif}\ mqtt\_errno\ ==\ MQTT\_ERR\_TLS:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00310}00310\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}A\ TLS\ error\ occurred."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00311}00311\ \ \ \ \ \textcolor{keywordflow}{elif}\ mqtt\_errno\ ==\ MQTT\_ERR\_PAYLOAD\_SIZE:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00312}00312\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Payload\ too\ large."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00313}00313\ \ \ \ \ \textcolor{keywordflow}{elif}\ mqtt\_errno\ ==\ MQTT\_ERR\_NOT\_SUPPORTED:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00314}00314\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}This\ feature\ is\ not\ supported."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00315}00315\ \ \ \ \ \textcolor{keywordflow}{elif}\ mqtt\_errno\ ==\ MQTT\_ERR\_AUTH:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00316}00316\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Authorisation\ failed."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00317}00317\ \ \ \ \ \textcolor{keywordflow}{elif}\ mqtt\_errno\ ==\ MQTT\_ERR\_ACL\_DENIED:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00318}00318\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Access\ denied\ by\ ACL."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00319}00319\ \ \ \ \ \textcolor{keywordflow}{elif}\ mqtt\_errno\ ==\ MQTT\_ERR\_UNKNOWN:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00320}00320\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Unknown\ error."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00321}00321\ \ \ \ \ \textcolor{keywordflow}{elif}\ mqtt\_errno\ ==\ MQTT\_ERR\_ERRNO:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00322}00322\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Error\ defined\ by\ errno."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00323}00323\ \ \ \ \ \textcolor{keywordflow}{elif}\ mqtt\_errno\ ==\ MQTT\_ERR\_QUEUE\_SIZE:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00324}00324\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Message\ queue\ full."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00325}00325\ \ \ \ \ \textcolor{keywordflow}{elif}\ mqtt\_errno\ ==\ MQTT\_ERR\_KEEPALIVE:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00326}00326\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Client\ or\ broker\ did\ not\ communicate\ in\ the\ keepalive\ interval."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00327}00327\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00328}00328\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Unknown\ error."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00329}00329\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00330}00330\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00331}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a4f87ea488007e0dee8ee4488c85745af}{00331}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a4f87ea488007e0dee8ee4488c85745af}{connack\_string}}(connack\_code:\ int|ReasonCode)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00332}00332\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Return\ the\ string\ associated\ with\ a\ CONNACK\ result\ or\ CONNACK\ reason\ code."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00333}00333\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(connack\_code,\ ReasonCode):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00334}00334\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ str(connack\_code)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00335}00335\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00336}00336\ \ \ \ \ \textcolor{keywordflow}{if}\ connack\_code\ ==\ CONNACK\_ACCEPTED:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00337}00337\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Connection\ Accepted."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00338}00338\ \ \ \ \ \textcolor{keywordflow}{elif}\ connack\_code\ ==\ CONNACK\_REFUSED\_PROTOCOL\_VERSION:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00339}00339\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Connection\ Refused:\ unacceptable\ protocol\ version."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00340}00340\ \ \ \ \ \textcolor{keywordflow}{elif}\ connack\_code\ ==\ CONNACK\_REFUSED\_IDENTIFIER\_REJECTED:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00341}00341\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Connection\ Refused:\ identifier\ rejected."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00342}00342\ \ \ \ \ \textcolor{keywordflow}{elif}\ connack\_code\ ==\ CONNACK\_REFUSED\_SERVER\_UNAVAILABLE:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00343}00343\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Connection\ Refused:\ broker\ unavailable."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00344}00344\ \ \ \ \ \textcolor{keywordflow}{elif}\ connack\_code\ ==\ CONNACK\_REFUSED\_BAD\_USERNAME\_PASSWORD:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00345}00345\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Connection\ Refused:\ bad\ user\ name\ or\ password."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00346}00346\ \ \ \ \ \textcolor{keywordflow}{elif}\ connack\_code\ ==\ CONNACK\_REFUSED\_NOT\_AUTHORIZED:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00347}00347\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Connection\ Refused:\ not\ authorised."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00348}00348\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00349}00349\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Connection\ Refused:\ unknown\ reason."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00350}00350\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00351}00351\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00352}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a92b34043dd6fe89bac0ac8c9fa27f35d}{00352}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a92b34043dd6fe89bac0ac8c9fa27f35d}{convert\_connack\_rc\_to\_reason\_code}}(connack\_code:\ ConnackCode)\ -\/>\ ReasonCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00353}00353\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Convert\ a\ MQTTv3\ /\ MQTTv3.1.1\ connack\ result\ to\ \`{}ReasonCode\`{}.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00354}00354\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00355}00355\ \textcolor{stringliteral}{\ \ \ \ This\ is\ used\ in\ \`{}on\_connect\`{}\ callback\ to\ have\ a\ consistent\ API.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00356}00356\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00357}00357\ \textcolor{stringliteral}{\ \ \ \ Be\ careful\ that\ the\ numeric\ value\ isn't\ the\ same,\ for\ example:}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00358}00358\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00359}00359\ \textcolor{stringliteral}{\ \ \ \ >>>\ ConnackCode.CONNACK\_REFUSED\_SERVER\_UNAVAILABLE\ ==\ 3}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00360}00360\ \textcolor{stringliteral}{\ \ \ \ >>>\ convert\_connack\_rc\_to\_reason\_code(ConnackCode.CONNACK\_REFUSED\_SERVER\_UNAVAILABLE)\ ==\ 136}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00361}00361\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00362}00362\ \textcolor{stringliteral}{\ \ \ \ It's\ recommended\ to\ compare\ by\ names}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00363}00363\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00364}00364\ \textcolor{stringliteral}{\ \ \ \ >>>\ code\_to\_test\ =\ ReasonCode(PacketTypes.CONNACK,\ "{}Server\ unavailable"{})}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00365}00365\ \textcolor{stringliteral}{\ \ \ \ >>>\ convert\_connack\_rc\_to\_reason\_code(ConnackCode.CONNACK\_REFUSED\_SERVER\_UNAVAILABLE)\ ==\ code\_to\_test}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00366}00366\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00367}00367\ \ \ \ \ \textcolor{keywordflow}{if}\ connack\_code\ ==\ ConnackCode.CONNACK\_ACCEPTED:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00368}00368\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classpaho_1_1mqtt_1_1reasoncodes_1_1_reason_code}{ReasonCode}}(PacketTypes.CONNACK,\ \textcolor{stringliteral}{"{}Success"{}})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00369}00369\ \ \ \ \ \textcolor{keywordflow}{if}\ connack\_code\ ==\ ConnackCode.CONNACK\_REFUSED\_PROTOCOL\_VERSION:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00370}00370\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classpaho_1_1mqtt_1_1reasoncodes_1_1_reason_code}{ReasonCode}}(PacketTypes.CONNACK,\ \textcolor{stringliteral}{"{}Unsupported\ protocol\ version"{}})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00371}00371\ \ \ \ \ \textcolor{keywordflow}{if}\ connack\_code\ ==\ ConnackCode.CONNACK\_REFUSED\_IDENTIFIER\_REJECTED:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00372}00372\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classpaho_1_1mqtt_1_1reasoncodes_1_1_reason_code}{ReasonCode}}(PacketTypes.CONNACK,\ \textcolor{stringliteral}{"{}Client\ identifier\ not\ valid"{}})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00373}00373\ \ \ \ \ \textcolor{keywordflow}{if}\ connack\_code\ ==\ ConnackCode.CONNACK\_REFUSED\_SERVER\_UNAVAILABLE:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00374}00374\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classpaho_1_1mqtt_1_1reasoncodes_1_1_reason_code}{ReasonCode}}(PacketTypes.CONNACK,\ \textcolor{stringliteral}{"{}Server\ unavailable"{}})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00375}00375\ \ \ \ \ \textcolor{keywordflow}{if}\ connack\_code\ ==\ ConnackCode.CONNACK\_REFUSED\_BAD\_USERNAME\_PASSWORD:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00376}00376\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classpaho_1_1mqtt_1_1reasoncodes_1_1_reason_code}{ReasonCode}}(PacketTypes.CONNACK,\ \textcolor{stringliteral}{"{}Bad\ user\ name\ or\ password"{}})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00377}00377\ \ \ \ \ \textcolor{keywordflow}{if}\ connack\_code\ ==\ ConnackCode.CONNACK\_REFUSED\_NOT\_AUTHORIZED:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00378}00378\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classpaho_1_1mqtt_1_1reasoncodes_1_1_reason_code}{ReasonCode}}(PacketTypes.CONNACK,\ \textcolor{stringliteral}{"{}Not\ authorized"{}})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00379}00379\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00380}00380\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classpaho_1_1mqtt_1_1reasoncodes_1_1_reason_code}{ReasonCode}}(PacketTypes.CONNACK,\ \textcolor{stringliteral}{"{}Unspecified\ error"{}})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00381}00381\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00382}00382\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00383}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a19f6754518375da8d0e59b8fde41222a}{00383}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a19f6754518375da8d0e59b8fde41222a}{convert\_disconnect\_error\_code\_to\_reason\_code}}(rc:\ MQTTErrorCode)\ -\/>\ ReasonCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00384}00384\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Convert\ an\ MQTTErrorCode\ to\ Reason\ code.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00385}00385\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00386}00386\ \textcolor{stringliteral}{\ \ \ \ This\ is\ used\ in\ \`{}on\_disconnect\`{}\ callback\ to\ have\ a\ consistent\ API.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00387}00387\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00388}00388\ \textcolor{stringliteral}{\ \ \ \ Be\ careful\ that\ the\ numeric\ value\ isn't\ the\ same,\ for\ example:}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00389}00389\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00390}00390\ \textcolor{stringliteral}{\ \ \ \ >>>\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL\ ==\ 2}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00391}00391\ \textcolor{stringliteral}{\ \ \ \ >>>\ convert\_disconnect\_error\_code\_to\_reason\_code(MQTTErrorCode.MQTT\_ERR\_PROTOCOL)\ ==\ 130}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00392}00392\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00393}00393\ \textcolor{stringliteral}{\ \ \ \ It's\ recommended\ to\ compare\ by\ names}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00394}00394\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00395}00395\ \textcolor{stringliteral}{\ \ \ \ >>>\ code\_to\_test\ =\ ReasonCode(PacketTypes.DISCONNECT,\ "{}Protocol\ error"{})}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00396}00396\ \textcolor{stringliteral}{\ \ \ \ >>>\ convert\_disconnect\_error\_code\_to\_reason\_code(MQTTErrorCode.MQTT\_ERR\_PROTOCOL)\ ==\ code\_to\_test}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00397}00397\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00398}00398\ \ \ \ \ \textcolor{keywordflow}{if}\ rc\ ==\ MQTTErrorCode.MQTT\_ERR\_SUCCESS:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00399}00399\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classpaho_1_1mqtt_1_1reasoncodes_1_1_reason_code}{ReasonCode}}(PacketTypes.DISCONNECT,\ \textcolor{stringliteral}{"{}Success"{}})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00400}00400\ \ \ \ \ \textcolor{keywordflow}{if}\ rc\ ==\ MQTTErrorCode.MQTT\_ERR\_KEEPALIVE:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00401}00401\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classpaho_1_1mqtt_1_1reasoncodes_1_1_reason_code}{ReasonCode}}(PacketTypes.DISCONNECT,\ \textcolor{stringliteral}{"{}Keep\ alive\ timeout"{}})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00402}00402\ \ \ \ \ \textcolor{keywordflow}{if}\ rc\ ==\ MQTTErrorCode.MQTT\_ERR\_CONN\_LOST:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00403}00403\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classpaho_1_1mqtt_1_1reasoncodes_1_1_reason_code}{ReasonCode}}(PacketTypes.DISCONNECT,\ \textcolor{stringliteral}{"{}Unspecified\ error"{}})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00404}00404\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classpaho_1_1mqtt_1_1reasoncodes_1_1_reason_code}{ReasonCode}}(PacketTypes.DISCONNECT,\ \textcolor{stringliteral}{"{}Unspecified\ error"{}})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00405}00405\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00406}00406\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00407}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a76f4ea7765086775a4150213a7176bfa}{00407}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a76f4ea7765086775a4150213a7176bfa}{\_base62}}(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00408}00408\ \ \ \ \ num:\ int,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00409}00409\ \ \ \ \ base:\ str\ =\ string.digits\ +\ string.ascii\_letters,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00410}00410\ \ \ \ \ padding:\ int\ =\ 1,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00411}00411\ )\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00412}00412\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Convert\ a\ number\ to\ base-\/62\ representation."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00413}00413\ \ \ \ \ \textcolor{keywordflow}{if}\ num\ <\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00414}00414\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}Number\ must\ be\ positive\ or\ zero"{}})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00415}00415\ \ \ \ \ digits\ =\ []}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00416}00416\ \ \ \ \ \textcolor{keywordflow}{while}\ num:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00417}00417\ \ \ \ \ \ \ \ \ num,\ rest\ =\ divmod(num,\ 62)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00418}00418\ \ \ \ \ \ \ \ \ digits.append(base[rest])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00419}00419\ \ \ \ \ digits.extend(base[0]\ \textcolor{keywordflow}{for}\ \_\ \textcolor{keywordflow}{in}\ range(len(digits),\ padding))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00420}00420\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{''}.join(reversed(digits))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00421}00421\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00422}00422\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00423}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_afb234b76afaaef2e02492baf3bdbc6da}{00423}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_afb234b76afaaef2e02492baf3bdbc6da}{topic\_matches\_sub}}(sub:\ str,\ topic:\ str)\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00424}00424\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Check\ whether\ a\ topic\ matches\ a\ subscription.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00425}00425\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00426}00426\ \textcolor{stringliteral}{\ \ \ \ For\ example:}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00427}00427\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00428}00428\ \textcolor{stringliteral}{\ \ \ \ *\ Topic\ "{}foo/bar"{}\ would\ match\ the\ subscription\ "{}foo/\#"{}\ or\ "{}+/bar"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00429}00429\ \textcolor{stringliteral}{\ \ \ \ *\ Topic\ "{}non/matching"{}\ would\ not\ match\ the\ subscription\ "{}non/+/+"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00430}00430\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00431}00431\ \ \ \ \ matcher\ =\ \mbox{\hyperlink{classpaho_1_1mqtt_1_1matcher_1_1_m_q_t_t_matcher}{MQTTMatcher}}()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00432}00432\ \ \ \ \ matcher[sub]\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00433}00433\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00434}00434\ \ \ \ \ \ \ \ \ next(matcher.iter\_match(topic))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00435}00435\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00436}00436\ \ \ \ \ \textcolor{keywordflow}{except}\ StopIteration:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00437}00437\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00438}00438\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00439}00439\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00440}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_aded7f14e7eb68bd0137861aac4cff204}{00440}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_aded7f14e7eb68bd0137861aac4cff204}{\_socketpair\_compat}}()\ -\/>\ tuple[socket.socket,\ socket.socket]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00441}00441\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}TCP/IP\ socketpair\ including\ Windows\ support"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00442}00442\ \ \ \ \ listensock\ =\ socket.socket(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00443}00443\ \ \ \ \ \ \ \ \ socket.AF\_INET,\ socket.SOCK\_STREAM,\ socket.IPPROTO\_IP)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00444}00444\ \ \ \ \ listensock.setsockopt(socket.SOL\_SOCKET,\ socket.SO\_REUSEADDR,\ 1)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00445}00445\ \ \ \ \ listensock.bind((\textcolor{stringliteral}{"{}127.0.0.1"{}},\ 0))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00446}00446\ \ \ \ \ listensock.listen(1)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00447}00447\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00448}00448\ \ \ \ \ iface,\ port\ =\ listensock.getsockname()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00449}00449\ \ \ \ \ sock1\ =\ socket.socket(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00450}00450\ \ \ \ \ \ \ \ \ socket.AF\_INET,\ socket.SOCK\_STREAM,\ socket.IPPROTO\_IP)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00451}00451\ \ \ \ \ sock1.setblocking(\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00452}00452\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00453}00453\ \ \ \ \ \ \ \ \ sock1.connect((\textcolor{stringliteral}{"{}127.0.0.1"{}},\ port))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00454}00454\ \ \ \ \ \textcolor{keywordflow}{except}\ BlockingIOError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00455}00455\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00456}00456\ \ \ \ \ sock2,\ address\ =\ listensock.accept()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00457}00457\ \ \ \ \ sock2.setblocking(\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00458}00458\ \ \ \ \ listensock.close()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00459}00459\ \ \ \ \ \textcolor{keywordflow}{return}\ (sock1,\ sock2)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00460}00460\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00461}00461\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00462}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a662c2ecb4650420e37b9eb1d72bef78f}{00462}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a662c2ecb4650420e37b9eb1d72bef78f}{\_force\_bytes}}(s:\ str\ |\ bytes)\ -\/>\ bytes:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00463}00463\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(s,\ str):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00464}00464\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ s.encode(\textcolor{stringliteral}{"{}utf-\/8"{}})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00465}00465\ \ \ \ \ \textcolor{keywordflow}{return}\ s}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00466}00466\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00467}00467\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00468}\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a4e7f9d818bcb74975d254467e7e2f6bb}{00468}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a4e7f9d818bcb74975d254467e7e2f6bb}{\_encode\_payload}}(payload:\ str\ |\ bytes\ |\ bytearray\ |\ int\ |\ float\ |\ \textcolor{keywordtype}{None})\ -\/>\ bytes|bytearray:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00469}00469\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(payload,\ str):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00470}00470\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ payload.encode(\textcolor{stringliteral}{"{}utf-\/8"{}})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00471}00471\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00472}00472\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(payload,\ (int,\ float)):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00473}00473\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ str(payload).encode(\textcolor{stringliteral}{"{}ascii"{}})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00474}00474\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00475}00475\ \ \ \ \ \textcolor{keywordflow}{if}\ payload\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00476}00476\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ b\textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00477}00477\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00478}00478\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(payload,\ (bytes,\ bytearray)):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00479}00479\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ TypeError(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00480}00480\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}payload\ must\ be\ a\ string,\ bytearray,\ int,\ float\ or\ None."{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00481}00481\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00482}00482\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00483}00483\ \ \ \ \ \textcolor{keywordflow}{return}\ payload}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00484}00484\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00485}00485\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00486}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info}{00486}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info}{MQTTMessageInfo}}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00487}00487\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}This\ is\ a\ class\ returned\ from\ \`{}Client.publish()\`{}\ and\ can\ be\ used\ to\ find}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00488}00488\ \textcolor{stringliteral}{\ \ \ \ out\ the\ mid\ of\ the\ message\ that\ was\ published,\ and\ to\ determine\ whether\ the}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00489}00489\ \textcolor{stringliteral}{\ \ \ \ message\ has\ been\ published,\ and/or\ wait\ until\ it\ is\ published.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00490}00490\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00491}00491\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00492}00492\ \ \ \ \ \_\_slots\_\_\ =\ \textcolor{stringliteral}{'mid'},\ \textcolor{stringliteral}{'\_published'},\ \textcolor{stringliteral}{'\_condition'},\ \textcolor{stringliteral}{'rc'},\ \textcolor{stringliteral}{'\_iterpos'}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00493}00493\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00494}00494\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ mid:\ int):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00495}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a0c4d0250d75bc90e8f379d3998bd2ad2}{00495}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a0c4d0250d75bc90e8f379d3998bd2ad2}{mid}}\ =\ mid}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00496}00496\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}\ The\ message\ Id\ (int)"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00497}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_ac1a64565a869f86d53a20badd3089c47}{00497}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_ac1a64565a869f86d53a20badd3089c47}{\_published}}\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00498}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a1fd517b399d7402cfcb1b25a14191a32}{00498}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a1fd517b399d7402cfcb1b25a14191a32}{\_condition}}\ =\ threading.Condition()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00499}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_af348bcb9f5ce9b7167e58c1c77df590b}{00499}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_af348bcb9f5ce9b7167e58c1c77df590b}{rc}}:\ MQTTErrorCode\ =\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00500}00500\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}\ The\ \`{}MQTTErrorCode\`{}\ that\ give\ status\ for\ this\ message.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00501}00501\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ This\ value\ could\ change\ until\ the\ message\ \`{}is\_published\`{}"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00502}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a375c1bf64e4cb86b69dc57194965d83d}{00502}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a375c1bf64e4cb86b69dc57194965d83d}{\_iterpos}}\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00503}00503\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00504}00504\ \ \ \ \ \textcolor{keyword}{def\ }\_\_str\_\_(self)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00505}00505\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ str((self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_af348bcb9f5ce9b7167e58c1c77df590b}{rc}},\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a0c4d0250d75bc90e8f379d3998bd2ad2}{mid}}))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00506}00506\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00507}00507\ \ \ \ \ \textcolor{keyword}{def\ }\_\_iter\_\_(self)\ -\/>\ Iterator[MQTTErrorCode\ |\ int]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00508}00508\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a375c1bf64e4cb86b69dc57194965d83d}{\_iterpos}}\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00509}00509\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00510}00510\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00511}00511\ \ \ \ \ \textcolor{keyword}{def\ }\_\_next\_\_(self)\ -\/>\ MQTTErrorCode\ |\ int:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00512}00512\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a7cdde31147fe0d16d5d8d5e2a497eb60}{next}}()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00513}00513\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00514}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a7cdde31147fe0d16d5d8d5e2a497eb60}{00514}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a7cdde31147fe0d16d5d8d5e2a497eb60}{next}}(self)\ -\/>\ MQTTErrorCode\ |\ int:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00515}00515\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a375c1bf64e4cb86b69dc57194965d83d}{\_iterpos}}\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00516}00516\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a375c1bf64e4cb86b69dc57194965d83d}{\_iterpos}}\ =\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00517}00517\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_af348bcb9f5ce9b7167e58c1c77df590b}{rc}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00518}00518\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a375c1bf64e4cb86b69dc57194965d83d}{\_iterpos}}\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00519}00519\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a375c1bf64e4cb86b69dc57194965d83d}{\_iterpos}}\ =\ 2}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00520}00520\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a0c4d0250d75bc90e8f379d3998bd2ad2}{mid}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00521}00521\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00522}00522\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ StopIteration}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00523}00523\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00524}00524\ \ \ \ \ \textcolor{keyword}{def\ }\_\_getitem\_\_(self,\ index:\ int)\ -\/>\ MQTTErrorCode\ |\ int:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00525}00525\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ index\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00526}00526\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_af348bcb9f5ce9b7167e58c1c77df590b}{rc}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00527}00527\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ index\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00528}00528\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a0c4d0250d75bc90e8f379d3998bd2ad2}{mid}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00529}00529\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00530}00530\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ IndexError(\textcolor{stringliteral}{"{}index\ out\ of\ range"{}})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00531}00531\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00532}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_af517480380f71cd10a713f77ef27100d}{00532}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_af517480380f71cd10a713f77ef27100d}{\_set\_as\_published}}(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00533}00533\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a1fd517b399d7402cfcb1b25a14191a32}{\_condition}}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00534}00534\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_ac1a64565a869f86d53a20badd3089c47}{\_published}}\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00535}00535\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a1fd517b399d7402cfcb1b25a14191a32}{\_condition}}.notify()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00536}00536\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00537}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a5c693e307e1cd712305cde5172c8b8a2}{00537}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a5c693e307e1cd712305cde5172c8b8a2}{wait\_for\_publish}}(self,\ timeout:\ float\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None})\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00538}00538\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Block\ until\ the\ message\ associated\ with\ this\ object\ is\ published,\ or}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00539}00539\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ until\ the\ timeout\ occurs.\ If\ timeout\ is\ None,\ this\ will\ never\ time\ out.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00540}00540\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Set\ timeout\ to\ a\ positive\ number\ of\ seconds,\ e.g.\ 1.2,\ to\ enable\ the}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00541}00541\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ timeout.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00542}00542\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00543}00543\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :raises\ ValueError:\ if\ the\ message\ was\ not\ queued\ due\ to\ the\ outgoing}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00544}00544\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ queue\ being\ full.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00545}00545\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00546}00546\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :raises\ RuntimeError:\ if\ the\ message\ was\ not\ published\ for\ another}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00547}00547\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ reason.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00548}00548\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00549}00549\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_af348bcb9f5ce9b7167e58c1c77df590b}{rc}}\ ==\ MQTT\_ERR\_QUEUE\_SIZE:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00550}00550\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{'Message\ is\ not\ queued\ due\ to\ ERR\_QUEUE\_SIZE'})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00551}00551\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_af348bcb9f5ce9b7167e58c1c77df590b}{rc}}\ ==\ MQTT\_ERR\_AGAIN:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00552}00552\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00553}00553\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_af348bcb9f5ce9b7167e58c1c77df590b}{rc}}\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00554}00554\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ RuntimeError(f\textcolor{stringliteral}{'Message\ publish\ failed:\ \{error\_string(self.rc)\}'})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00555}00555\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00556}00556\ \ \ \ \ \ \ \ \ timeout\_time\ =\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{if}\ timeout\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{else}\ \mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a834b8f4fbe5ec604671023b59d0377fd}{time\_func}}()\ +\ timeout}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00557}00557\ \ \ \ \ \ \ \ \ timeout\_tenth\ =\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{if}\ timeout\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{else}\ timeout\ /\ 10.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00558}00558\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }timed\_out()\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00559}00559\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}\ \textcolor{keywordflow}{if}\ timeout\_time\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{else}\ \mbox{\hyperlink{namespacepaho_1_1mqtt_1_1client_a834b8f4fbe5ec604671023b59d0377fd}{time\_func}}()\ >\ timeout\_time}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00560}00560\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00561}00561\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a1fd517b399d7402cfcb1b25a14191a32}{\_condition}}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00562}00562\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_ac1a64565a869f86d53a20badd3089c47}{\_published}}\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ timed\_out():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00563}00563\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a1fd517b399d7402cfcb1b25a14191a32}{\_condition}}.wait(timeout\_tenth)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00564}00564\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00565}00565\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_af348bcb9f5ce9b7167e58c1c77df590b}{rc}}\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00566}00566\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ RuntimeError(f\textcolor{stringliteral}{'Message\ publish\ failed:\ \{error\_string(self.rc)\}'})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00567}00567\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00568}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a4035aee6ba718d37381827427d97c1eb}{00568}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a4035aee6ba718d37381827427d97c1eb}{is\_published}}(self)\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00569}00569\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Returns\ True\ if\ the\ message\ associated\ with\ this\ object\ has\ been}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00570}00570\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ published,\ else\ returns\ False.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00571}00571\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00572}00572\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ To\ wait\ for\ this\ to\ become\ true,\ look\ at\ \`{}wait\_for\_publish\`{}.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00573}00573\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00574}00574\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_af348bcb9f5ce9b7167e58c1c77df590b}{rc}}\ ==\ MQTTErrorCode.MQTT\_ERR\_QUEUE\_SIZE:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00575}00575\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{'Message\ is\ not\ queued\ due\ to\ ERR\_QUEUE\_SIZE'})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00576}00576\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_af348bcb9f5ce9b7167e58c1c77df590b}{rc}}\ ==\ MQTTErrorCode.MQTT\_ERR\_AGAIN:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00577}00577\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00578}00578\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_af348bcb9f5ce9b7167e58c1c77df590b}{rc}}\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00579}00579\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ RuntimeError(f\textcolor{stringliteral}{'Message\ publish\ failed:\ \{error\_string(self.rc)\}'})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00580}00580\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00581}00581\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_a1fd517b399d7402cfcb1b25a14191a32}{\_condition}}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00582}00582\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info_ac1a64565a869f86d53a20badd3089c47}{\_published}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00583}00583\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00584}00584\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00585}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message}{00585}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message}{MQTTMessage}}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00586}00586\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}\ This\ is\ a\ class\ that\ describes\ an\ incoming\ message.\ It\ is}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00587}00587\ \textcolor{stringliteral}{\ \ \ \ passed\ to\ the\ \`{}on\_message\`{}\ callback\ as\ the\ message\ parameter.}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00588}00588\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00589}00589\ \ \ \ \ \_\_slots\_\_\ =\ \textcolor{stringliteral}{'timestamp'},\ \textcolor{stringliteral}{'state'},\ \textcolor{stringliteral}{'dup'},\ \textcolor{stringliteral}{'mid'},\ \textcolor{stringliteral}{'\_topic'},\ \textcolor{stringliteral}{'payload'},\ \textcolor{stringliteral}{'qos'},\ \textcolor{stringliteral}{'retain'},\ \textcolor{stringliteral}{'info'},\ \textcolor{stringliteral}{'properties'}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00590}00590\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00591}00591\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ mid:\ int\ =\ 0,\ topic:\ bytes\ =\ b\textcolor{stringliteral}{"{}"{}}):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00592}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a89e4ad5a8ea2ca7e4fd195136c769e6b}{00592}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a89e4ad5a8ea2ca7e4fd195136c769e6b}{timestamp}}\ =\ 0.0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00593}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_ae39baf2a5ed34d6f6b54ee5ec6283293}{00593}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_ae39baf2a5ed34d6f6b54ee5ec6283293}{state}}\ =\ mqtt\_ms\_invalid}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00594}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a3a6ef940a3222e2da683360a2d60e881}{00594}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a3a6ef940a3222e2da683360a2d60e881}{dup}}\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00595}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a6da129ca77570f29ea742eaba48c1262}{00595}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a6da129ca77570f29ea742eaba48c1262}{mid}}\ =\ mid}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00596}00596\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}\ The\ message\ id\ (int)."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00597}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a3cf310ff35fbc01fc7a31f85b68745a2}{00597}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a3cf310ff35fbc01fc7a31f85b68745a2}{\_topic}}\ =\ topic}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00598}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a3ab2b4313c1da60ee4d0f991fe6db2e1}{00598}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a3ab2b4313c1da60ee4d0f991fe6db2e1}{payload}}\ =\ b\textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00599}00599\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}the\ message\ payload\ (bytes)"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00600}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a0941299a12b88ecb68f23b5561b9a098}{00600}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a0941299a12b88ecb68f23b5561b9a098}{qos}}\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00601}00601\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}\ The\ message\ Quality\ of\ Service\ (0,\ 1\ or\ 2)."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00602}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a3877646d7c9f0ff66300bc6420695e8b}{00602}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a3877646d7c9f0ff66300bc6420695e8b}{retain}}\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00603}00603\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}\ If\ true,\ the\ message\ is\ a\ retained\ message\ and\ not\ fresh."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00604}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a3b403b429813d2e7570194e27dc44760}{00604}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a3b403b429813d2e7570194e27dc44760}{info}}\ =\ \mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_info}{MQTTMessageInfo}}(mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00605}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a7cff9c4a3eb407d9fa2d10d717292f6d}{00605}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a7cff9c4a3eb407d9fa2d10d717292f6d}{properties}}:\ Properties\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00606}00606\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}\ In\ MQTT\ v5.0,\ the\ properties\ associated\ with\ the\ message.\ (\`{}Properties\`{})"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00607}00607\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00608}00608\ \ \ \ \ \textcolor{keyword}{def\ }\_\_eq\_\_(self,\ other:\ object)\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00609}00609\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Override\ the\ default\ Equals\ behavior"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00610}00610\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ if\ isinstance(other,\ self.\_\_class\_\_):}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00611}00611\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ return\ self.mid\ ==\ other.mid}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00612}00612\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ return\ False}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00613}00613\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00614}00614\ \textcolor{stringliteral}{\ \ \ \ def\ \_\_ne\_\_(self,\ other:\ object)\ -\/>\ bool:}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00615}00615\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}Define\ a\ non-\/equality\ test"{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00616}00616\ \ \ \ \ \ \ \ \ return\ not\ self.\_\_eq\_\_(other)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00617}00617\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00618}00618\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00619}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a109d7a42fe65fb308101a3b7e0db7d9b}{00619}}\ \ \ \ \ def\ topic(self)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00620}00620\ \ \ \ \ \ \ \ \ "{}"{}"{}topic\ that\ the\ message\ was\ published\ on.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00621}00621\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00622}00622\ \ \ \ \ \ \ \ \ This\ property\ is\ read-\/only.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00623}00623\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00624}00624\ \ \ \ \ \ \ \ \ return\ self.\_topic.decode('utf-\/8')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00625}00625\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00626}00626\ \ \ \ \ @topic.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00627}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_m_q_t_t_message_a3730f6ef18b242bb41ef11ec6b2afe73}{00627}}\ \ \ \ \ def\ topic(self,\ value:\ bytes)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00628}00628\ \ \ \ \ \ \ \ \ self.\_topic\ =\ value}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00629}00629\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00630}00630\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00631}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client}{00631}}\ class\ Client:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00632}00632\ \ \ \ \ "{}"{}"{}MQTT\ version\ 3.1/3.1.1/5.0\ client\ class.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00633}00633\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00634}00634\ \ \ \ \ This\ is\ the\ main\ class\ for\ use\ communicating\ with\ an\ MQTT\ broker.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00635}00635\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00636}00636\ \ \ \ \ General\ usage\ flow:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00637}00637\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00638}00638\ \ \ \ \ *\ Use\ \`{}connect()\`{},\ \`{}connect\_async()\`{}\ or\ \`{}connect\_srv()\`{}\ to\ connect\ to\ a\ broker}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00639}00639\ \ \ \ \ *\ Use\ \`{}loop\_start()\`{}\ to\ set\ a\ thread\ running\ to\ call\ \`{}loop()\`{}\ for\ you.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00640}00640\ \ \ \ \ *\ Or\ use\ \`{}loop\_forever()\`{}\ to\ handle\ calling\ \`{}loop()\`{}\ for\ you\ in\ a\ blocking\ function.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00641}00641\ \ \ \ \ *\ Or\ call\ \`{}loop()\`{}\ frequently\ to\ maintain\ network\ traffic\ flow\ with\ the\ broker}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00642}00642\ \ \ \ \ *\ Use\ \`{}subscribe()\`{}\ to\ subscribe\ to\ a\ topic\ and\ receive\ messages}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00643}00643\ \ \ \ \ *\ Use\ \`{}publish()\`{}\ to\ send\ messages}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00644}00644\ \ \ \ \ *\ Use\ \`{}disconnect()\`{}\ to\ disconnect\ from\ the\ broker}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00645}00645\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00646}00646\ \ \ \ \ Data\ returned\ from\ the\ broker\ is\ made\ available\ with\ the\ use\ of\ callback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00647}00647\ \ \ \ \ functions\ as\ described\ below.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00648}00648\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00649}00649\ \ \ \ \ :param\ CallbackAPIVersion\ callback\_api\_version:\ define\ the\ API\ version\ for\ user-\/callback\ (on\_connect,\ on\_publish,...).}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00650}00650\ \ \ \ \ \ \ \ \ This\ field\ is\ required\ and\ it's\ recommended\ to\ use\ the\ latest\ version\ (CallbackAPIVersion.API\_VERSION2).}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00651}00651\ \ \ \ \ \ \ \ \ See\ each\ callback\ for\ description\ of\ API\ for\ each\ version.\ The\ file\ docs/migrations.rst\ contains\ details\ on}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00652}00652\ \ \ \ \ \ \ \ \ how\ to\ migrate\ between\ version.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00653}00653\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00654}00654\ \ \ \ \ :param\ str\ client\_id:\ the\ unique\ client\ id\ string\ used\ when\ connecting\ to\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00655}00655\ \ \ \ \ \ \ \ \ broker.\ If\ client\_id\ is\ zero\ length\ or\ None,\ then\ the\ behaviour\ is}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00656}00656\ \ \ \ \ \ \ \ \ defined\ by\ which\ protocol\ version\ is\ in\ use.\ If\ using\ MQTT\ v3.1.1,\ then}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00657}00657\ \ \ \ \ \ \ \ \ a\ zero\ length\ client\ id\ will\ be\ sent\ to\ the\ broker\ and\ the\ broker\ will}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00658}00658\ \ \ \ \ \ \ \ \ generate\ a\ random\ for\ the\ client.\ If\ using\ MQTT\ v3.1\ then\ an\ id\ will\ be}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00659}00659\ \ \ \ \ \ \ \ \ randomly\ generated.\ In\ both\ cases,\ clean\_session\ must\ be\ True.\ If\ this}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00660}00660\ \ \ \ \ \ \ \ \ is\ not\ the\ case\ a\ ValueError\ will\ be\ raised.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00661}00661\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00662}00662\ \ \ \ \ :param\ bool\ clean\_session:\ a\ boolean\ that\ determines\ the\ client\ type.\ If\ True,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00663}00663\ \ \ \ \ \ \ \ \ the\ broker\ will\ remove\ all\ information\ about\ this\ client\ when\ it}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00664}00664\ \ \ \ \ \ \ \ \ disconnects.\ If\ False,\ the\ client\ is\ a\ persistent\ client\ and}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00665}00665\ \ \ \ \ \ \ \ \ subscription\ information\ and\ queued\ messages\ will\ be\ retained\ when\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00666}00666\ \ \ \ \ \ \ \ \ client\ disconnects.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00667}00667\ \ \ \ \ \ \ \ \ Note\ that\ a\ client\ will\ never\ discard\ its\ own\ outgoing\ messages\ on}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00668}00668\ \ \ \ \ \ \ \ \ disconnect.\ Calling\ connect()\ or\ reconnect()\ will\ cause\ the\ messages\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00669}00669\ \ \ \ \ \ \ \ \ be\ resent.\ \ Use\ reinitialise()\ to\ reset\ a\ client\ to\ its\ original\ state.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00670}00670\ \ \ \ \ \ \ \ \ The\ clean\_session\ argument\ only\ applies\ to\ MQTT\ versions\ v3.1.1\ and\ v3.1.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00671}00671\ \ \ \ \ \ \ \ \ It\ is\ not\ accepted\ if\ the\ MQTT\ version\ is\ v5.0\ -\/\ use\ the\ clean\_start}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00672}00672\ \ \ \ \ \ \ \ \ argument\ on\ connect()\ instead.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00673}00673\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00674}00674\ \ \ \ \ :param\ userdata:\ user\ defined\ data\ of\ any\ type\ that\ is\ passed\ as\ the\ "{}userdata"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00675}00675\ \ \ \ \ \ \ \ \ parameter\ to\ callbacks.\ It\ may\ be\ updated\ at\ a\ later\ point\ with\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00676}00676\ \ \ \ \ \ \ \ \ user\_data\_set()\ function.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00677}00677\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00678}00678\ \ \ \ \ :param\ int\ protocol:\ allows\ explicit\ setting\ of\ the\ MQTT\ version\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00679}00679\ \ \ \ \ \ \ \ \ use\ for\ this\ client.\ Can\ be\ paho.mqtt.client.MQTTv311\ (v3.1.1),}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00680}00680\ \ \ \ \ \ \ \ \ paho.mqtt.client.MQTTv31\ (v3.1)\ or\ paho.mqtt.client.MQTTv5\ (v5.0),}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00681}00681\ \ \ \ \ \ \ \ \ with\ the\ default\ being\ v3.1.1.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00682}00682\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00683}00683\ \ \ \ \ :param\ transport:\ use\ "{}websockets"{}\ to\ use\ WebSockets\ as\ the\ transport}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00684}00684\ \ \ \ \ \ \ \ \ mechanism.\ Set\ to\ "{}tcp"{}\ to\ use\ raw\ TCP,\ which\ is\ the\ default.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00685}00685\ \ \ \ \ \ \ \ \ Use\ "{}unix"{}\ to\ use\ Unix\ sockets\ as\ the\ transport\ mechanism;\ note\ that}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00686}00686\ \ \ \ \ \ \ \ \ this\ option\ is\ only\ available\ on\ platforms\ that\ support\ Unix\ sockets,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00687}00687\ \ \ \ \ \ \ \ \ and\ the\ "{}host"{}\ argument\ is\ interpreted\ as\ the\ path\ to\ the\ Unix\ socket}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00688}00688\ \ \ \ \ \ \ \ \ file\ in\ this\ case.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00689}00689\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00690}00690\ \ \ \ \ :param\ bool\ manual\_ack:\ normally,\ when\ a\ message\ is\ received,\ the\ library\ automatically}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00691}00691\ \ \ \ \ \ \ \ \ acknowledges\ after\ on\_message\ callback\ returns.\ \ manual\_ack=True\ allows\ the\ application\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00692}00692\ \ \ \ \ \ \ \ \ acknowledge\ receipt\ after\ it\ has\ completed\ processing\ of\ a\ message}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00693}00693\ \ \ \ \ \ \ \ \ using\ a\ the\ ack()\ method.\ This\ addresses\ vulnerability\ to\ message\ loss}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00694}00694\ \ \ \ \ \ \ \ \ if\ applications\ fails\ while\ processing\ a\ message,\ or\ while\ it\ pending}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00695}00695\ \ \ \ \ \ \ \ \ locally.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00696}00696\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00697}00697\ \ \ \ \ Callbacks}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00698}00698\ \ \ \ \ =========}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00699}00699\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00700}00700\ \ \ \ \ A\ number\ of\ callback\ functions\ are\ available\ to\ receive\ data\ back\ from\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00701}00701\ \ \ \ \ broker.\ To\ use\ a\ callback,\ define\ a\ function\ and\ then\ assign\ it\ to\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00702}00702\ \ \ \ \ client::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00703}00703\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00704}00704\ \ \ \ \ \ \ \ \ def\ on\_connect(client,\ userdata,\ flags,\ reason\_code,\ properties):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00705}00705\ \ \ \ \ \ \ \ \ \ \ \ \ print(f"{}Connected\ with\ result\ code\ \{reason\_code\}"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00706}00706\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00707}00707\ \ \ \ \ \ \ \ \ client.on\_connect\ =\ on\_connect}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00708}00708\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00709}00709\ \ \ \ \ Callbacks\ can\ also\ be\ attached\ using\ decorators::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00710}00710\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00711}00711\ \ \ \ \ \ \ \ \ mqttc\ =\ paho.mqtt.Client()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00712}00712\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00713}00713\ \ \ \ \ \ \ \ \ @mqttc.connect\_callback()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00714}00714\ \ \ \ \ \ \ \ \ def\ on\_connect(client,\ userdata,\ flags,\ reason\_code,\ properties):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00715}00715\ \ \ \ \ \ \ \ \ \ \ \ \ print(f"{}Connected\ with\ result\ code\ \{reason\_code\}"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00716}00716\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00717}00717\ \ \ \ \ All\ of\ the\ callbacks\ as\ described\ below\ have\ a\ "{}client"{}\ and\ an\ "{}userdata"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00718}00718\ \ \ \ \ argument.\ "{}client"{}\ is\ the\ \`{}Client\`{}\ instance\ that\ is\ calling\ the\ callback.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00719}00719\ \ \ \ \ userdata"{}\ is\ user\ data\ of\ any\ type\ and\ can\ be\ set\ when\ creating\ a\ new\ client}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00720}00720\ \ \ \ \ instance\ or\ with\ \`{}user\_data\_set()\`{}.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00721}00721\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00722}00722\ \ \ \ \ If\ you\ wish\ to\ suppress\ exceptions\ within\ a\ callback,\ you\ should\ set}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00723}00723\ \ \ \ \ \`{}\`{}mqttc.suppress\_exceptions\ =\ True\`{}\`{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00724}00724\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00725}00725\ \ \ \ \ The\ callbacks\ are\ listed\ below,\ documentation\ for\ each\ of\ them\ can\ be\ found}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00726}00726\ \ \ \ \ at\ the\ same\ function\ name:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00727}00727\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00728}00728\ \ \ \ \ \`{}on\_connect\`{},\ \`{}on\_connect\_fail\`{},\ \`{}on\_disconnect\`{},\ \`{}on\_message\`{},\ \`{}on\_publish\`{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00729}00729\ \ \ \ \ \`{}on\_subscribe\`{},\ \`{}on\_unsubscribe\`{},\ \`{}on\_log\`{},\ \`{}on\_socket\_open\`{},\ \`{}on\_socket\_close\`{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00730}00730\ \ \ \ \ \`{}on\_socket\_register\_write\`{},\ \`{}on\_socket\_unregister\_write\`{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00731}00731\ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00732}00732\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00733}00733\ \ \ \ \ def\ \_\_init\_\_(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00734}00734\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00735}00735\ \ \ \ \ \ \ \ \ callback\_api\_version:\ CallbackAPIVersion\ =\ CallbackAPIVersion.VERSION1,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00736}00736\ \ \ \ \ \ \ \ \ client\_id:\ str\ |\ None\ =\ "{}"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00737}00737\ \ \ \ \ \ \ \ \ clean\_session:\ bool\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00738}00738\ \ \ \ \ \ \ \ \ userdata:\ Any\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00739}00739\ \ \ \ \ \ \ \ \ protocol:\ MQTTProtocolVersion\ =\ MQTTv311,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00740}00740\ \ \ \ \ \ \ \ \ transport:\ Literal["{}tcp"{},\ "{}websockets"{},\ "{}unix"{}]\ =\ "{}tcp"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00741}00741\ \ \ \ \ \ \ \ \ reconnect\_on\_failure:\ bool\ =\ True,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00742}00742\ \ \ \ \ \ \ \ \ manual\_ack:\ bool\ =\ False,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00743}00743\ \ \ \ \ )\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00744}00744\ \ \ \ \ \ \ \ \ transport\ =\ transport.lower()\ \ \#\ type:\ ignore}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00745}00745\ \ \ \ \ \ \ \ \ if\ transport\ ==\ "{}unix"{}\ and\ not\ hasattr(socket,\ "{}AF\_UNIX"{}):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00746}00746\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('"{}unix"{}\ transport\ not\ supported')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00747}00747\ \ \ \ \ \ \ \ \ elif\ transport\ not\ in\ ("{}websockets"{},\ "{}tcp"{},\ "{}unix"{}):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00748}00748\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00749}00749\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f'transport\ must\ be\ "{}websockets"{},\ "{}tcp"{}\ or\ "{}unix"{},\ not\ \{transport\}')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00750}00750\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00751}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a7fe06101da847500762a2339abd0c372}{00751}}\ \ \ \ \ \ \ \ \ self.\_manual\_ack\ =\ manual\_ack}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00752}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a4f9a9dbec30f933a0acb2a6fae26ae8c}{00752}}\ \ \ \ \ \ \ \ \ self.\_transport\ =\ transport}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00753}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aa4fb80a1eadaf60d16f4fa4aaf808b8e}{00753}}\ \ \ \ \ \ \ \ \ self.\_protocol\ =\ protocol}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00754}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a8a8a1f63475d6b98c274c06e55777d2a}{00754}}\ \ \ \ \ \ \ \ \ self.\_userdata\ =\ userdata}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00755}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a11db054a98d3a13f053b8a827a5ce0ed}{00755}}\ \ \ \ \ \ \ \ \ self.\_sock:\ SocketLike\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00756}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_acd05cb20f4f72a77b8123cc0310a4ed3}{00756}}\ \ \ \ \ \ \ \ \ self.\_sockpairR:\ socket.socket\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00757}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a241cf5af9f3ab3318f301e633e9db3bf}{00757}}\ \ \ \ \ \ \ \ \ self.\_sockpairW:\ socket.socket\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00758}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ab01994c81ed310ffcbd1febf37a0ecb5}{00758}}\ \ \ \ \ \ \ \ \ self.\_keepalive\ =\ 60}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00759}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ab7406304e185c7ef89b9f7453dfe9610}{00759}}\ \ \ \ \ \ \ \ \ self.\_connect\_timeout\ =\ 5.0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00760}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a4a074579d1c4d8964fbe56092a22caa7}{00760}}\ \ \ \ \ \ \ \ \ self.\_client\_mode\ =\ MQTT\_CLIENT}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00761}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a279a8c5ab3fe35c7be2f7d95b94d8a0b}{00761}}\ \ \ \ \ \ \ \ \ self.\_callback\_api\_version\ =\ callback\_api\_version}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00762}00762\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00763}00763\ \ \ \ \ \ \ \ \ if\ self.\_callback\_api\_version\ ==\ CallbackAPIVersion.VERSION1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00764}00764\ \ \ \ \ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00765}00765\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}Callback\ API\ version\ 1\ is\ deprecated,\ update\ to\ latest\ version"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00766}00766\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ category=DeprecationWarning,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00767}00767\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stacklevel=2,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00768}00768\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00769}00769\ \ \ \ \ \ \ \ \ if\ isinstance(self.\_callback\_api\_version,\ str):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00770}00770\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Help\ user\ to\ migrate,\ it\ probably\ provided\ a\ client\ id}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00771}00771\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ as\ first\ arguments}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00772}00772\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00773}00773\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}Unsupported\ callback\ API\ version:\ version\ 2.0\ added\ a\ callback\_api\_version,\ see\ docs/migrations.rst\ for\ details"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00774}00774\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00775}00775\ \ \ \ \ \ \ \ \ if\ self.\_callback\_api\_version\ not\ in\ CallbackAPIVersion:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00776}00776\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}Unsupported\ callback\ API\ version"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00777}00777\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00778}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a103f8cb8e8a4307b46215266db8d86d6}{00778}}\ \ \ \ \ \ \ \ \ self.\_clean\_start:\ int\ =\ MQTT\_CLEAN\_START\_FIRST\_ONLY}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00779}00779\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00780}00780\ \ \ \ \ \ \ \ \ if\ protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00781}00781\ \ \ \ \ \ \ \ \ \ \ \ \ if\ clean\_session\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00782}00782\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Clean\ session\ is\ not\ used\ for\ MQTT\ 5.0')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00783}00783\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00784}00784\ \ \ \ \ \ \ \ \ \ \ \ \ if\ clean\_session\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00785}00785\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ clean\_session\ =\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00786}00786\ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ clean\_session\ and\ (client\_id\ ==\ "{}"{}\ or\ client\_id\ is\ None):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00787}00787\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00788}00788\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 'A\ client\ id\ must\ be\ provided\ if\ clean\ session\ is\ False.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00789}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a8a31d0b27f16368507744e03687e4c7f}{00789}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_clean\_session\ =\ clean\_session}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00790}00790\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00791}00791\ \ \ \ \ \ \ \ \ \#\ [MQTT-\/3.1.3-\/4]\ Client\ Id\ must\ be\ UTF-\/8\ encoded\ string.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00792}00792\ \ \ \ \ \ \ \ \ if\ client\_id\ ==\ "{}"{}\ or\ client\_id\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00793}00793\ \ \ \ \ \ \ \ \ \ \ \ \ if\ protocol\ ==\ MQTTv31:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00794}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ae536543913baa32d49329ff94d3f5ecf}{00794}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_client\_id\ =\ \_base62(uuid.uuid4().int,\ padding=22).encode("{}utf8"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00795}00795\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00796}00796\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_client\_id\ =\ b"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00797}00797\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00798}00798\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_client\_id\ =\ \_force\_bytes(client\_id)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00799}00799\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00800}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a82c989be5caaa204321ed0f8d973dbb3}{00800}}\ \ \ \ \ \ \ \ \ self.\_username:\ bytes\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00801}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aca99f33f007b190f666341ffa74036da}{00801}}\ \ \ \ \ \ \ \ \ self.\_password:\ bytes\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00802}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aa9eb512fc56f43b9a7fa53d89ba083b4}{00802}}\ \ \ \ \ \ \ \ \ self.\_in\_packet:\ \_InPacket\ =\ \{}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00803}00803\ \ \ \ \ \ \ \ \ \ \ \ \ "{}command"{}:\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00804}00804\ \ \ \ \ \ \ \ \ \ \ \ \ "{}have\_remaining"{}:\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00805}00805\ \ \ \ \ \ \ \ \ \ \ \ \ "{}remaining\_count"{}:\ [],}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00806}00806\ \ \ \ \ \ \ \ \ \ \ \ \ "{}remaining\_mult"{}:\ 1,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00807}00807\ \ \ \ \ \ \ \ \ \ \ \ \ "{}remaining\_length"{}:\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00808}00808\ \ \ \ \ \ \ \ \ \ \ \ \ "{}packet"{}:\ bytearray(b"{}"{}),}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00809}00809\ \ \ \ \ \ \ \ \ \ \ \ \ "{}to\_process"{}:\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00810}00810\ \ \ \ \ \ \ \ \ \ \ \ \ "{}pos"{}:\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00811}00811\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00812}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a1491c57865542fbe00cd2ce20cded289}{00812}}\ \ \ \ \ \ \ \ \ self.\_out\_packet:\ collections.deque[\_OutPacket]\ =\ collections.deque()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00813}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a06a785bfffc0991ab050c1a67ed4883a}{00813}}\ \ \ \ \ \ \ \ \ self.\_last\_msg\_in\ =\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00814}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ad25cb59b162c3f21b2341a7262143f98}{00814}}\ \ \ \ \ \ \ \ \ self.\_last\_msg\_out\ =\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00815}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_af8cac7b7ba706425583cb3f672dac731}{00815}}\ \ \ \ \ \ \ \ \ self.\_reconnect\_min\_delay\ =\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00816}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aa6705ac3018d2dea14d9f7f2b7502796}{00816}}\ \ \ \ \ \ \ \ \ self.\_reconnect\_max\_delay\ =\ 120}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00817}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a003552dc139dd6af3f853aadc7424694}{00817}}\ \ \ \ \ \ \ \ \ self.\_reconnect\_delay:\ int\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00818}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a6e436ee25abc45343fff51eb147c00a2}{00818}}\ \ \ \ \ \ \ \ \ self.\_reconnect\_on\_failure\ =\ reconnect\_on\_failure}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00819}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a6f21e7446ca39007d8ac5f086e4ba5ee}{00819}}\ \ \ \ \ \ \ \ \ self.\_ping\_t\ =\ 0.0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00820}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a07dcd2e62f345574e8093161f18a9aa8}{00820}}\ \ \ \ \ \ \ \ \ self.\_last\_mid\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00821}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aff05914a0eaf55d174c33f108f02ab42}{00821}}\ \ \ \ \ \ \ \ \ self.\_state\ =\ \_ConnectionState.MQTT\_CS\_NEW}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00822}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aea0ddc840d0bc59c276b547fba761945}{00822}}\ \ \ \ \ \ \ \ \ self.\_out\_messages:\ collections.OrderedDict[}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00823}00823\ \ \ \ \ \ \ \ \ \ \ \ \ int,\ MQTTMessage}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00824}00824\ \ \ \ \ \ \ \ \ ]\ =\ collections.OrderedDict()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00825}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a83740dee60f96336f1aba754f8a6b5bb}{00825}}\ \ \ \ \ \ \ \ \ self.\_in\_messages:\ collections.OrderedDict[}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00826}00826\ \ \ \ \ \ \ \ \ \ \ \ \ int,\ MQTTMessage}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00827}00827\ \ \ \ \ \ \ \ \ ]\ =\ collections.OrderedDict()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00828}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a676ea86c0198eb2068e808a800558292}{00828}}\ \ \ \ \ \ \ \ \ self.\_max\_inflight\_messages\ =\ 20}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00829}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a1fa4bc4131908ca3776bbc6340c45972}{00829}}\ \ \ \ \ \ \ \ \ self.\_inflight\_messages\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00830}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aa1b44b17845d6e5f1269adf9ff030fb8}{00830}}\ \ \ \ \ \ \ \ \ self.\_max\_queued\_messages\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00831}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_af02f3df4fb72b82e993a87a18a7bc4ef}{00831}}\ \ \ \ \ \ \ \ \ self.\_connect\_properties:\ Properties\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00832}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a079e7f5d347a80025883fef6a61b14f6}{00832}}\ \ \ \ \ \ \ \ \ self.\_will\_properties:\ Properties\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00833}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a3f68289c3956e2b69853267b0269a9f5}{00833}}\ \ \ \ \ \ \ \ \ self.\_will\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00834}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aaaf756724a72656862ab47beee09fef0}{00834}}\ \ \ \ \ \ \ \ \ self.\_will\_topic\ =\ b"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00835}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a7ef47ed979a7cace660dc2aa7b7e9d5c}{00835}}\ \ \ \ \ \ \ \ \ self.\_will\_payload\ =\ b"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00836}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a2ba5abf3195b6a7885920ad6e6fabf3d}{00836}}\ \ \ \ \ \ \ \ \ self.\_will\_qos\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00837}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ab2a10adf04a7daa877e11dc1847712e2}{00837}}\ \ \ \ \ \ \ \ \ self.\_will\_retain\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00838}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ac9de1e2f64dcd64c37b7d22b8bc1018e}{00838}}\ \ \ \ \ \ \ \ \ self.\_on\_message\_filtered\ =\ MQTTMatcher()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00839}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ae526a1f25b27918ff889dcbcc97fda87}{00839}}\ \ \ \ \ \ \ \ \ self.\_host\ =\ "{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00840}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a5f090e12d2f135512867b323874c7aff}{00840}}\ \ \ \ \ \ \ \ \ self.\_port\ =\ 1883}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00841}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a0f1914ad9f8643f4b3eafa47466a623f}{00841}}\ \ \ \ \ \ \ \ \ self.\_bind\_address\ =\ "{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00842}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ab332dffb8b70d80307901c48eec3932b}{00842}}\ \ \ \ \ \ \ \ \ self.\_bind\_port\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00843}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a744b44b8fc3c88e675729c5f88982a6a}{00843}}\ \ \ \ \ \ \ \ \ self.\_proxy:\ Any\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00844}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a9949b3a5f6a6253c810aab4c95e358c7}{00844}}\ \ \ \ \ \ \ \ \ self.\_in\_callback\_mutex\ =\ threading.Lock()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00845}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aac9df5b26c616e062b6f21c52934bab7}{00845}}\ \ \ \ \ \ \ \ \ self.\_callback\_mutex\ =\ threading.RLock()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00846}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a20d4406adb628ace1e8f7418f8ac5d7c}{00846}}\ \ \ \ \ \ \ \ \ self.\_msgtime\_mutex\ =\ threading.Lock()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00847}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a52246082a6dcee45c1722694e1620e9d}{00847}}\ \ \ \ \ \ \ \ \ self.\_out\_message\_mutex\ =\ threading.RLock()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00848}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ad373857f3561bc7335087c3bf7dfe56e}{00848}}\ \ \ \ \ \ \ \ \ self.\_in\_message\_mutex\ =\ threading.Lock()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00849}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a7cc5029a982e724afa65e75e9c8dc6c8}{00849}}\ \ \ \ \ \ \ \ \ self.\_reconnect\_delay\_mutex\ =\ threading.Lock()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00850}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a22840d7b4053d2b0790b9da8607e2999}{00850}}\ \ \ \ \ \ \ \ \ self.\_mid\_generate\_mutex\ =\ threading.Lock()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00851}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a3718c08e79fc0b99c7e8accecd4980ca}{00851}}\ \ \ \ \ \ \ \ \ self.\_thread:\ threading.Thread\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00852}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aae523a6001a22c955c5df3d64122ecaa}{00852}}\ \ \ \ \ \ \ \ \ self.\_thread\_terminate\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00853}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a51c934b23149d69a005fb8059b92ef1e}{00853}}\ \ \ \ \ \ \ \ \ self.\_ssl\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00854}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a428004424c9d250a559b9fbd96b2fca8}{00854}}\ \ \ \ \ \ \ \ \ self.\_ssl\_context:\ ssl.SSLContext\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00855}00855\ \ \ \ \ \ \ \ \ \#\ Only\ used\ when\ SSL\ context\ does\ not\ have\ check\_hostname\ attribute}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00856}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ae29a743bc7e3db0da797f9edefc7e516}{00856}}\ \ \ \ \ \ \ \ \ self.\_tls\_insecure\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00857}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a81667e41d03238d88256c8d30e79c02e}{00857}}\ \ \ \ \ \ \ \ \ self.\_logger:\ logging.Logger\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00858}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a6327c2950d181d92bae19c5a776ec13c}{00858}}\ \ \ \ \ \ \ \ \ self.\_registered\_write\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00859}00859\ \ \ \ \ \ \ \ \ \#\ No\ default\ callbacks}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00860}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ac6efc240bcef122157e063fde3ae8ff6}{00860}}\ \ \ \ \ \ \ \ \ self.\_on\_log:\ CallbackOnLog\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00861}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ae18b2b4271a90b0158073ad30c4994c0}{00861}}\ \ \ \ \ \ \ \ \ self.\_on\_pre\_connect:\ CallbackOnPreConnect\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00862}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aae97b1dc82711b317b2373ba7b62f4d9}{00862}}\ \ \ \ \ \ \ \ \ self.\_on\_connect:\ CallbackOnConnect\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00863}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ad15a0a1978254452c638035c06143782}{00863}}\ \ \ \ \ \ \ \ \ self.\_on\_connect\_fail:\ CallbackOnConnectFail\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00864}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a86e8808efde5dc64bbe198a75f8b246d}{00864}}\ \ \ \ \ \ \ \ \ self.\_on\_subscribe:\ CallbackOnSubscribe\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00865}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ad3161aa7e323084c8d81510a46456de7}{00865}}\ \ \ \ \ \ \ \ \ self.\_on\_message:\ CallbackOnMessage\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00866}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a851777dbbfa0bf35199c5b5a7aa5fe29}{00866}}\ \ \ \ \ \ \ \ \ self.\_on\_publish:\ CallbackOnPublish\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00867}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a10e8b181f9294bdf1a7d66d1a34d9bb6}{00867}}\ \ \ \ \ \ \ \ \ self.\_on\_unsubscribe:\ CallbackOnUnsubscribe\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00868}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ae441a88d29c3af6e0cc08a5f8209353b}{00868}}\ \ \ \ \ \ \ \ \ self.\_on\_disconnect:\ CallbackOnDisconnect\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00869}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ad96fbc74a242162e411568a3ffe71524}{00869}}\ \ \ \ \ \ \ \ \ self.\_on\_socket\_open:\ CallbackOnSocket\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00870}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a229d74bdd59d524d661c488dde381a61}{00870}}\ \ \ \ \ \ \ \ \ self.\_on\_socket\_close:\ CallbackOnSocket\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00871}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aba7afd38da9ac2b96320d2a0486afa6c}{00871}}\ \ \ \ \ \ \ \ \ self.\_on\_socket\_register\_write:\ CallbackOnSocket\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00872}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a51a329e3efb3f0d3b516b777828fbd00}{00872}}\ \ \ \ \ \ \ \ \ self.\_on\_socket\_unregister\_write:\ CallbackOnSocket\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00873}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ad2fc6b112f6860253b4bfa8addd6d5e6}{00873}}\ \ \ \ \ \ \ \ \ self.\_websocket\_path\ =\ "{}/mqtt"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00874}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aee11260407d769dc779ff1cb04f3ecee}{00874}}\ \ \ \ \ \ \ \ \ self.\_websocket\_extra\_headers:\ WebSocketHeaders\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00875}00875\ \ \ \ \ \ \ \ \ \#\ for\ clean\_start\ ==\ MQTT\_CLEAN\_START\_FIRST\_ONLY}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00876}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a52f77bfa1a21d35477fab21f221a1b45}{00876}}\ \ \ \ \ \ \ \ \ self.\_mqttv5\_first\_connect\ =\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00877}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aea8562a89bbca773dc634cee4fcf7b5c}{00877}}\ \ \ \ \ \ \ \ \ self.suppress\_exceptions\ =\ False\ \#\ For\ callbacks}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00878}00878\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00879}00879\ \ \ \ \ def\ \_\_del\_\_(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00880}00880\ \ \ \ \ \ \ \ \ self.\_reset\_sockets()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00881}00881\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00882}00882\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00883}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a9e40bfbcd507042660e8567d705ce063}{00883}}\ \ \ \ \ def\ host(self)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00884}00884\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00885}00885\ \ \ \ \ \ \ \ \ Host\ to\ connect\ to.\ If\ \`{}connect()\`{}\ hasn't\ been\ called\ yet,\ returns\ an\ empty\ string.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00886}00886\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00887}00887\ \ \ \ \ \ \ \ \ This\ property\ may\ not\ be\ changed\ if\ the\ connection\ is\ already\ open.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00888}00888\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00889}00889\ \ \ \ \ \ \ \ \ return\ self.\_host}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00890}00890\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00891}00891\ \ \ \ \ @host.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00892}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a7269784b159d128f873707296ff6fadf}{00892}}\ \ \ \ \ def\ host(self,\ value:\ str)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00893}00893\ \ \ \ \ \ \ \ \ if\ not\ self.\_connection\_closed():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00894}00894\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ RuntimeError("{}updating\ host\ on\ established\ connection\ is\ not\ supported"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00895}00895\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00896}00896\ \ \ \ \ \ \ \ \ if\ not\ value:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00897}00897\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}Invalid\ host."{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00898}00898\ \ \ \ \ \ \ \ \ self.\_host\ =\ value}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00899}00899\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00900}00900\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00901}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a66b254f32c1ca4e6aad487d7f5870a4b}{00901}}\ \ \ \ \ def\ port(self)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00902}00902\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00903}00903\ \ \ \ \ \ \ \ \ Broker\ TCP\ port\ to\ connect\ to.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00904}00904\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00905}00905\ \ \ \ \ \ \ \ \ This\ property\ may\ not\ be\ changed\ if\ the\ connection\ is\ already\ open.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00906}00906\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00907}00907\ \ \ \ \ \ \ \ \ return\ self.\_port}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00908}00908\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00909}00909\ \ \ \ \ @port.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00910}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ab24d1a5d20f01004dede3ac7c8f8646a}{00910}}\ \ \ \ \ def\ port(self,\ value:\ int)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00911}00911\ \ \ \ \ \ \ \ \ if\ not\ self.\_connection\_closed():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00912}00912\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ RuntimeError("{}updating\ port\ on\ established\ connection\ is\ not\ supported"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00913}00913\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00914}00914\ \ \ \ \ \ \ \ \ if\ value\ <=\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00915}00915\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}Invalid\ port\ number."{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00916}00916\ \ \ \ \ \ \ \ \ self.\_port\ =\ value}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00917}00917\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00918}00918\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00919}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a4d283d83ab60654a967069659bb3e329}{00919}}\ \ \ \ \ def\ keepalive(self)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00920}00920\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00921}00921\ \ \ \ \ \ \ \ \ Client\ keepalive\ interval\ (in\ seconds).}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00922}00922\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00923}00923\ \ \ \ \ \ \ \ \ This\ property\ may\ not\ be\ changed\ if\ the\ connection\ is\ already\ open.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00924}00924\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00925}00925\ \ \ \ \ \ \ \ \ return\ self.\_keepalive}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00926}00926\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00927}00927\ \ \ \ \ @keepalive.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00928}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a26195e4a4bc38e11c717d3053f965168}{00928}}\ \ \ \ \ def\ keepalive(self,\ value:\ int)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00929}00929\ \ \ \ \ \ \ \ \ if\ not\ self.\_connection\_closed():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00930}00930\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ The\ issue\ here\ is\ that\ the\ previous\ value\ of\ keepalive\ matter\ to\ possibly}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00931}00931\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ sent\ ping\ packet.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00932}00932\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ RuntimeError("{}updating\ keepalive\ on\ established\ connection\ is\ not\ supported"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00933}00933\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00934}00934\ \ \ \ \ \ \ \ \ if\ value\ <\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00935}00935\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}Keepalive\ must\ be\ >=0."{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00936}00936\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00937}00937\ \ \ \ \ \ \ \ \ self.\_keepalive\ =\ value}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00938}00938\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00939}00939\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00940}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ae590185a470d6e075aa7e5400f406711}{00940}}\ \ \ \ \ def\ transport(self)\ -\/>\ Literal["{}tcp"{},\ "{}websockets"{},\ "{}unix"{}]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00941}00941\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00942}00942\ \ \ \ \ \ \ \ \ Transport\ method\ used\ for\ the\ connection\ ("{}tcp"{}\ or\ "{}websockets"{}).}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00943}00943\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00944}00944\ \ \ \ \ \ \ \ \ This\ property\ may\ not\ be\ changed\ if\ the\ connection\ is\ already\ open.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00945}00945\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00946}00946\ \ \ \ \ \ \ \ \ return\ self.\_transport}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00947}00947\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00948}00948\ \ \ \ \ @transport.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00949}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aa7377dd45dc80355d50dc4a48b250c7e}{00949}}\ \ \ \ \ def\ transport(self,\ value:\ Literal["{}tcp"{},\ "{}websockets"{}])\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00950}00950\ \ \ \ \ \ \ \ \ if\ not\ self.\_connection\_closed():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00951}00951\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ RuntimeError("{}updating\ transport\ on\ established\ connection\ is\ not\ supported"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00952}00952\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00953}00953\ \ \ \ \ \ \ \ \ self.\_transport\ =\ value}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00954}00954\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00955}00955\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00956}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ae42884718532307fe60a1c06f8d48d8d}{00956}}\ \ \ \ \ def\ protocol(self)\ -\/>\ MQTTProtocolVersion:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00957}00957\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00958}00958\ \ \ \ \ \ \ \ \ Protocol\ version\ used\ (MQTT\ v3,\ MQTT\ v3.11,\ MQTTv5)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00959}00959\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00960}00960\ \ \ \ \ \ \ \ \ This\ property\ is\ read-\/only.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00961}00961\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00962}00962\ \ \ \ \ \ \ \ \ return\ self.\_protocol}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00963}00963\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00964}00964\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00965}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a5e1c14b5fe76accc8fb0242a8ff60a18}{00965}}\ \ \ \ \ def\ connect\_timeout(self)\ -\/>\ float:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00966}00966\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00967}00967\ \ \ \ \ \ \ \ \ Connection\ establishment\ timeout\ in\ seconds.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00968}00968\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00969}00969\ \ \ \ \ \ \ \ \ This\ property\ may\ not\ be\ changed\ if\ the\ connection\ is\ already\ open.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00970}00970\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00971}00971\ \ \ \ \ \ \ \ \ return\ self.\_connect\_timeout}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00972}00972\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00973}00973\ \ \ \ \ @connect\_timeout.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00974}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a76542d631adccc451a4d1af25d3248a3}{00974}}\ \ \ \ \ def\ connect\_timeout(self,\ value:\ float)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00975}00975\ \ \ \ \ \ \ \ \ if\ not\ self.\_connection\_closed():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00976}00976\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ RuntimeError("{}updating\ connect\_timeout\ on\ established\ connection\ is\ not\ supported"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00977}00977\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00978}00978\ \ \ \ \ \ \ \ \ if\ value\ <=\ 0.0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00979}00979\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}timeout\ must\ be\ a\ positive\ number"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00980}00980\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00981}00981\ \ \ \ \ \ \ \ \ self.\_connect\_timeout\ =\ value}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00982}00982\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00983}00983\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00984}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a603e6b9726a0b986f1af5eae987713dc}{00984}}\ \ \ \ \ def\ username(self)\ -\/>\ str\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00985}00985\ \ \ \ \ \ \ \ \ "{}"{}"{}The\ username\ used\ to\ connect\ to\ the\ MQTT\ broker,\ or\ None\ if\ no\ username\ is\ used.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00986}00986\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00987}00987\ \ \ \ \ \ \ \ \ This\ property\ may\ not\ be\ changed\ if\ the\ connection\ is\ already\ open.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00988}00988\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00989}00989\ \ \ \ \ \ \ \ \ if\ self.\_username\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00990}00990\ \ \ \ \ \ \ \ \ \ \ \ \ return\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00991}00991\ \ \ \ \ \ \ \ \ return\ self.\_username.decode("{}utf-\/8"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00992}00992\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00993}00993\ \ \ \ \ @username.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00994}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aa6282e7938909ad6cd66a35ce967476b}{00994}}\ \ \ \ \ def\ username(self,\ value:\ str\ |\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00995}00995\ \ \ \ \ \ \ \ \ if\ not\ self.\_connection\_closed():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00996}00996\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ RuntimeError("{}updating\ username\ on\ established\ connection\ is\ not\ supported"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00997}00997\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l00998}00998\ \ \ \ \ \ \ \ \ if\ value\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l00999}00999\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_username\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01000}01000\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01001}01001\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_username\ =\ value.encode("{}utf-\/8"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01002}01002\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01003}01003\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01004}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a567a5e8ede1f1d5acbc274bf9df713d3}{01004}}\ \ \ \ \ def\ password(self)\ -\/>\ str\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01005}01005\ \ \ \ \ \ \ \ \ "{}"{}"{}The\ password\ used\ to\ connect\ to\ the\ MQTT\ broker,\ or\ None\ if\ no\ password\ is\ used.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01006}01006\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01007}01007\ \ \ \ \ \ \ \ \ This\ property\ may\ not\ be\ changed\ if\ the\ connection\ is\ already\ open.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01008}01008\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01009}01009\ \ \ \ \ \ \ \ \ if\ self.\_password\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01010}01010\ \ \ \ \ \ \ \ \ \ \ \ \ return\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01011}01011\ \ \ \ \ \ \ \ \ return\ self.\_password.decode("{}utf-\/8"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01012}01012\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01013}01013\ \ \ \ \ @password.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01014}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a913b1f7ba5251cc88e76490ef16405b1}{01014}}\ \ \ \ \ def\ password(self,\ value:\ str\ |\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01015}01015\ \ \ \ \ \ \ \ \ if\ not\ self.\_connection\_closed():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01016}01016\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ RuntimeError("{}updating\ password\ on\ established\ connection\ is\ not\ supported"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01017}01017\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01018}01018\ \ \ \ \ \ \ \ \ if\ value\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01019}01019\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_password\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01020}01020\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01021}01021\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_password\ =\ value.encode("{}utf-\/8"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01022}01022\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01023}01023\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01024}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a82c3f1df31f7bb3423f44a6256b6c3f0}{01024}}\ \ \ \ \ def\ max\_inflight\_messages(self)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01025}01025\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01026}01026\ \ \ \ \ \ \ \ \ Maximum\ number\ of\ messages\ with\ QoS\ >\ 0\ that\ can\ be\ partway\ through\ the\ network\ flow\ at\ once}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01027}01027\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01028}01028\ \ \ \ \ \ \ \ \ This\ property\ may\ not\ be\ changed\ if\ the\ connection\ is\ already\ open.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01029}01029\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01030}01030\ \ \ \ \ \ \ \ \ return\ self.\_max\_inflight\_messages}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01031}01031\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01032}01032\ \ \ \ \ @max\_inflight\_messages.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01033}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a4f4a9692ec56ac1da9dcabeb2933b563}{01033}}\ \ \ \ \ def\ max\_inflight\_messages(self,\ value:\ int)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01034}01034\ \ \ \ \ \ \ \ \ if\ not\ self.\_connection\_closed():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01035}01035\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Not\ tested.\ Some\ doubt\ that\ everything\ is\ okay\ when\ max\_inflight\ change\ between\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01036}01036\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ and\ >\ 0\ value\ because\ \_update\_inflight\ is\ skipped\ when\ \_max\_inflight\_messages\ ==\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01037}01037\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ RuntimeError("{}updating\ max\_inflight\_messages\ on\ established\ connection\ is\ not\ supported"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01038}01038\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01039}01039\ \ \ \ \ \ \ \ \ if\ value\ <\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01040}01040\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}Invalid\ inflight."{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01041}01041\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01042}01042\ \ \ \ \ \ \ \ \ self.\_max\_inflight\_messages\ =\ value}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01043}01043\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01044}01044\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01045}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ad8d7b01180d1be6710f2e3b037fea889}{01045}}\ \ \ \ \ def\ max\_queued\_messages(self)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01046}01046\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01047}01047\ \ \ \ \ \ \ \ \ Maximum\ number\ of\ message\ in\ the\ outgoing\ message\ queue,\ 0\ means\ unlimited}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01048}01048\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01049}01049\ \ \ \ \ \ \ \ \ This\ property\ may\ not\ be\ changed\ if\ the\ connection\ is\ already\ open.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01050}01050\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01051}01051\ \ \ \ \ \ \ \ \ return\ self.\_max\_queued\_messages}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01052}01052\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01053}01053\ \ \ \ \ @max\_queued\_messages.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01054}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_af1de31e6d153ed8869276d47864d2cad}{01054}}\ \ \ \ \ def\ max\_queued\_messages(self,\ value:\ int)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01055}01055\ \ \ \ \ \ \ \ \ if\ not\ self.\_connection\_closed():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01056}01056\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Not\ tested.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01057}01057\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ RuntimeError("{}updating\ max\_queued\_messages\ on\ established\ connection\ is\ not\ supported"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01058}01058\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01059}01059\ \ \ \ \ \ \ \ \ if\ value\ <\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01060}01060\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}Invalid\ queue\ size."{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01061}01061\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01062}01062\ \ \ \ \ \ \ \ \ self.\_max\_queued\_messages\ =\ value}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01063}01063\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01064}01064\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01065}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aea0417dbf2f3ce6206e31a8ee6cde076}{01065}}\ \ \ \ \ def\ will\_topic(self)\ -\/>\ str\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01066}01066\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01067}01067\ \ \ \ \ \ \ \ \ The\ topic\ name\ a\ will\ message\ is\ sent\ to\ when\ disconnecting\ unexpectedly.\ None\ if\ a\ will\ shall\ not\ be\ sent.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01068}01068\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01069}01069\ \ \ \ \ \ \ \ \ This\ property\ is\ read-\/only.\ Use\ \`{}will\_set()\`{}\ to\ change\ its\ value.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01070}01070\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01071}01071\ \ \ \ \ \ \ \ \ if\ self.\_will\_topic\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01072}01072\ \ \ \ \ \ \ \ \ \ \ \ \ return\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01073}01073\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01074}01074\ \ \ \ \ \ \ \ \ return\ self.\_will\_topic.decode("{}utf-\/8"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01075}01075\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01076}01076\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01077}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a1cc3277bb88f083ef9344f3bb159b65e}{01077}}\ \ \ \ \ def\ will\_payload(self)\ -\/>\ bytes\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01078}01078\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01079}01079\ \ \ \ \ \ \ \ \ The\ payload\ for\ the\ will\ message\ that\ is\ sent\ when\ disconnecting\ unexpectedly.\ None\ if\ a\ will\ shall\ not\ be\ sent.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01080}01080\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01081}01081\ \ \ \ \ \ \ \ \ This\ property\ is\ read-\/only.\ Use\ \`{}will\_set()\`{}\ to\ change\ its\ value.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01082}01082\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01083}01083\ \ \ \ \ \ \ \ \ return\ self.\_will\_payload}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01084}01084\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01085}01085\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01086}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a6b65a434011f13e3cf751ef4b328aa27}{01086}}\ \ \ \ \ def\ logger(self)\ -\/>\ logging.Logger\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01087}01087\ \ \ \ \ \ \ \ \ return\ self.\_logger}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01088}01088\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01089}01089\ \ \ \ \ @logger.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01090}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a56bf722a79a7e36a178d9cfcf30dee97}{01090}}\ \ \ \ \ def\ logger(self,\ value:\ logging.Logger\ |\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01091}01091\ \ \ \ \ \ \ \ \ self.\_logger\ =\ value}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01092}01092\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01093}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ad84425d138eb81db8969b0dcb963bc68}{01093}}\ \ \ \ \ def\ \_sock\_recv(self,\ bufsize:\ int)\ -\/>\ bytes:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01094}01094\ \ \ \ \ \ \ \ \ if\ self.\_sock\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01095}01095\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ConnectionError("{}self.\_sock\ is\ None"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01096}01096\ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01097}01097\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_sock.recv(bufsize)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01098}01098\ \ \ \ \ \ \ \ \ except\ ssl.SSLWantReadError\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01099}01099\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ BlockingIOError()\ from\ err}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01100}01100\ \ \ \ \ \ \ \ \ except\ ssl.SSLWantWriteError\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01101}01101\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_call\_socket\_register\_write()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01102}01102\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ BlockingIOError()\ from\ err}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01103}01103\ \ \ \ \ \ \ \ \ except\ AttributeError\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01104}01104\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01105}01105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,\ "{}socket\ was\ None:\ \%s"{},\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01106}01106\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ConnectionError()\ from\ err}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01107}01107\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01108}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ae8bf0936b2fe013748c2a5569473ab42}{01108}}\ \ \ \ \ def\ \_sock\_send(self,\ buf:\ bytes)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01109}01109\ \ \ \ \ \ \ \ \ if\ self.\_sock\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01110}01110\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ConnectionError("{}self.\_sock\ is\ None"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01111}01111\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01112}01112\ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01113}01113\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_sock.send(buf)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01114}01114\ \ \ \ \ \ \ \ \ except\ ssl.SSLWantReadError\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01115}01115\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ BlockingIOError()\ from\ err}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01116}01116\ \ \ \ \ \ \ \ \ except\ ssl.SSLWantWriteError\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01117}01117\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_call\_socket\_register\_write()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01118}01118\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ BlockingIOError()\ from\ err}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01119}01119\ \ \ \ \ \ \ \ \ except\ BlockingIOError\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01120}01120\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_call\_socket\_register\_write()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01121}01121\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ BlockingIOError()\ from\ err}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01122}01122\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01123}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a05710ea251ddea1ecbc560d625c95a62}{01123}}\ \ \ \ \ def\ \_sock\_close(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01124}01124\ \ \ \ \ \ \ \ \ "{}"{}"{}Close\ the\ connection\ to\ the\ server."{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01125}01125\ \ \ \ \ \ \ \ \ if\ not\ self.\_sock:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01126}01126\ \ \ \ \ \ \ \ \ \ \ \ \ return}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01127}01127\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01128}01128\ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01129}01129\ \ \ \ \ \ \ \ \ \ \ \ \ sock\ =\ self.\_sock}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01130}01130\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_sock\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01131}01131\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_call\_socket\_unregister\_write(sock)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01132}01132\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_call\_socket\_close(sock)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01133}01133\ \ \ \ \ \ \ \ \ finally:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01134}01134\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ In\ case\ a\ callback\ fails,\ still\ close\ the\ socket\ to\ avoid\ leaking\ the\ file\ descriptor.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01135}01135\ \ \ \ \ \ \ \ \ \ \ \ \ sock.close()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01136}01136\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01137}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a4016ad592f2cc3394106f9b7213dd468}{01137}}\ \ \ \ \ def\ \_reset\_sockets(self,\ sockpair\_only:\ bool\ =\ False)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01138}01138\ \ \ \ \ \ \ \ \ if\ not\ sockpair\_only:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01139}01139\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_sock\_close()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01140}01140\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01141}01141\ \ \ \ \ \ \ \ \ if\ self.\_sockpairR:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01142}01142\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_sockpairR.close()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01143}01143\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_sockpairR\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01144}01144\ \ \ \ \ \ \ \ \ if\ self.\_sockpairW:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01145}01145\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_sockpairW.close()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01146}01146\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_sockpairW\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01147}01147\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01148}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a151cf343d0aeb2464241ef3601d83679}{01148}}\ \ \ \ \ def\ reinitialise(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01149}01149\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01150}01150\ \ \ \ \ \ \ \ \ client\_id:\ str\ =\ "{}"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01151}01151\ \ \ \ \ \ \ \ \ clean\_session:\ bool\ =\ True,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01152}01152\ \ \ \ \ \ \ \ \ userdata:\ Any\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01153}01153\ \ \ \ \ )\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01154}01154\ \ \ \ \ \ \ \ \ self.\_reset\_sockets()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01155}01155\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01156}01156\ \ \ \ \ \ \ \ \ self.\_\_init\_\_(client\_id,\ clean\_session,\ userdata)\ \ \#\ type:\ ignore[misc]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01157}01157\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01158}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a2574db9753040a0a287a7aae66a955eb}{01158}}\ \ \ \ \ def\ ws\_set\_options(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01159}01159\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01160}01160\ \ \ \ \ \ \ \ \ path:\ str\ =\ "{}/mqtt"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01161}01161\ \ \ \ \ \ \ \ \ headers:\ WebSocketHeaders\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01162}01162\ \ \ \ \ )\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01163}01163\ \ \ \ \ \ \ \ \ "{}"{}"{}\ Set\ the\ path\ and\ headers\ for\ a\ websocket\ connection}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01164}01164\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01165}01165\ \ \ \ \ \ \ \ \ :param\ str\ path:\ a\ string\ starting\ with\ /\ which\ should\ be\ the\ endpoint\ of\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01166}01166\ \ \ \ \ \ \ \ \ \ \ \ \ mqtt\ connection\ on\ the\ remote\ server}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01167}01167\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01168}01168\ \ \ \ \ \ \ \ \ :param\ headers:\ \ can\ be\ either\ a\ dict\ or\ a\ callable\ object.\ If\ it\ is\ a\ dict\ then}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01169}01169\ \ \ \ \ \ \ \ \ \ \ \ \ the\ extra\ items\ in\ the\ dict\ are\ added\ to\ the\ websocket\ headers.\ If\ it\ is}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01170}01170\ \ \ \ \ \ \ \ \ \ \ \ \ a\ callable,\ then\ the\ default\ websocket\ headers\ are\ passed\ into\ this}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01171}01171\ \ \ \ \ \ \ \ \ \ \ \ \ function\ and\ the\ result\ is\ used\ as\ the\ new\ headers.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01172}01172\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01173}01173\ \ \ \ \ \ \ \ \ self.\_websocket\_path\ =\ path}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01174}01174\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01175}01175\ \ \ \ \ \ \ \ \ if\ headers\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01176}01176\ \ \ \ \ \ \ \ \ \ \ \ \ if\ isinstance(headers,\ dict)\ or\ callable(headers):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01177}01177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_websocket\_extra\_headers\ =\ headers}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01178}01178\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01179}01179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01180}01180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}'headers'\ option\ to\ ws\_set\_options\ has\ to\ be\ either\ a\ dictionary\ or\ callable"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01181}01181\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01182}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a9e27172d392f63b9548702e3a719c911}{01182}}\ \ \ \ \ def\ tls\_set\_context(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01183}01183\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01184}01184\ \ \ \ \ \ \ \ \ context:\ ssl.SSLContext\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01185}01185\ \ \ \ \ )\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01186}01186\ \ \ \ \ \ \ \ \ "{}"{}"{}Configure\ network\ encryption\ and\ authentication\ context.\ Enables\ SSL/TLS\ support.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01187}01187\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01188}01188\ \ \ \ \ \ \ \ \ :param\ context:\ an\ ssl.SSLContext\ object.\ By\ default\ this\ is\ given\ by}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01189}01189\ \ \ \ \ \ \ \ \ \ \ \ \ \`{}\`{}ssl.create\_default\_context()\`{}\`{},\ if\ available.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01190}01190\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01191}01191\ \ \ \ \ \ \ \ \ Must\ be\ called\ before\ \`{}connect()\`{},\ \`{}connect\_async()\`{}\ or\ \`{}connect\_srv()\`{}."{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01192}01192\ \ \ \ \ \ \ \ \ if\ self.\_ssl\_context\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01193}01193\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('SSL/TLS\ has\ already\ been\ configured.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01194}01194\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01195}01195\ \ \ \ \ \ \ \ \ if\ context\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01196}01196\ \ \ \ \ \ \ \ \ \ \ \ \ context\ =\ ssl.create\_default\_context()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01197}01197\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01198}01198\ \ \ \ \ \ \ \ \ self.\_ssl\ =\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01199}01199\ \ \ \ \ \ \ \ \ self.\_ssl\_context\ =\ context}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01200}01200\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01201}01201\ \ \ \ \ \ \ \ \ \#\ Ensure\ \_tls\_insecure\ is\ consistent\ with\ check\_hostname\ attribute}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01202}01202\ \ \ \ \ \ \ \ \ if\ hasattr(context,\ 'check\_hostname'):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01203}01203\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_tls\_insecure\ =\ not\ context.check\_hostname}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01204}01204\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01205}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a2afd5e0d16f1228c304b7f0e1d64bc5b}{01205}}\ \ \ \ \ def\ tls\_set(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01206}01206\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01207}01207\ \ \ \ \ \ \ \ \ ca\_certs:\ str\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01208}01208\ \ \ \ \ \ \ \ \ certfile:\ str\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01209}01209\ \ \ \ \ \ \ \ \ keyfile:\ str\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01210}01210\ \ \ \ \ \ \ \ \ cert\_reqs:\ ssl.VerifyMode\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01211}01211\ \ \ \ \ \ \ \ \ tls\_version:\ int\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01212}01212\ \ \ \ \ \ \ \ \ ciphers:\ str\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01213}01213\ \ \ \ \ \ \ \ \ keyfile\_password:\ str\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01214}01214\ \ \ \ \ \ \ \ \ alpn\_protocols:\ list[str]\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01215}01215\ \ \ \ \ )\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01216}01216\ \ \ \ \ \ \ \ \ "{}"{}"{}Configure\ network\ encryption\ and\ authentication\ options.\ Enables\ SSL/TLS\ support.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01217}01217\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01218}01218\ \ \ \ \ \ \ \ \ :param\ str\ ca\_certs:\ a\ string\ path\ to\ the\ Certificate\ Authority\ certificate\ files}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01219}01219\ \ \ \ \ \ \ \ \ \ \ \ \ that\ are\ to\ be\ treated\ as\ trusted\ by\ this\ client.\ If\ this\ is\ the\ only}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01220}01220\ \ \ \ \ \ \ \ \ \ \ \ \ option\ given\ then\ the\ client\ will\ operate\ in\ a\ similar\ manner\ to\ a\ web}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01221}01221\ \ \ \ \ \ \ \ \ \ \ \ \ browser.\ That\ is\ to\ say\ it\ will\ require\ the\ broker\ to\ have\ a}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01222}01222\ \ \ \ \ \ \ \ \ \ \ \ \ certificate\ signed\ by\ the\ Certificate\ Authorities\ in\ ca\_certs\ and\ will}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01223}01223\ \ \ \ \ \ \ \ \ \ \ \ \ communicate\ using\ TLS\ v1,2,\ but\ will\ not\ attempt\ any\ form\ of}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01224}01224\ \ \ \ \ \ \ \ \ \ \ \ \ authentication.\ This\ provides\ basic\ network\ encryption\ but\ may\ not\ be}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01225}01225\ \ \ \ \ \ \ \ \ \ \ \ \ sufficient\ depending\ on\ how\ the\ broker\ is\ configured.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01226}01226\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01227}01227\ \ \ \ \ \ \ \ \ \ \ \ \ By\ default,\ on\ Python\ 2.7.9+\ or\ 3.4+,\ the\ default\ certification}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01228}01228\ \ \ \ \ \ \ \ \ \ \ \ \ authority\ of\ the\ system\ is\ used.\ On\ older\ Python\ version\ this\ parameter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01229}01229\ \ \ \ \ \ \ \ \ \ \ \ \ is\ mandatory.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01230}01230\ \ \ \ \ \ \ \ \ :param\ str\ certfile:\ PEM\ encoded\ client\ certificate\ filename.\ Used\ with}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01231}01231\ \ \ \ \ \ \ \ \ \ \ \ \ keyfile\ for\ client\ TLS\ based\ authentication.\ Support\ for\ this\ feature\ is}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01232}01232\ \ \ \ \ \ \ \ \ \ \ \ \ broker\ dependent.\ Note\ that\ if\ the\ files\ in\ encrypted\ and\ needs\ a\ password\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01233}01233\ \ \ \ \ \ \ \ \ \ \ \ \ decrypt\ it,\ then\ this\ can\ be\ passed\ using\ the\ keyfile\_password\ argument\ -\/\ you}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01234}01234\ \ \ \ \ \ \ \ \ \ \ \ \ should\ take\ precautions\ to\ ensure\ that\ your\ password\ is}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01235}01235\ \ \ \ \ \ \ \ \ \ \ \ \ not\ hard\ coded\ into\ your\ program\ by\ loading\ the\ password\ from\ a\ file}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01236}01236\ \ \ \ \ \ \ \ \ \ \ \ \ for\ example.\ If\ you\ do\ not\ provide\ keyfile\_password,\ the\ password\ will}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01237}01237\ \ \ \ \ \ \ \ \ \ \ \ \ be\ requested\ to\ be\ typed\ in\ at\ a\ terminal\ window.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01238}01238\ \ \ \ \ \ \ \ \ :param\ str\ keyfile:\ PEM\ encoded\ client\ private\ keys\ filename.\ Used\ with}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01239}01239\ \ \ \ \ \ \ \ \ \ \ \ \ certfile\ for\ client\ TLS\ based\ authentication.\ Support\ for\ this\ feature\ is}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01240}01240\ \ \ \ \ \ \ \ \ \ \ \ \ broker\ dependent.\ Note\ that\ if\ the\ files\ in\ encrypted\ and\ needs\ a\ password\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01241}01241\ \ \ \ \ \ \ \ \ \ \ \ \ decrypt\ it,\ then\ this\ can\ be\ passed\ using\ the\ keyfile\_password\ argument\ -\/\ you}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01242}01242\ \ \ \ \ \ \ \ \ \ \ \ \ should\ take\ precautions\ to\ ensure\ that\ your\ password\ is}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01243}01243\ \ \ \ \ \ \ \ \ \ \ \ \ not\ hard\ coded\ into\ your\ program\ by\ loading\ the\ password\ from\ a\ file}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01244}01244\ \ \ \ \ \ \ \ \ \ \ \ \ for\ example.\ If\ you\ do\ not\ provide\ keyfile\_password,\ the\ password\ will}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01245}01245\ \ \ \ \ \ \ \ \ \ \ \ \ be\ requested\ to\ be\ typed\ in\ at\ a\ terminal\ window.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01246}01246\ \ \ \ \ \ \ \ \ :param\ cert\_reqs:\ the\ certificate\ requirements\ that\ the\ client\ imposes}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01247}01247\ \ \ \ \ \ \ \ \ \ \ \ \ on\ the\ broker\ to\ be\ changed.\ By\ default\ this\ is\ ssl.CERT\_REQUIRED,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01248}01248\ \ \ \ \ \ \ \ \ \ \ \ \ which\ means\ that\ the\ broker\ must\ provide\ a\ certificate.\ See\ the\ ssl}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01249}01249\ \ \ \ \ \ \ \ \ \ \ \ \ pydoc\ for\ more\ information\ on\ this\ parameter.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01250}01250\ \ \ \ \ \ \ \ \ :param\ tls\_version:\ the\ version\ of\ the\ SSL/TLS\ protocol\ used\ to\ be}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01251}01251\ \ \ \ \ \ \ \ \ \ \ \ \ specified.\ By\ default\ TLS\ v1.2\ is\ used.\ Previous\ versions\ are\ allowed}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01252}01252\ \ \ \ \ \ \ \ \ \ \ \ \ but\ not\ recommended\ due\ to\ possible\ security\ problems.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01253}01253\ \ \ \ \ \ \ \ \ :param\ str\ ciphers:\ encryption\ ciphers\ that\ are\ allowed}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01254}01254\ \ \ \ \ \ \ \ \ \ \ \ \ for\ this\ connection,\ or\ None\ to\ use\ the\ defaults.\ See\ the\ ssl\ pydoc\ for}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01255}01255\ \ \ \ \ \ \ \ \ \ \ \ \ more\ information.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01256}01256\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01257}01257\ \ \ \ \ \ \ \ \ Must\ be\ called\ before\ \`{}connect()\`{},\ \`{}connect\_async()\`{}\ or\ \`{}connect\_srv()\`{}."{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01258}01258\ \ \ \ \ \ \ \ \ if\ ssl\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01259}01259\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('This\ platform\ has\ no\ SSL/TLS.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01260}01260\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01261}01261\ \ \ \ \ \ \ \ \ if\ not\ hasattr(ssl,\ 'SSLContext'):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01262}01262\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Require\ Python\ version\ that\ has\ SSL\ context\ support\ in\ standard\ library}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01263}01263\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01264}01264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 'Python\ 2.7.9\ and\ 3.2\ are\ the\ minimum\ supported\ versions\ for\ TLS.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01265}01265\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01266}01266\ \ \ \ \ \ \ \ \ if\ ca\_certs\ is\ None\ and\ not\ hasattr(ssl.SSLContext,\ 'load\_default\_certs'):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01267}01267\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('ca\_certs\ must\ not\ be\ None.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01268}01268\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01269}01269\ \ \ \ \ \ \ \ \ \#\ Create\ SSLContext\ object}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01270}01270\ \ \ \ \ \ \ \ \ if\ tls\_version\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01271}01271\ \ \ \ \ \ \ \ \ \ \ \ \ tls\_version\ =\ ssl.PROTOCOL\_TLSv1\_2}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01272}01272\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ If\ the\ python\ version\ supports\ it,\ use\ highest\ TLS\ version\ automatically}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01273}01273\ \ \ \ \ \ \ \ \ \ \ \ \ if\ hasattr(ssl,\ "{}PROTOCOL\_TLS\_CLIENT"{}):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01274}01274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ This\ also\ enables\ CERT\_REQUIRED\ and\ check\_hostname\ by\ default.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01275}01275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tls\_version\ =\ ssl.PROTOCOL\_TLS\_CLIENT}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01276}01276\ \ \ \ \ \ \ \ \ \ \ \ \ elif\ hasattr(ssl,\ "{}PROTOCOL\_TLS"{}):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01277}01277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tls\_version\ =\ ssl.PROTOCOL\_TLS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01278}01278\ \ \ \ \ \ \ \ \ context\ =\ ssl.SSLContext(tls\_version)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01279}01279\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01280}01280\ \ \ \ \ \ \ \ \ \#\ Configure\ context}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01281}01281\ \ \ \ \ \ \ \ \ if\ ciphers\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01282}01282\ \ \ \ \ \ \ \ \ \ \ \ \ context.set\_ciphers(ciphers)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01283}01283\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01284}01284\ \ \ \ \ \ \ \ \ if\ certfile\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01285}01285\ \ \ \ \ \ \ \ \ \ \ \ \ context.load\_cert\_chain(certfile,\ keyfile,\ keyfile\_password)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01286}01286\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01287}01287\ \ \ \ \ \ \ \ \ if\ cert\_reqs\ ==\ ssl.CERT\_NONE\ and\ hasattr(context,\ 'check\_hostname'):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01288}01288\ \ \ \ \ \ \ \ \ \ \ \ \ context.check\_hostname\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01289}01289\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01290}01290\ \ \ \ \ \ \ \ \ context.verify\_mode\ =\ ssl.CERT\_REQUIRED\ if\ cert\_reqs\ is\ None\ else\ cert\_reqs}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01291}01291\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01292}01292\ \ \ \ \ \ \ \ \ if\ ca\_certs\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01293}01293\ \ \ \ \ \ \ \ \ \ \ \ \ context.load\_verify\_locations(ca\_certs)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01294}01294\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01295}01295\ \ \ \ \ \ \ \ \ \ \ \ \ context.load\_default\_certs()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01296}01296\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01297}01297\ \ \ \ \ \ \ \ \ if\ alpn\_protocols\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01298}01298\ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ getattr(ssl,\ "{}HAS\_ALPN"{},\ None):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01299}01299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}SSL\ library\ has\ no\ support\ for\ ALPN"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01300}01300\ \ \ \ \ \ \ \ \ \ \ \ \ context.set\_alpn\_protocols(alpn\_protocols)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01301}01301\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01302}01302\ \ \ \ \ \ \ \ \ self.tls\_set\_context(context)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01303}01303\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01304}01304\ \ \ \ \ \ \ \ \ if\ cert\_reqs\ !=\ ssl.CERT\_NONE:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01305}01305\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Default\ to\ secure,\ sets\ context.check\_hostname\ attribute}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01306}01306\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ if\ available}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01307}01307\ \ \ \ \ \ \ \ \ \ \ \ \ self.tls\_insecure\_set(False)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01308}01308\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01309}01309\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ But\ with\ ssl.CERT\_NONE,\ we\ can\ not\ check\_hostname}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01310}01310\ \ \ \ \ \ \ \ \ \ \ \ \ self.tls\_insecure\_set(True)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01311}01311\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01312}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ac99c1807751c3f92156229bb32c01ec8}{01312}}\ \ \ \ \ def\ tls\_insecure\_set(self,\ value:\ bool)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01313}01313\ \ \ \ \ \ \ \ \ "{}"{}"{}Configure\ verification\ of\ the\ server\ hostname\ in\ the\ server\ certificate.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01314}01314\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01315}01315\ \ \ \ \ \ \ \ \ If\ value\ is\ set\ to\ true,\ it\ is\ impossible\ to\ guarantee\ that\ the\ host}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01316}01316\ \ \ \ \ \ \ \ \ you\ are\ connecting\ to\ is\ not\ impersonating\ your\ server.\ This\ can\ be}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01317}01317\ \ \ \ \ \ \ \ \ useful\ in\ initial\ server\ testing,\ but\ makes\ it\ possible\ for\ a\ malicious}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01318}01318\ \ \ \ \ \ \ \ \ third\ party\ to\ impersonate\ your\ server\ through\ DNS\ spoofing,\ for}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01319}01319\ \ \ \ \ \ \ \ \ example.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01320}01320\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01321}01321\ \ \ \ \ \ \ \ \ Do\ not\ use\ this\ function\ in\ a\ real\ system.\ Setting\ value\ to\ true\ means}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01322}01322\ \ \ \ \ \ \ \ \ there\ is\ no\ point\ using\ encryption.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01323}01323\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01324}01324\ \ \ \ \ \ \ \ \ Must\ be\ called\ before\ \`{}connect()\`{}\ and\ after\ either\ \`{}tls\_set()\`{}\ or}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01325}01325\ \ \ \ \ \ \ \ \ \`{}tls\_set\_context()\`{}."{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01326}01326\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01327}01327\ \ \ \ \ \ \ \ \ if\ self.\_ssl\_context\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01328}01328\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01329}01329\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 'Must\ configure\ SSL\ context\ before\ using\ tls\_insecure\_set.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01330}01330\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01331}01331\ \ \ \ \ \ \ \ \ self.\_tls\_insecure\ =\ value}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01332}01332\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01333}01333\ \ \ \ \ \ \ \ \ \#\ Ensure\ check\_hostname\ is\ consistent\ with\ \_tls\_insecure\ attribute}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01334}01334\ \ \ \ \ \ \ \ \ if\ hasattr(self.\_ssl\_context,\ 'check\_hostname'):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01335}01335\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Rely\ on\ SSLContext\ to\ check\ host\ name}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01336}01336\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ If\ verify\_mode\ is\ CERT\_NONE\ then\ the\ host\ name\ will\ never\ be\ checked}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01337}01337\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_ssl\_context.check\_hostname\ =\ not\ value}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01338}01338\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01339}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a505e3c2240e7baf332cce68a4a5c413d}{01339}}\ \ \ \ \ def\ proxy\_set(self,\ **proxy\_args:\ Any)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01340}01340\ \ \ \ \ \ \ \ \ "{}"{}"{}Configure\ proxying\ of\ MQTT\ connection.\ Enables\ support\ for\ SOCKS\ or}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01341}01341\ \ \ \ \ \ \ \ \ HTTP\ proxies.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01342}01342\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01343}01343\ \ \ \ \ \ \ \ \ Proxying\ is\ done\ through\ the\ PySocks\ library.\ Brief\ descriptions\ of\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01344}01344\ \ \ \ \ \ \ \ \ proxy\_args\ parameters\ are\ below;\ see\ the\ PySocks\ docs\ for\ more\ info.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01345}01345\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01346}01346\ \ \ \ \ \ \ \ \ (Required)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01347}01347\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01348}01348\ \ \ \ \ \ \ \ \ :param\ proxy\_type:\ One\ of\ \{socks.HTTP,\ socks.SOCKS4,\ or\ socks.SOCKS5\}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01349}01349\ \ \ \ \ \ \ \ \ :param\ proxy\_addr:\ IP\ address\ or\ DNS\ name\ of\ proxy\ server}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01350}01350\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01351}01351\ \ \ \ \ \ \ \ \ (Optional)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01352}01352\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01353}01353\ \ \ \ \ \ \ \ \ :param\ proxy\_port:\ (int)\ port\ number\ of\ the\ proxy\ server.\ If\ not\ provided,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01354}01354\ \ \ \ \ \ \ \ \ \ \ \ \ the\ PySocks\ package\ default\ value\ will\ be\ utilized,\ which\ differs\ by\ proxy\_type.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01355}01355\ \ \ \ \ \ \ \ \ :param\ proxy\_rdns:\ boolean\ indicating\ whether\ proxy\ lookup\ should\ be\ performed}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01356}01356\ \ \ \ \ \ \ \ \ \ \ \ \ remotely\ (True,\ default)\ or\ locally\ (False)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01357}01357\ \ \ \ \ \ \ \ \ :param\ proxy\_username:\ username\ for\ SOCKS5\ proxy,\ or\ userid\ for\ SOCKS4\ proxy}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01358}01358\ \ \ \ \ \ \ \ \ :param\ proxy\_password:\ password\ for\ SOCKS5\ proxy}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01359}01359\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01360}01360\ \ \ \ \ \ \ \ \ Example::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01361}01361\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01362}01362\ \ \ \ \ \ \ \ \ \ \ \ \ mqttc.proxy\_set(proxy\_type=socks.HTTP,\ proxy\_addr='1.2.3.4',\ proxy\_port=4231)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01363}01363\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01364}01364\ \ \ \ \ \ \ \ \ if\ socks\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01365}01365\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}PySocks\ must\ be\ installed\ for\ proxy\ support."{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01366}01366\ \ \ \ \ \ \ \ \ elif\ not\ self.\_proxy\_is\_valid(proxy\_args):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01367}01367\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}proxy\_type\ and/or\ proxy\_addr\ are\ invalid."{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01368}01368\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01369}01369\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_proxy\ =\ proxy\_args}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01370}01370\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01371}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a43300b7f8ec75f4f59d4b152ee937add}{01371}}\ \ \ \ \ def\ enable\_logger(self,\ logger:\ logging.Logger\ |\ None\ =\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01372}01372\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01373}01373\ \ \ \ \ \ \ \ \ Enables\ a\ logger\ to\ send\ log\ messages\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01374}01374\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01375}01375\ \ \ \ \ \ \ \ \ :param\ logging.Logger\ logger:\ if\ specified,\ that\ \`{}\`{}logging.Logger\`{}\`{}\ object\ will\ be\ used,\ otherwise}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01376}01376\ \ \ \ \ \ \ \ \ \ \ \ \ one\ will\ be\ created\ automatically.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01377}01377\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01378}01378\ \ \ \ \ \ \ \ \ See\ \`{}disable\_logger\`{}\ to\ undo\ this\ action.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01379}01379\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01380}01380\ \ \ \ \ \ \ \ \ if\ logger\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01381}01381\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_logger\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01382}01382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Do\ not\ replace\ existing\ logger}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01383}01383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01384}01384\ \ \ \ \ \ \ \ \ \ \ \ \ logger\ =\ logging.getLogger(\_\_name\_\_)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01385}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aa05aad9cf4b7ec1feea866c60399fa1e}{01385}}\ \ \ \ \ \ \ \ \ self.logger\ =\ logger}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01386}01386\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01387}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a1b30959409e4d205cf943337cb366ae8}{01387}}\ \ \ \ \ def\ disable\_logger(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01388}01388\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01389}01389\ \ \ \ \ \ \ \ \ Disable\ logging\ using\ standard\ python\ logging\ package.\ This\ has\ no\ effect\ on\ the\ \`{}on\_log\`{}\ callback.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01390}01390\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01391}01391\ \ \ \ \ \ \ \ \ self.\_logger\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01392}01392\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01393}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a00ec558b3760ccbd5dfc3ac4e1d250f9}{01393}}\ \ \ \ \ def\ connect(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01394}01394\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01395}01395\ \ \ \ \ \ \ \ \ host:\ str,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01396}01396\ \ \ \ \ \ \ \ \ port:\ int\ =\ 1883,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01397}01397\ \ \ \ \ \ \ \ \ keepalive:\ int\ =\ 60,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01398}01398\ \ \ \ \ \ \ \ \ bind\_address:\ str\ =\ "{}"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01399}01399\ \ \ \ \ \ \ \ \ bind\_port:\ int\ =\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01400}01400\ \ \ \ \ \ \ \ \ clean\_start:\ CleanStartOption\ =\ MQTT\_CLEAN\_START\_FIRST\_ONLY,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01401}01401\ \ \ \ \ \ \ \ \ properties:\ Properties\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01402}01402\ \ \ \ \ )\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01403}01403\ \ \ \ \ \ \ \ \ "{}"{}"{}Connect\ to\ a\ remote\ broker.\ This\ is\ a\ blocking\ call\ that\ establishes}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01404}01404\ \ \ \ \ \ \ \ \ the\ underlying\ connection\ and\ transmits\ a\ CONNECT\ packet.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01405}01405\ \ \ \ \ \ \ \ \ Note\ that\ the\ connection\ status\ will\ not\ be\ updated\ until\ a\ CONNACK\ is\ received\ and}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01406}01406\ \ \ \ \ \ \ \ \ processed\ (this\ requires\ a\ running\ network\ loop,\ see\ \`{}loop\_start\`{},\ \`{}loop\_forever\`{},\ \`{}loop\`{}...).}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01407}01407\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01408}01408\ \ \ \ \ \ \ \ \ :param\ str\ host:\ the\ hostname\ or\ IP\ address\ of\ the\ remote\ broker.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01409}01409\ \ \ \ \ \ \ \ \ :param\ int\ port:\ the\ network\ port\ of\ the\ server\ host\ to\ connect\ to.\ Defaults\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01410}01410\ \ \ \ \ \ \ \ \ \ \ \ \ 1883.\ Note\ that\ the\ default\ port\ for\ MQTT\ over\ SSL/TLS\ is\ 8883\ so\ if\ you}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01411}01411\ \ \ \ \ \ \ \ \ \ \ \ \ are\ using\ \`{}tls\_set()\`{}\ the\ port\ may\ need\ providing.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01412}01412\ \ \ \ \ \ \ \ \ :param\ int\ keepalive:\ Maximum\ period\ in\ seconds\ between\ communications\ with\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01413}01413\ \ \ \ \ \ \ \ \ \ \ \ \ broker.\ If\ no\ other\ messages\ are\ being\ exchanged,\ this\ controls\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01414}01414\ \ \ \ \ \ \ \ \ \ \ \ \ rate\ at\ which\ the\ client\ will\ send\ ping\ messages\ to\ the\ broker.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01415}01415\ \ \ \ \ \ \ \ \ :param\ bool\ clean\_start:\ (MQTT\ v5.0\ only)\ True,\ False\ or\ MQTT\_CLEAN\_START\_FIRST\_ONLY.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01416}01416\ \ \ \ \ \ \ \ \ \ \ \ \ Sets\ the\ MQTT\ v5.0\ clean\_start\ flag\ always,\ never\ or\ on\ the\ first\ successful\ connect\ only,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01417}01417\ \ \ \ \ \ \ \ \ \ \ \ \ respectively.\ \ MQTT\ session\ data\ (such\ as\ outstanding\ messages\ and\ subscriptions)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01418}01418\ \ \ \ \ \ \ \ \ \ \ \ \ is\ cleared\ on\ successful\ connect\ when\ the\ clean\_start\ flag\ is\ set.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01419}01419\ \ \ \ \ \ \ \ \ \ \ \ \ For\ MQTT\ v3.1.1,\ the\ \`{}\`{}clean\_session\`{}\`{}\ argument\ of\ \`{}Client\`{}\ should\ be\ used\ for\ similar}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01420}01420\ \ \ \ \ \ \ \ \ \ \ \ \ result.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01421}01421\ \ \ \ \ \ \ \ \ :param\ Properties\ properties:\ (MQTT\ v5.0\ only)\ the\ MQTT\ v5.0\ properties\ to\ be\ sent\ in\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01422}01422\ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\ connect\ packet.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01423}01423\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01424}01424\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01425}01425\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01426}01426\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_mqttv5\_first\_connect\ =\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01427}01427\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01428}01428\ \ \ \ \ \ \ \ \ \ \ \ \ if\ clean\_start\ !=\ MQTT\_CLEAN\_START\_FIRST\_ONLY:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01429}01429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}Clean\ start\ only\ applies\ to\ MQTT\ V5"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01430}01430\ \ \ \ \ \ \ \ \ \ \ \ \ if\ properties:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01431}01431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}Properties\ only\ apply\ to\ MQTT\ V5"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01432}01432\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01433}01433\ \ \ \ \ \ \ \ \ self.connect\_async(host,\ port,\ keepalive,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01434}01434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bind\_address,\ bind\_port,\ clean\_start,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01435}01435\ \ \ \ \ \ \ \ \ return\ self.reconnect()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01436}01436\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01437}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ae3a48dceead925038b861739da507a86}{01437}}\ \ \ \ \ def\ connect\_srv(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01438}01438\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01439}01439\ \ \ \ \ \ \ \ \ domain:\ str\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01440}01440\ \ \ \ \ \ \ \ \ keepalive:\ int\ =\ 60,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01441}01441\ \ \ \ \ \ \ \ \ bind\_address:\ str\ =\ "{}"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01442}01442\ \ \ \ \ \ \ \ \ bind\_port:\ int\ =\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01443}01443\ \ \ \ \ \ \ \ \ clean\_start:\ CleanStartOption\ =\ MQTT\_CLEAN\_START\_FIRST\_ONLY,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01444}01444\ \ \ \ \ \ \ \ \ properties:\ Properties\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01445}01445\ \ \ \ \ )\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01446}01446\ \ \ \ \ \ \ \ \ "{}"{}"{}Connect\ to\ a\ remote\ broker.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01447}01447\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01448}01448\ \ \ \ \ \ \ \ \ :param\ str\ domain:\ the\ DNS\ domain\ to\ search\ for\ SRV\ records;\ if\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01449}01449\ \ \ \ \ \ \ \ \ \ \ \ \ try\ to\ determine\ local\ domain\ name.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01450}01450\ \ \ \ \ \ \ \ \ :param\ keepalive,\ bind\_address,\ clean\_start\ and\ properties:\ see\ \`{}connect()\`{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01451}01451\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01452}01452\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01453}01453\ \ \ \ \ \ \ \ \ if\ HAVE\_DNS\ is\ False:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01454}01454\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01455}01455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 'No\ DNS\ resolver\ library\ found,\ try\ "{}pip\ install\ dnspython"{}.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01456}01456\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01457}01457\ \ \ \ \ \ \ \ \ if\ domain\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01458}01458\ \ \ \ \ \ \ \ \ \ \ \ \ domain\ =\ socket.getfqdn()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01459}01459\ \ \ \ \ \ \ \ \ \ \ \ \ domain\ =\ domain[domain.find('.')\ +\ 1:]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01460}01460\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01461}01461\ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01462}01462\ \ \ \ \ \ \ \ \ \ \ \ \ rr\ =\ f'\_mqtt.\_tcp.\{domain\}'}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01463}01463\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_ssl:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01464}01464\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ IANA\ specifies\ secure-\/mqtt\ (not\ mqtts)\ for\ port\ 8883}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01465}01465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rr\ =\ f'\_secure-\/mqtt.\_tcp.\{domain\}'}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01466}01466\ \ \ \ \ \ \ \ \ \ \ \ \ answers\ =\ []}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01467}01467\ \ \ \ \ \ \ \ \ \ \ \ \ for\ answer\ in\ dns.resolver.query(rr,\ dns.rdatatype.SRV):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01468}01468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ addr\ =\ answer.target.to\_text()[:-\/1]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01469}01469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ answers.append(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01470}01470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (addr,\ answer.port,\ answer.priority,\ answer.weight))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01471}01471\ \ \ \ \ \ \ \ \ except\ (dns.resolver.NXDOMAIN,\ dns.resolver.NoAnswer,\ dns.resolver.NoNameservers)\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01472}01472\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError(f"{}No\ answer/NXDOMAIN\ for\ SRV\ in\ \{domain\}"{})\ from\ err}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01473}01473\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01474}01474\ \ \ \ \ \ \ \ \ \#\ FIXME:\ doesn't\ account\ for\ weight}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01475}01475\ \ \ \ \ \ \ \ \ for\ answer\ in\ answers:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01476}01476\ \ \ \ \ \ \ \ \ \ \ \ \ host,\ port,\ prio,\ weight\ =\ answer}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01477}01477\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01478}01478\ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01479}01479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.connect(host,\ port,\ keepalive,\ bind\_address,\ bind\_port,\ clean\_start,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01480}01480\ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception:\ \ \#\ noqa:\ S110}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01481}01481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pass}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01482}01482\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01483}01483\ \ \ \ \ \ \ \ \ raise\ ValueError("{}No\ SRV\ hosts\ responded"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01484}01484\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01485}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a378b8b9b6c49faea85fd7cf829beecd2}{01485}}\ \ \ \ \ def\ connect\_async(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01486}01486\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01487}01487\ \ \ \ \ \ \ \ \ host:\ str,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01488}01488\ \ \ \ \ \ \ \ \ port:\ int\ =\ 1883,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01489}01489\ \ \ \ \ \ \ \ \ keepalive:\ int\ =\ 60,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01490}01490\ \ \ \ \ \ \ \ \ bind\_address:\ str\ =\ "{}"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01491}01491\ \ \ \ \ \ \ \ \ bind\_port:\ int\ =\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01492}01492\ \ \ \ \ \ \ \ \ clean\_start:\ CleanStartOption\ =\ MQTT\_CLEAN\_START\_FIRST\_ONLY,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01493}01493\ \ \ \ \ \ \ \ \ properties:\ Properties\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01494}01494\ \ \ \ \ )\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01495}01495\ \ \ \ \ \ \ \ \ "{}"{}"{}Connect\ to\ a\ remote\ broker\ asynchronously.\ This\ is\ a\ non-\/blocking}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01496}01496\ \ \ \ \ \ \ \ \ connect\ call\ that\ can\ be\ used\ with\ \`{}loop\_start()\`{}\ to\ provide\ very\ quick}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01497}01497\ \ \ \ \ \ \ \ \ start.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01498}01498\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01499}01499\ \ \ \ \ \ \ \ \ Any\ already\ established\ connection\ will\ be\ terminated\ immediately.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01500}01500\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01501}01501\ \ \ \ \ \ \ \ \ :param\ str\ host:\ the\ hostname\ or\ IP\ address\ of\ the\ remote\ broker.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01502}01502\ \ \ \ \ \ \ \ \ :param\ int\ port:\ the\ network\ port\ of\ the\ server\ host\ to\ connect\ to.\ Defaults\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01503}01503\ \ \ \ \ \ \ \ \ \ \ \ \ 1883.\ Note\ that\ the\ default\ port\ for\ MQTT\ over\ SSL/TLS\ is\ 8883\ so\ if\ you}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01504}01504\ \ \ \ \ \ \ \ \ \ \ \ \ are\ using\ \`{}tls\_set()\`{}\ the\ port\ may\ need\ providing.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01505}01505\ \ \ \ \ \ \ \ \ :param\ int\ keepalive:\ Maximum\ period\ in\ seconds\ between\ communications\ with\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01506}01506\ \ \ \ \ \ \ \ \ \ \ \ \ broker.\ If\ no\ other\ messages\ are\ being\ exchanged,\ this\ controls\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01507}01507\ \ \ \ \ \ \ \ \ \ \ \ \ rate\ at\ which\ the\ client\ will\ send\ ping\ messages\ to\ the\ broker.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01508}01508\ \ \ \ \ \ \ \ \ :param\ bool\ clean\_start:\ (MQTT\ v5.0\ only)\ True,\ False\ or\ MQTT\_CLEAN\_START\_FIRST\_ONLY.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01509}01509\ \ \ \ \ \ \ \ \ \ \ \ \ Sets\ the\ MQTT\ v5.0\ clean\_start\ flag\ always,\ never\ or\ on\ the\ first\ successful\ connect\ only,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01510}01510\ \ \ \ \ \ \ \ \ \ \ \ \ respectively.\ \ MQTT\ session\ data\ (such\ as\ outstanding\ messages\ and\ subscriptions)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01511}01511\ \ \ \ \ \ \ \ \ \ \ \ \ is\ cleared\ on\ successful\ connect\ when\ the\ clean\_start\ flag\ is\ set.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01512}01512\ \ \ \ \ \ \ \ \ \ \ \ \ For\ MQTT\ v3.1.1,\ the\ \`{}\`{}clean\_session\`{}\`{}\ argument\ of\ \`{}Client\`{}\ should\ be\ used\ for\ similar}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01513}01513\ \ \ \ \ \ \ \ \ \ \ \ \ result.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01514}01514\ \ \ \ \ \ \ \ \ :param\ Properties\ properties:\ (MQTT\ v5.0\ only)\ the\ MQTT\ v5.0\ properties\ to\ be\ sent\ in\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01515}01515\ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\ connect\ packet.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01516}01516\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01517}01517\ \ \ \ \ \ \ \ \ if\ bind\_port\ <\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01518}01518\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ bind\ port\ number.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01519}01519\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01520}01520\ \ \ \ \ \ \ \ \ \#\ Switch\ to\ state\ NEW\ to\ allow\ update\ of\ host,\ port\ \&\ co.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01521}01521\ \ \ \ \ \ \ \ \ self.\_sock\_close()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01522}01522\ \ \ \ \ \ \ \ \ self.\_state\ =\ \_ConnectionState.MQTT\_CS\_NEW}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01523}01523\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01524}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a43100041f9f9a5e385c231a52172f324}{01524}}\ \ \ \ \ \ \ \ \ self.host\ =\ host}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01525}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a83995141bcfaaadb19c9ca75fa9afba0}{01525}}\ \ \ \ \ \ \ \ \ self.port\ =\ port}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01526}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_acd7e95eb9955f6ff9ba41801d886f7a3}{01526}}\ \ \ \ \ \ \ \ \ self.keepalive\ =\ keepalive}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01527}01527\ \ \ \ \ \ \ \ \ self.\_bind\_address\ =\ bind\_address}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01528}01528\ \ \ \ \ \ \ \ \ self.\_bind\_port\ =\ bind\_port}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01529}01529\ \ \ \ \ \ \ \ \ self.\_clean\_start\ =\ clean\_start}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01530}01530\ \ \ \ \ \ \ \ \ self.\_connect\_properties\ =\ properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01531}01531\ \ \ \ \ \ \ \ \ self.\_state\ =\ \_ConnectionState.MQTT\_CS\_CONNECT\_ASYNC}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01532}01532\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01533}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a74567acaade9cf91c1fab880a8650733}{01533}}\ \ \ \ \ def\ reconnect\_delay\_set(self,\ min\_delay:\ int\ =\ 1,\ max\_delay:\ int\ =\ 120)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01534}01534\ \ \ \ \ \ \ \ \ "{}"{}"{}\ Configure\ the\ exponential\ reconnect\ delay}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01535}01535\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01536}01536\ \ \ \ \ \ \ \ \ \ \ \ \ When\ connection\ is\ lost,\ wait\ initially\ min\_delay\ seconds\ and}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01537}01537\ \ \ \ \ \ \ \ \ \ \ \ \ double\ this\ time\ every\ attempt.\ The\ wait\ is\ capped\ at\ max\_delay.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01538}01538\ \ \ \ \ \ \ \ \ \ \ \ \ Once\ the\ client\ is\ fully\ connected\ (e.g.\ not\ only\ TCP\ socket,\ but}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01539}01539\ \ \ \ \ \ \ \ \ \ \ \ \ received\ a\ success\ CONNACK),\ the\ wait\ timer\ is\ reset\ to\ min\_delay.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01540}01540\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01541}01541\ \ \ \ \ \ \ \ \ with\ self.\_reconnect\_delay\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01542}01542\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_reconnect\_min\_delay\ =\ min\_delay}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01543}01543\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_reconnect\_max\_delay\ =\ max\_delay}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01544}01544\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_reconnect\_delay\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01545}01545\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01546}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aaa6237ca2ebefb82fda5bc007cabd78b}{01546}}\ \ \ \ \ def\ reconnect(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01547}01547\ \ \ \ \ \ \ \ \ "{}"{}"{}Reconnect\ the\ client\ after\ a\ disconnect.\ Can\ only\ be\ called\ after}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01548}01548\ \ \ \ \ \ \ \ \ connect()/connect\_async()."{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01549}01549\ \ \ \ \ \ \ \ \ if\ len(self.\_host)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01550}01550\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ host.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01551}01551\ \ \ \ \ \ \ \ \ if\ self.\_port\ <=\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01552}01552\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ port\ number.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01553}01553\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01554}01554\ \ \ \ \ \ \ \ \ self.\_in\_packet\ =\ \{}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01555}01555\ \ \ \ \ \ \ \ \ \ \ \ \ "{}command"{}:\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01556}01556\ \ \ \ \ \ \ \ \ \ \ \ \ "{}have\_remaining"{}:\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01557}01557\ \ \ \ \ \ \ \ \ \ \ \ \ "{}remaining\_count"{}:\ [],}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01558}01558\ \ \ \ \ \ \ \ \ \ \ \ \ "{}remaining\_mult"{}:\ 1,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01559}01559\ \ \ \ \ \ \ \ \ \ \ \ \ "{}remaining\_length"{}:\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01560}01560\ \ \ \ \ \ \ \ \ \ \ \ \ "{}packet"{}:\ bytearray(b"{}"{}),}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01561}01561\ \ \ \ \ \ \ \ \ \ \ \ \ "{}to\_process"{}:\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01562}01562\ \ \ \ \ \ \ \ \ \ \ \ \ "{}pos"{}:\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01563}01563\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01564}01564\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01565}01565\ \ \ \ \ \ \ \ \ self.\_ping\_t\ =\ 0.0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01566}01566\ \ \ \ \ \ \ \ \ self.\_state\ =\ \_ConnectionState.MQTT\_CS\_CONNECTING}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01567}01567\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01568}01568\ \ \ \ \ \ \ \ \ self.\_sock\_close()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01569}01569\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01570}01570\ \ \ \ \ \ \ \ \ \#\ Mark\ all\ currently\ outgoing\ QoS\ =\ 0\ packets\ as\ lost,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01571}01571\ \ \ \ \ \ \ \ \ \#\ or\ \`{}wait\_for\_publish()\`{}\ could\ hang\ forever}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01572}01572\ \ \ \ \ \ \ \ \ for\ pkt\ in\ self.\_out\_packet:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01573}01573\ \ \ \ \ \ \ \ \ \ \ \ \ if\ pkt["{}command"{}]\ \&\ 0xF0\ ==\ PUBLISH\ and\ pkt["{}qos"{}]\ ==\ 0\ and\ pkt["{}info"{}]\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01574}01574\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pkt["{}info"{}].rc\ =\ MQTT\_ERR\_CONN\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01575}01575\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pkt["{}info"{}].\_set\_as\_published()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01576}01576\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01577}01577\ \ \ \ \ \ \ \ \ self.\_out\_packet.clear()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01578}01578\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01579}01579\ \ \ \ \ \ \ \ \ with\ self.\_msgtime\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01580}01580\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_last\_msg\_in\ =\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01581}01581\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_last\_msg\_out\ =\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01582}01582\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01583}01583\ \ \ \ \ \ \ \ \ \#\ Put\ messages\ in\ progress\ in\ a\ valid\ state.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01584}01584\ \ \ \ \ \ \ \ \ self.\_messages\_reconnect\_reset()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01585}01585\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01586}01586\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01587}01587\ \ \ \ \ \ \ \ \ \ \ \ \ on\_pre\_connect\ =\ self.on\_pre\_connect}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01588}01588\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01589}01589\ \ \ \ \ \ \ \ \ if\ on\_pre\_connect:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01590}01590\ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01591}01591\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_pre\_connect(self,\ self.\_userdata)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01592}01592\ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01593}01593\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01594}01594\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'Caught\ exception\ in\ on\_pre\_connect:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01595}01595\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ self.suppress\_exceptions:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01596}01596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01597}01597\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01598}01598\ \ \ \ \ \ \ \ \ self.\_sock\ =\ self.\_create\_socket()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01599}01599\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01600}01600\ \ \ \ \ \ \ \ \ self.\_sock.setblocking(False)\ \ \#\ type:\ ignore[attr-\/defined]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01601}01601\ \ \ \ \ \ \ \ \ self.\_registered\_write\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01602}01602\ \ \ \ \ \ \ \ \ self.\_call\_socket\_open(self.\_sock)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01603}01603\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01604}01604\ \ \ \ \ \ \ \ \ return\ self.\_send\_connect(self.\_keepalive)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01605}01605\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01606}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_af6ec6e878ff304f8d019d9da4f550f21}{01606}}\ \ \ \ \ def\ loop(self,\ timeout:\ float\ =\ 1.0)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01607}01607\ \ \ \ \ \ \ \ \ "{}"{}"{}Process\ network\ events.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01608}01608\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01609}01609\ \ \ \ \ \ \ \ \ It\ is\ strongly\ recommended\ that\ you\ use\ \`{}loop\_start()\`{},\ or}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01610}01610\ \ \ \ \ \ \ \ \ \`{}loop\_forever()\`{},\ or\ if\ you\ are\ using\ an\ external\ event\ loop\ using}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01611}01611\ \ \ \ \ \ \ \ \ \`{}loop\_read()\`{},\ \`{}loop\_write()\`{},\ and\ \`{}loop\_misc()\`{}.\ Using\ loop()\ on\ it's\ own\ is}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01612}01612\ \ \ \ \ \ \ \ \ no\ longer\ recommended.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01613}01613\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01614}01614\ \ \ \ \ \ \ \ \ This\ function\ must\ be\ called\ regularly\ to\ ensure\ communication\ with\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01615}01615\ \ \ \ \ \ \ \ \ broker\ is\ carried\ out.\ It\ calls\ select()\ on\ the\ network\ socket\ to\ wait}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01616}01616\ \ \ \ \ \ \ \ \ for\ network\ events.\ If\ incoming\ data\ is\ present\ it\ will\ then\ be}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01617}01617\ \ \ \ \ \ \ \ \ processed.\ Outgoing\ commands,\ from\ e.g.\ \`{}publish()\`{},\ are\ normally\ sent}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01618}01618\ \ \ \ \ \ \ \ \ immediately\ that\ their\ function\ is\ called,\ but\ this\ is\ not\ always}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01619}01619\ \ \ \ \ \ \ \ \ possible.\ loop()\ will\ also\ attempt\ to\ send\ any\ remaining\ outgoing}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01620}01620\ \ \ \ \ \ \ \ \ messages,\ which\ also\ includes\ commands\ that\ are\ part\ of\ the\ flow\ for}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01621}01621\ \ \ \ \ \ \ \ \ messages\ with\ QoS>0.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01622}01622\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01623}01623\ \ \ \ \ \ \ \ \ :param\ int\ timeout:\ The\ time\ in\ seconds\ to\ wait\ for\ incoming/outgoing\ network}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01624}01624\ \ \ \ \ \ \ \ \ \ \ \ \ traffic\ before\ timing\ out\ and\ returning.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01625}01625\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01626}01626\ \ \ \ \ \ \ \ \ Returns\ MQTT\_ERR\_SUCCESS\ on\ success.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01627}01627\ \ \ \ \ \ \ \ \ Returns\ >0\ on\ error.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01628}01628\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01629}01629\ \ \ \ \ \ \ \ \ A\ ValueError\ will\ be\ raised\ if\ timeout\ <\ 0"{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01630}01630\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01631}01631\ \ \ \ \ \ \ \ \ if\ self.\_sockpairR\ is\ None\ or\ self.\_sockpairW\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01632}01632\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_reset\_sockets(sockpair\_only=True)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01633}01633\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_sockpairR,\ self.\_sockpairW\ =\ \_socketpair\_compat()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01634}01634\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01635}01635\ \ \ \ \ \ \ \ \ return\ self.\_loop(timeout)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01636}01636\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01637}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a0636451b4c26174ed77fa1bb3f201c20}{01637}}\ \ \ \ \ def\ \_loop(self,\ timeout:\ float\ =\ 1.0)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01638}01638\ \ \ \ \ \ \ \ \ if\ timeout\ <\ 0.0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01639}01639\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ timeout.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01640}01640\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01641}01641\ \ \ \ \ \ \ \ \ if\ self.want\_write():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01642}01642\ \ \ \ \ \ \ \ \ \ \ \ \ wlist\ =\ [self.\_sock]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01643}01643\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01644}01644\ \ \ \ \ \ \ \ \ \ \ \ \ wlist\ =\ []}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01645}01645\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01646}01646\ \ \ \ \ \ \ \ \ \#\ used\ to\ check\ if\ there\ are\ any\ bytes\ left\ in\ the\ (SSL)\ socket}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01647}01647\ \ \ \ \ \ \ \ \ pending\_bytes\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01648}01648\ \ \ \ \ \ \ \ \ if\ hasattr(self.\_sock,\ 'pending'):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01649}01649\ \ \ \ \ \ \ \ \ \ \ \ \ pending\_bytes\ =\ self.\_sock.pending()\ \ \#\ type:\ ignore[union-\/attr]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01650}01650\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01651}01651\ \ \ \ \ \ \ \ \ \#\ if\ bytes\ are\ pending\ do\ not\ wait\ in\ select}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01652}01652\ \ \ \ \ \ \ \ \ if\ pending\_bytes\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01653}01653\ \ \ \ \ \ \ \ \ \ \ \ \ timeout\ =\ 0.0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01654}01654\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01655}01655\ \ \ \ \ \ \ \ \ \#\ sockpairR\ is\ used\ to\ break\ out\ of\ select()\ before\ the\ timeout,\ on\ a}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01656}01656\ \ \ \ \ \ \ \ \ \#\ call\ to\ publish()\ etc.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01657}01657\ \ \ \ \ \ \ \ \ if\ self.\_sockpairR\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01658}01658\ \ \ \ \ \ \ \ \ \ \ \ \ rlist\ =\ [self.\_sock]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01659}01659\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01660}01660\ \ \ \ \ \ \ \ \ \ \ \ \ rlist\ =\ [self.\_sock,\ self.\_sockpairR]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01661}01661\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01662}01662\ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01663}01663\ \ \ \ \ \ \ \ \ \ \ \ \ socklist\ =\ select.select(rlist,\ wlist,\ [],\ timeout)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01664}01664\ \ \ \ \ \ \ \ \ except\ TypeError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01665}01665\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Socket\ isn't\ correct\ type,\ in\ likelihood\ connection\ is\ lost}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01666}01666\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ ...\ or\ we\ called\ disconnect().\ In\ that\ case\ the\ socket\ will}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01667}01667\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ be\ closed\ but\ some\ loop\ (like\ loop\_forever)\ will\ continue\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01668}01668\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ call\ \_loop().\ We\ still\ want\ to\ break\ that\ loop\ by\ returning\ an}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01669}01669\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ rc\ !=\ MQTT\_ERR\_SUCCESS\ and\ we\ don't\ want\ state\ to\ change\ from}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01670}01670\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ mqtt\_cs\_disconnecting.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01671}01671\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_state\ not\ in\ (\_ConnectionState.MQTT\_CS\_DISCONNECTING,\ \_ConnectionState.MQTT\_CS\_DISCONNECTED):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01672}01672\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_state\ =\ \_ConnectionState.MQTT\_CS\_CONNECTION\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01673}01673\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_CONN\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01674}01674\ \ \ \ \ \ \ \ \ except\ ValueError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01675}01675\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Can\ occur\ if\ we\ just\ reconnected\ but\ rlist/wlist\ contain\ a\ -\/1\ for}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01676}01676\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ some\ reason.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01677}01677\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_state\ not\ in\ (\_ConnectionState.MQTT\_CS\_DISCONNECTING,\ \_ConnectionState.MQTT\_CS\_DISCONNECTED):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01678}01678\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_state\ =\ \_ConnectionState.MQTT\_CS\_CONNECTION\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01679}01679\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_CONN\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01680}01680\ \ \ \ \ \ \ \ \ except\ Exception:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01681}01681\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Note\ that\ KeyboardInterrupt,\ etc.\ can\ still\ terminate\ since\ they}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01682}01682\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ are\ not\ derived\ from\ Exception}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01683}01683\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_UNKNOWN}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01684}01684\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01685}01685\ \ \ \ \ \ \ \ \ if\ self.\_sock\ in\ socklist[0]\ or\ pending\_bytes\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01686}01686\ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ self.loop\_read()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01687}01687\ \ \ \ \ \ \ \ \ \ \ \ \ if\ rc\ or\ self.\_sock\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01688}01688\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01689}01689\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01690}01690\ \ \ \ \ \ \ \ \ if\ self.\_sockpairR\ and\ self.\_sockpairR\ in\ socklist[0]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01691}01691\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Stimulate\ output\ write\ even\ though\ we\ didn't\ ask\ for\ it,\ because}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01692}01692\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ at\ that\ point\ the\ publish\ or\ other\ command\ wasn't\ present.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01693}01693\ \ \ \ \ \ \ \ \ \ \ \ \ socklist[1].insert(0,\ self.\_sock)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01694}01694\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Clear\ sockpairR\ -\/\ only\ ever\ a\ single\ byte\ written.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01695}01695\ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01696}01696\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Read\ many\ bytes\ at\ once\ -\/\ this\ allows\ up\ to\ 10000\ calls\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01697}01697\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ publish()\ inbetween\ calls\ to\ loop().}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01698}01698\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_sockpairR.recv(10000)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01699}01699\ \ \ \ \ \ \ \ \ \ \ \ \ except\ BlockingIOError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01700}01700\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pass}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01701}01701\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01702}01702\ \ \ \ \ \ \ \ \ if\ self.\_sock\ in\ socklist[1]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01703}01703\ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ self.loop\_write()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01704}01704\ \ \ \ \ \ \ \ \ \ \ \ \ if\ rc\ or\ self.\_sock\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01705}01705\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01706}01706\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01707}01707\ \ \ \ \ \ \ \ \ return\ self.loop\_misc()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01708}01708\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01709}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aabf69c1755fbd0e5a1e8eb0ec2881e2c}{01709}}\ \ \ \ \ def\ publish(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01710}01710\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01711}01711\ \ \ \ \ \ \ \ \ topic:\ str,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01712}01712\ \ \ \ \ \ \ \ \ payload:\ PayloadType\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01713}01713\ \ \ \ \ \ \ \ \ qos:\ int\ =\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01714}01714\ \ \ \ \ \ \ \ \ retain:\ bool\ =\ False,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01715}01715\ \ \ \ \ \ \ \ \ properties:\ Properties\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01716}01716\ \ \ \ \ )\ -\/>\ MQTTMessageInfo:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01717}01717\ \ \ \ \ \ \ \ \ "{}"{}"{}Publish\ a\ message\ on\ a\ topic.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01718}01718\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01719}01719\ \ \ \ \ \ \ \ \ This\ causes\ a\ message\ to\ be\ sent\ to\ the\ broker\ and\ subsequently\ from}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01720}01720\ \ \ \ \ \ \ \ \ the\ broker\ to\ any\ clients\ subscribing\ to\ matching\ topics.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01721}01721\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01722}01722\ \ \ \ \ \ \ \ \ :param\ str\ topic:\ The\ topic\ that\ the\ message\ should\ be\ published\ on.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01723}01723\ \ \ \ \ \ \ \ \ :param\ payload:\ The\ actual\ message\ to\ send.\ If\ not\ given,\ or\ set\ to\ None\ a}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01724}01724\ \ \ \ \ \ \ \ \ \ \ \ \ zero\ length\ message\ will\ be\ used.\ Passing\ an\ int\ or\ float\ will\ result}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01725}01725\ \ \ \ \ \ \ \ \ \ \ \ \ in\ the\ payload\ being\ converted\ to\ a\ string\ representing\ that\ number.\ If}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01726}01726\ \ \ \ \ \ \ \ \ \ \ \ \ you\ wish\ to\ send\ a\ true\ int/float,\ use\ struct.pack()\ to\ create\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01727}01727\ \ \ \ \ \ \ \ \ \ \ \ \ payload\ you\ require.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01728}01728\ \ \ \ \ \ \ \ \ :param\ int\ qos:\ The\ quality\ of\ service\ level\ to\ use.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01729}01729\ \ \ \ \ \ \ \ \ :param\ bool\ retain:\ If\ set\ to\ true,\ the\ message\ will\ be\ set\ as\ the\ "{}last\ known}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01730}01730\ \ \ \ \ \ \ \ \ \ \ \ \ good"{}/retained\ message\ for\ the\ topic.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01731}01731\ \ \ \ \ \ \ \ \ :param\ Properties\ properties:\ (MQTT\ v5.0\ only)\ the\ MQTT\ v5.0\ properties\ to\ be\ included.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01732}01732\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01733}01733\ \ \ \ \ \ \ \ \ Returns\ a\ \`{}MQTTMessageInfo\`{}\ class,\ which\ can\ be\ used\ to\ determine\ whether}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01734}01734\ \ \ \ \ \ \ \ \ the\ message\ has\ been\ delivered\ (using\ \`{}is\_published()\`{})\ or\ to\ block}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01735}01735\ \ \ \ \ \ \ \ \ waiting\ for\ the\ message\ to\ be\ delivered\ (\`{}wait\_for\_publish()\`{}).\ The}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01736}01736\ \ \ \ \ \ \ \ \ message\ ID\ and\ return\ code\ of\ the\ publish()\ call\ can\ be\ found\ at}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01737}01737\ \ \ \ \ \ \ \ \ :py:attr:\`{}info.mid\ <MQTTMessage.mid>\`{}\ and\ :py:attr:\`{}info.rc\ <MQTTMessage.rc>\`{}.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01738}01738\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01739}01739\ \ \ \ \ \ \ \ \ For\ backwards\ compatibility,\ the\ \`{}MQTTMessageInfo\`{}\ class\ is\ iterable\ so}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01740}01740\ \ \ \ \ \ \ \ \ the\ old\ construct\ of\ \`{}\`{}(rc,\ mid)\ =\ client.publish(...)\`{}\`{}\ is\ still\ valid.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01741}01741\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01742}01742\ \ \ \ \ \ \ \ \ rc\ is\ MQTT\_ERR\_SUCCESS\ to\ indicate\ success\ or\ MQTT\_ERR\_NO\_CONN\ if\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01743}01743\ \ \ \ \ \ \ \ \ client\ is\ not\ currently\ connected.\ \ mid\ is\ the\ message\ ID\ for\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01744}01744\ \ \ \ \ \ \ \ \ publish\ request.\ The\ mid\ value\ can\ be\ used\ to\ track\ the\ publish\ request}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01745}01745\ \ \ \ \ \ \ \ \ by\ checking\ against\ the\ mid\ argument\ in\ the\ on\_publish()\ callback\ if\ it}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01746}01746\ \ \ \ \ \ \ \ \ is\ defined.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01747}01747\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01748}01748\ \ \ \ \ \ \ \ \ :raises\ ValueError:\ if\ topic\ is\ None,\ has\ zero\ length\ or\ is}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01749}01749\ \ \ \ \ \ \ \ \ \ \ \ \ invalid\ (contains\ a\ wildcard),\ except\ if\ the\ MQTT\ version\ used\ is\ v5.0.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01750}01750\ \ \ \ \ \ \ \ \ \ \ \ \ For\ v5.0,\ a\ zero\ length\ topic\ can\ be\ used\ when\ a\ Topic\ Alias\ has\ been\ set.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01751}01751\ \ \ \ \ \ \ \ \ :raises\ ValueError:\ if\ qos\ is\ not\ one\ of\ 0,\ 1\ or\ 2}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01752}01752\ \ \ \ \ \ \ \ \ :raises\ ValueError:\ if\ the\ length\ of\ the\ payload\ is\ greater\ than\ 268435455\ bytes.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01753}01753\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01754}01754\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ !=\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01755}01755\ \ \ \ \ \ \ \ \ \ \ \ \ if\ topic\ is\ None\ or\ len(topic)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01756}01756\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ topic.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01757}01757\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01758}01758\ \ \ \ \ \ \ \ \ topic\_bytes\ =\ topic.encode('utf-\/8')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01759}01759\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01760}01760\ \ \ \ \ \ \ \ \ self.\_raise\_for\_invalid\_topic(topic\_bytes)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01761}01761\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01762}01762\ \ \ \ \ \ \ \ \ if\ qos\ <\ 0\ or\ qos\ >\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01763}01763\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ QoS\ level.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01764}01764\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01765}01765\ \ \ \ \ \ \ \ \ local\_payload\ =\ \_encode\_payload(payload)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01766}01766\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01767}01767\ \ \ \ \ \ \ \ \ if\ len(local\_payload)\ >\ 268435455:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01768}01768\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Payload\ too\ large.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01769}01769\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01770}01770\ \ \ \ \ \ \ \ \ local\_mid\ =\ self.\_mid\_generate()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01771}01771\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01772}01772\ \ \ \ \ \ \ \ \ if\ qos\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01773}01773\ \ \ \ \ \ \ \ \ \ \ \ \ info\ =\ MQTTMessageInfo(local\_mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01774}01774\ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ self.\_send\_publish(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01775}01775\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ local\_mid,\ topic\_bytes,\ local\_payload,\ qos,\ retain,\ False,\ info,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01776}01776\ \ \ \ \ \ \ \ \ \ \ \ \ info.rc\ =\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01777}01777\ \ \ \ \ \ \ \ \ \ \ \ \ return\ info}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01778}01778\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01779}01779\ \ \ \ \ \ \ \ \ \ \ \ \ message\ =\ MQTTMessage(local\_mid,\ topic\_bytes)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01780}01780\ \ \ \ \ \ \ \ \ \ \ \ \ message.timestamp\ =\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01781}01781\ \ \ \ \ \ \ \ \ \ \ \ \ message.payload\ =\ local\_payload}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01782}01782\ \ \ \ \ \ \ \ \ \ \ \ \ message.qos\ =\ qos}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01783}01783\ \ \ \ \ \ \ \ \ \ \ \ \ message.retain\ =\ retain}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01784}01784\ \ \ \ \ \ \ \ \ \ \ \ \ message.dup\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01785}01785\ \ \ \ \ \ \ \ \ \ \ \ \ message.properties\ =\ properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01786}01786\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01787}01787\ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_out\_message\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01788}01788\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_max\_queued\_messages\ >\ 0\ and\ len(self.\_out\_messages)\ >=\ self.\_max\_queued\_messages:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01789}01789\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message.info.rc\ =\ MQTTErrorCode.MQTT\_ERR\_QUEUE\_SIZE}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01790}01790\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ message.info}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01791}01791\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01792}01792\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ local\_mid\ in\ self.\_out\_messages:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01793}01793\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message.info.rc\ =\ MQTTErrorCode.MQTT\_ERR\_QUEUE\_SIZE}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01794}01794\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ message.info}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01795}01795\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01796}01796\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_out\_messages[message.mid]\ =\ message}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01797}01797\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_max\_inflight\_messages\ ==\ 0\ or\ self.\_inflight\_messages\ <\ self.\_max\_inflight\_messages:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01798}01798\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_inflight\_messages\ +=\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01799}01799\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ qos\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01800}01800\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message.state\ =\ mqtt\_ms\_wait\_for\_puback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01801}01801\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elif\ qos\ ==\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01802}01802\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message.state\ =\ mqtt\_ms\_wait\_for\_pubrec}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01803}01803\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01804}01804\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ self.\_send\_publish(message.mid,\ topic\_bytes,\ message.payload,\ message.qos,\ message.retain,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01805}01805\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message.dup,\ message.info,\ message.properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01806}01806\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01807}01807\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ remove\ from\ inflight\ messages\ so\ it\ will\ be\ send\ after\ a\ connection\ is\ made}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01808}01808\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ rc\ ==\ MQTTErrorCode.MQTT\_ERR\_NO\_CONN:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01809}01809\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_inflight\_messages\ -\/=\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01810}01810\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message.state\ =\ mqtt\_ms\_publish}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01811}01811\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01812}01812\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message.info.rc\ =\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01813}01813\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ message.info}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01814}01814\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01815}01815\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message.state\ =\ mqtt\_ms\_queued}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01816}01816\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message.info.rc\ =\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01817}01817\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ message.info}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01818}01818\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01819}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a70e8f70fb09f0459ad3a24d854a70b71}{01819}}\ \ \ \ \ def\ username\_pw\_set(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01820}01820\ \ \ \ \ \ \ \ \ self,\ username:\ str\ |\ None,\ password:\ str\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01821}01821\ \ \ \ \ )\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01822}01822\ \ \ \ \ \ \ \ \ "{}"{}"{}Set\ a\ username\ and\ optionally\ a\ password\ for\ broker\ authentication.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01823}01823\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01824}01824\ \ \ \ \ \ \ \ \ Must\ be\ called\ before\ connect()\ to\ have\ any\ effect.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01825}01825\ \ \ \ \ \ \ \ \ Requires\ a\ broker\ that\ supports\ MQTT\ v3.1\ or\ more.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01826}01826\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01827}01827\ \ \ \ \ \ \ \ \ :param\ str\ username:\ The\ username\ to\ authenticate\ with.\ Need\ have\ no\ relationship\ to\ the\ client\ id.\ Must\ be\ str}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01828}01828\ \ \ \ \ \ \ \ \ \ \ \ \ [MQTT-\/3.1.3-\/11].}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01829}01829\ \ \ \ \ \ \ \ \ \ \ \ \ Set\ to\ None\ to\ reset\ client\ back\ to\ not\ using\ username/password\ for\ broker\ authentication.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01830}01830\ \ \ \ \ \ \ \ \ :param\ str\ password:\ The\ password\ to\ authenticate\ with.\ Optional,\ set\ to\ None\ if\ not\ required.\ If\ it\ is\ str,\ then\ it}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01831}01831\ \ \ \ \ \ \ \ \ \ \ \ \ will\ be\ encoded\ as\ UTF-\/8.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01832}01832\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01833}01833\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01834}01834\ \ \ \ \ \ \ \ \ \#\ [MQTT-\/3.1.3-\/11]\ User\ name\ must\ be\ UTF-\/8\ encoded\ string}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01835}01835\ \ \ \ \ \ \ \ \ self.\_username\ =\ None\ if\ username\ is\ None\ else\ username.encode('utf-\/8')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01836}01836\ \ \ \ \ \ \ \ \ if\ isinstance(password,\ str):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01837}01837\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_password\ =\ password.encode('utf-\/8')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01838}01838\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01839}01839\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_password\ =\ password}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01840}01840\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01841}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a4a22d26b63dec6f8efdade520c138ac3}{01841}}\ \ \ \ \ def\ enable\_bridge\_mode(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01842}01842\ \ \ \ \ \ \ \ \ "{}"{}"{}Sets\ the\ client\ in\ a\ bridge\ mode\ instead\ of\ client\ mode.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01843}01843\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01844}01844\ \ \ \ \ \ \ \ \ Must\ be\ called\ before\ \`{}connect()\`{}\ to\ have\ any\ effect.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01845}01845\ \ \ \ \ \ \ \ \ Requires\ brokers\ that\ support\ bridge\ mode.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01846}01846\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01847}01847\ \ \ \ \ \ \ \ \ Under\ bridge\ mode,\ the\ broker\ will\ identify\ the\ client\ as\ a\ bridge\ and}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01848}01848\ \ \ \ \ \ \ \ \ not\ send\ it's\ own\ messages\ back\ to\ it.\ Hence\ a\ subsciption\ of\ \#\ is}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01849}01849\ \ \ \ \ \ \ \ \ possible\ without\ message\ loops.\ This\ feature\ also\ correctly\ propagates}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01850}01850\ \ \ \ \ \ \ \ \ the\ retain\ flag\ on\ the\ messages.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01851}01851\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01852}01852\ \ \ \ \ \ \ \ \ Currently\ Mosquitto\ and\ RSMB\ support\ this\ feature.\ This\ feature\ can}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01853}01853\ \ \ \ \ \ \ \ \ be\ used\ to\ create\ a\ bridge\ between\ multiple\ broker.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01854}01854\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01855}01855\ \ \ \ \ \ \ \ \ self.\_client\_mode\ =\ MQTT\_BRIDGE}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01856}01856\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01857}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a26b41408b4e559a2c8a1c349030fcc9c}{01857}}\ \ \ \ \ def\ \_connection\_closed(self)\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01858}01858\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01859}01859\ \ \ \ \ \ \ \ \ Return\ true\ if\ the\ connection\ is\ closed\ (and\ not\ trying\ to\ be\ opened).}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01860}01860\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01861}01861\ \ \ \ \ \ \ \ \ return\ (}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01862}01862\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_state\ ==\ \_ConnectionState.MQTT\_CS\_NEW}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01863}01863\ \ \ \ \ \ \ \ \ \ \ \ \ or\ (self.\_state\ in\ (\_ConnectionState.MQTT\_CS\_DISCONNECTING,\ \_ConnectionState.MQTT\_CS\_DISCONNECTED)\ and\ self.\_sock\ is\ None))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01864}01864\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01865}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_abf6583580aa1c75fcb0dc04899b9de3a}{01865}}\ \ \ \ \ def\ is\_connected(self)\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01866}01866\ \ \ \ \ \ \ \ \ "{}"{}"{}Returns\ the\ current\ status\ of\ the\ connection}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01867}01867\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01868}01868\ \ \ \ \ \ \ \ \ True\ if\ connection\ exists}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01869}01869\ \ \ \ \ \ \ \ \ False\ if\ connection\ is\ closed}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01870}01870\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01871}01871\ \ \ \ \ \ \ \ \ return\ self.\_state\ ==\ \_ConnectionState.MQTT\_CS\_CONNECTED}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01872}01872\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01873}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a14defcfe335e623ab11f8d2ad60c473c}{01873}}\ \ \ \ \ def\ disconnect(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01874}01874\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01875}01875\ \ \ \ \ \ \ \ \ reasoncode:\ ReasonCode\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01876}01876\ \ \ \ \ \ \ \ \ properties:\ Properties\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01877}01877\ \ \ \ \ )\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01878}01878\ \ \ \ \ \ \ \ \ "{}"{}"{}Disconnect\ a\ connected\ client\ from\ the\ broker.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01879}01879\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01880}01880\ \ \ \ \ \ \ \ \ :param\ ReasonCode\ reasoncode:\ (MQTT\ v5.0\ only)\ a\ ReasonCode\ instance\ setting\ the\ MQTT\ v5.0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01881}01881\ \ \ \ \ \ \ \ \ \ \ \ \ reasoncode\ to\ be\ sent\ with\ the\ disconnect\ packet.\ It\ is\ optional,\ the\ receiver}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01882}01882\ \ \ \ \ \ \ \ \ \ \ \ \ then\ assuming\ that\ 0\ (success)\ is\ the\ value.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01883}01883\ \ \ \ \ \ \ \ \ :param\ Properties\ properties:\ (MQTT\ v5.0\ only)\ a\ Properties\ instance\ setting\ the\ MQTT\ v5.0\ properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01884}01884\ \ \ \ \ \ \ \ \ \ \ \ \ to\ be\ included.\ Optional\ -\/\ if\ not\ set,\ no\ properties\ are\ sent.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01885}01885\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01886}01886\ \ \ \ \ \ \ \ \ if\ self.\_sock\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01887}01887\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_state\ =\ \_ConnectionState.MQTT\_CS\_DISCONNECTED}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01888}01888\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTT\_ERR\_NO\_CONN}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01889}01889\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01890}01890\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_state\ =\ \_ConnectionState.MQTT\_CS\_DISCONNECTING}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01891}01891\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01892}01892\ \ \ \ \ \ \ \ \ return\ self.\_send\_disconnect(reasoncode,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01893}01893\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01894}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a8ab1656dba162c1caf11548a853714ee}{01894}}\ \ \ \ \ def\ subscribe(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01895}01895\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01896}01896\ \ \ \ \ \ \ \ \ topic:\ str\ |\ tuple[str,\ int]\ |\ tuple[str,\ SubscribeOptions]\ |\ list[tuple[str,\ int]]\ |\ list[tuple[str,\ SubscribeOptions]],}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01897}01897\ \ \ \ \ \ \ \ \ qos:\ int\ =\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01898}01898\ \ \ \ \ \ \ \ \ options:\ SubscribeOptions\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01899}01899\ \ \ \ \ \ \ \ \ properties:\ Properties\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01900}01900\ \ \ \ \ )\ -\/>\ tuple[MQTTErrorCode,\ int\ |\ None]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01901}01901\ \ \ \ \ \ \ \ \ "{}"{}"{}Subscribe\ the\ client\ to\ one\ or\ more\ topics.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01902}01902\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01903}01903\ \ \ \ \ \ \ \ \ This\ function\ may\ be\ called\ in\ three\ different\ ways\ (and\ a\ further\ three\ for\ MQTT\ v5.0):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01904}01904\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01905}01905\ \ \ \ \ \ \ \ \ Simple\ string\ and\ integer}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01906}01906\ \ \ \ \ \ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01907}01907\ \ \ \ \ \ \ \ \ e.g.\ subscribe("{}my/topic"{},\ 2)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01908}01908\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01909}01909\ \ \ \ \ \ \ \ \ :topic:\ A\ string\ specifying\ the\ subscription\ topic\ to\ subscribe\ to.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01910}01910\ \ \ \ \ \ \ \ \ :qos:\ The\ desired\ quality\ of\ service\ level\ for\ the\ subscription.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01911}01911\ \ \ \ \ \ \ \ \ \ \ \ \ Defaults\ to\ 0.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01912}01912\ \ \ \ \ \ \ \ \ :options\ and\ properties:\ Not\ used.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01913}01913\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01914}01914\ \ \ \ \ \ \ \ \ Simple\ string\ and\ subscribe\ options\ (MQTT\ v5.0\ only)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01915}01915\ \ \ \ \ \ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01916}01916\ \ \ \ \ \ \ \ \ e.g.\ subscribe("{}my/topic"{},\ options=SubscribeOptions(qos=2))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01917}01917\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01918}01918\ \ \ \ \ \ \ \ \ :topic:\ A\ string\ specifying\ the\ subscription\ topic\ to\ subscribe\ to.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01919}01919\ \ \ \ \ \ \ \ \ :qos:\ Not\ used.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01920}01920\ \ \ \ \ \ \ \ \ :options:\ The\ MQTT\ v5.0\ subscribe\ options.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01921}01921\ \ \ \ \ \ \ \ \ :properties:\ a\ Properties\ instance\ setting\ the\ MQTT\ v5.0\ properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01922}01922\ \ \ \ \ \ \ \ \ \ \ \ \ to\ be\ included.\ Optional\ -\/\ if\ not\ set,\ no\ properties\ are\ sent.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01923}01923\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01924}01924\ \ \ \ \ \ \ \ \ String\ and\ integer\ tuple}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01925}01925\ \ \ \ \ \ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01926}01926\ \ \ \ \ \ \ \ \ e.g.\ subscribe(("{}my/topic"{},\ 1))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01927}01927\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01928}01928\ \ \ \ \ \ \ \ \ :topic:\ A\ tuple\ of\ (topic,\ qos).\ Both\ topic\ and\ qos\ must\ be\ present\ in}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01929}01929\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ the\ tuple.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01930}01930\ \ \ \ \ \ \ \ \ :qos\ and\ options:\ Not\ used.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01931}01931\ \ \ \ \ \ \ \ \ :properties:\ Only\ used\ for\ MQTT\ v5.0.\ \ A\ Properties\ instance\ setting\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01932}01932\ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\ v5.0\ properties.\ Optional\ -\/\ if\ not\ set,\ no\ properties\ are\ sent.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01933}01933\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01934}01934\ \ \ \ \ \ \ \ \ String\ and\ subscribe\ options\ tuple\ (MQTT\ v5.0\ only)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01935}01935\ \ \ \ \ \ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01936}01936\ \ \ \ \ \ \ \ \ e.g.\ subscribe(("{}my/topic"{},\ SubscribeOptions(qos=1)))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01937}01937\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01938}01938\ \ \ \ \ \ \ \ \ :topic:\ A\ tuple\ of\ (topic,\ SubscribeOptions).\ Both\ topic\ and\ subscribe}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01939}01939\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ options\ must\ be\ present\ in\ the\ tuple.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01940}01940\ \ \ \ \ \ \ \ \ :qos\ and\ options:\ Not\ used.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01941}01941\ \ \ \ \ \ \ \ \ :properties:\ a\ Properties\ instance\ setting\ the\ MQTT\ v5.0\ properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01942}01942\ \ \ \ \ \ \ \ \ \ \ \ \ to\ be\ included.\ Optional\ -\/\ if\ not\ set,\ no\ properties\ are\ sent.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01943}01943\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01944}01944\ \ \ \ \ \ \ \ \ List\ of\ string\ and\ integer\ tuples}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01945}01945\ \ \ \ \ \ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01946}01946\ \ \ \ \ \ \ \ \ e.g.\ subscribe([("{}my/topic"{},\ 0),\ ("{}another/topic"{},\ 2)])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01947}01947\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01948}01948\ \ \ \ \ \ \ \ \ This\ allows\ multiple\ topic\ subscriptions\ in\ a\ single\ SUBSCRIPTION}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01949}01949\ \ \ \ \ \ \ \ \ command,\ which\ is\ more\ efficient\ than\ using\ multiple\ calls\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01950}01950\ \ \ \ \ \ \ \ \ subscribe().}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01951}01951\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01952}01952\ \ \ \ \ \ \ \ \ :topic:\ A\ list\ of\ tuple\ of\ format\ (topic,\ qos).\ Both\ topic\ and\ qos\ must}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01953}01953\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ be\ present\ in\ all\ of\ the\ tuples.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01954}01954\ \ \ \ \ \ \ \ \ :qos,\ options\ and\ properties:\ Not\ used.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01955}01955\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01956}01956\ \ \ \ \ \ \ \ \ List\ of\ string\ and\ subscribe\ option\ tuples\ (MQTT\ v5.0\ only)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01957}01957\ \ \ \ \ \ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01958}01958\ \ \ \ \ \ \ \ \ e.g.\ subscribe([("{}my/topic"{},\ SubscribeOptions(qos=0),\ ("{}another/topic"{},\ SubscribeOptions(qos=2)])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01959}01959\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01960}01960\ \ \ \ \ \ \ \ \ This\ allows\ multiple\ topic\ subscriptions\ in\ a\ single\ SUBSCRIPTION}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01961}01961\ \ \ \ \ \ \ \ \ command,\ which\ is\ more\ efficient\ than\ using\ multiple\ calls\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01962}01962\ \ \ \ \ \ \ \ \ subscribe().}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01963}01963\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01964}01964\ \ \ \ \ \ \ \ \ :topic:\ A\ list\ of\ tuple\ of\ format\ (topic,\ SubscribeOptions).\ Both\ topic\ and\ subscribe}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01965}01965\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ options\ must\ be\ present\ in\ all\ of\ the\ tuples.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01966}01966\ \ \ \ \ \ \ \ \ :qos\ and\ options:\ Not\ used.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01967}01967\ \ \ \ \ \ \ \ \ :properties:\ a\ Properties\ instance\ setting\ the\ MQTT\ v5.0\ properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01968}01968\ \ \ \ \ \ \ \ \ \ \ \ \ to\ be\ included.\ Optional\ -\/\ if\ not\ set,\ no\ properties\ are\ sent.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01969}01969\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01970}01970\ \ \ \ \ \ \ \ \ The\ function\ returns\ a\ tuple\ (result,\ mid),\ where\ result\ is}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01971}01971\ \ \ \ \ \ \ \ \ MQTT\_ERR\_SUCCESS\ to\ indicate\ success\ or\ (MQTT\_ERR\_NO\_CONN,\ None)\ if\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01972}01972\ \ \ \ \ \ \ \ \ client\ is\ not\ currently\ connected.\ \ mid\ is\ the\ message\ ID\ for\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01973}01973\ \ \ \ \ \ \ \ \ subscribe\ request.\ The\ mid\ value\ can\ be\ used\ to\ track\ the\ subscribe}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01974}01974\ \ \ \ \ \ \ \ \ request\ by\ checking\ against\ the\ mid\ argument\ in\ the\ on\_subscribe()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01975}01975\ \ \ \ \ \ \ \ \ callback\ if\ it\ is\ defined.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01976}01976\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01977}01977\ \ \ \ \ \ \ \ \ Raises\ a\ ValueError\ if\ qos\ is\ not\ 0,\ 1\ or\ 2,\ or\ if\ topic\ is\ None\ or\ has}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01978}01978\ \ \ \ \ \ \ \ \ zero\ string\ length,\ or\ if\ topic\ is\ not\ a\ string,\ tuple\ or\ list.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01979}01979\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01980}01980\ \ \ \ \ \ \ \ \ topic\_qos\_list\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01981}01981\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01982}01982\ \ \ \ \ \ \ \ \ if\ isinstance(topic,\ tuple):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01983}01983\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01984}01984\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ topic,\ options\ =\ topic\ \ \#\ type:\ ignore}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01985}01985\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ isinstance(options,\ SubscribeOptions):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01986}01986\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01987}01987\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 'Subscribe\ options\ must\ be\ instance\ of\ SubscribeOptions\ class.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01988}01988\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01989}01989\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ topic,\ qos\ =\ topic\ \ \#\ type:\ ignore}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01990}01990\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l01991}01991\ \ \ \ \ \ \ \ \ if\ isinstance(topic,\ (bytes,\ str)):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01992}01992\ \ \ \ \ \ \ \ \ \ \ \ \ if\ qos\ <\ 0\ or\ qos\ >\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01993}01993\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ QoS\ level.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01994}01994\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01995}01995\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ options\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01996}01996\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ if\ no\ options\ are\ provided,\ use\ the\ QoS\ passed\ instead}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01997}01997\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ options\ =\ SubscribeOptions(qos=qos)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01998}01998\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elif\ qos\ !=\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l01999}01999\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02000}02000\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 'Subscribe\ options\ and\ qos\ parameters\ cannot\ be\ combined.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02001}02001\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ isinstance(options,\ SubscribeOptions):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02002}02002\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02003}02003\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 'Subscribe\ options\ must\ be\ instance\ of\ SubscribeOptions\ class.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02004}02004\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ topic\_qos\_list\ =\ [(topic.encode('utf-\/8'),\ options)]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02005}02005\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02006}02006\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ topic\ is\ None\ or\ len(topic)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02007}02007\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ topic.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02008}02008\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ topic\_qos\_list\ =\ [(topic.encode('utf-\/8'),\ qos)]\ \ \#\ type:\ ignore}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02009}02009\ \ \ \ \ \ \ \ \ elif\ isinstance(topic,\ list):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02010}02010\ \ \ \ \ \ \ \ \ \ \ \ \ if\ len(topic)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02011}02011\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Empty\ topic\ list')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02012}02012\ \ \ \ \ \ \ \ \ \ \ \ \ topic\_qos\_list\ =\ []}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02013}02013\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02014}02014\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ t,\ o\ in\ topic:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02015}02015\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ isinstance(o,\ SubscribeOptions):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02016}02016\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ then\ the\ second\ value\ should\ be\ QoS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02017}02017\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ o\ <\ 0\ or\ o\ >\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02018}02018\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ QoS\ level.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02019}02019\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ o\ =\ SubscribeOptions(qos=o)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02020}02020\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ topic\_qos\_list.append((t.encode('utf-\/8'),\ o))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02021}02021\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02022}02022\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ t,\ q\ in\ topic:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02023}02023\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ isinstance(q,\ SubscribeOptions)\ or\ q\ <\ 0\ or\ q\ >\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02024}02024\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ QoS\ level.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02025}02025\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ t\ is\ None\ or\ len(t)\ ==\ 0\ or\ not\ isinstance(t,\ (bytes,\ str)):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02026}02026\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ topic.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02027}02027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ topic\_qos\_list.append((t.encode('utf-\/8'),\ q))\ \ \#\ type:\ ignore}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02028}02028\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02029}02029\ \ \ \ \ \ \ \ \ if\ topic\_qos\_list\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02030}02030\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}No\ topic\ specified,\ or\ incorrect\ topic\ type."{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02031}02031\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02032}02032\ \ \ \ \ \ \ \ \ if\ any(self.\_filter\_wildcard\_len\_check(topic)\ !=\ MQTT\_ERR\_SUCCESS\ for\ topic,\ \_\ in\ topic\_qos\_list):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02033}02033\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ subscription\ filter.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02034}02034\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02035}02035\ \ \ \ \ \ \ \ \ if\ self.\_sock\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02036}02036\ \ \ \ \ \ \ \ \ \ \ \ \ return\ (MQTT\_ERR\_NO\_CONN,\ None)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02037}02037\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02038}02038\ \ \ \ \ \ \ \ \ return\ self.\_send\_subscribe(False,\ topic\_qos\_list,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02039}02039\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02040}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ac99a802568904ada5c3170467bf7c0e3}{02040}}\ \ \ \ \ def\ unsubscribe(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02041}02041\ \ \ \ \ \ \ \ \ self,\ topic:\ str\ |\ list[str],\ properties:\ Properties\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02042}02042\ \ \ \ \ )\ -\/>\ tuple[MQTTErrorCode,\ int\ |\ None]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02043}02043\ \ \ \ \ \ \ \ \ "{}"{}"{}Unsubscribe\ the\ client\ from\ one\ or\ more\ topics.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02044}02044\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02045}02045\ \ \ \ \ \ \ \ \ :param\ topic:\ A\ single\ string,\ or\ list\ of\ strings\ that\ are\ the\ subscription}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02046}02046\ \ \ \ \ \ \ \ \ \ \ \ \ topics\ to\ unsubscribe\ from.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02047}02047\ \ \ \ \ \ \ \ \ :param\ properties:\ (MQTT\ v5.0\ only)\ a\ Properties\ instance\ setting\ the\ MQTT\ v5.0\ properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02048}02048\ \ \ \ \ \ \ \ \ \ \ \ \ to\ be\ included.\ Optional\ -\/\ if\ not\ set,\ no\ properties\ are\ sent.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02049}02049\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02050}02050\ \ \ \ \ \ \ \ \ Returns\ a\ tuple\ (result,\ mid),\ where\ result\ is\ MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02051}02051\ \ \ \ \ \ \ \ \ to\ indicate\ success\ or\ (MQTT\_ERR\_NO\_CONN,\ None)\ if\ the\ client\ is\ not}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02052}02052\ \ \ \ \ \ \ \ \ currently\ connected.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02053}02053\ \ \ \ \ \ \ \ \ mid\ is\ the\ message\ ID\ for\ the\ unsubscribe\ request.\ The\ mid\ value\ can\ be}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02054}02054\ \ \ \ \ \ \ \ \ used\ to\ track\ the\ unsubscribe\ request\ by\ checking\ against\ the\ mid}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02055}02055\ \ \ \ \ \ \ \ \ argument\ in\ the\ on\_unsubscribe()\ callback\ if\ it\ is\ defined.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02056}02056\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02057}02057\ \ \ \ \ \ \ \ \ :raises\ ValueError:\ if\ topic\ is\ None\ or\ has\ zero\ string\ length,\ or\ is}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02058}02058\ \ \ \ \ \ \ \ \ \ \ \ \ not\ a\ string\ or\ list.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02059}02059\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02060}02060\ \ \ \ \ \ \ \ \ topic\_list\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02061}02061\ \ \ \ \ \ \ \ \ if\ topic\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02062}02062\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ topic.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02063}02063\ \ \ \ \ \ \ \ \ if\ isinstance(topic,\ (bytes,\ str)):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02064}02064\ \ \ \ \ \ \ \ \ \ \ \ \ if\ len(topic)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02065}02065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ topic.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02066}02066\ \ \ \ \ \ \ \ \ \ \ \ \ topic\_list\ =\ [topic.encode('utf-\/8')]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02067}02067\ \ \ \ \ \ \ \ \ elif\ isinstance(topic,\ list):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02068}02068\ \ \ \ \ \ \ \ \ \ \ \ \ topic\_list\ =\ []}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02069}02069\ \ \ \ \ \ \ \ \ \ \ \ \ for\ t\ in\ topic:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02070}02070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ len(t)\ ==\ 0\ or\ not\ isinstance(t,\ (bytes,\ str)):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02071}02071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ topic.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02072}02072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ topic\_list.append(t.encode('utf-\/8'))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02073}02073\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02074}02074\ \ \ \ \ \ \ \ \ if\ topic\_list\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02075}02075\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}No\ topic\ specified,\ or\ incorrect\ topic\ type."{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02076}02076\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02077}02077\ \ \ \ \ \ \ \ \ if\ self.\_sock\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02078}02078\ \ \ \ \ \ \ \ \ \ \ \ \ return\ (MQTTErrorCode.MQTT\_ERR\_NO\_CONN,\ None)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02079}02079\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02080}02080\ \ \ \ \ \ \ \ \ return\ self.\_send\_unsubscribe(False,\ topic\_list,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02081}02081\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02082}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ad8751126021145a37a8f152009c3a5df}{02082}}\ \ \ \ \ def\ loop\_read(self,\ max\_packets:\ int\ =\ 1)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02083}02083\ \ \ \ \ \ \ \ \ "{}"{}"{}Process\ read\ network\ events.\ Use\ in\ place\ of\ calling\ \`{}loop()\`{}\ if\ you}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02084}02084\ \ \ \ \ \ \ \ \ wish\ to\ handle\ your\ client\ reads\ as\ part\ of\ your\ own\ application.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02085}02085\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02086}02086\ \ \ \ \ \ \ \ \ Use\ \`{}socket()\`{}\ to\ obtain\ the\ client\ socket\ to\ call\ select()\ or\ equivalent}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02087}02087\ \ \ \ \ \ \ \ \ on.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02088}02088\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02089}02089\ \ \ \ \ \ \ \ \ Do\ not\ use\ if\ you\ are\ using\ \`{}loop\_start()\`{}\ or\ \`{}loop\_forever()\`{}."{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02090}02090\ \ \ \ \ \ \ \ \ if\ self.\_sock\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02091}02091\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_NO\_CONN}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02092}02092\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02093}02093\ \ \ \ \ \ \ \ \ max\_packets\ =\ len(self.\_out\_messages)\ +\ len(self.\_in\_messages)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02094}02094\ \ \ \ \ \ \ \ \ if\ max\_packets\ <\ 1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02095}02095\ \ \ \ \ \ \ \ \ \ \ \ \ max\_packets\ =\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02096}02096\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02097}02097\ \ \ \ \ \ \ \ \ for\ \_\ in\ range(0,\ max\_packets):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02098}02098\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_sock\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02099}02099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_NO\_CONN}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02100}02100\ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ self.\_packet\_read()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02101}02101\ \ \ \ \ \ \ \ \ \ \ \ \ if\ rc\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02102}02102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_loop\_rc\_handle(rc)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02103}02103\ \ \ \ \ \ \ \ \ \ \ \ \ elif\ rc\ ==\ MQTTErrorCode.MQTT\_ERR\_AGAIN:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02104}02104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02105}02105\ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02106}02106\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02107}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aae3e67f3535451a2bcfff99a476120d1}{02107}}\ \ \ \ \ def\ loop\_write(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02108}02108\ \ \ \ \ \ \ \ \ "{}"{}"{}Process\ write\ network\ events.\ Use\ in\ place\ of\ calling\ \`{}loop()\`{}\ if\ you}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02109}02109\ \ \ \ \ \ \ \ \ wish\ to\ handle\ your\ client\ writes\ as\ part\ of\ your\ own\ application.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02110}02110\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02111}02111\ \ \ \ \ \ \ \ \ Use\ \`{}socket()\`{}\ to\ obtain\ the\ client\ socket\ to\ call\ select()\ or\ equivalent}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02112}02112\ \ \ \ \ \ \ \ \ on.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02113}02113\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02114}02114\ \ \ \ \ \ \ \ \ Use\ \`{}want\_write()\`{}\ to\ determine\ if\ there\ is\ data\ waiting\ to\ be\ written.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02115}02115\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02116}02116\ \ \ \ \ \ \ \ \ Do\ not\ use\ if\ you\ are\ using\ \`{}loop\_start()\`{}\ or\ \`{}loop\_forever()\`{}."{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02117}02117\ \ \ \ \ \ \ \ \ if\ self.\_sock\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02118}02118\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_NO\_CONN}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02119}02119\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02120}02120\ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02121}02121\ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ self.\_packet\_write()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02122}02122\ \ \ \ \ \ \ \ \ \ \ \ \ if\ rc\ ==\ MQTTErrorCode.MQTT\_ERR\_AGAIN:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02123}02123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02124}02124\ \ \ \ \ \ \ \ \ \ \ \ \ elif\ rc\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02125}02125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_loop\_rc\_handle(rc)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02126}02126\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02127}02127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02128}02128\ \ \ \ \ \ \ \ \ finally:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02129}02129\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.want\_write():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02130}02130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_call\_socket\_register\_write()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02131}02131\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02132}02132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_call\_socket\_unregister\_write()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02133}02133\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02134}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a2ae3ea6d747fe0021ec9555b390cef77}{02134}}\ \ \ \ \ def\ want\_write(self)\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02135}02135\ \ \ \ \ \ \ \ \ "{}"{}"{}Call\ to\ determine\ if\ there\ is\ network\ data\ waiting\ to\ be\ written.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02136}02136\ \ \ \ \ \ \ \ \ Useful\ if\ you\ are\ calling\ select()\ yourself\ rather\ than\ using\ \`{}loop()\`{},\ \`{}loop\_start()\`{}\ or\ \`{}loop\_forever()\`{}.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02137}02137\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02138}02138\ \ \ \ \ \ \ \ \ return\ len(self.\_out\_packet)\ >\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02139}02139\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02140}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a74a4e5ec68930a72b3f2c42377e12dd8}{02140}}\ \ \ \ \ def\ loop\_misc(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02141}02141\ \ \ \ \ \ \ \ \ "{}"{}"{}Process\ miscellaneous\ network\ events.\ Use\ in\ place\ of\ calling\ \`{}loop()\`{}\ if\ you}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02142}02142\ \ \ \ \ \ \ \ \ wish\ to\ call\ select()\ or\ equivalent\ on.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02143}02143\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02144}02144\ \ \ \ \ \ \ \ \ Do\ not\ use\ if\ you\ are\ using\ \`{}loop\_start()\`{}\ or\ \`{}loop\_forever()\`{}."{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02145}02145\ \ \ \ \ \ \ \ \ if\ self.\_sock\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02146}02146\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_NO\_CONN}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02147}02147\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02148}02148\ \ \ \ \ \ \ \ \ now\ =\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02149}02149\ \ \ \ \ \ \ \ \ self.\_check\_keepalive()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02150}02150\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02151}02151\ \ \ \ \ \ \ \ \ if\ self.\_ping\_t\ >\ 0\ and\ now\ -\/\ self.\_ping\_t\ >=\ self.\_keepalive:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02152}02152\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ client-\/>ping\_t\ !=\ 0\ means\ we\ are\ waiting\ for\ a\ pingresp.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02153}02153\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ This\ hasn't\ happened\ in\ the\ keepalive\ time\ so\ we\ should\ disconnect.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02154}02154\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_sock\_close()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02155}02155\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02156}02156\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_state\ in\ (\_ConnectionState.MQTT\_CS\_DISCONNECTING,\ \_ConnectionState.MQTT\_CS\_DISCONNECTED):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02157}02157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_state\ =\ \_ConnectionState.MQTT\_CS\_DISCONNECTED}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02158}02158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02159}02159\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02160}02160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_state\ =\ \_ConnectionState.MQTT\_CS\_CONNECTION\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02161}02161\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ MQTTErrorCode.MQTT\_ERR\_KEEPALIVE}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02162}02162\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02163}02163\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_do\_on\_disconnect(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02164}02164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packet\_from\_broker=False,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02165}02165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v1\_rc=rc,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02166}02166\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02167}02167\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02168}02168\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_CONN\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02169}02169\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02170}02170\ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02171}02171\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02172}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aa4656ed42eaabd09f0d853a42599b56f}{02172}}\ \ \ \ \ def\ max\_inflight\_messages\_set(self,\ inflight:\ int)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02173}02173\ \ \ \ \ \ \ \ \ "{}"{}"{}Set\ the\ maximum\ number\ of\ messages\ with\ QoS>0\ that\ can\ be\ part\ way}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02174}02174\ \ \ \ \ \ \ \ \ through\ their\ network\ flow\ at\ once.\ Defaults\ to\ 20."{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02175}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a799baad695b9fd2d84c93561866941a0}{02175}}\ \ \ \ \ \ \ \ \ self.max\_inflight\_messages\ =\ inflight}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02176}02176\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02177}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a90bd593eea05d7b1411063759f02027a}{02177}}\ \ \ \ \ def\ max\_queued\_messages\_set(self,\ queue\_size:\ int)\ -\/>\ Client:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02178}02178\ \ \ \ \ \ \ \ \ "{}"{}"{}Set\ the\ maximum\ number\ of\ messages\ in\ the\ outgoing\ message\ queue.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02179}02179\ \ \ \ \ \ \ \ \ 0\ means\ unlimited."{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02180}02180\ \ \ \ \ \ \ \ \ if\ not\ isinstance(queue\_size,\ int):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02181}02181\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ type\ of\ queue\ size.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02182}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a6945830484d858d4143b8f51dc39fe52}{02182}}\ \ \ \ \ \ \ \ \ self.max\_queued\_messages\ =\ queue\_size}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02183}02183\ \ \ \ \ \ \ \ \ return\ self}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02184}02184\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02185}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a66917fe16ee88198eaf560a49ccd8e5c}{02185}}\ \ \ \ \ def\ user\_data\_set(self,\ userdata:\ Any)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02186}02186\ \ \ \ \ \ \ \ \ "{}"{}"{}Set\ the\ user\ data\ variable\ passed\ to\ callbacks.\ May\ be\ any\ data\ type."{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02187}02187\ \ \ \ \ \ \ \ \ self.\_userdata\ =\ userdata}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02188}02188\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02189}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a61b29246f9e53c13463fb3fa4f34ace1}{02189}}\ \ \ \ \ def\ user\_data\_get(self)\ -\/>\ Any:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02190}02190\ \ \ \ \ \ \ \ \ "{}"{}"{}Get\ the\ user\ data\ variable\ passed\ to\ callbacks.\ May\ be\ any\ data\ type."{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02191}02191\ \ \ \ \ \ \ \ \ return\ self.\_userdata}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02192}02192\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02193}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a509abdbed08ed12a37957ba7c1f2c3c6}{02193}}\ \ \ \ \ def\ will\_set(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02194}02194\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02195}02195\ \ \ \ \ \ \ \ \ topic:\ str,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02196}02196\ \ \ \ \ \ \ \ \ payload:\ PayloadType\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02197}02197\ \ \ \ \ \ \ \ \ qos:\ int\ =\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02198}02198\ \ \ \ \ \ \ \ \ retain:\ bool\ =\ False,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02199}02199\ \ \ \ \ \ \ \ \ properties:\ Properties\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02200}02200\ \ \ \ \ )\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02201}02201\ \ \ \ \ \ \ \ \ "{}"{}"{}Set\ a\ Will\ to\ be\ sent\ by\ the\ broker\ in\ case\ the\ client\ disconnects\ unexpectedly.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02202}02202\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02203}02203\ \ \ \ \ \ \ \ \ This\ must\ be\ called\ before\ connect()\ to\ have\ any\ effect.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02204}02204\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02205}02205\ \ \ \ \ \ \ \ \ :param\ str\ topic:\ The\ topic\ that\ the\ will\ message\ should\ be\ published\ on.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02206}02206\ \ \ \ \ \ \ \ \ :param\ payload:\ The\ message\ to\ send\ as\ a\ will.\ If\ not\ given,\ or\ set\ to\ None\ a}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02207}02207\ \ \ \ \ \ \ \ \ \ \ \ \ zero\ length\ message\ will\ be\ used\ as\ the\ will.\ Passing\ an\ int\ or\ float}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02208}02208\ \ \ \ \ \ \ \ \ \ \ \ \ will\ result\ in\ the\ payload\ being\ converted\ to\ a\ string\ representing}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02209}02209\ \ \ \ \ \ \ \ \ \ \ \ \ that\ number.\ If\ you\ wish\ to\ send\ a\ true\ int/float,\ use\ struct.pack()\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02210}02210\ \ \ \ \ \ \ \ \ \ \ \ \ create\ the\ payload\ you\ require.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02211}02211\ \ \ \ \ \ \ \ \ :param\ int\ qos:\ The\ quality\ of\ service\ level\ to\ use\ for\ the\ will.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02212}02212\ \ \ \ \ \ \ \ \ :param\ bool\ retain:\ If\ set\ to\ true,\ the\ will\ message\ will\ be\ set\ as\ the\ "{}last\ known}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02213}02213\ \ \ \ \ \ \ \ \ \ \ \ \ good"{}/retained\ message\ for\ the\ topic.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02214}02214\ \ \ \ \ \ \ \ \ :param\ Properties\ properties:\ (MQTT\ v5.0\ only)\ the\ MQTT\ v5.0\ properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02215}02215\ \ \ \ \ \ \ \ \ \ \ \ \ to\ be\ included\ with\ the\ will\ message.\ Optional\ -\/\ if\ not\ set,\ no\ properties\ are\ sent.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02216}02216\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02217}02217\ \ \ \ \ \ \ \ \ :raises\ ValueError:\ if\ qos\ is\ not\ 0,\ 1\ or\ 2,\ or\ if\ topic\ is\ None\ or\ has}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02218}02218\ \ \ \ \ \ \ \ \ \ \ \ \ zero\ string\ length.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02219}02219\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02220}02220\ \ \ \ \ \ \ \ \ See\ \`{}will\_clear\`{}\ to\ clear\ will.\ Note\ that\ will\ are\ NOT\ send\ if\ the\ client\ disconnect\ cleanly}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02221}02221\ \ \ \ \ \ \ \ \ for\ example\ by\ calling\ \`{}disconnect()\`{}.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02222}02222\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02223}02223\ \ \ \ \ \ \ \ \ if\ topic\ is\ None\ or\ len(topic)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02224}02224\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ topic.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02225}02225\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02226}02226\ \ \ \ \ \ \ \ \ if\ qos\ <\ 0\ or\ qos\ >\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02227}02227\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Invalid\ QoS\ level.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02228}02228\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02229}02229\ \ \ \ \ \ \ \ \ if\ properties\ and\ not\ isinstance(properties,\ Properties):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02230}02230\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02231}02231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}The\ properties\ argument\ must\ be\ an\ instance\ of\ the\ Properties\ class."{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02232}02232\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02233}02233\ \ \ \ \ \ \ \ \ self.\_will\_payload\ =\ \_encode\_payload(payload)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02234}02234\ \ \ \ \ \ \ \ \ self.\_will\ =\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02235}02235\ \ \ \ \ \ \ \ \ self.\_will\_topic\ =\ topic.encode('utf-\/8')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02236}02236\ \ \ \ \ \ \ \ \ self.\_will\_qos\ =\ qos}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02237}02237\ \ \ \ \ \ \ \ \ self.\_will\_retain\ =\ retain}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02238}02238\ \ \ \ \ \ \ \ \ self.\_will\_properties\ =\ properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02239}02239\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02240}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aee45aefd284b6948b81eeeaf3eebd380}{02240}}\ \ \ \ \ def\ will\_clear(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02241}02241\ \ \ \ \ \ \ \ \ "{}"{}"{}\ Removes\ a\ will\ that\ was\ previously\ configured\ with\ \`{}will\_set()\`{}.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02242}02242\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02243}02243\ \ \ \ \ \ \ \ \ Must\ be\ called\ before\ connect()\ to\ have\ any\ effect."{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02244}02244\ \ \ \ \ \ \ \ \ self.\_will\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02245}02245\ \ \ \ \ \ \ \ \ self.\_will\_topic\ =\ b"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02246}02246\ \ \ \ \ \ \ \ \ self.\_will\_payload\ =\ b"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02247}02247\ \ \ \ \ \ \ \ \ self.\_will\_qos\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02248}02248\ \ \ \ \ \ \ \ \ self.\_will\_retain\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02249}02249\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02250}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_adfd1dbbc607760fa5b0a53dffbd8778c}{02250}}\ \ \ \ \ def\ socket(self)\ -\/>\ SocketLike\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02251}02251\ \ \ \ \ \ \ \ \ "{}"{}"{}Return\ the\ socket\ or\ ssl\ object\ for\ this\ client."{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02252}02252\ \ \ \ \ \ \ \ \ return\ self.\_sock}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02253}02253\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02254}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a8a5f57a34af92551d79914e5f49825a7}{02254}}\ \ \ \ \ def\ loop\_forever(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02255}02255\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02256}02256\ \ \ \ \ \ \ \ \ timeout:\ float\ =\ 1.0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02257}02257\ \ \ \ \ \ \ \ \ retry\_first\_connection:\ bool\ =\ False,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02258}02258\ \ \ \ \ )\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02259}02259\ \ \ \ \ \ \ \ \ "{}"{}"{}This\ function\ calls\ the\ network\ loop\ functions\ for\ you\ in\ an}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02260}02260\ \ \ \ \ \ \ \ \ infinite\ blocking\ loop.\ It\ is\ useful\ for\ the\ case\ where\ you\ only\ want}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02261}02261\ \ \ \ \ \ \ \ \ to\ run\ the\ MQTT\ client\ loop\ in\ your\ program.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02262}02262\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02263}02263\ \ \ \ \ \ \ \ \ loop\_forever()\ will\ handle\ reconnecting\ for\ you\ if\ reconnect\_on\_failure\ is}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02264}02264\ \ \ \ \ \ \ \ \ true\ (this\ is\ the\ default\ behavior).\ If\ you\ call\ \`{}disconnect()\`{}\ in\ a\ callback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02265}02265\ \ \ \ \ \ \ \ \ it\ will\ return.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02266}02266\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02267}02267\ \ \ \ \ \ \ \ \ :param\ int\ timeout:\ The\ time\ in\ seconds\ to\ wait\ for\ incoming/outgoing\ network}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02268}02268\ \ \ \ \ \ \ \ \ \ \ traffic\ before\ timing\ out\ and\ returning.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02269}02269\ \ \ \ \ \ \ \ \ :param\ bool\ retry\_first\_connection:\ Should\ the\ first\ connection\ attempt\ be\ retried\ on\ failure.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02270}02270\ \ \ \ \ \ \ \ \ \ \ This\ is\ independent\ of\ the\ reconnect\_on\_failure\ setting.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02271}02271\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02272}02272\ \ \ \ \ \ \ \ \ :raises\ OSError:\ if\ the\ first\ connection\ fail\ unless\ retry\_first\_connection=True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02273}02273\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02274}02274\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02275}02275\ \ \ \ \ \ \ \ \ run\ =\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02276}02276\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02277}02277\ \ \ \ \ \ \ \ \ while\ run:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02278}02278\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_thread\_terminate\ is\ True:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02279}02279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02280}02280\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02281}02281\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_state\ ==\ \_ConnectionState.MQTT\_CS\_CONNECT\_ASYNC:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02282}02282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02283}02283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.reconnect()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02284}02284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ except\ OSError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02285}02285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_handle\_on\_connect\_fail()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02286}02286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ retry\_first\_connection:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02287}02287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02288}02288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02289}02289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,\ "{}Connection\ failed,\ retrying"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02290}02290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_reconnect\_wait()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02291}02291\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02292}02292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02293}02293\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02294}02294\ \ \ \ \ \ \ \ \ while\ run:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02295}02295\ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02296}02296\ \ \ \ \ \ \ \ \ \ \ \ \ while\ rc\ ==\ MQTTErrorCode.MQTT\_ERR\_SUCCESS:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02297}02297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ self.\_loop(timeout)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02298}02298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ We\ don't\ need\ to\ worry\ about\ locking\ here,\ because\ we've}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02299}02299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ either\ called\ loop\_forever()\ when\ in\ single\ threaded\ mode,\ or}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02300}02300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ in\ multi\ threaded\ mode\ when\ loop\_stop()\ has\ been\ called\ and}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02301}02301\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ so\ no\ other\ threads\ can\ access\ \_out\_packet\ or\ \_messages.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02302}02302\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (self.\_thread\_terminate\ is\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02303}02303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ and\ len(self.\_out\_packet)\ ==\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02304}02304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ and\ len(self.\_out\_messages)\ ==\ 0):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02305}02305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ MQTTErrorCode.MQTT\_ERR\_NOMEM}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02306}02306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ run\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02307}02307\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02308}02308\ \ \ \ \ \ \ \ \ \ \ \ \ def\ should\_exit()\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02309}02309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ (}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02310}02310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_state\ in\ (\_ConnectionState.MQTT\_CS\_DISCONNECTING,\ \_ConnectionState.MQTT\_CS\_DISCONNECTED)\ or}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02311}02311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ run\ is\ False\ or\ \ \#\ noqa:\ B023\ (uses\ the\ run\ variable\ from\ the\ outer\ scope\ on\ purpose)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02312}02312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_thread\_terminate\ is\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02313}02313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02314}02314\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02315}02315\ \ \ \ \ \ \ \ \ \ \ \ \ if\ should\_exit()\ or\ not\ self.\_reconnect\_on\_failure:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02316}02316\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ run\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02317}02317\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02318}02318\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_reconnect\_wait()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02319}02319\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02320}02320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ should\_exit():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02321}02321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ run\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02322}02322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02323}02323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02324}02324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.reconnect()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02325}02325\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ except\ OSError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02326}02326\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_handle\_on\_connect\_fail()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02327}02327\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02328}02328\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,\ "{}Connection\ failed,\ retrying"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02329}02329\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02330}02330\ \ \ \ \ \ \ \ \ return\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02331}02331\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02332}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a4c160c3ff284066cfb609261bc7e6eba}{02332}}\ \ \ \ \ def\ loop\_start(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02333}02333\ \ \ \ \ \ \ \ \ "{}"{}"{}This\ is\ part\ of\ the\ threaded\ client\ interface.\ Call\ this\ once\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02334}02334\ \ \ \ \ \ \ \ \ start\ a\ new\ thread\ to\ process\ network\ traffic.\ This\ provides\ an}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02335}02335\ \ \ \ \ \ \ \ \ alternative\ to\ repeatedly\ calling\ \`{}loop()\`{}\ yourself.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02336}02336\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02337}02337\ \ \ \ \ \ \ \ \ Under\ the\ hood,\ this\ will\ call\ \`{}loop\_forever\`{}\ in\ a\ thread,\ which\ means\ that}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02338}02338\ \ \ \ \ \ \ \ \ the\ thread\ will\ terminate\ if\ you\ call\ \`{}disconnect()\`{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02339}02339\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02340}02340\ \ \ \ \ \ \ \ \ if\ self.\_thread\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02341}02341\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_INVAL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02342}02342\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02343}02343\ \ \ \ \ \ \ \ \ self.\_sockpairR,\ self.\_sockpairW\ =\ \_socketpair\_compat()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02344}02344\ \ \ \ \ \ \ \ \ self.\_thread\_terminate\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02345}02345\ \ \ \ \ \ \ \ \ self.\_thread\ =\ threading.Thread(target=self.\_thread\_main,\ name=f"{}paho-\/mqtt-\/client-\/\{self.\_client\_id.decode()\}"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02346}02346\ \ \ \ \ \ \ \ \ self.\_thread.daemon\ =\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02347}02347\ \ \ \ \ \ \ \ \ self.\_thread.start()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02348}02348\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02349}02349\ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02350}02350\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02351}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a023928200bac92c87bfc3b2366c8375f}{02351}}\ \ \ \ \ def\ loop\_stop(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02352}02352\ \ \ \ \ \ \ \ \ "{}"{}"{}This\ is\ part\ of\ the\ threaded\ client\ interface.\ Call\ this\ once\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02353}02353\ \ \ \ \ \ \ \ \ stop\ the\ network\ thread\ previously\ created\ with\ \`{}loop\_start()\`{}.\ This\ call}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02354}02354\ \ \ \ \ \ \ \ \ will\ block\ until\ the\ network\ thread\ finishes.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02355}02355\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02356}02356\ \ \ \ \ \ \ \ \ This\ don't\ guarantee\ that\ publish\ packet\ are\ sent,\ use\ \`{}wait\_for\_publish\`{}\ or}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02357}02357\ \ \ \ \ \ \ \ \ \`{}on\_publish\`{}\ to\ ensure\ \`{}publish\`{}\ are\ sent.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02358}02358\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02359}02359\ \ \ \ \ \ \ \ \ if\ self.\_thread\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02360}02360\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_INVAL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02361}02361\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02362}02362\ \ \ \ \ \ \ \ \ self.\_thread\_terminate\ =\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02363}02363\ \ \ \ \ \ \ \ \ if\ threading.current\_thread()\ !=\ self.\_thread:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02364}02364\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_thread.join()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02365}02365\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02366}02366\ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02367}02367\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02368}02368\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02369}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a0b9815fd04ca7bc1e726c0db2e356211}{02369}}\ \ \ \ \ def\ callback\_api\_version(self)\ -\/>\ CallbackAPIVersion:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02370}02370\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02371}02371\ \ \ \ \ \ \ \ \ Return\ the\ callback\ API\ version\ used\ for\ user-\/callback.\ See\ docstring\ for}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02372}02372\ \ \ \ \ \ \ \ \ each\ user-\/callback\ (\`{}on\_connect\`{},\ \`{}on\_publish\`{},\ ...)\ for\ details.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02373}02373\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02374}02374\ \ \ \ \ \ \ \ \ This\ property\ is\ read-\/only.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02375}02375\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02376}02376\ \ \ \ \ \ \ \ \ return\ self.\_callback\_api\_version}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02377}02377\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02378}02378\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02379}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a276a803fbf57e080420dc3faf207dff9}{02379}}\ \ \ \ \ def\ on\_log(self)\ -\/>\ CallbackOnLog\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02380}02380\ \ \ \ \ \ \ \ \ "{}"{}"{}The\ callback\ called\ when\ the\ client\ has\ log\ information.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02381}02381\ \ \ \ \ \ \ \ \ Defined\ to\ allow\ debugging.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02382}02382\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02383}02383\ \ \ \ \ \ \ \ \ Expected\ signature\ is::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02384}02384\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02385}02385\ \ \ \ \ \ \ \ \ \ \ \ \ log\_callback(client,\ userdata,\ level,\ buf)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02386}02386\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02387}02387\ \ \ \ \ \ \ \ \ :param\ Client\ client:\ the\ client\ instance\ for\ this\ callback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02388}02388\ \ \ \ \ \ \ \ \ :param\ userdata:\ the\ private\ user\ data\ as\ set\ in\ Client()\ or\ user\_data\_set()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02389}02389\ \ \ \ \ \ \ \ \ :param\ int\ level:\ gives\ the\ severity\ of\ the\ message\ and\ will\ be\ one\ of}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02390}02390\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_INFO,\ MQTT\_LOG\_NOTICE,\ MQTT\_LOG\_WARNING,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02391}02391\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ and\ MQTT\_LOG\_DEBUG.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02392}02392\ \ \ \ \ \ \ \ \ :param\ str\ buf:\ the\ message\ itself}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02393}02393\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02394}02394\ \ \ \ \ \ \ \ \ Decorator:\ @client.log\_callback()\ (\`{}\`{}client\`{}\`{}\ is\ the\ name\ of\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02395}02395\ \ \ \ \ \ \ \ \ \ \ \ \ instance\ which\ this\ callback\ is\ being\ attached\ to)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02396}02396\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02397}02397\ \ \ \ \ \ \ \ \ return\ self.\_on\_log}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02398}02398\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02399}02399\ \ \ \ \ @on\_log.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02400}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a612b09e45d5b945a3d9b630b9694162d}{02400}}\ \ \ \ \ def\ on\_log(self,\ func:\ CallbackOnLog\ |\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02401}02401\ \ \ \ \ \ \ \ \ self.\_on\_log\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02402}02402\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02403}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a261abb871aa1dfce74a8527495e6386f}{02403}}\ \ \ \ \ def\ log\_callback(self)\ -\/>\ Callable[[CallbackOnLog],\ CallbackOnLog]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02404}02404\ \ \ \ \ \ \ \ \ def\ decorator(func:\ CallbackOnLog)\ -\/>\ CallbackOnLog:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02405}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a75fd364aad96adcbaaf37f0d5ee50bd8}{02405}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.on\_log\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02406}02406\ \ \ \ \ \ \ \ \ \ \ \ \ return\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02407}02407\ \ \ \ \ \ \ \ \ return\ decorator}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02408}02408\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02409}02409\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02410}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a2d474547fedc5ef0e9377663446127de}{02410}}\ \ \ \ \ def\ on\_pre\_connect(self)\ -\/>\ CallbackOnPreConnect\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02411}02411\ \ \ \ \ \ \ \ \ "{}"{}"{}The\ callback\ called\ immediately\ prior\ to\ the\ connection\ is\ made}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02412}02412\ \ \ \ \ \ \ \ \ request.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02413}02413\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02414}02414\ \ \ \ \ \ \ \ \ Expected\ signature\ (for\ all\ callback\ API\ version)::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02415}02415\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02416}02416\ \ \ \ \ \ \ \ \ \ \ \ \ connect\_callback(client,\ userdata)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02417}02417\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02418}02418\ \ \ \ \ \ \ \ \ :parama\ Client\ client:\ the\ client\ instance\ for\ this\ callback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02419}02419\ \ \ \ \ \ \ \ \ :parama\ userdata:\ the\ private\ user\ data\ as\ set\ in\ Client()\ or\ user\_data\_set()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02420}02420\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02421}02421\ \ \ \ \ \ \ \ \ Decorator:\ @client.pre\_connect\_callback()\ (\`{}\`{}client\`{}\`{}\ is\ the\ name\ of\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02422}02422\ \ \ \ \ \ \ \ \ \ \ \ \ instance\ which\ this\ callback\ is\ being\ attached\ to)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02423}02423\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02424}02424\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02425}02425\ \ \ \ \ \ \ \ \ return\ self.\_on\_pre\_connect}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02426}02426\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02427}02427\ \ \ \ \ @on\_pre\_connect.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02428}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_af6f49c8925250b5a4e10de43094da1f3}{02428}}\ \ \ \ \ def\ on\_pre\_connect(self,\ func:\ CallbackOnPreConnect\ |\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02429}02429\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02430}02430\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_on\_pre\_connect\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02431}02431\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02432}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a3f4e84e8624727e4e2d3f262e9b3a031}{02432}}\ \ \ \ \ def\ pre\_connect\_callback(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02433}02433\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02434}02434\ \ \ \ \ )\ -\/>\ Callable[[CallbackOnPreConnect],\ CallbackOnPreConnect]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02435}02435\ \ \ \ \ \ \ \ \ def\ decorator(func:\ CallbackOnPreConnect)\ -\/>\ CallbackOnPreConnect:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02436}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_afb479c7f75d983903d0ef8c4a8e8e530}{02436}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.on\_pre\_connect\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02437}02437\ \ \ \ \ \ \ \ \ \ \ \ \ return\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02438}02438\ \ \ \ \ \ \ \ \ return\ decorator}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02439}02439\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02440}02440\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02441}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ab9bcf475ea3ff7d7954a56cbf1f08b79}{02441}}\ \ \ \ \ def\ on\_connect(self)\ -\/>\ CallbackOnConnect\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02442}02442\ \ \ \ \ \ \ \ \ "{}"{}"{}The\ callback\ called\ when\ the\ broker\ reponds\ to\ our\ connection\ request.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02443}02443\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02444}02444\ \ \ \ \ \ \ \ \ Expected\ signature\ for\ callback\ API\ version\ 2::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02445}02445\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02446}02446\ \ \ \ \ \ \ \ \ \ \ \ \ connect\_callback(client,\ userdata,\ connect\_flags,\ reason\_code,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02447}02447\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02448}02448\ \ \ \ \ \ \ \ \ Expected\ signature\ for\ callback\ API\ version\ 1\ change\ with\ MQTT\ protocol\ version:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02449}02449\ \ \ \ \ \ \ \ \ \ \ \ \ *\ For\ MQTT\ v3.1\ and\ v3.1.1\ it's::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02450}02450\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02451}02451\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ connect\_callback(client,\ userdata,\ flags,\ rc)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02452}02452\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02453}02453\ \ \ \ \ \ \ \ \ \ \ \ \ *\ For\ MQTT\ v5.0\ it's::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02454}02454\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02455}02455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ connect\_callback(client,\ userdata,\ flags,\ reason\_code,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02456}02456\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02457}02457\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02458}02458\ \ \ \ \ \ \ \ \ :param\ Client\ client:\ the\ client\ instance\ for\ this\ callback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02459}02459\ \ \ \ \ \ \ \ \ :param\ userdata:\ the\ private\ user\ data\ as\ set\ in\ Client()\ or\ user\_data\_set()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02460}02460\ \ \ \ \ \ \ \ \ :param\ ConnectFlags\ connect\_flags:\ the\ flags\ for\ this\ connection}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02461}02461\ \ \ \ \ \ \ \ \ :param\ ReasonCode\ reason\_code:\ the\ connection\ reason\ code\ received\ from\ the\ broken.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02462}02462\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ In\ MQTT\ v5.0\ it's\ the\ reason\ code\ defined\ by\ the\ standard.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02463}02463\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ In\ MQTT\ v3,\ we\ convert\ return\ code\ to\ a\ reason\ code,\ see}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02464}02464\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \`{}convert\_connack\_rc\_to\_reason\_code()\`{}.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02465}02465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \`{}ReasonCode\`{}\ may\ be\ compared\ to\ integer.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02466}02466\ \ \ \ \ \ \ \ \ :param\ Properties\ properties:\ the\ MQTT\ v5.0\ properties\ received\ from\ the\ broker.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02467}02467\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ For\ MQTT\ v3.1\ and\ v3.1.1\ properties\ is\ not\ provided\ and\ an\ empty\ Properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02468}02468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ object\ is\ always\ used.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02469}02469\ \ \ \ \ \ \ \ \ :param\ dict\ flags:\ response\ flags\ sent\ by\ the\ broker}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02470}02470\ \ \ \ \ \ \ \ \ :param\ int\ rc:\ the\ connection\ result,\ should\ have\ a\ value\ of\ \`{}ConnackCode\`{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02471}02471\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02472}02472\ \ \ \ \ \ \ \ \ flags\ is\ a\ dict\ that\ contains\ response\ flags\ from\ the\ broker:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02473}02473\ \ \ \ \ \ \ \ \ \ \ \ \ flags['session\ present']\ -\/\ this\ flag\ is\ useful\ for\ clients\ that\ are}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02474}02474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ using\ clean\ session\ set\ to\ 0\ only.\ If\ a\ client\ with\ clean}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02475}02475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ session=0,\ that\ reconnects\ to\ a\ broker\ that\ it\ has\ previously}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02476}02476\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ connected\ to,\ this\ flag\ indicates\ whether\ the\ broker\ still\ has\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02477}02477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ session\ information\ for\ the\ client.\ If\ 1,\ the\ session\ still\ exists.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02478}02478\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02479}02479\ \ \ \ \ \ \ \ \ The\ value\ of\ rc\ indicates\ success\ or\ not:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02480}02480\ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ 0:\ Connection\ successful}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02481}02481\ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ 1:\ Connection\ refused\ -\/\ incorrect\ protocol\ version}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02482}02482\ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ 2:\ Connection\ refused\ -\/\ invalid\ client\ identifier}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02483}02483\ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ 3:\ Connection\ refused\ -\/\ server\ unavailable}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02484}02484\ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ 4:\ Connection\ refused\ -\/\ bad\ username\ or\ password}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02485}02485\ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ 5:\ Connection\ refused\ -\/\ not\ authorised}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02486}02486\ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ 6-\/255:\ Currently\ unused.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02487}02487\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02488}02488\ \ \ \ \ \ \ \ \ Decorator:\ @client.connect\_callback()\ (\`{}\`{}client\`{}\`{}\ is\ the\ name\ of\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02489}02489\ \ \ \ \ \ \ \ \ \ \ \ \ instance\ which\ this\ callback\ is\ being\ attached\ to)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02490}02490\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02491}02491\ \ \ \ \ \ \ \ \ return\ self.\_on\_connect}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02492}02492\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02493}02493\ \ \ \ \ @on\_connect.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02494}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_af1050a135429b771de5d1c1ea165638b}{02494}}\ \ \ \ \ def\ on\_connect(self,\ func:\ CallbackOnConnect\ |\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02495}02495\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02496}02496\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_on\_connect\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02497}02497\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02498}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a9c9b75dfac2cf644bfe8ad37020f943d}{02498}}\ \ \ \ \ def\ connect\_callback(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02499}02499\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02500}02500\ \ \ \ \ )\ -\/>\ Callable[[CallbackOnConnect],\ CallbackOnConnect]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02501}02501\ \ \ \ \ \ \ \ \ def\ decorator(func:\ CallbackOnConnect)\ -\/>\ CallbackOnConnect:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02502}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a6ac2e0db13b5612e180c078d31ce4e88}{02502}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.on\_connect\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02503}02503\ \ \ \ \ \ \ \ \ \ \ \ \ return\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02504}02504\ \ \ \ \ \ \ \ \ return\ decorator}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02505}02505\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02506}02506\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02507}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a9af6a91990ec59ded75667fdae37f873}{02507}}\ \ \ \ \ def\ on\_connect\_fail(self)\ -\/>\ CallbackOnConnectFail\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02508}02508\ \ \ \ \ \ \ \ \ "{}"{}"{}The\ callback\ called\ when\ the\ client\ failed\ to\ connect}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02509}02509\ \ \ \ \ \ \ \ \ to\ the\ broker.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02510}02510\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02511}02511\ \ \ \ \ \ \ \ \ Expected\ signature\ is\ (for\ all\ callback\_api\_version)::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02512}02512\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02513}02513\ \ \ \ \ \ \ \ \ \ \ \ \ connect\_fail\_callback(client,\ userdata)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02514}02514\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02515}02515\ \ \ \ \ \ \ \ \ :param\ Client\ client:\ the\ client\ instance\ for\ this\ callback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02516}02516\ \ \ \ \ \ \ \ \ :parama\ userdata:\ the\ private\ user\ data\ as\ set\ in\ Client()\ or\ user\_data\_set()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02517}02517\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02518}02518\ \ \ \ \ \ \ \ \ Decorator:\ @client.connect\_fail\_callback()\ (\`{}\`{}client\`{}\`{}\ is\ the\ name\ of\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02519}02519\ \ \ \ \ \ \ \ \ \ \ \ \ instance\ which\ this\ callback\ is\ being\ attached\ to)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02520}02520\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02521}02521\ \ \ \ \ \ \ \ \ return\ self.\_on\_connect\_fail}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02522}02522\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02523}02523\ \ \ \ \ @on\_connect\_fail.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02524}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ab3bb381f507926e80a028d713fab04f6}{02524}}\ \ \ \ \ def\ on\_connect\_fail(self,\ func:\ CallbackOnConnectFail\ |\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02525}02525\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02526}02526\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_on\_connect\_fail\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02527}02527\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02528}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a1bbc8b72ab75c216005e99f8b7cc894b}{02528}}\ \ \ \ \ def\ connect\_fail\_callback(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02529}02529\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02530}02530\ \ \ \ \ )\ -\/>\ Callable[[CallbackOnConnectFail],\ CallbackOnConnectFail]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02531}02531\ \ \ \ \ \ \ \ \ def\ decorator(func:\ CallbackOnConnectFail)\ -\/>\ CallbackOnConnectFail:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02532}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_af404e68a36aa7a70cce8ab095f5ab2b9}{02532}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.on\_connect\_fail\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02533}02533\ \ \ \ \ \ \ \ \ \ \ \ \ return\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02534}02534\ \ \ \ \ \ \ \ \ return\ decorator}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02535}02535\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02536}02536\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02537}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a7fab243de92079e35852165473e3b39c}{02537}}\ \ \ \ \ def\ on\_subscribe(self)\ -\/>\ CallbackOnSubscribe\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02538}02538\ \ \ \ \ \ \ \ \ "{}"{}"{}The\ callback\ called\ when\ the\ broker\ responds\ to\ a\ subscribe}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02539}02539\ \ \ \ \ \ \ \ \ request.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02540}02540\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02541}02541\ \ \ \ \ \ \ \ \ Expected\ signature\ for\ callback\ API\ version\ 2::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02542}02542\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02543}02543\ \ \ \ \ \ \ \ \ \ \ \ \ subscribe\_callback(client,\ userdata,\ mid,\ reason\_code\_list,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02544}02544\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02545}02545\ \ \ \ \ \ \ \ \ Expected\ signature\ for\ callback\ API\ version\ 1\ change\ with\ MQTT\ protocol\ version:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02546}02546\ \ \ \ \ \ \ \ \ \ \ \ \ *\ For\ MQTT\ v3.1\ and\ v3.1.1\ it's::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02547}02547\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02548}02548\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ subscribe\_callback(client,\ userdata,\ mid,\ granted\_qos)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02549}02549\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02550}02550\ \ \ \ \ \ \ \ \ \ \ \ \ *\ For\ MQTT\ v5.0\ it's::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02551}02551\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02552}02552\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ subscribe\_callback(client,\ userdata,\ mid,\ reason\_code\_list,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02553}02553\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02554}02554\ \ \ \ \ \ \ \ \ :param\ Client\ client:\ the\ client\ instance\ for\ this\ callback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02555}02555\ \ \ \ \ \ \ \ \ :param\ userdata:\ the\ private\ user\ data\ as\ set\ in\ Client()\ or\ user\_data\_set()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02556}02556\ \ \ \ \ \ \ \ \ :param\ int\ mid:\ matches\ the\ mid\ variable\ returned\ from\ the\ corresponding}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02557}02557\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ subscribe()\ call.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02558}02558\ \ \ \ \ \ \ \ \ :param\ list[ReasonCode]\ reason\_code\_list:\ reason\ codes\ received\ from\ the\ broker\ for\ each\ subscription.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02559}02559\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ In\ MQTT\ v5.0\ it's\ the\ reason\ code\ defined\ by\ the\ standard.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02560}02560\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ In\ MQTT\ v3,\ we\ convert\ granted\ QoS\ to\ a\ reason\ code.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02561}02561\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ It's\ a\ list\ of\ ReasonCode\ instances.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02562}02562\ \ \ \ \ \ \ \ \ :param\ Properties\ properties:\ the\ MQTT\ v5.0\ properties\ received\ from\ the\ broker.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02563}02563\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ For\ MQTT\ v3.1\ and\ v3.1.1\ properties\ is\ not\ provided\ and\ an\ empty\ Properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02564}02564\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ object\ is\ always\ used.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02565}02565\ \ \ \ \ \ \ \ \ :param\ list[int]\ granted\_qos:\ list\ of\ integers\ that\ give\ the\ QoS\ level\ the\ broker\ has}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02566}02566\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ granted\ for\ each\ of\ the\ different\ subscription\ requests.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02567}02567\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02568}02568\ \ \ \ \ \ \ \ \ Decorator:\ @client.subscribe\_callback()\ (\`{}\`{}client\`{}\`{}\ is\ the\ name\ of\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02569}02569\ \ \ \ \ \ \ \ \ \ \ \ \ instance\ which\ this\ callback\ is\ being\ attached\ to)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02570}02570\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02571}02571\ \ \ \ \ \ \ \ \ return\ self.\_on\_subscribe}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02572}02572\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02573}02573\ \ \ \ \ @on\_subscribe.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02574}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a142d3c9085ea1b491c19b9ca303e5059}{02574}}\ \ \ \ \ def\ on\_subscribe(self,\ func:\ CallbackOnSubscribe\ |\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02575}02575\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02576}02576\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_on\_subscribe\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02577}02577\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02578}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a0b4e8d2fdea7b08371b093d4734cfc92}{02578}}\ \ \ \ \ def\ subscribe\_callback(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02579}02579\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02580}02580\ \ \ \ \ )\ -\/>\ Callable[[CallbackOnSubscribe],\ CallbackOnSubscribe]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02581}02581\ \ \ \ \ \ \ \ \ def\ decorator(func:\ CallbackOnSubscribe)\ -\/>\ CallbackOnSubscribe:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02582}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aeb04093172e4e37989b8760544ffe4ee}{02582}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.on\_subscribe\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02583}02583\ \ \ \ \ \ \ \ \ \ \ \ \ return\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02584}02584\ \ \ \ \ \ \ \ \ return\ decorator}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02585}02585\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02586}02586\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02587}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a03188384b44374bb5756ea439548197b}{02587}}\ \ \ \ \ def\ on\_message(self)\ -\/>\ CallbackOnMessage\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02588}02588\ \ \ \ \ \ \ \ \ "{}"{}"{}The\ callback\ called\ when\ a\ message\ has\ been\ received\ on\ a\ topic}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02589}02589\ \ \ \ \ \ \ \ \ that\ the\ client\ subscribes\ to.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02590}02590\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02591}02591\ \ \ \ \ \ \ \ \ This\ callback\ will\ be\ called\ for\ every\ message\ received\ unless\ a}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02592}02592\ \ \ \ \ \ \ \ \ \`{}message\_callback\_add()\`{}\ matched\ the\ message.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02593}02593\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02594}02594\ \ \ \ \ \ \ \ \ Expected\ signature\ is\ (for\ all\ callback\ API\ version):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02595}02595\ \ \ \ \ \ \ \ \ \ \ \ \ message\_callback(client,\ userdata,\ message)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02596}02596\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02597}02597\ \ \ \ \ \ \ \ \ :param\ Client\ client:\ the\ client\ instance\ for\ this\ callback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02598}02598\ \ \ \ \ \ \ \ \ :param\ userdata:\ the\ private\ user\ data\ as\ set\ in\ Client()\ or\ user\_data\_set()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02599}02599\ \ \ \ \ \ \ \ \ :param\ MQTTMessage\ message:\ the\ received\ message.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02600}02600\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ This\ is\ a\ class\ with\ members\ topic,\ payload,\ qos,\ retain.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02601}02601\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02602}02602\ \ \ \ \ \ \ \ \ Decorator:\ @client.message\_callback()\ (\`{}\`{}client\`{}\`{}\ is\ the\ name\ of\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02603}02603\ \ \ \ \ \ \ \ \ \ \ \ \ instance\ which\ this\ callback\ is\ being\ attached\ to)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02604}02604\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02605}02605\ \ \ \ \ \ \ \ \ return\ self.\_on\_message}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02606}02606\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02607}02607\ \ \ \ \ @on\_message.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02608}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ac16e83728390e22224af97347e6d1e0c}{02608}}\ \ \ \ \ def\ on\_message(self,\ func:\ CallbackOnMessage\ |\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02609}02609\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02610}02610\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_on\_message\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02611}02611\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02612}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a45d6b5edd9764f2a632475eb12344cfb}{02612}}\ \ \ \ \ def\ message\_callback(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02613}02613\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02614}02614\ \ \ \ \ )\ -\/>\ Callable[[CallbackOnMessage],\ CallbackOnMessage]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02615}02615\ \ \ \ \ \ \ \ \ def\ decorator(func:\ CallbackOnMessage)\ -\/>\ CallbackOnMessage:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02616}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a27c740e92bf31007ce46617a831fff1e}{02616}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.on\_message\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02617}02617\ \ \ \ \ \ \ \ \ \ \ \ \ return\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02618}02618\ \ \ \ \ \ \ \ \ return\ decorator}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02619}02619\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02620}02620\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02621}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a175e475ea8c53251f012c2d81782b442}{02621}}\ \ \ \ \ def\ on\_publish(self)\ -\/>\ CallbackOnPublish\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02622}02622\ \ \ \ \ \ \ \ \ "{}"{}"{}The\ callback\ called\ when\ a\ message\ that\ was\ to\ be\ sent\ using\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02623}02623\ \ \ \ \ \ \ \ \ \`{}publish()\`{}\ call\ has\ completed\ transmission\ to\ the\ broker.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02624}02624\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02625}02625\ \ \ \ \ \ \ \ \ For\ messages\ with\ QoS\ levels\ 1\ and\ 2,\ this\ means\ that\ the\ appropriate}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02626}02626\ \ \ \ \ \ \ \ \ handshakes\ have\ completed.\ For\ QoS\ 0,\ this\ simply\ means\ that\ the\ message}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02627}02627\ \ \ \ \ \ \ \ \ has\ left\ the\ client.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02628}02628\ \ \ \ \ \ \ \ \ This\ callback\ is\ important\ because\ even\ if\ the\ \`{}publish()\`{}\ call\ returns}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02629}02629\ \ \ \ \ \ \ \ \ success,\ it\ does\ not\ always\ mean\ that\ the\ message\ has\ been\ sent.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02630}02630\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02631}02631\ \ \ \ \ \ \ \ \ See\ also\ \`{}wait\_for\_publish\`{}\ which\ could\ be\ simpler\ to\ use.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02632}02632\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02633}02633\ \ \ \ \ \ \ \ \ Expected\ signature\ for\ callback\ API\ version\ 2::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02634}02634\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02635}02635\ \ \ \ \ \ \ \ \ \ \ \ \ publish\_callback(client,\ userdata,\ mid,\ reason\_code,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02636}02636\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02637}02637\ \ \ \ \ \ \ \ \ Expected\ signature\ for\ callback\ API\ version\ 1::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02638}02638\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02639}02639\ \ \ \ \ \ \ \ \ \ \ \ \ publish\_callback(client,\ userdata,\ mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02640}02640\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02641}02641\ \ \ \ \ \ \ \ \ :param\ Client\ client:\ the\ client\ instance\ for\ this\ callback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02642}02642\ \ \ \ \ \ \ \ \ :param\ userdata:\ the\ private\ user\ data\ as\ set\ in\ Client()\ or\ user\_data\_set()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02643}02643\ \ \ \ \ \ \ \ \ :param\ int\ mid:\ matches\ the\ mid\ variable\ returned\ from\ the\ corresponding}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02644}02644\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \`{}publish()\`{}\ call,\ to\ allow\ outgoing\ messages\ to\ be\ tracked.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02645}02645\ \ \ \ \ \ \ \ \ :param\ ReasonCode\ reason\_code:\ the\ connection\ reason\ code\ received\ from\ the\ broken.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02646}02646\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ In\ MQTT\ v5.0\ it's\ the\ reason\ code\ defined\ by\ the\ standard.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02647}02647\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ In\ MQTT\ v3\ it's\ always\ the\ reason\ code\ Success}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02648}02648\ \ \ \ \ \ \ \ \ :parama\ Properties\ properties:\ the\ MQTT\ v5.0\ properties\ received\ from\ the\ broker.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02649}02649\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ For\ MQTT\ v3.1\ and\ v3.1.1\ properties\ is\ not\ provided\ and\ an\ empty\ Properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02650}02650\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ object\ is\ always\ used.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02651}02651\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02652}02652\ \ \ \ \ \ \ \ \ Note:\ for\ QoS\ =\ 0,\ the\ reason\_code\ and\ the\ properties\ don't\ really\ exist,\ it's\ the\ client}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02653}02653\ \ \ \ \ \ \ \ \ library\ that\ generate\ them.\ It's\ always\ an\ empty\ properties\ and\ a\ success\ reason\ code.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02654}02654\ \ \ \ \ \ \ \ \ Because\ the\ (MQTTv5)\ standard\ don't\ have\ reason\ code\ for\ PUBLISH\ packet,\ the\ library\ create\ them}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02655}02655\ \ \ \ \ \ \ \ \ at\ PUBACK\ packet,\ as\ if\ the\ message\ was\ sent\ with\ QoS\ =\ 1.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02656}02656\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02657}02657\ \ \ \ \ \ \ \ \ Decorator:\ @client.publish\_callback()\ (\`{}\`{}client\`{}\`{}\ is\ the\ name\ of\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02658}02658\ \ \ \ \ \ \ \ \ \ \ \ \ instance\ which\ this\ callback\ is\ being\ attached\ to)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02659}02659\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02660}02660\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02661}02661\ \ \ \ \ \ \ \ \ return\ self.\_on\_publish}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02662}02662\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02663}02663\ \ \ \ \ @on\_publish.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02664}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a958cfdb82aaf3adec37b215dfa8f6e61}{02664}}\ \ \ \ \ def\ on\_publish(self,\ func:\ CallbackOnPublish\ |\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02665}02665\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02666}02666\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_on\_publish\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02667}02667\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02668}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a101f17733a42df20eb578895fe2c776a}{02668}}\ \ \ \ \ def\ publish\_callback(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02669}02669\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02670}02670\ \ \ \ \ )\ -\/>\ Callable[[CallbackOnPublish],\ CallbackOnPublish]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02671}02671\ \ \ \ \ \ \ \ \ def\ decorator(func:\ CallbackOnPublish)\ -\/>\ CallbackOnPublish:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02672}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aed945eccb6d94accec97db9afe1428c5}{02672}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.on\_publish\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02673}02673\ \ \ \ \ \ \ \ \ \ \ \ \ return\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02674}02674\ \ \ \ \ \ \ \ \ return\ decorator}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02675}02675\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02676}02676\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02677}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a4a5ba8d0e31eb94c5d1c06b21b494c39}{02677}}\ \ \ \ \ def\ on\_unsubscribe(self)\ -\/>\ CallbackOnUnsubscribe\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02678}02678\ \ \ \ \ \ \ \ \ "{}"{}"{}The\ callback\ called\ when\ the\ broker\ responds\ to\ an\ unsubscribe}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02679}02679\ \ \ \ \ \ \ \ \ request.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02680}02680\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02681}02681\ \ \ \ \ \ \ \ \ Expected\ signature\ for\ callback\ API\ version\ 2::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02682}02682\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02683}02683\ \ \ \ \ \ \ \ \ \ \ \ \ unsubscribe\_callback(client,\ userdata,\ mid,\ reason\_code\_list,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02684}02684\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02685}02685\ \ \ \ \ \ \ \ \ Expected\ signature\ for\ callback\ API\ version\ 1\ change\ with\ MQTT\ protocol\ version:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02686}02686\ \ \ \ \ \ \ \ \ \ \ \ \ *\ For\ MQTT\ v3.1\ and\ v3.1.1\ it's::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02687}02687\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02688}02688\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ unsubscribe\_callback(client,\ userdata,\ mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02689}02689\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02690}02690\ \ \ \ \ \ \ \ \ \ \ \ \ *\ For\ MQTT\ v5.0\ it's::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02691}02691\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02692}02692\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ unsubscribe\_callback(client,\ userdata,\ mid,\ properties,\ v1\_reason\_codes)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02693}02693\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02694}02694\ \ \ \ \ \ \ \ \ :param\ Client\ client:\ the\ client\ instance\ for\ this\ callback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02695}02695\ \ \ \ \ \ \ \ \ :param\ userdata:\ the\ private\ user\ data\ as\ set\ in\ Client()\ or\ user\_data\_set()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02696}02696\ \ \ \ \ \ \ \ \ :param\ mid:\ matches\ the\ mid\ variable\ returned\ from\ the\ corresponding}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02697}02697\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ unsubscribe()\ call.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02698}02698\ \ \ \ \ \ \ \ \ :param\ list[ReasonCode]\ reason\_code\_list:\ reason\ codes\ received\ from\ the\ broker\ for\ each\ unsubscription.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02699}02699\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ In\ MQTT\ v5.0\ it's\ the\ reason\ code\ defined\ by\ the\ standard.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02700}02700\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ In\ MQTT\ v3,\ there\ is\ not\ equivalent\ from\ broken\ and\ empty\ list}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02701}02701\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is\ always\ used.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02702}02702\ \ \ \ \ \ \ \ \ :param\ Properties\ properties:\ the\ MQTT\ v5.0\ properties\ received\ from\ the\ broker.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02703}02703\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ For\ MQTT\ v3.1\ and\ v3.1.1\ properties\ is\ not\ provided\ and\ an\ empty\ Properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02704}02704\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ object\ is\ always\ used.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02705}02705\ \ \ \ \ \ \ \ \ :param\ v1\_reason\_codes:\ the\ MQTT\ v5.0\ reason\ codes\ received\ from\ the\ broker\ for\ each}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02706}02706\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ unsubscribe\ topic.\ \ A\ list\ of\ ReasonCode\ instances\ OR\ a\ single}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02707}02707\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReasonCode\ when\ we\ unsubscribe\ from\ a\ single\ topic.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02708}02708\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02709}02709\ \ \ \ \ \ \ \ \ Decorator:\ @client.unsubscribe\_callback()\ (\`{}\`{}client\`{}\`{}\ is\ the\ name\ of\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02710}02710\ \ \ \ \ \ \ \ \ \ \ \ \ instance\ which\ this\ callback\ is\ being\ attached\ to)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02711}02711\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02712}02712\ \ \ \ \ \ \ \ \ return\ self.\_on\_unsubscribe}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02713}02713\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02714}02714\ \ \ \ \ @on\_unsubscribe.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02715}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a8ac5e9c42557262c8c93beb199c9d32b}{02715}}\ \ \ \ \ def\ on\_unsubscribe(self,\ func:\ CallbackOnUnsubscribe\ |\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02716}02716\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02717}02717\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_on\_unsubscribe\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02718}02718\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02719}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a2a42945bab58fa44bc87d4f8d05643ad}{02719}}\ \ \ \ \ def\ unsubscribe\_callback(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02720}02720\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02721}02721\ \ \ \ \ )\ -\/>\ Callable[[CallbackOnUnsubscribe],\ CallbackOnUnsubscribe]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02722}02722\ \ \ \ \ \ \ \ \ def\ decorator(func:\ CallbackOnUnsubscribe)\ -\/>\ CallbackOnUnsubscribe:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02723}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a5038ba979ec813e741a1802170b66b91}{02723}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.on\_unsubscribe\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02724}02724\ \ \ \ \ \ \ \ \ \ \ \ \ return\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02725}02725\ \ \ \ \ \ \ \ \ return\ decorator}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02726}02726\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02727}02727\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02728}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ac479c4f2fcac329452532e70eef4562f}{02728}}\ \ \ \ \ def\ on\_disconnect(self)\ -\/>\ CallbackOnDisconnect\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02729}02729\ \ \ \ \ \ \ \ \ "{}"{}"{}The\ callback\ called\ when\ the\ client\ disconnects\ from\ the\ broker.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02730}02730\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02731}02731\ \ \ \ \ \ \ \ \ Expected\ signature\ for\ callback\ API\ version\ 2::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02732}02732\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02733}02733\ \ \ \ \ \ \ \ \ \ \ \ \ disconnect\_callback(client,\ userdata,\ disconnect\_flags,\ reason\_code,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02734}02734\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02735}02735\ \ \ \ \ \ \ \ \ Expected\ signature\ for\ callback\ API\ version\ 1\ change\ with\ MQTT\ protocol\ version:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02736}02736\ \ \ \ \ \ \ \ \ \ \ \ \ *\ For\ MQTT\ v3.1\ and\ v3.1.1\ it's::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02737}02737\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02738}02738\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ disconnect\_callback(client,\ userdata,\ rc)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02739}02739\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02740}02740\ \ \ \ \ \ \ \ \ \ \ \ \ *\ For\ MQTT\ v5.0\ it's::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02741}02741\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02742}02742\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ disconnect\_callback(client,\ userdata,\ reason\_code,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02743}02743\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02744}02744\ \ \ \ \ \ \ \ \ :param\ Client\ client:\ the\ client\ instance\ for\ this\ callback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02745}02745\ \ \ \ \ \ \ \ \ :param\ userdata:\ \ the\ private\ user\ data\ as\ set\ in\ Client()\ or\ user\_data\_set()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02746}02746\ \ \ \ \ \ \ \ \ :param\ DisconnectFlag\ disconnect\_flags:\ the\ flags\ for\ this\ disconnection.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02747}02747\ \ \ \ \ \ \ \ \ :param\ ReasonCode\ reason\_code:\ \ the\ disconnection\ reason\ code\ possibly\ received\ from\ the\ broker\ (see\ disconnect\_flags).}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02748}02748\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ In\ MQTT\ v5.0\ it's\ the\ reason\ code\ defined\ by\ the\ standard.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02749}02749\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ In\ MQTT\ v3\ it's\ never\ received\ from\ the\ broker,\ we\ convert\ an\ MQTTErrorCode,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02750}02750\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ see\ \`{}convert\_disconnect\_error\_code\_to\_reason\_code()\`{}.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02751}02751\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \`{}ReasonCode\`{}\ may\ be\ compared\ to\ integer.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02752}02752\ \ \ \ \ \ \ \ \ :param\ Properties\ properties:\ the\ MQTT\ v5.0\ properties\ received\ from\ the\ broker.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02753}02753\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ For\ MQTT\ v3.1\ and\ v3.1.1\ properties\ is\ not\ provided\ and\ an\ empty\ Properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02754}02754\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ object\ is\ always\ used.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02755}02755\ \ \ \ \ \ \ \ \ :param\ int\ rc:\ the\ disconnection\ result}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02756}02756\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ The\ rc\ parameter\ indicates\ the\ disconnection\ state.\ If}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02757}02757\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_ERR\_SUCCESS\ (0),\ the\ callback\ was\ called\ in\ response\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02758}02758\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\ disconnect()\ call.\ If\ any\ other\ value\ the\ disconnection}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02759}02759\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ was\ unexpected,\ such\ as\ might\ be\ caused\ by\ a\ network\ error.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02760}02760\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02761}02761\ \ \ \ \ \ \ \ \ Decorator:\ @client.disconnect\_callback()\ (\`{}\`{}client\`{}\`{}\ is\ the\ name\ of\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02762}02762\ \ \ \ \ \ \ \ \ \ \ \ \ instance\ which\ this\ callback\ is\ being\ attached\ to)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02763}02763\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02764}02764\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02765}02765\ \ \ \ \ \ \ \ \ return\ self.\_on\_disconnect}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02766}02766\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02767}02767\ \ \ \ \ @on\_disconnect.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02768}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a95a92b1e131fa6aa38c2f7fc2c4ade90}{02768}}\ \ \ \ \ def\ on\_disconnect(self,\ func:\ CallbackOnDisconnect\ |\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02769}02769\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02770}02770\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_on\_disconnect\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02771}02771\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02772}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_add8b585abc7e3624d6ffe8657f4f8aec}{02772}}\ \ \ \ \ def\ disconnect\_callback(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02773}02773\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02774}02774\ \ \ \ \ )\ -\/>\ Callable[[CallbackOnDisconnect],\ CallbackOnDisconnect]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02775}02775\ \ \ \ \ \ \ \ \ def\ decorator(func:\ CallbackOnDisconnect)\ -\/>\ CallbackOnDisconnect:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02776}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a4d7994580c7c87e5cab27dfb79278b49}{02776}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.on\_disconnect\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02777}02777\ \ \ \ \ \ \ \ \ \ \ \ \ return\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02778}02778\ \ \ \ \ \ \ \ \ return\ decorator}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02779}02779\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02780}02780\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02781}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a04b92c19ef3ac76e21616b9f9b4c10f6}{02781}}\ \ \ \ \ def\ on\_socket\_open(self)\ -\/>\ CallbackOnSocket\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02782}02782\ \ \ \ \ \ \ \ \ "{}"{}"{}The\ callback\ called\ just\ after\ the\ socket\ was\ opend.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02783}02783\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02784}02784\ \ \ \ \ \ \ \ \ This\ should\ be\ used\ to\ register\ the\ socket\ to\ an\ external\ event\ loop\ for\ reading.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02785}02785\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02786}02786\ \ \ \ \ \ \ \ \ Expected\ signature\ is\ (for\ all\ callback\ API\ version)::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02787}02787\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02788}02788\ \ \ \ \ \ \ \ \ \ \ \ \ socket\_open\_callback(client,\ userdata,\ socket)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02789}02789\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02790}02790\ \ \ \ \ \ \ \ \ :param\ Client\ client:\ \ \ \ \ the\ client\ instance\ for\ this\ callback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02791}02791\ \ \ \ \ \ \ \ \ :param\ userdata:\ \ \ the\ private\ user\ data\ as\ set\ in\ Client()\ or\ user\_data\_set()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02792}02792\ \ \ \ \ \ \ \ \ :param\ SocketLike\ sock:\ the\ socket\ which\ was\ just\ opened.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02793}02793\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02794}02794\ \ \ \ \ \ \ \ \ Decorator:\ @client.socket\_open\_callback()\ (\`{}\`{}client\`{}\`{}\ is\ the\ name\ of\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02795}02795\ \ \ \ \ \ \ \ \ \ \ \ \ instance\ which\ this\ callback\ is\ being\ attached\ to)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02796}02796\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02797}02797\ \ \ \ \ \ \ \ \ return\ self.\_on\_socket\_open}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02798}02798\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02799}02799\ \ \ \ \ @on\_socket\_open.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02800}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a0c9fdea045745d4c1ca5262802f5c63a}{02800}}\ \ \ \ \ def\ on\_socket\_open(self,\ func:\ CallbackOnSocket\ |\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02801}02801\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02802}02802\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_on\_socket\_open\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02803}02803\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02804}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a42c964efe92512cfda165accf05d2f2a}{02804}}\ \ \ \ \ def\ socket\_open\_callback(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02805}02805\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02806}02806\ \ \ \ \ )\ -\/>\ Callable[[CallbackOnSocket],\ CallbackOnSocket]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02807}02807\ \ \ \ \ \ \ \ \ def\ decorator(func:\ CallbackOnSocket)\ -\/>\ CallbackOnSocket:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02808}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a14c21fb5d650ecfcb985e1001f93d36f}{02808}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.on\_socket\_open\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02809}02809\ \ \ \ \ \ \ \ \ \ \ \ \ return\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02810}02810\ \ \ \ \ \ \ \ \ return\ decorator}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02811}02811\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02812}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ae667e30c290fc830a80e873a0657d508}{02812}}\ \ \ \ \ def\ \_call\_socket\_open(self,\ sock:\ SocketLike)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02813}02813\ \ \ \ \ \ \ \ \ "{}"{}"{}Call\ the\ socket\_open\ callback\ with\ the\ just-\/opened\ socket"{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02814}02814\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02815}02815\ \ \ \ \ \ \ \ \ \ \ \ \ on\_socket\_open\ =\ self.on\_socket\_open}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02816}02816\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02817}02817\ \ \ \ \ \ \ \ \ if\ on\_socket\_open:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02818}02818\ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_in\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02819}02819\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02820}02820\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_socket\_open(self,\ self.\_userdata,\ sock)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02821}02821\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02822}02822\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02823}02823\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'Caught\ exception\ in\ on\_socket\_open:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02824}02824\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ self.suppress\_exceptions:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02825}02825\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02826}02826\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02827}02827\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02828}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a549dba27a4052d069fdc83611d5500cc}{02828}}\ \ \ \ \ def\ on\_socket\_close(self)\ -\/>\ CallbackOnSocket\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02829}02829\ \ \ \ \ \ \ \ \ "{}"{}"{}The\ callback\ called\ just\ before\ the\ socket\ is\ closed.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02830}02830\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02831}02831\ \ \ \ \ \ \ \ \ This\ should\ be\ used\ to\ unregister\ the\ socket\ from\ an\ external\ event\ loop\ for\ reading.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02832}02832\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02833}02833\ \ \ \ \ \ \ \ \ Expected\ signature\ is\ (for\ all\ callback\ API\ version)::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02834}02834\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02835}02835\ \ \ \ \ \ \ \ \ \ \ \ \ socket\_close\_callback(client,\ userdata,\ socket)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02836}02836\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02837}02837\ \ \ \ \ \ \ \ \ :param\ Client\ client:\ the\ client\ instance\ for\ this\ callback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02838}02838\ \ \ \ \ \ \ \ \ :param\ userdata:\ the\ private\ user\ data\ as\ set\ in\ Client()\ or\ user\_data\_set()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02839}02839\ \ \ \ \ \ \ \ \ :param\ SocketLike\ sock:\ the\ socket\ which\ is\ about\ to\ be\ closed.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02840}02840\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02841}02841\ \ \ \ \ \ \ \ \ Decorator:\ @client.socket\_close\_callback()\ (\`{}\`{}client\`{}\`{}\ is\ the\ name\ of\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02842}02842\ \ \ \ \ \ \ \ \ \ \ \ \ instance\ which\ this\ callback\ is\ being\ attached\ to)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02843}02843\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02844}02844\ \ \ \ \ \ \ \ \ return\ self.\_on\_socket\_close}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02845}02845\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02846}02846\ \ \ \ \ @on\_socket\_close.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02847}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ae55cb9c5e5caf98d04f301bd1fa343e0}{02847}}\ \ \ \ \ def\ on\_socket\_close(self,\ func:\ CallbackOnSocket\ |\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02848}02848\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02849}02849\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_on\_socket\_close\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02850}02850\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02851}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a97ea78cec3e79f1420f2cf8f51d6b6c8}{02851}}\ \ \ \ \ def\ socket\_close\_callback(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02852}02852\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02853}02853\ \ \ \ \ )\ -\/>\ Callable[[CallbackOnSocket],\ CallbackOnSocket]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02854}02854\ \ \ \ \ \ \ \ \ def\ decorator(func:\ CallbackOnSocket)\ -\/>\ CallbackOnSocket:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02855}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ad4c3bd86a0c197e2e281d8298fd44094}{02855}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.on\_socket\_close\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02856}02856\ \ \ \ \ \ \ \ \ \ \ \ \ return\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02857}02857\ \ \ \ \ \ \ \ \ return\ decorator}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02858}02858\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02859}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_af0764d207253ea83c19a69663babcb97}{02859}}\ \ \ \ \ def\ \_call\_socket\_close(self,\ sock:\ SocketLike)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02860}02860\ \ \ \ \ \ \ \ \ "{}"{}"{}Call\ the\ socket\_close\ callback\ with\ the\ about-\/to-\/be-\/closed\ socket"{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02861}02861\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02862}02862\ \ \ \ \ \ \ \ \ \ \ \ \ on\_socket\_close\ =\ self.on\_socket\_close}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02863}02863\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02864}02864\ \ \ \ \ \ \ \ \ if\ on\_socket\_close:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02865}02865\ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_in\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02866}02866\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02867}02867\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_socket\_close(self,\ self.\_userdata,\ sock)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02868}02868\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02869}02869\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02870}02870\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'Caught\ exception\ in\ on\_socket\_close:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02871}02871\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ self.suppress\_exceptions:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02872}02872\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02873}02873\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02874}02874\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02875}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a251c82966add86932f67ba5d0fbd62f0}{02875}}\ \ \ \ \ def\ on\_socket\_register\_write(self)\ -\/>\ CallbackOnSocket\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02876}02876\ \ \ \ \ \ \ \ \ "{}"{}"{}The\ callback\ called\ when\ the\ socket\ needs\ writing\ but\ can't.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02877}02877\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02878}02878\ \ \ \ \ \ \ \ \ This\ should\ be\ used\ to\ register\ the\ socket\ with\ an\ external\ event\ loop\ for\ writing.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02879}02879\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02880}02880\ \ \ \ \ \ \ \ \ Expected\ signature\ is\ (for\ all\ callback\ API\ version)::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02881}02881\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02882}02882\ \ \ \ \ \ \ \ \ \ \ \ \ socket\_register\_write\_callback(client,\ userdata,\ socket)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02883}02883\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02884}02884\ \ \ \ \ \ \ \ \ :param\ Client\ client:\ the\ client\ instance\ for\ this\ callback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02885}02885\ \ \ \ \ \ \ \ \ :param\ userdata:\ the\ private\ user\ data\ as\ set\ in\ Client()\ or\ user\_data\_set()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02886}02886\ \ \ \ \ \ \ \ \ :param\ SocketLike\ sock:\ the\ socket\ which\ should\ be\ registered\ for\ writing}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02887}02887\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02888}02888\ \ \ \ \ \ \ \ \ Decorator:\ @client.socket\_register\_write\_callback()\ (\`{}\`{}client\`{}\`{}\ is\ the\ name\ of\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02889}02889\ \ \ \ \ \ \ \ \ \ \ \ \ instance\ which\ this\ callback\ is\ being\ attached\ to)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02890}02890\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02891}02891\ \ \ \ \ \ \ \ \ return\ self.\_on\_socket\_register\_write}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02892}02892\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02893}02893\ \ \ \ \ @on\_socket\_register\_write.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02894}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_add9f570b3b03ee574eec9d8d45ddd9e0}{02894}}\ \ \ \ \ def\ on\_socket\_register\_write(self,\ func:\ CallbackOnSocket\ |\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02895}02895\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02896}02896\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_on\_socket\_register\_write\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02897}02897\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02898}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a0c0c3d734793bea3f2879245a9f5337a}{02898}}\ \ \ \ \ def\ socket\_register\_write\_callback(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02899}02899\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02900}02900\ \ \ \ \ )\ -\/>\ Callable[[CallbackOnSocket],\ CallbackOnSocket]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02901}02901\ \ \ \ \ \ \ \ \ def\ decorator(func:\ CallbackOnSocket)\ -\/>\ CallbackOnSocket:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02902}02902\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_on\_socket\_register\_write\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02903}02903\ \ \ \ \ \ \ \ \ \ \ \ \ return\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02904}02904\ \ \ \ \ \ \ \ \ return\ decorator}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02905}02905\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02906}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_afc9137b17c21fa4b3712215338e29217}{02906}}\ \ \ \ \ def\ \_call\_socket\_register\_write(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02907}02907\ \ \ \ \ \ \ \ \ "{}"{}"{}Call\ the\ socket\_register\_write\ callback\ with\ the\ unwritable\ socket"{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02908}02908\ \ \ \ \ \ \ \ \ if\ not\ self.\_sock\ or\ self.\_registered\_write:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02909}02909\ \ \ \ \ \ \ \ \ \ \ \ \ return}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02910}02910\ \ \ \ \ \ \ \ \ self.\_registered\_write\ =\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02911}02911\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02912}02912\ \ \ \ \ \ \ \ \ \ \ \ \ on\_socket\_register\_write\ =\ self.on\_socket\_register\_write}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02913}02913\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02914}02914\ \ \ \ \ \ \ \ \ if\ on\_socket\_register\_write:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02915}02915\ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02916}02916\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_socket\_register\_write(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02917}02917\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self,\ self.\_userdata,\ self.\_sock)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02918}02918\ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02919}02919\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02920}02920\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'Caught\ exception\ in\ on\_socket\_register\_write:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02921}02921\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ self.suppress\_exceptions:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02922}02922\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02923}02923\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02924}02924\ \ \ \ \ @property}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02925}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a79e5b1d0bdf2e71380375536260e0d66}{02925}}\ \ \ \ \ def\ on\_socket\_unregister\_write(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02926}02926\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02927}02927\ \ \ \ \ )\ -\/>\ CallbackOnSocket\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02928}02928\ \ \ \ \ \ \ \ \ "{}"{}"{}The\ callback\ called\ when\ the\ socket\ doesn't\ need\ writing\ anymore.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02929}02929\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02930}02930\ \ \ \ \ \ \ \ \ This\ should\ be\ used\ to\ unregister\ the\ socket\ from\ an\ external\ event\ loop\ for\ writing.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02931}02931\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02932}02932\ \ \ \ \ \ \ \ \ Expected\ signature\ is\ (for\ all\ callback\ API\ version)::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02933}02933\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02934}02934\ \ \ \ \ \ \ \ \ \ \ \ \ socket\_unregister\_write\_callback(client,\ userdata,\ socket)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02935}02935\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02936}02936\ \ \ \ \ \ \ \ \ :param\ Client\ client:\ the\ client\ instance\ for\ this\ callback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02937}02937\ \ \ \ \ \ \ \ \ :param\ userdata:\ the\ private\ user\ data\ as\ set\ in\ Client()\ or\ user\_data\_set()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02938}02938\ \ \ \ \ \ \ \ \ :param\ SocketLike\ sock:\ the\ socket\ which\ should\ be\ unregistered\ for\ writing}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02939}02939\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02940}02940\ \ \ \ \ \ \ \ \ Decorator:\ @client.socket\_unregister\_write\_callback()\ (\`{}\`{}client\`{}\`{}\ is\ the\ name\ of\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02941}02941\ \ \ \ \ \ \ \ \ \ \ \ \ instance\ which\ this\ callback\ is\ being\ attached\ to)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02942}02942\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02943}02943\ \ \ \ \ \ \ \ \ return\ self.\_on\_socket\_unregister\_write}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02944}02944\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02945}02945\ \ \ \ \ @on\_socket\_unregister\_write.setter}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02946}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a9f5cd884c60c5a93c4c92ae0f7507986}{02946}}\ \ \ \ \ def\ on\_socket\_unregister\_write(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02947}02947\ \ \ \ \ \ \ \ \ self,\ func:\ CallbackOnSocket\ |\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02948}02948\ \ \ \ \ )\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02949}02949\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02950}02950\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_on\_socket\_unregister\_write\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02951}02951\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02952}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a6ea9fca42dc038ca7668a23378b43fab}{02952}}\ \ \ \ \ def\ socket\_unregister\_write\_callback(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02953}02953\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02954}02954\ \ \ \ \ )\ -\/>\ Callable[[CallbackOnSocket],\ CallbackOnSocket]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02955}02955\ \ \ \ \ \ \ \ \ def\ decorator(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02956}02956\ \ \ \ \ \ \ \ \ \ \ \ \ func:\ CallbackOnSocket,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02957}02957\ \ \ \ \ \ \ \ \ )\ -\/>\ CallbackOnSocket:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02958}02958\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_on\_socket\_unregister\_write\ =\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02959}02959\ \ \ \ \ \ \ \ \ \ \ \ \ return\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02960}02960\ \ \ \ \ \ \ \ \ return\ decorator}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02961}02961\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02962}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ac1afc86e685ad720c4ed2d2e71194e89}{02962}}\ \ \ \ \ def\ \_call\_socket\_unregister\_write(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02963}02963\ \ \ \ \ \ \ \ \ self,\ sock:\ SocketLike\ |\ None\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02964}02964\ \ \ \ \ )\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02965}02965\ \ \ \ \ \ \ \ \ "{}"{}"{}Call\ the\ socket\_unregister\_write\ callback\ with\ the\ writable\ socket"{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02966}02966\ \ \ \ \ \ \ \ \ sock\ =\ sock\ or\ self.\_sock}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02967}02967\ \ \ \ \ \ \ \ \ if\ not\ sock\ or\ not\ self.\_registered\_write:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02968}02968\ \ \ \ \ \ \ \ \ \ \ \ \ return}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02969}02969\ \ \ \ \ \ \ \ \ self.\_registered\_write\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02970}02970\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02971}02971\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02972}02972\ \ \ \ \ \ \ \ \ \ \ \ \ on\_socket\_unregister\_write\ =\ self.on\_socket\_unregister\_write}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02973}02973\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02974}02974\ \ \ \ \ \ \ \ \ if\ on\_socket\_unregister\_write:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02975}02975\ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02976}02976\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_socket\_unregister\_write(self,\ self.\_userdata,\ sock)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02977}02977\ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02978}02978\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02979}02979\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'Caught\ exception\ in\ on\_socket\_unregister\_write:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02980}02980\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ self.suppress\_exceptions:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02981}02981\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02982}02982\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02983}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a253426d9ccf28465067f0abe871df05b}{02983}}\ \ \ \ \ def\ message\_callback\_add(self,\ sub:\ str,\ callback:\ CallbackOnMessage)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02984}02984\ \ \ \ \ \ \ \ \ "{}"{}"{}Register\ a\ message\ callback\ for\ a\ specific\ topic.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02985}02985\ \ \ \ \ \ \ \ \ Messages\ that\ match\ 'sub'\ will\ be\ passed\ to\ 'callback'.\ Any}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02986}02986\ \ \ \ \ \ \ \ \ non-\/matching\ messages\ will\ be\ passed\ to\ the\ default\ \`{}on\_message\`{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02987}02987\ \ \ \ \ \ \ \ \ callback.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02988}02988\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02989}02989\ \ \ \ \ \ \ \ \ Call\ multiple\ times\ with\ different\ 'sub'\ to\ define\ multiple\ topic}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02990}02990\ \ \ \ \ \ \ \ \ specific\ callbacks.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02991}02991\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02992}02992\ \ \ \ \ \ \ \ \ Topic\ specific\ callbacks\ may\ be\ removed\ with}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02993}02993\ \ \ \ \ \ \ \ \ \`{}message\_callback\_remove()\`{}.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02994}02994\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02995}02995\ \ \ \ \ \ \ \ \ See\ \`{}on\_message\`{}\ for\ the\ expected\ signature\ of\ the\ callback.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02996}02996\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l02997}02997\ \ \ \ \ \ \ \ \ Decorator:\ @client.topic\_callback(sub)\ (\`{}\`{}client\`{}\`{}\ is\ the\ name\ of\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02998}02998\ \ \ \ \ \ \ \ \ \ \ \ \ instance\ which\ this\ callback\ is\ being\ attached\ to)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l02999}02999\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03000}03000\ \ \ \ \ \ \ \ \ Example::}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03001}03001\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03002}03002\ \ \ \ \ \ \ \ \ \ \ \ \ @client.topic\_callback("{}mytopic/\#"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03003}03003\ \ \ \ \ \ \ \ \ \ \ \ \ def\ handle\_mytopic(client,\ userdata,\ message):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03004}03004\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ...}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03005}03005\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03006}03006\ \ \ \ \ \ \ \ \ if\ callback\ is\ None\ or\ sub\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03007}03007\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}sub\ and\ callback\ must\ both\ be\ defined."{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03008}03008\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03009}03009\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03010}03010\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_on\_message\_filtered[sub]\ =\ callback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03011}03011\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03012}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a04feb430ee1f099e39ebb3cf902f5c49}{03012}}\ \ \ \ \ def\ topic\_callback(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03013}03013\ \ \ \ \ \ \ \ \ self,\ sub:\ str}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03014}03014\ \ \ \ \ )\ -\/>\ Callable[[CallbackOnMessage],\ CallbackOnMessage]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03015}03015\ \ \ \ \ \ \ \ \ def\ decorator(func:\ CallbackOnMessage)\ -\/>\ CallbackOnMessage:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03016}03016\ \ \ \ \ \ \ \ \ \ \ \ \ self.message\_callback\_add(sub,\ func)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03017}03017\ \ \ \ \ \ \ \ \ \ \ \ \ return\ func}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03018}03018\ \ \ \ \ \ \ \ \ return\ decorator}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03019}03019\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03020}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_acbe2606369eca188fb224335f77b4bf1}{03020}}\ \ \ \ \ def\ message\_callback\_remove(self,\ sub:\ str)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03021}03021\ \ \ \ \ \ \ \ \ "{}"{}"{}Remove\ a\ message\ callback\ previously\ registered\ with}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03022}03022\ \ \ \ \ \ \ \ \ \`{}message\_callback\_add()\`{}."{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03023}03023\ \ \ \ \ \ \ \ \ if\ sub\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03024}03024\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}sub\ must\ defined."{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03025}03025\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03026}03026\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03027}03027\ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03028}03028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ del\ self.\_on\_message\_filtered[sub]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03029}03029\ \ \ \ \ \ \ \ \ \ \ \ \ except\ KeyError:\ \ \#\ no\ such\ subscription}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03030}03030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pass}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03031}03031\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03032}03032\ \ \ \ \ \#\ ============================================================}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03033}03033\ \ \ \ \ \#\ Private\ functions}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03034}03034\ \ \ \ \ \#\ ============================================================}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03035}03035\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03036}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a06921176dc7a2126f1fee720fd7c6cce}{03036}}\ \ \ \ \ def\ \_loop\_rc\_handle(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03037}03037\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03038}03038\ \ \ \ \ \ \ \ \ rc:\ MQTTErrorCode,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03039}03039\ \ \ \ \ )\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03040}03040\ \ \ \ \ \ \ \ \ if\ rc:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03041}03041\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_sock\_close()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03042}03042\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03043}03043\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_state\ in\ (\_ConnectionState.MQTT\_CS\_DISCONNECTING,\ \_ConnectionState.MQTT\_CS\_DISCONNECTED):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03044}03044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_state\ =\ \_ConnectionState.MQTT\_CS\_DISCONNECTED}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03045}03045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03046}03046\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03047}03047\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_do\_on\_disconnect(packet\_from\_broker=False,\ v1\_rc=rc)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03048}03048\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03049}03049\ \ \ \ \ \ \ \ \ if\ rc\ ==\ MQTT\_ERR\_CONN\_LOST:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03050}03050\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_state\ =\ \_ConnectionState.MQTT\_CS\_CONNECTION\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03051}03051\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03052}03052\ \ \ \ \ \ \ \ \ return\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03053}03053\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03054}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a73f6d56365da19c65942d047a601e9fa}{03054}}\ \ \ \ \ def\ \_packet\_read(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03055}03055\ \ \ \ \ \ \ \ \ \#\ This\ gets\ called\ if\ pselect()\ indicates\ that\ there\ is\ network\ data}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03056}03056\ \ \ \ \ \ \ \ \ \#\ available\ -\/\ ie.\ at\ least\ one\ byte.\ \ What\ we\ do\ depends\ on\ what\ data\ we}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03057}03057\ \ \ \ \ \ \ \ \ \#\ already\ have.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03058}03058\ \ \ \ \ \ \ \ \ \#\ If\ we've\ not\ got\ a\ command,\ attempt\ to\ read\ one\ and\ save\ it.\ This\ should}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03059}03059\ \ \ \ \ \ \ \ \ \#\ always\ work\ because\ it's\ only\ a\ single\ byte.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03060}03060\ \ \ \ \ \ \ \ \ \#\ Then\ try\ to\ read\ the\ remaining\ length.\ This\ may\ fail\ because\ it\ is\ may}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03061}03061\ \ \ \ \ \ \ \ \ \#\ be\ more\ than\ one\ byte\ -\/\ will\ need\ to\ save\ data\ pending\ next\ read\ if\ it}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03062}03062\ \ \ \ \ \ \ \ \ \#\ does\ fail.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03063}03063\ \ \ \ \ \ \ \ \ \#\ Then\ try\ to\ read\ the\ remaining\ payload,\ where\ 'payload'\ here\ means\ the}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03064}03064\ \ \ \ \ \ \ \ \ \#\ combined\ variable\ header\ and\ actual\ payload.\ This\ is\ the\ most\ likely\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03065}03065\ \ \ \ \ \ \ \ \ \#\ fail\ due\ to\ longer\ length,\ so\ save\ current\ data\ and\ current\ position.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03066}03066\ \ \ \ \ \ \ \ \ \#\ After\ all\ data\ is\ read,\ send\ to\ \_mqtt\_handle\_packet()\ to\ deal\ with.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03067}03067\ \ \ \ \ \ \ \ \ \#\ Finally,\ free\ the\ memory\ and\ reset\ everything\ to\ starting\ conditions.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03068}03068\ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['command']\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03069}03069\ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03070}03070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ command\ =\ self.\_sock\_recv(1)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03071}03071\ \ \ \ \ \ \ \ \ \ \ \ \ except\ BlockingIOError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03072}03072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_AGAIN}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03073}03073\ \ \ \ \ \ \ \ \ \ \ \ \ except\ TimeoutError\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03074}03074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03075}03075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'timeout\ on\ socket:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03076}03076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_CONN\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03077}03077\ \ \ \ \ \ \ \ \ \ \ \ \ except\ OSError\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03078}03078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03079}03079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'failed\ to\ receive\ on\ socket:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03080}03080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_CONN\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03081}03081\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03082}03082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ len(command)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03083}03083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_CONN\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03084}03084\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_in\_packet['command']\ =\ command[0]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03085}03085\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03086}03086\ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['have\_remaining']\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03087}03087\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Read\ remaining}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03088}03088\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Algorithm\ for\ decoding\ taken\ from\ pseudo\ code\ at}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03089}03089\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ http://publib.boulder.ibm.com/infocenter/wmbhelp/v6r0m0/topic/com.ibm.etools.mft.doc/ac10870\_.htm}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03090}03090\ \ \ \ \ \ \ \ \ \ \ \ \ while\ True:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03091}03091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03092}03092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ byte\ =\ self.\_sock\_recv(1)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03093}03093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ except\ BlockingIOError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03094}03094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_AGAIN}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03095}03095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ except\ OSError\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03096}03096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03097}03097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'failed\ to\ receive\ on\ socket:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03098}03098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_CONN\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03099}03099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03100}03100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ len(byte)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03101}03101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_CONN\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03102}03102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ byte\_value\ =\ byte[0]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03103}03103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_in\_packet['remaining\_count'].append(byte\_value)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03104}03104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Max\ 4\ bytes\ length\ for\ remaining\ length\ as\ defined\ by\ protocol.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03105}03105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Anything\ more\ likely\ means\ a\ broken/malicious\ client.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03106}03106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ len(self.\_in\_packet['remaining\_count'])\ >\ 4:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03107}03107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03108}03108\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03109}03109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_in\_packet['remaining\_length']\ +=\ (}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03110}03110\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ byte\_value\ \&\ 127)\ *\ self.\_in\_packet['remaining\_mult']}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03111}03111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_in\_packet['remaining\_mult']\ =\ self.\_in\_packet['remaining\_mult']\ *\ 128}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03112}03112\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03113}03113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (byte\_value\ \&\ 128)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03114}03114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03115}03115\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03116}03116\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_in\_packet['have\_remaining']\ =\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03117}03117\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_in\_packet['to\_process']\ =\ self.\_in\_packet['remaining\_length']}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03118}03118\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03119}03119\ \ \ \ \ \ \ \ \ count\ =\ 100\ \#\ Don't\ get\ stuck\ in\ this\ loop\ if\ we\ have\ a\ huge\ message.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03120}03120\ \ \ \ \ \ \ \ \ while\ self.\_in\_packet['to\_process']\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03121}03121\ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03122}03122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\ =\ self.\_sock\_recv(self.\_in\_packet['to\_process'])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03123}03123\ \ \ \ \ \ \ \ \ \ \ \ \ except\ BlockingIOError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03124}03124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_AGAIN}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03125}03125\ \ \ \ \ \ \ \ \ \ \ \ \ except\ OSError\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03126}03126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03127}03127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'failed\ to\ receive\ on\ socket:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03128}03128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_CONN\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03129}03129\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03130}03130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ len(data)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03131}03131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_CONN\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03132}03132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_in\_packet['to\_process']\ -\/=\ len(data)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03133}03133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_in\_packet['packet']\ +=\ data}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03134}03134\ \ \ \ \ \ \ \ \ \ \ \ \ count\ -\/=\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03135}03135\ \ \ \ \ \ \ \ \ \ \ \ \ if\ count\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03136}03136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_msgtime\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03137}03137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_last\_msg\_in\ =\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03138}03138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_AGAIN}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03139}03139\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03140}03140\ \ \ \ \ \ \ \ \ \#\ All\ data\ for\ this\ packet\ is\ read.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03141}03141\ \ \ \ \ \ \ \ \ self.\_in\_packet['pos']\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03142}03142\ \ \ \ \ \ \ \ \ rc\ =\ self.\_packet\_handle()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03143}03143\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03144}03144\ \ \ \ \ \ \ \ \ \#\ Free\ data\ and\ reset\ values}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03145}03145\ \ \ \ \ \ \ \ \ self.\_in\_packet\ =\ \{}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03146}03146\ \ \ \ \ \ \ \ \ \ \ \ \ "{}command"{}:\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03147}03147\ \ \ \ \ \ \ \ \ \ \ \ \ "{}have\_remaining"{}:\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03148}03148\ \ \ \ \ \ \ \ \ \ \ \ \ "{}remaining\_count"{}:\ [],}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03149}03149\ \ \ \ \ \ \ \ \ \ \ \ \ "{}remaining\_mult"{}:\ 1,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03150}03150\ \ \ \ \ \ \ \ \ \ \ \ \ "{}remaining\_length"{}:\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03151}03151\ \ \ \ \ \ \ \ \ \ \ \ \ "{}packet"{}:\ bytearray(b"{}"{}),}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03152}03152\ \ \ \ \ \ \ \ \ \ \ \ \ "{}to\_process"{}:\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03153}03153\ \ \ \ \ \ \ \ \ \ \ \ \ "{}pos"{}:\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03154}03154\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03155}03155\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03156}03156\ \ \ \ \ \ \ \ \ with\ self.\_msgtime\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03157}03157\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_last\_msg\_in\ =\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03158}03158\ \ \ \ \ \ \ \ \ return\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03159}03159\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03160}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a879061d91d67ed72de6f7c20c91009e4}{03160}}\ \ \ \ \ def\ \_packet\_write(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03161}03161\ \ \ \ \ \ \ \ \ while\ True:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03162}03162\ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03163}03163\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packet\ =\ self.\_out\_packet.popleft()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03164}03164\ \ \ \ \ \ \ \ \ \ \ \ \ except\ IndexError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03165}03165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03166}03166\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03167}03167\ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03168}03168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ write\_length\ =\ self.\_sock\_send(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03169}03169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packet['packet'][packet['pos']:])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03170}03170\ \ \ \ \ \ \ \ \ \ \ \ \ except\ (AttributeError,\ ValueError):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03171}03171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_out\_packet.appendleft(packet)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03172}03172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03173}03173\ \ \ \ \ \ \ \ \ \ \ \ \ except\ BlockingIOError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03174}03174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_out\_packet.appendleft(packet)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03175}03175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_AGAIN}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03176}03176\ \ \ \ \ \ \ \ \ \ \ \ \ except\ OSError\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03177}03177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_out\_packet.appendleft(packet)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03178}03178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03179}03179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'failed\ to\ receive\ on\ socket:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03180}03180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_CONN\_LOST}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03181}03181\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03182}03182\ \ \ \ \ \ \ \ \ \ \ \ \ if\ write\_length\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03183}03183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packet['to\_process']\ -\/=\ write\_length}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03184}03184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packet['pos']\ +=\ write\_length}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03185}03185\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03186}03186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ packet['to\_process']\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03187}03187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (packet['command']\ \&\ 0xF0)\ ==\ PUBLISH\ and\ packet['qos']\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03188}03188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03189}03189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_publish\ =\ self.on\_publish}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03190}03190\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03191}03191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ on\_publish:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03192}03192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_in\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03193}03193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03194}03194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_callback\_api\_version\ ==\ CallbackAPIVersion.VERSION1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03195}03195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_publish\ =\ cast(CallbackOnPublish\_v1,\ on\_publish)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03196}03196\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03197}03197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_publish(self,\ self.\_userdata,\ packet["{}mid"{}])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03198}03198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elif\ self.\_callback\_api\_version\ ==\ CallbackAPIVersion.VERSION2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03199}03199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_publish\ =\ cast(CallbackOnPublish\_v2,\ on\_publish)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03200}03200\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03201}03201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_publish(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03202}03202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03203}03203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_userdata,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03204}03204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packet["{}mid"{}],}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03205}03205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReasonCode(PacketTypes.PUBACK),}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03206}03206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Properties(PacketTypes.PUBACK),}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03207}03207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03208}03208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03209}03209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ RuntimeError("{}Unsupported\ callback\ API\ version"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03210}03210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03211}03211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03212}03212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'Caught\ exception\ in\ on\_publish:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03213}03213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ self.suppress\_exceptions:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03214}03214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03215}03215\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03216}03216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ TODO:\ Something\ is\ odd\ here.\ I\ don't\ see\ why\ packet["{}info"{}]\ can't\ be\ None.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03217}03217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ A\ packet\ could\ be\ produced\ by\ \_handle\_connack\ with\ qos=0\ and\ no\ info}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03218}03218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ (around\ line\ 3645).\ Ignore\ the\ mypy\ check\ for\ now\ but\ I\ feel\ there\ is\ a\ bug}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03219}03219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ somewhere.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03220}03220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packet['info'].\_set\_as\_published()\ \ \#\ type:\ ignore}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03221}03221\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03222}03222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (packet['command']\ \&\ 0xF0)\ ==\ DISCONNECT:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03223}03223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_msgtime\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03224}03224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_last\_msg\_out\ =\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03225}03225\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03226}03226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_do\_on\_disconnect(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03227}03227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packet\_from\_broker=False,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03228}03228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v1\_rc=MQTTErrorCode.MQTT\_ERR\_SUCCESS,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03229}03229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03230}03230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_sock\_close()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03231}03231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Only\ change\ to\ disconnected\ if\ the\ disconnection\ was\ wanted}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03232}03232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ by\ the\ client\ (==\ state\ was\ disconnecting).\ If\ the\ broker\ disconnected}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03233}03233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ use\ unilaterally\ don't\ change\ the\ state\ and\ client\ may\ reconnect.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03234}03234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_state\ ==\ \_ConnectionState.MQTT\_CS\_DISCONNECTING:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03235}03235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_state\ =\ \_ConnectionState.MQTT\_CS\_DISCONNECTED}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03236}03236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03237}03237\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03238}03238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03239}03239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ We\ haven't\ finished\ with\ this\ packet}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03240}03240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_out\_packet.appendleft(packet)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03241}03241\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03242}03242\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03243}03243\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03244}03244\ \ \ \ \ \ \ \ \ with\ self.\_msgtime\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03245}03245\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_last\_msg\_out\ =\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03246}03246\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03247}03247\ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03248}03248\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03249}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a6f526542ab51aad5a2cbe47a4f829b15}{03249}}\ \ \ \ \ def\ \_easy\_log(self,\ level:\ LogLevel,\ fmt:\ str,\ *args:\ Any)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03250}03250\ \ \ \ \ \ \ \ \ if\ self.on\_log\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03251}03251\ \ \ \ \ \ \ \ \ \ \ \ \ buf\ =\ fmt\ \%\ args}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03252}03252\ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03253}03253\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.on\_log(self,\ self.\_userdata,\ level,\ buf)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03254}03254\ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception:\ \ \#\ noqa:\ S110}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03255}03255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Can't\ \_easy\_log\ this,\ as\ we'll\ recurse\ until\ we\ break}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03256}03256\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pass\ \ \#\ self.\_logger\ will\ pick\ this\ up,\ so\ we're\ fine}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03257}03257\ \ \ \ \ \ \ \ \ if\ self.\_logger\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03258}03258\ \ \ \ \ \ \ \ \ \ \ \ \ level\_std\ =\ LOGGING\_LEVEL[level]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03259}03259\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_logger.log(level\_std,\ fmt,\ *args)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03260}03260\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03261}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a32783102fe963941edd8d2ffb8c79738}{03261}}\ \ \ \ \ def\ \_check\_keepalive(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03262}03262\ \ \ \ \ \ \ \ \ if\ self.\_keepalive\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03263}03263\ \ \ \ \ \ \ \ \ \ \ \ \ return}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03264}03264\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03265}03265\ \ \ \ \ \ \ \ \ now\ =\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03266}03266\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03267}03267\ \ \ \ \ \ \ \ \ with\ self.\_msgtime\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03268}03268\ \ \ \ \ \ \ \ \ \ \ \ \ last\_msg\_out\ =\ self.\_last\_msg\_out}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03269}03269\ \ \ \ \ \ \ \ \ \ \ \ \ last\_msg\_in\ =\ self.\_last\_msg\_in}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03270}03270\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03271}03271\ \ \ \ \ \ \ \ \ if\ self.\_sock\ is\ not\ None\ and\ (now\ -\/\ last\_msg\_out\ >=\ self.\_keepalive\ or\ now\ -\/\ last\_msg\_in\ >=\ self.\_keepalive):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03272}03272\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_state\ ==\ \_ConnectionState.MQTT\_CS\_CONNECTED\ and\ self.\_ping\_t\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03273}03273\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03274}03274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_send\_pingreq()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03275}03275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03276}03276\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_sock\_close()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03277}03277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_do\_on\_disconnect(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03278}03278\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packet\_from\_broker=False,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03279}03279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v1\_rc=MQTTErrorCode.MQTT\_ERR\_CONN\_LOST,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03280}03280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03281}03281\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03282}03282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_msgtime\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03283}03283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_last\_msg\_out\ =\ now}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03284}03284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_last\_msg\_in\ =\ now}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03285}03285\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03286}03286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_sock\_close()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03287}03287\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03288}03288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_state\ in\ (\_ConnectionState.MQTT\_CS\_DISCONNECTING,\ \_ConnectionState.MQTT\_CS\_DISCONNECTED):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03289}03289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_state\ =\ \_ConnectionState.MQTT\_CS\_DISCONNECTED}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03290}03290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03291}03291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03292}03292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ MQTTErrorCode.MQTT\_ERR\_KEEPALIVE}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03293}03293\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03294}03294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_do\_on\_disconnect(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03295}03295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packet\_from\_broker=False,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03296}03296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v1\_rc=rc,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03297}03297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03298}03298\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03299}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a89d85dd5a58ef7d5b7f7cc6b1cd75846}{03299}}\ \ \ \ \ def\ \_mid\_generate(self)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03300}03300\ \ \ \ \ \ \ \ \ with\ self.\_mid\_generate\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03301}03301\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_last\_mid\ +=\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03302}03302\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_last\_mid\ ==\ 65536:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03303}03303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_last\_mid\ =\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03304}03304\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_last\_mid}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03305}03305\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03306}03306\ \ \ \ \ @staticmethod}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03307}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a2c6ad583e35c4b1f3eaf3f6e67ab5377}{03307}}\ \ \ \ \ def\ \_raise\_for\_invalid\_topic(topic:\ bytes)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03308}03308\ \ \ \ \ \ \ \ \ "{}"{}"{}\ Check\ if\ the\ topic\ is\ a\ topic\ without\ wildcard\ and\ valid\ length.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03309}03309\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03310}03310\ \ \ \ \ \ \ \ \ \ \ \ \ Raise\ ValueError\ if\ the\ topic\ isn't\ valid.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03311}03311\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03312}03312\ \ \ \ \ \ \ \ \ if\ b'+'\ in\ topic\ or\ b'\#'\ in\ topic:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03313}03313\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Publish\ topic\ cannot\ contain\ wildcards.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03314}03314\ \ \ \ \ \ \ \ \ if\ len(topic)\ >\ 65535:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03315}03315\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError('Publish\ topic\ is\ too\ long.')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03316}03316\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03317}03317\ \ \ \ \ @staticmethod}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03318}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a0060bd42ac7d2822e311d9dd736a0386}{03318}}\ \ \ \ \ def\ \_filter\_wildcard\_len\_check(sub:\ bytes)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03319}03319\ \ \ \ \ \ \ \ \ if\ (len(sub)\ ==\ 0\ or\ len(sub)\ >\ 65535}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03320}03320\ \ \ \ \ \ \ \ \ \ \ \ \ or\ any(b'+'\ in\ p\ or\ b'\#'\ in\ p\ for\ p\ in\ sub.split(b'/')\ if\ len(p)\ >\ 1)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03321}03321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ or\ b'\#/'\ in\ sub):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03322}03322\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_INVAL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03323}03323\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03324}03324\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03325}03325\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03326}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_adb57aebbc300f4e1d879d94a7b8621e8}{03326}}\ \ \ \ \ def\ \_send\_pingreq(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03327}03327\ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_DEBUG,\ "{}Sending\ PINGREQ"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03328}03328\ \ \ \ \ \ \ \ \ rc\ =\ self.\_send\_simple\_command(PINGREQ)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03329}03329\ \ \ \ \ \ \ \ \ if\ rc\ ==\ MQTTErrorCode.MQTT\_ERR\_SUCCESS:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03330}03330\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_ping\_t\ =\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03331}03331\ \ \ \ \ \ \ \ \ return\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03332}03332\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03333}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a258d19fbc30186a07e2c8eba714a0015}{03333}}\ \ \ \ \ def\ \_send\_pingresp(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03334}03334\ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_DEBUG,\ "{}Sending\ PINGRESP"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03335}03335\ \ \ \ \ \ \ \ \ return\ self.\_send\_simple\_command(PINGRESP)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03336}03336\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03337}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a3a0122fc55e9cff345874fca3f2ba8fa}{03337}}\ \ \ \ \ def\ \_send\_puback(self,\ mid:\ int)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03338}03338\ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_DEBUG,\ "{}Sending\ PUBACK\ (Mid:\ \%d)"{},\ mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03339}03339\ \ \ \ \ \ \ \ \ return\ self.\_send\_command\_with\_mid(PUBACK,\ mid,\ False)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03340}03340\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03341}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a385e151d64692ebf2930071e2a6be974}{03341}}\ \ \ \ \ def\ \_send\_pubcomp(self,\ mid:\ int)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03342}03342\ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_DEBUG,\ "{}Sending\ PUBCOMP\ (Mid:\ \%d)"{},\ mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03343}03343\ \ \ \ \ \ \ \ \ return\ self.\_send\_command\_with\_mid(PUBCOMP,\ mid,\ False)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03344}03344\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03345}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aa54ac1bc4810c705acaff567f8a59bea}{03345}}\ \ \ \ \ def\ \_pack\_remaining\_length(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03346}03346\ \ \ \ \ \ \ \ \ self,\ packet:\ bytearray,\ remaining\_length:\ int}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03347}03347\ \ \ \ \ )\ -\/>\ bytearray:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03348}03348\ \ \ \ \ \ \ \ \ remaining\_bytes\ =\ []}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03349}03349\ \ \ \ \ \ \ \ \ while\ True:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03350}03350\ \ \ \ \ \ \ \ \ \ \ \ \ byte\ =\ remaining\_length\ \%\ 128}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03351}03351\ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_length\ =\ remaining\_length\ //\ 128}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03352}03352\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ If\ there\ are\ more\ digits\ to\ encode,\ set\ the\ top\ bit\ of\ this\ digit}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03353}03353\ \ \ \ \ \ \ \ \ \ \ \ \ if\ remaining\_length\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03354}03354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ byte\ |=\ 0x80}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03355}03355\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03356}03356\ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_bytes.append(byte)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03357}03357\ \ \ \ \ \ \ \ \ \ \ \ \ packet.append(byte)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03358}03358\ \ \ \ \ \ \ \ \ \ \ \ \ if\ remaining\_length\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03359}03359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ FIXME\ -\/\ this\ doesn't\ deal\ with\ incorrectly\ large\ payloads}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03360}03360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ packet}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03361}03361\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03362}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_abffffbf56452e97b4ca0eff5cc8f0f26}{03362}}\ \ \ \ \ def\ \_pack\_str16(self,\ packet:\ bytearray,\ data:\ bytes\ |\ str)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03363}03363\ \ \ \ \ \ \ \ \ data\ =\ \_force\_bytes(data)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03364}03364\ \ \ \ \ \ \ \ \ packet.extend(struct.pack("{}!H"{},\ len(data)))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03365}03365\ \ \ \ \ \ \ \ \ packet.extend(data)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03366}03366\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03367}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aa7a22d4b71af7b30aa1bca1c7e95aa49}{03367}}\ \ \ \ \ def\ \_send\_publish(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03368}03368\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03369}03369\ \ \ \ \ \ \ \ \ mid:\ int,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03370}03370\ \ \ \ \ \ \ \ \ topic:\ bytes,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03371}03371\ \ \ \ \ \ \ \ \ payload:\ bytes|bytearray\ =\ b"{}"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03372}03372\ \ \ \ \ \ \ \ \ qos:\ int\ =\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03373}03373\ \ \ \ \ \ \ \ \ retain:\ bool\ =\ False,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03374}03374\ \ \ \ \ \ \ \ \ dup:\ bool\ =\ False,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03375}03375\ \ \ \ \ \ \ \ \ info:\ MQTTMessageInfo\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03376}03376\ \ \ \ \ \ \ \ \ properties:\ Properties\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03377}03377\ \ \ \ \ )\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03378}03378\ \ \ \ \ \ \ \ \ \#\ we\ assume\ that\ topic\ and\ payload\ are\ already\ properly\ encoded}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03379}03379\ \ \ \ \ \ \ \ \ if\ not\ isinstance(topic,\ bytes):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03380}03380\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ TypeError('topic\ must\ be\ bytes,\ not\ str')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03381}03381\ \ \ \ \ \ \ \ \ if\ payload\ and\ not\ isinstance(payload,\ (bytes,\ bytearray)):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03382}03382\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ TypeError('payload\ must\ be\ bytes\ if\ set')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03383}03383\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03384}03384\ \ \ \ \ \ \ \ \ if\ self.\_sock\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03385}03385\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_NO\_CONN}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03386}03386\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03387}03387\ \ \ \ \ \ \ \ \ command\ =\ PUBLISH\ |\ ((dup\ \&\ 0x1)\ <<\ 3)\ |\ (qos\ <<\ 1)\ |\ retain}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03388}03388\ \ \ \ \ \ \ \ \ packet\ =\ bytearray()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03389}03389\ \ \ \ \ \ \ \ \ packet.append(command)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03390}03390\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03391}03391\ \ \ \ \ \ \ \ \ payloadlen\ =\ len(payload)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03392}03392\ \ \ \ \ \ \ \ \ remaining\_length\ =\ 2\ +\ len(topic)\ +\ payloadlen}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03393}03393\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03394}03394\ \ \ \ \ \ \ \ \ if\ payloadlen\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03395}03395\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03396}03396\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03397}03397\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03398}03398\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}Sending\ PUBLISH\ (d\%d,\ q\%d,\ r\%d,\ m\%d),\ '\%s',\ properties=\%s\ (NULL\ payload)"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03399}03399\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dup,\ qos,\ retain,\ mid,\ topic,\ properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03400}03400\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03401}03401\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03402}03402\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03403}03403\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03404}03404\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}Sending\ PUBLISH\ (d\%d,\ q\%d,\ r\%d,\ m\%d),\ '\%s'\ (NULL\ payload)"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03405}03405\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dup,\ qos,\ retain,\ mid,\ topic}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03406}03406\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03407}03407\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03408}03408\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03409}03409\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03410}03410\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03411}03411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}Sending\ PUBLISH\ (d\%d,\ q\%d,\ r\%d,\ m\%d),\ '\%s',\ properties=\%s,\ ...\ (\%d\ bytes)"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03412}03412\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dup,\ qos,\ retain,\ mid,\ topic,\ properties,\ payloadlen}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03413}03413\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03414}03414\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03415}03415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03416}03416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03417}03417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}Sending\ PUBLISH\ (d\%d,\ q\%d,\ r\%d,\ m\%d),\ '\%s',\ ...\ (\%d\ bytes)"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03418}03418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dup,\ qos,\ retain,\ mid,\ topic,\ payloadlen}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03419}03419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03420}03420\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03421}03421\ \ \ \ \ \ \ \ \ if\ qos\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03422}03422\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ For\ message\ id}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03423}03423\ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_length\ +=\ 2}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03424}03424\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03425}03425\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03426}03426\ \ \ \ \ \ \ \ \ \ \ \ \ if\ properties\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03427}03427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packed\_properties\ =\ b'\(\backslash\)x00'}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03428}03428\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03429}03429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packed\_properties\ =\ properties.pack()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03430}03430\ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_length\ +=\ len(packed\_properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03431}03431\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03432}03432\ \ \ \ \ \ \ \ \ self.\_pack\_remaining\_length(packet,\ remaining\_length)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03433}03433\ \ \ \ \ \ \ \ \ self.\_pack\_str16(packet,\ topic)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03434}03434\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03435}03435\ \ \ \ \ \ \ \ \ if\ qos\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03436}03436\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ For\ message\ id}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03437}03437\ \ \ \ \ \ \ \ \ \ \ \ \ packet.extend(struct.pack("{}!H"{},\ mid))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03438}03438\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03439}03439\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03440}03440\ \ \ \ \ \ \ \ \ \ \ \ \ packet.extend(packed\_properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03441}03441\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03442}03442\ \ \ \ \ \ \ \ \ packet.extend(payload)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03443}03443\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03444}03444\ \ \ \ \ \ \ \ \ return\ self.\_packet\_queue(PUBLISH,\ packet,\ mid,\ qos,\ info)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03445}03445\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03446}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a58bf78b7eb806b8ba114b0b641df031f}{03446}}\ \ \ \ \ def\ \_send\_pubrec(self,\ mid:\ int)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03447}03447\ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_DEBUG,\ "{}Sending\ PUBREC\ (Mid:\ \%d)"{},\ mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03448}03448\ \ \ \ \ \ \ \ \ return\ self.\_send\_command\_with\_mid(PUBREC,\ mid,\ False)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03449}03449\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03450}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a313a2cfac9532a96c2d3c6a085d61fb6}{03450}}\ \ \ \ \ def\ \_send\_pubrel(self,\ mid:\ int)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03451}03451\ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_DEBUG,\ "{}Sending\ PUBREL\ (Mid:\ \%d)"{},\ mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03452}03452\ \ \ \ \ \ \ \ \ return\ self.\_send\_command\_with\_mid(PUBREL\ |\ 2,\ mid,\ False)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03453}03453\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03454}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a8b3ffa953a0520210309435a089d0e94}{03454}}\ \ \ \ \ def\ \_send\_command\_with\_mid(self,\ command:\ int,\ mid:\ int,\ dup:\ int)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03455}03455\ \ \ \ \ \ \ \ \ \#\ For\ PUBACK,\ PUBCOMP,\ PUBREC,\ and\ PUBREL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03456}03456\ \ \ \ \ \ \ \ \ if\ dup:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03457}03457\ \ \ \ \ \ \ \ \ \ \ \ \ command\ |=\ 0x8}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03458}03458\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03459}03459\ \ \ \ \ \ \ \ \ remaining\_length\ =\ 2}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03460}03460\ \ \ \ \ \ \ \ \ packet\ =\ struct.pack('!BBH',\ command,\ remaining\_length,\ mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03461}03461\ \ \ \ \ \ \ \ \ return\ self.\_packet\_queue(command,\ packet,\ mid,\ 1)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03462}03462\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03463}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a6eb410adbfc3970df2e51bf5b8af5c2f}{03463}}\ \ \ \ \ def\ \_send\_simple\_command(self,\ command:\ int)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03464}03464\ \ \ \ \ \ \ \ \ \#\ For\ DISCONNECT,\ PINGREQ\ and\ PINGRESP}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03465}03465\ \ \ \ \ \ \ \ \ remaining\_length\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03466}03466\ \ \ \ \ \ \ \ \ packet\ =\ struct.pack('!BB',\ command,\ remaining\_length)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03467}03467\ \ \ \ \ \ \ \ \ return\ self.\_packet\_queue(command,\ packet,\ 0,\ 0)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03468}03468\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03469}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_abaa102667fd03ffbd60d48ae0b10f7d5}{03469}}\ \ \ \ \ def\ \_send\_connect(self,\ keepalive:\ int)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03470}03470\ \ \ \ \ \ \ \ \ proto\_ver\ =\ int(self.\_protocol)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03471}03471\ \ \ \ \ \ \ \ \ \#\ hard-\/coded\ UTF-\/8\ encoded\ string}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03472}03472\ \ \ \ \ \ \ \ \ protocol\ =\ b"{}MQTT"{}\ if\ proto\_ver\ >=\ MQTTv311\ else\ b"{}MQIsdp"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03473}03473\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03474}03474\ \ \ \ \ \ \ \ \ remaining\_length\ =\ 2\ +\ len(protocol)\ +\ 1\ +\ \(\backslash\)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03475}03475\ \ \ \ \ \ \ \ \ \ \ \ \ 1\ +\ 2\ +\ 2\ +\ len(self.\_client\_id)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03476}03476\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03477}03477\ \ \ \ \ \ \ \ \ connect\_flags\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03478}03478\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03479}03479\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_clean\_start\ is\ True:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03480}03480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ connect\_flags\ |=\ 0x02}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03481}03481\ \ \ \ \ \ \ \ \ \ \ \ \ elif\ self.\_clean\_start\ ==\ MQTT\_CLEAN\_START\_FIRST\_ONLY\ and\ self.\_mqttv5\_first\_connect:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03482}03482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ connect\_flags\ |=\ 0x02}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03483}03483\ \ \ \ \ \ \ \ \ elif\ self.\_clean\_session:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03484}03484\ \ \ \ \ \ \ \ \ \ \ \ \ connect\_flags\ |=\ 0x02}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03485}03485\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03486}03486\ \ \ \ \ \ \ \ \ if\ self.\_will:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03487}03487\ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_length\ +=\ 2\ +\ \(\backslash\)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03488}03488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ len(self.\_will\_topic)\ +\ 2\ +\ len(self.\_will\_payload)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03489}03489\ \ \ \ \ \ \ \ \ \ \ \ \ connect\_flags\ |=\ 0x04\ |\ ((self.\_will\_qos\ \&\ 0x03)\ <<\ 3)\ |\ (}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03490}03490\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (self.\_will\_retain\ \&\ 0x01)\ <<\ 5)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03491}03491\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03492}03492\ \ \ \ \ \ \ \ \ if\ self.\_username\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03493}03493\ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_length\ +=\ 2\ +\ len(self.\_username)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03494}03494\ \ \ \ \ \ \ \ \ \ \ \ \ connect\_flags\ |=\ 0x80}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03495}03495\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_password\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03496}03496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ connect\_flags\ |=\ 0x40}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03497}03497\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_length\ +=\ 2\ +\ len(self.\_password)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03498}03498\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03499}03499\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03500}03500\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_connect\_properties\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03501}03501\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packed\_connect\_properties\ =\ b'\(\backslash\)x00'}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03502}03502\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03503}03503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packed\_connect\_properties\ =\ self.\_connect\_properties.pack()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03504}03504\ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_length\ +=\ len(packed\_connect\_properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03505}03505\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_will:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03506}03506\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_will\_properties\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03507}03507\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packed\_will\_properties\ =\ b'\(\backslash\)x00'}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03508}03508\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03509}03509\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packed\_will\_properties\ =\ self.\_will\_properties.pack()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03510}03510\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_length\ +=\ len(packed\_will\_properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03511}03511\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03512}03512\ \ \ \ \ \ \ \ \ command\ =\ CONNECT}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03513}03513\ \ \ \ \ \ \ \ \ packet\ =\ bytearray()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03514}03514\ \ \ \ \ \ \ \ \ packet.append(command)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03515}03515\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03516}03516\ \ \ \ \ \ \ \ \ \#\ as\ per\ the\ mosquitto\ broker,\ if\ the\ MSB\ of\ this\ version\ is\ set}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03517}03517\ \ \ \ \ \ \ \ \ \#\ to\ 1,\ then\ it\ treats\ the\ connection\ as\ a\ bridge}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03518}03518\ \ \ \ \ \ \ \ \ if\ self.\_client\_mode\ ==\ MQTT\_BRIDGE:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03519}03519\ \ \ \ \ \ \ \ \ \ \ \ \ proto\_ver\ |=\ 0x80}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03520}03520\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03521}03521\ \ \ \ \ \ \ \ \ self.\_pack\_remaining\_length(packet,\ remaining\_length)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03522}03522\ \ \ \ \ \ \ \ \ packet.extend(struct.pack(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03523}03523\ \ \ \ \ \ \ \ \ \ \ \ \ f"{}!H\{len(protocol)\}sBBH"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03524}03524\ \ \ \ \ \ \ \ \ \ \ \ \ len(protocol),\ protocol,\ proto\_ver,\ connect\_flags,\ keepalive,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03525}03525\ \ \ \ \ \ \ \ \ ))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03526}03526\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03527}03527\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03528}03528\ \ \ \ \ \ \ \ \ \ \ \ \ packet\ +=\ packed\_connect\_properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03529}03529\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03530}03530\ \ \ \ \ \ \ \ \ self.\_pack\_str16(packet,\ self.\_client\_id)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03531}03531\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03532}03532\ \ \ \ \ \ \ \ \ if\ self.\_will:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03533}03533\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03534}03534\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packet\ +=\ packed\_will\_properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03535}03535\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_pack\_str16(packet,\ self.\_will\_topic)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03536}03536\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_pack\_str16(packet,\ self.\_will\_payload)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03537}03537\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03538}03538\ \ \ \ \ \ \ \ \ if\ self.\_username\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03539}03539\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_pack\_str16(packet,\ self.\_username)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03540}03540\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03541}03541\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_password\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03542}03542\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_pack\_str16(packet,\ self.\_password)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03543}03543\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03544}03544\ \ \ \ \ \ \ \ \ self.\_keepalive\ =\ keepalive}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03545}03545\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03546}03546\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03547}03547\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03548}03548\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}Sending\ CONNECT\ (u\%d,\ p\%d,\ wr\%d,\ wq\%d,\ wf\%d,\ c\%d,\ k\%d)\ client\_id=\%s\ properties=\%s"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03549}03549\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (connect\_flags\ \&\ 0x80)\ >>\ 7,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03550}03550\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (connect\_flags\ \&\ 0x40)\ >>\ 6,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03551}03551\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (connect\_flags\ \&\ 0x20)\ >>\ 5,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03552}03552\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (connect\_flags\ \&\ 0x18)\ >>\ 3,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03553}03553\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (connect\_flags\ \&\ 0x4)\ >>\ 2,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03554}03554\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (connect\_flags\ \&\ 0x2)\ >>\ 1,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03555}03555\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ keepalive,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03556}03556\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_client\_id,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03557}03557\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_connect\_properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03558}03558\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03559}03559\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03560}03560\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03561}03561\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03562}03562\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}Sending\ CONNECT\ (u\%d,\ p\%d,\ wr\%d,\ wq\%d,\ wf\%d,\ c\%d,\ k\%d)\ client\_id=\%s"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03563}03563\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (connect\_flags\ \&\ 0x80)\ >>\ 7,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03564}03564\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (connect\_flags\ \&\ 0x40)\ >>\ 6,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03565}03565\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (connect\_flags\ \&\ 0x20)\ >>\ 5,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03566}03566\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (connect\_flags\ \&\ 0x18)\ >>\ 3,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03567}03567\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (connect\_flags\ \&\ 0x4)\ >>\ 2,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03568}03568\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (connect\_flags\ \&\ 0x2)\ >>\ 1,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03569}03569\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ keepalive,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03570}03570\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_client\_id}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03571}03571\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03572}03572\ \ \ \ \ \ \ \ \ return\ self.\_packet\_queue(command,\ packet,\ 0,\ 0)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03573}03573\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03574}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a0bafb752f096bc90fdc8714cd6707f2f}{03574}}\ \ \ \ \ def\ \_send\_disconnect(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03575}03575\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03576}03576\ \ \ \ \ \ \ \ \ reasoncode:\ ReasonCode\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03577}03577\ \ \ \ \ \ \ \ \ properties:\ Properties\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03578}03578\ \ \ \ \ )\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03579}03579\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03580}03580\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_DEBUG,\ "{}Sending\ DISCONNECT\ reasonCode=\%s\ properties=\%s"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03581}03581\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reasoncode,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03582}03582\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03583}03583\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03584}03584\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03585}03585\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_DEBUG,\ "{}Sending\ DISCONNECT"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03586}03586\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03587}03587\ \ \ \ \ \ \ \ \ remaining\_length\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03588}03588\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03589}03589\ \ \ \ \ \ \ \ \ command\ =\ DISCONNECT}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03590}03590\ \ \ \ \ \ \ \ \ packet\ =\ bytearray()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03591}03591\ \ \ \ \ \ \ \ \ packet.append(command)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03592}03592\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03593}03593\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03594}03594\ \ \ \ \ \ \ \ \ \ \ \ \ if\ properties\ is\ not\ None\ or\ reasoncode\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03595}03595\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ reasoncode\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03596}03596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reasoncode\ =\ ReasonCode(DISCONNECT\ >>\ 4,\ identifier=0)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03597}03597\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_length\ +=\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03598}03598\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ properties\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03599}03599\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packed\_props\ =\ properties.pack()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03600}03600\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_length\ +=\ len(packed\_props)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03601}03601\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03602}03602\ \ \ \ \ \ \ \ \ self.\_pack\_remaining\_length(packet,\ remaining\_length)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03603}03603\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03604}03604\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03605}03605\ \ \ \ \ \ \ \ \ \ \ \ \ if\ reasoncode\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03606}03606\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packet\ +=\ reasoncode.pack()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03607}03607\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ properties\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03608}03608\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packet\ +=\ packed\_props}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03609}03609\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03610}03610\ \ \ \ \ \ \ \ \ return\ self.\_packet\_queue(command,\ packet,\ 0,\ 0)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03611}03611\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03612}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a73a309c12d2b359e5738b1780e8152f0}{03612}}\ \ \ \ \ def\ \_send\_subscribe(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03613}03613\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03614}03614\ \ \ \ \ \ \ \ \ dup:\ int,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03615}03615\ \ \ \ \ \ \ \ \ topics:\ Sequence[tuple[bytes,\ SubscribeOptions\ |\ int]],}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03616}03616\ \ \ \ \ \ \ \ \ properties:\ Properties\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03617}03617\ \ \ \ \ )\ -\/>\ tuple[MQTTErrorCode,\ int]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03618}03618\ \ \ \ \ \ \ \ \ remaining\_length\ =\ 2}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03619}03619\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03620}03620\ \ \ \ \ \ \ \ \ \ \ \ \ if\ properties\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03621}03621\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packed\_subscribe\_properties\ =\ b'\(\backslash\)x00'}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03622}03622\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03623}03623\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packed\_subscribe\_properties\ =\ properties.pack()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03624}03624\ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_length\ +=\ len(packed\_subscribe\_properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03625}03625\ \ \ \ \ \ \ \ \ for\ t,\ \_\ in\ topics:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03626}03626\ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_length\ +=\ 2\ +\ len(t)\ +\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03627}03627\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03628}03628\ \ \ \ \ \ \ \ \ command\ =\ SUBSCRIBE\ |\ (dup\ <<\ 3)\ |\ 0x2}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03629}03629\ \ \ \ \ \ \ \ \ packet\ =\ bytearray()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03630}03630\ \ \ \ \ \ \ \ \ packet.append(command)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03631}03631\ \ \ \ \ \ \ \ \ self.\_pack\_remaining\_length(packet,\ remaining\_length)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03632}03632\ \ \ \ \ \ \ \ \ local\_mid\ =\ self.\_mid\_generate()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03633}03633\ \ \ \ \ \ \ \ \ packet.extend(struct.pack("{}!H"{},\ local\_mid))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03634}03634\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03635}03635\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03636}03636\ \ \ \ \ \ \ \ \ \ \ \ \ packet\ +=\ packed\_subscribe\_properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03637}03637\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03638}03638\ \ \ \ \ \ \ \ \ for\ t,\ q\ in\ topics:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03639}03639\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_pack\_str16(packet,\ t)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03640}03640\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03641}03641\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packet\ +=\ q.pack()\ \ \#\ type:\ ignore}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03642}03642\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03643}03643\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packet.append(q)\ \ \#\ type:\ ignore}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03644}03644\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03645}03645\ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03646}03646\ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03647}03647\ \ \ \ \ \ \ \ \ \ \ \ \ "{}Sending\ SUBSCRIBE\ (d\%d,\ m\%d)\ \%s"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03648}03648\ \ \ \ \ \ \ \ \ \ \ \ \ dup,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03649}03649\ \ \ \ \ \ \ \ \ \ \ \ \ local\_mid,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03650}03650\ \ \ \ \ \ \ \ \ \ \ \ \ topics,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03651}03651\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03652}03652\ \ \ \ \ \ \ \ \ return\ (self.\_packet\_queue(command,\ packet,\ local\_mid,\ 1),\ local\_mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03653}03653\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03654}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a8076df7277079cbd709ad44ce7cb14ab}{03654}}\ \ \ \ \ def\ \_send\_unsubscribe(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03655}03655\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03656}03656\ \ \ \ \ \ \ \ \ dup:\ int,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03657}03657\ \ \ \ \ \ \ \ \ topics:\ list[bytes],}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03658}03658\ \ \ \ \ \ \ \ \ properties:\ Properties\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03659}03659\ \ \ \ \ )\ -\/>\ tuple[MQTTErrorCode,\ int]:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03660}03660\ \ \ \ \ \ \ \ \ remaining\_length\ =\ 2}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03661}03661\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03662}03662\ \ \ \ \ \ \ \ \ \ \ \ \ if\ properties\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03663}03663\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packed\_unsubscribe\_properties\ =\ b'\(\backslash\)x00'}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03664}03664\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03665}03665\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ packed\_unsubscribe\_properties\ =\ properties.pack()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03666}03666\ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_length\ +=\ len(packed\_unsubscribe\_properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03667}03667\ \ \ \ \ \ \ \ \ for\ t\ in\ topics:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03668}03668\ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_length\ +=\ 2\ +\ len(t)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03669}03669\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03670}03670\ \ \ \ \ \ \ \ \ command\ =\ UNSUBSCRIBE\ |\ (dup\ <<\ 3)\ |\ 0x2}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03671}03671\ \ \ \ \ \ \ \ \ packet\ =\ bytearray()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03672}03672\ \ \ \ \ \ \ \ \ packet.append(command)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03673}03673\ \ \ \ \ \ \ \ \ self.\_pack\_remaining\_length(packet,\ remaining\_length)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03674}03674\ \ \ \ \ \ \ \ \ local\_mid\ =\ self.\_mid\_generate()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03675}03675\ \ \ \ \ \ \ \ \ packet.extend(struct.pack("{}!H"{},\ local\_mid))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03676}03676\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03677}03677\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03678}03678\ \ \ \ \ \ \ \ \ \ \ \ \ packet\ +=\ packed\_unsubscribe\_properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03679}03679\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03680}03680\ \ \ \ \ \ \ \ \ for\ t\ in\ topics:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03681}03681\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_pack\_str16(packet,\ t)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03682}03682\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03683}03683\ \ \ \ \ \ \ \ \ \#\ topics\_repr\ =\ "{},\ "{}.join("{}'"{}+topic.decode('utf8')+"{}'"{}\ for\ topic\ in\ topics)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03684}03684\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03685}03685\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03686}03686\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03687}03687\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}Sending\ UNSUBSCRIBE\ (d\%d,\ m\%d)\ \%s\ \%s"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03688}03688\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dup,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03689}03689\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ local\_mid,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03690}03690\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03691}03691\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ topics,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03692}03692\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03693}03693\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03694}03694\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03695}03695\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03696}03696\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}Sending\ UNSUBSCRIBE\ (d\%d,\ m\%d)\ \%s"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03697}03697\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dup,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03698}03698\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ local\_mid,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03699}03699\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ topics,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03700}03700\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03701}03701\ \ \ \ \ \ \ \ \ return\ (self.\_packet\_queue(command,\ packet,\ local\_mid,\ 1),\ local\_mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03702}03702\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03703}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ac8daeb4f637bfe88cb6da4b777f5f895}{03703}}\ \ \ \ \ def\ \_check\_clean\_session(self)\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03704}03704\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03705}03705\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_clean\_start\ ==\ MQTT\_CLEAN\_START\_FIRST\_ONLY:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03706}03706\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_mqttv5\_first\_connect}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03707}03707\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03708}03708\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_clean\_start\ \ \#\ type:\ ignore}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03709}03709\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03710}03710\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_clean\_session}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03711}03711\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03712}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a7b382b434e4f1fd2a23dafc6630ab7c3}{03712}}\ \ \ \ \ def\ \_messages\_reconnect\_reset\_out(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03713}03713\ \ \ \ \ \ \ \ \ with\ self.\_out\_message\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03714}03714\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_inflight\_messages\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03715}03715\ \ \ \ \ \ \ \ \ \ \ \ \ for\ m\ in\ self.\_out\_messages.values():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03716}03716\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.timestamp\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03717}03717\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_max\_inflight\_messages\ ==\ 0\ or\ self.\_inflight\_messages\ <\ self.\_max\_inflight\_messages:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03718}03718\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ m.qos\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03719}03719\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.state\ =\ mqtt\_ms\_publish}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03720}03720\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elif\ m.qos\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03721}03721\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ self.\_inflight\_messages\ =\ self.\_inflight\_messages\ +\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03722}03722\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ m.state\ ==\ mqtt\_ms\_wait\_for\_puback:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03723}03723\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.dup\ =\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03724}03724\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.state\ =\ mqtt\_ms\_publish}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03725}03725\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elif\ m.qos\ ==\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03726}03726\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ self.\_inflight\_messages\ =\ self.\_inflight\_messages\ +\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03727}03727\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_check\_clean\_session():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03728}03728\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ m.state\ !=\ mqtt\_ms\_publish:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03729}03729\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.dup\ =\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03730}03730\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.state\ =\ mqtt\_ms\_publish}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03731}03731\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03732}03732\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ m.state\ ==\ mqtt\_ms\_wait\_for\_pubcomp:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03733}03733\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.state\ =\ mqtt\_ms\_resend\_pubrel}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03734}03734\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03735}03735\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ m.state\ ==\ mqtt\_ms\_wait\_for\_pubrec:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03736}03736\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.dup\ =\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03737}03737\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.state\ =\ mqtt\_ms\_publish}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03738}03738\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03739}03739\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.state\ =\ mqtt\_ms\_queued}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03740}03740\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03741}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a516ccf36c1a79b971036918a9ad37ccc}{03741}}\ \ \ \ \ def\ \_messages\_reconnect\_reset\_in(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03742}03742\ \ \ \ \ \ \ \ \ with\ self.\_in\_message\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03743}03743\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_check\_clean\_session():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03744}03744\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_in\_messages\ =\ collections.OrderedDict()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03745}03745\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03746}03746\ \ \ \ \ \ \ \ \ \ \ \ \ for\ m\ in\ self.\_in\_messages.values():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03747}03747\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.timestamp\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03748}03748\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ m.qos\ !=\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03749}03749\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_in\_messages.pop(m.mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03750}03750\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03751}03751\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Preserve\ current\ state}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03752}03752\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pass}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03753}03753\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03754}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a71ede766395818a2ed7045db5cf1137f}{03754}}\ \ \ \ \ def\ \_messages\_reconnect\_reset(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03755}03755\ \ \ \ \ \ \ \ \ self.\_messages\_reconnect\_reset\_out()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03756}03756\ \ \ \ \ \ \ \ \ self.\_messages\_reconnect\_reset\_in()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03757}03757\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03758}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a0a7ec7d6160e6017edbcdc731fefe5d1}{03758}}\ \ \ \ \ def\ \_packet\_queue(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03759}03759\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03760}03760\ \ \ \ \ \ \ \ \ command:\ int,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03761}03761\ \ \ \ \ \ \ \ \ packet:\ bytes,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03762}03762\ \ \ \ \ \ \ \ \ mid:\ int,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03763}03763\ \ \ \ \ \ \ \ \ qos:\ int,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03764}03764\ \ \ \ \ \ \ \ \ info:\ MQTTMessageInfo\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03765}03765\ \ \ \ \ )\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03766}03766\ \ \ \ \ \ \ \ \ mpkt:\ \_OutPacket\ =\ \{}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03767}03767\ \ \ \ \ \ \ \ \ \ \ \ \ "{}command"{}:\ command,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03768}03768\ \ \ \ \ \ \ \ \ \ \ \ \ "{}mid"{}:\ mid,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03769}03769\ \ \ \ \ \ \ \ \ \ \ \ \ "{}qos"{}:\ qos,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03770}03770\ \ \ \ \ \ \ \ \ \ \ \ \ "{}pos"{}:\ 0,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03771}03771\ \ \ \ \ \ \ \ \ \ \ \ \ "{}to\_process"{}:\ len(packet),}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03772}03772\ \ \ \ \ \ \ \ \ \ \ \ \ "{}packet"{}:\ packet,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03773}03773\ \ \ \ \ \ \ \ \ \ \ \ \ "{}info"{}:\ info,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03774}03774\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03775}03775\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03776}03776\ \ \ \ \ \ \ \ \ self.\_out\_packet.append(mpkt)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03777}03777\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03778}03778\ \ \ \ \ \ \ \ \ \#\ Write\ a\ single\ byte\ to\ sockpairW\ (connected\ to\ sockpairR)\ to\ break}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03779}03779\ \ \ \ \ \ \ \ \ \#\ out\ of\ select()\ if\ in\ threaded\ mode.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03780}03780\ \ \ \ \ \ \ \ \ if\ self.\_sockpairW\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03781}03781\ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03782}03782\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_sockpairW.send(sockpair\_data)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03783}03783\ \ \ \ \ \ \ \ \ \ \ \ \ except\ BlockingIOError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03784}03784\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pass}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03785}03785\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03786}03786\ \ \ \ \ \ \ \ \ \#\ If\ we\ have\ an\ external\ event\ loop\ registered,\ use\ that\ instead}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03787}03787\ \ \ \ \ \ \ \ \ \#\ of\ calling\ loop\_write()\ directly.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03788}03788\ \ \ \ \ \ \ \ \ if\ self.\_thread\ is\ None\ and\ self.\_on\_socket\_register\_write\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03789}03789\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_in\_callback\_mutex.acquire(False):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03790}03790\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_in\_callback\_mutex.release()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03791}03791\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.loop\_write()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03792}03792\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03793}03793\ \ \ \ \ \ \ \ \ self.\_call\_socket\_register\_write()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03794}03794\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03795}03795\ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03796}03796\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03797}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a5c1cc7ecc3bd1bc2b75604ad25d2ecae}{03797}}\ \ \ \ \ def\ \_packet\_handle(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03798}03798\ \ \ \ \ \ \ \ \ cmd\ =\ self.\_in\_packet['command']\ \&\ 0xF0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03799}03799\ \ \ \ \ \ \ \ \ if\ cmd\ ==\ PINGREQ:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03800}03800\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_handle\_pingreq()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03801}03801\ \ \ \ \ \ \ \ \ elif\ cmd\ ==\ PINGRESP:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03802}03802\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_handle\_pingresp()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03803}03803\ \ \ \ \ \ \ \ \ elif\ cmd\ ==\ PUBACK:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03804}03804\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_handle\_pubackcomp("{}PUBACK"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03805}03805\ \ \ \ \ \ \ \ \ elif\ cmd\ ==\ PUBCOMP:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03806}03806\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_handle\_pubackcomp("{}PUBCOMP"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03807}03807\ \ \ \ \ \ \ \ \ elif\ cmd\ ==\ PUBLISH:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03808}03808\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_handle\_publish()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03809}03809\ \ \ \ \ \ \ \ \ elif\ cmd\ ==\ PUBREC:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03810}03810\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_handle\_pubrec()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03811}03811\ \ \ \ \ \ \ \ \ elif\ cmd\ ==\ PUBREL:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03812}03812\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_handle\_pubrel()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03813}03813\ \ \ \ \ \ \ \ \ elif\ cmd\ ==\ CONNACK:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03814}03814\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_handle\_connack()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03815}03815\ \ \ \ \ \ \ \ \ elif\ cmd\ ==\ SUBACK:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03816}03816\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_handle\_suback()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03817}03817\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03818}03818\ \ \ \ \ \ \ \ \ elif\ cmd\ ==\ UNSUBACK:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03819}03819\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_handle\_unsuback()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03820}03820\ \ \ \ \ \ \ \ \ elif\ cmd\ ==\ DISCONNECT\ and\ self.\_protocol\ ==\ MQTTv5:\ \ \#\ only\ allowed\ in\ MQTT\ 5.0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03821}03821\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_handle\_disconnect()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03822}03822\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03823}03823\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03824}03824\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ If\ we\ don't\ recognise\ the\ command,\ return\ an\ error\ straight\ away.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03825}03825\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_ERR,\ "{}Error:\ Unrecognised\ command\ \%s"{},\ cmd)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03826}03826\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03827}03827\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03828}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a9577e4a910f852010bbff9e168af610e}{03828}}\ \ \ \ \ def\ \_handle\_pingreq(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03829}03829\ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['remaining\_length']\ !=\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03830}03830\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03831}03831\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03832}03832\ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_DEBUG,\ "{}Received\ PINGREQ"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03833}03833\ \ \ \ \ \ \ \ \ return\ self.\_send\_pingresp()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03834}03834\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03835}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_af3fc53df3fecb03919f0c8a6fe0992e7}{03835}}\ \ \ \ \ def\ \_handle\_pingresp(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03836}03836\ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['remaining\_length']\ !=\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03837}03837\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03838}03838\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03839}03839\ \ \ \ \ \ \ \ \ \#\ No\ longer\ waiting\ for\ a\ PINGRESP.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03840}03840\ \ \ \ \ \ \ \ \ self.\_ping\_t\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03841}03841\ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_DEBUG,\ "{}Received\ PINGRESP"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03842}03842\ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03843}03843\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03844}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a9172b4201cd81105a362c9555caf8957}{03844}}\ \ \ \ \ def\ \_handle\_connack(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03845}03845\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03846}03846\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['remaining\_length']\ <\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03847}03847\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03848}03848\ \ \ \ \ \ \ \ \ elif\ self.\_in\_packet['remaining\_length']\ !=\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03849}03849\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03850}03850\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03851}03851\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03852}03852\ \ \ \ \ \ \ \ \ \ \ \ \ (flags,\ result)\ =\ struct.unpack(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03853}03853\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}!BB"{},\ self.\_in\_packet['packet'][:2])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03854}03854\ \ \ \ \ \ \ \ \ \ \ \ \ if\ result\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03855}03855\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ This\ is\ probably\ a\ failure\ from\ a\ broker\ that\ doesn't\ support}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03856}03856\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ MQTT\ v5.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03857}03857\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reason\ =\ ReasonCode(CONNACK\ >>\ 4,\ aName="{}Unsupported\ protocol\ version"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03858}03858\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03859}03859\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03860}03860\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reason\ =\ ReasonCode(CONNACK\ >>\ 4,\ identifier=result)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03861}03861\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties\ =\ Properties(CONNACK\ >>\ 4)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03862}03862\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties.unpack(self.\_in\_packet['packet'][2:])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03863}03863\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03864}03864\ \ \ \ \ \ \ \ \ \ \ \ \ (flags,\ result)\ =\ struct.unpack("{}!BB"{},\ self.\_in\_packet['packet'])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03865}03865\ \ \ \ \ \ \ \ \ \ \ \ \ reason\ =\ convert\_connack\_rc\_to\_reason\_code(result)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03866}03866\ \ \ \ \ \ \ \ \ \ \ \ \ properties\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03867}03867\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv311:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03868}03868\ \ \ \ \ \ \ \ \ \ \ \ \ if\ result\ ==\ CONNACK\_REFUSED\_PROTOCOL\_VERSION:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03869}03869\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ self.\_reconnect\_on\_failure:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03870}03870\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03871}03871\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03872}03872\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03873}03873\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}Received\ CONNACK\ (\%s,\ \%s),\ attempting\ downgrade\ to\ MQTT\ v3.1."{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03874}03874\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ flags,\ result}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03875}03875\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03876}03876\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Downgrade\ to\ MQTT\ v3.1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03877}03877\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_protocol\ =\ MQTTv31}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03878}03878\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.reconnect()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03879}03879\ \ \ \ \ \ \ \ \ \ \ \ \ elif\ (result\ ==\ CONNACK\_REFUSED\_IDENTIFIER\_REJECTED}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03880}03880\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ and\ self.\_client\_id\ ==\ b''):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03881}03881\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ self.\_reconnect\_on\_failure:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03882}03882\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03883}03883\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03884}03884\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03885}03885\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}Received\ CONNACK\ (\%s,\ \%s),\ attempting\ to\ use\ non-\/empty\ CID"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03886}03886\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ flags,\ result,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03887}03887\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03888}03888\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_client\_id\ =\ \_base62(uuid.uuid4().int,\ padding=22).encode("{}utf8"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03889}03889\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.reconnect()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03890}03890\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03891}03891\ \ \ \ \ \ \ \ \ if\ result\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03892}03892\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_state\ =\ \_ConnectionState.MQTT\_CS\_CONNECTED}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03893}03893\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_reconnect\_delay\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03894}03894\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03895}03895\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03896}03896\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03897}03897\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,\ "{}Received\ CONNACK\ (\%s,\ \%s)\ properties=\%s"{},\ flags,\ reason,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03898}03898\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03899}03899\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03900}03900\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,\ "{}Received\ CONNACK\ (\%s,\ \%s)"{},\ flags,\ result)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03901}03901\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03902}03902\ \ \ \ \ \ \ \ \ \#\ it\ won't\ be\ the\ first\ successful\ connect\ any\ more}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03903}03903\ \ \ \ \ \ \ \ \ self.\_mqttv5\_first\_connect\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03904}03904\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03905}03905\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03906}03906\ \ \ \ \ \ \ \ \ \ \ \ \ on\_connect\ =\ self.on\_connect}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03907}03907\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03908}03908\ \ \ \ \ \ \ \ \ if\ on\_connect:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03909}03909\ \ \ \ \ \ \ \ \ \ \ \ \ flags\_dict\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03910}03910\ \ \ \ \ \ \ \ \ \ \ \ \ flags\_dict['session\ present']\ =\ flags\ \&\ 0x01}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03911}03911\ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_in\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03912}03912\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03913}03913\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_callback\_api\_version\ ==\ CallbackAPIVersion.VERSION1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03914}03914\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03915}03915\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_connect\ =\ cast(CallbackOnConnect\_v1\_mqtt5,\ on\_connect)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03916}03916\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03917}03917\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_connect(self,\ self.\_userdata,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03918}03918\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ flags\_dict,\ reason,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03919}03919\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03920}03920\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_connect\ =\ cast(CallbackOnConnect\_v1\_mqtt3,\ on\_connect)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03921}03921\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03922}03922\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_connect(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03923}03923\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self,\ self.\_userdata,\ flags\_dict,\ result)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03924}03924\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elif\ self.\_callback\_api\_version\ ==\ CallbackAPIVersion.VERSION2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03925}03925\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_connect\ =\ cast(CallbackOnConnect\_v2,\ on\_connect)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03926}03926\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03927}03927\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ connect\_flags\ =\ ConnectFlags(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03928}03928\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ session\_present=flags\_dict['session\ present']\ >\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03929}03929\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03930}03930\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03931}03931\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ properties\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03932}03932\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties\ =\ Properties(PacketTypes.CONNACK)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03933}03933\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03934}03934\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_connect(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03935}03935\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03936}03936\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_userdata,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03937}03937\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ connect\_flags,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03938}03938\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reason,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03939}03939\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03940}03940\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03941}03941\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03942}03942\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ RuntimeError("{}Unsupported\ callback\ API\ version"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03943}03943\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03944}03944\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03945}03945\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'Caught\ exception\ in\ on\_connect:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03946}03946\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ self.suppress\_exceptions:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03947}03947\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03948}03948\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03949}03949\ \ \ \ \ \ \ \ \ if\ result\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03950}03950\ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03951}03951\ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_out\_message\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03952}03952\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ m\ in\ self.\_out\_messages.values():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03953}03953\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.timestamp\ =\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03954}03954\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ m.state\ ==\ mqtt\_ms\_queued:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03955}03955\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.loop\_write()\ \ \#\ Process\ outgoing\ messages\ that\ have\ just\ been\ queued\ up}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03956}03956\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03957}03957\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l03958}03958\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ m.qos\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03959}03959\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_in\_callback\_mutex:\ \ \#\ Don't\ call\ loop\_write\ after\ \_send\_publish()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03960}03960\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ self.\_send\_publish(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03961}03961\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.mid,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03962}03962\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.topic.encode('utf-\/8'),}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03963}03963\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.payload,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03964}03964\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.qos,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03965}03965\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.retain,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03966}03966\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.dup,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03967}03967\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties=m.properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03968}03968\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03969}03969\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ rc\ !=\ MQTTErrorCode.MQTT\_ERR\_SUCCESS:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03970}03970\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03971}03971\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elif\ m.qos\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03972}03972\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ m.state\ ==\ mqtt\_ms\_publish:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03973}03973\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_inflight\_messages\ +=\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03974}03974\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.state\ =\ mqtt\_ms\_wait\_for\_puback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03975}03975\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_in\_callback\_mutex:\ \ \#\ Don't\ call\ loop\_write\ after\ \_send\_publish()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03976}03976\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ self.\_send\_publish(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03977}03977\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.mid,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03978}03978\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.topic.encode('utf-\/8'),}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03979}03979\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.payload,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03980}03980\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.qos,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03981}03981\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.retain,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03982}03982\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.dup,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03983}03983\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties=m.properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03984}03984\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03985}03985\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ rc\ !=\ MQTTErrorCode.MQTT\_ERR\_SUCCESS:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03986}03986\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03987}03987\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elif\ m.qos\ ==\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03988}03988\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ m.state\ ==\ mqtt\_ms\_publish:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03989}03989\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_inflight\_messages\ +=\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03990}03990\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.state\ =\ mqtt\_ms\_wait\_for\_pubrec}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03991}03991\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_in\_callback\_mutex:\ \ \#\ Don't\ call\ loop\_write\ after\ \_send\_publish()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03992}03992\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ self.\_send\_publish(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03993}03993\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.mid,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03994}03994\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.topic.encode('utf-\/8'),}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03995}03995\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.payload,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03996}03996\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.qos,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03997}03997\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.retain,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03998}03998\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.dup,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l03999}03999\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties=m.properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04000}04000\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04001}04001\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ rc\ !=\ MQTTErrorCode.MQTT\_ERR\_SUCCESS:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04002}04002\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04003}04003\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elif\ m.state\ ==\ mqtt\_ms\_resend\_pubrel:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04004}04004\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_inflight\_messages\ +=\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04005}04005\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.state\ =\ mqtt\_ms\_wait\_for\_pubcomp}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04006}04006\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_in\_callback\_mutex:\ \ \#\ Don't\ call\ loop\_write\ after\ \_send\_publish()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04007}04007\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ self.\_send\_pubrel(m.mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04008}04008\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ rc\ !=\ MQTTErrorCode.MQTT\_ERR\_SUCCESS:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04009}04009\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04010}04010\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.loop\_write()\ \ \#\ Process\ outgoing\ messages\ that\ have\ just\ been\ queued\ up}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04011}04011\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04012}04012\ \ \ \ \ \ \ \ \ \ \ \ \ return\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04013}04013\ \ \ \ \ \ \ \ \ elif\ result\ >\ 0\ and\ result\ <\ 6:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04014}04014\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_CONN\_REFUSED}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04015}04015\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04016}04016\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04017}04017\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04018}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a39a581a916e12859c2f15c83def19434}{04018}}\ \ \ \ \ def\ \_handle\_disconnect(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04019}04019\ \ \ \ \ \ \ \ \ packet\_type\ =\ DISCONNECT\ >>\ 4}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04020}04020\ \ \ \ \ \ \ \ \ reasonCode\ =\ properties\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04021}04021\ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['remaining\_length']\ >\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04022}04022\ \ \ \ \ \ \ \ \ \ \ \ \ reasonCode\ =\ ReasonCode(packet\_type)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04023}04023\ \ \ \ \ \ \ \ \ \ \ \ \ reasonCode.unpack(self.\_in\_packet['packet'])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04024}04024\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['remaining\_length']\ >\ 3:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04025}04025\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties\ =\ Properties(packet\_type)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04026}04026\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ props,\ props\_len\ =\ properties.unpack(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04027}04027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_in\_packet['packet'][1:])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04028}04028\ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_DEBUG,\ "{}Received\ DISCONNECT\ \%s\ \%s"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04029}04029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reasonCode,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04030}04030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04031}04031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04032}04032\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04033}04033\ \ \ \ \ \ \ \ \ self.\_sock\_close()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04034}04034\ \ \ \ \ \ \ \ \ self.\_do\_on\_disconnect(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04035}04035\ \ \ \ \ \ \ \ \ \ \ \ \ packet\_from\_broker=True,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04036}04036\ \ \ \ \ \ \ \ \ \ \ \ \ v1\_rc=MQTTErrorCode.MQTT\_ERR\_SUCCESS,\ \ \#\ If\ reason\ is\ absent\ (remaining\ length\ <\ 1),\ it\ means\ normal\ disconnection}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04037}04037\ \ \ \ \ \ \ \ \ \ \ \ \ reason=reasonCode,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04038}04038\ \ \ \ \ \ \ \ \ \ \ \ \ properties=properties,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04039}04039\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04040}04040\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04041}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_accefd33c4253233c74c071ad9a80196b}{04041}}\ \ \ \ \ def\ \_handle\_suback(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04042}04042\ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_DEBUG,\ "{}Received\ SUBACK"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04043}04043\ \ \ \ \ \ \ \ \ pack\_format\ =\ f"{}!H\{len(self.\_in\_packet['packet'])\ -\/\ 2\}s"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04044}04044\ \ \ \ \ \ \ \ \ (mid,\ packet)\ =\ struct.unpack(pack\_format,\ self.\_in\_packet['packet'])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04045}04045\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04046}04046\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04047}04047\ \ \ \ \ \ \ \ \ \ \ \ \ properties\ =\ Properties(SUBACK\ >>\ 4)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04048}04048\ \ \ \ \ \ \ \ \ \ \ \ \ props,\ props\_len\ =\ properties.unpack(packet)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04049}04049\ \ \ \ \ \ \ \ \ \ \ \ \ reasoncodes\ =\ [ReasonCode(SUBACK\ >>\ 4,\ identifier=c)\ for\ c\ in\ packet[props\_len:]]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04050}04050\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04051}04051\ \ \ \ \ \ \ \ \ \ \ \ \ pack\_format\ =\ f"{}!\{'B'\ *\ len(packet)\}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04052}04052\ \ \ \ \ \ \ \ \ \ \ \ \ granted\_qos\ =\ struct.unpack(pack\_format,\ packet)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04053}04053\ \ \ \ \ \ \ \ \ \ \ \ \ reasoncodes\ =\ [ReasonCode(SUBACK\ >>\ 4,\ identifier=c)\ for\ c\ in\ granted\_qos]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04054}04054\ \ \ \ \ \ \ \ \ \ \ \ \ properties\ =\ Properties(SUBACK\ >>\ 4)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04055}04055\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04056}04056\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04057}04057\ \ \ \ \ \ \ \ \ \ \ \ \ on\_subscribe\ =\ self.on\_subscribe}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04058}04058\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04059}04059\ \ \ \ \ \ \ \ \ if\ on\_subscribe:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04060}04060\ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_in\_callback\_mutex:\ \ \#\ Don't\ call\ loop\_write\ after\ \_send\_publish()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04061}04061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04062}04062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_callback\_api\_version\ ==\ CallbackAPIVersion.VERSION1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04063}04063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04064}04064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_subscribe\ =\ cast(CallbackOnSubscribe\_v1\_mqtt5,\ on\_subscribe)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04065}04065\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04066}04066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_subscribe(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04067}04067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self,\ self.\_userdata,\ mid,\ reasoncodes,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04068}04068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04069}04069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_subscribe\ =\ cast(CallbackOnSubscribe\_v1\_mqtt3,\ on\_subscribe)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04070}04070\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04071}04071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_subscribe(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04072}04072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self,\ self.\_userdata,\ mid,\ granted\_qos)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04073}04073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elif\ self.\_callback\_api\_version\ ==\ CallbackAPIVersion.VERSION2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04074}04074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_subscribe\ =\ cast(CallbackOnSubscribe\_v2,\ on\_subscribe)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04075}04075\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04076}04076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_subscribe(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04077}04077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04078}04078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_userdata,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04079}04079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mid,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04080}04080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reasoncodes,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04081}04081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04082}04082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04083}04083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04084}04084\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ RuntimeError("{}Unsupported\ callback\ API\ version"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04085}04085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04086}04086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04087}04087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'Caught\ exception\ in\ on\_subscribe:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04088}04088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ self.suppress\_exceptions:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04089}04089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04090}04090\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04091}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ae83db1219569288af970d5e355a6b88f}{04091}}\ \ \ \ \ def\ \_handle\_publish(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04092}04092\ \ \ \ \ \ \ \ \ header\ =\ self.\_in\_packet['command']}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04093}04093\ \ \ \ \ \ \ \ \ message\ =\ MQTTMessage()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04094}04094\ \ \ \ \ \ \ \ \ message.dup\ =\ ((header\ \&\ 0x08)\ >>\ 3)\ !=\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04095}04095\ \ \ \ \ \ \ \ \ message.qos\ =\ (header\ \&\ 0x06)\ >>\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04096}04096\ \ \ \ \ \ \ \ \ message.retain\ =\ (header\ \&\ 0x01)\ !=\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04097}04097\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04098}04098\ \ \ \ \ \ \ \ \ pack\_format\ =\ f"{}!H\{len(self.\_in\_packet['packet'])\ -\/\ 2\}s"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04099}04099\ \ \ \ \ \ \ \ \ (slen,\ packet)\ =\ struct.unpack(pack\_format,\ self.\_in\_packet['packet'])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04100}04100\ \ \ \ \ \ \ \ \ pack\_format\ =\ f"{}!\{slen\}s\{len(packet)\ -\/\ slen\}s"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04101}04101\ \ \ \ \ \ \ \ \ (topic,\ packet)\ =\ struct.unpack(pack\_format,\ packet)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04102}04102\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04103}04103\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ !=\ MQTTv5\ and\ len(topic)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04104}04104\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04105}04105\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04106}04106\ \ \ \ \ \ \ \ \ \#\ Handle\ topics\ with\ invalid\ UTF-\/8}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04107}04107\ \ \ \ \ \ \ \ \ \#\ This\ replaces\ an\ invalid\ topic\ with\ a\ message\ and\ the\ hex}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04108}04108\ \ \ \ \ \ \ \ \ \#\ representation\ of\ the\ topic\ for\ logging.\ When\ the\ user\ attempts\ to}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04109}04109\ \ \ \ \ \ \ \ \ \#\ access\ message.topic\ in\ the\ callback,\ an\ exception\ will\ be\ raised.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04110}04110\ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04111}04111\ \ \ \ \ \ \ \ \ \ \ \ \ print\_topic\ =\ topic.decode('utf-\/8')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04112}04112\ \ \ \ \ \ \ \ \ except\ UnicodeDecodeError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04113}04113\ \ \ \ \ \ \ \ \ \ \ \ \ print\_topic\ =\ f"{}TOPIC\ WITH\ INVALID\ UTF-\/8:\ \{topic!r\}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04114}04114\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04115}04115\ \ \ \ \ \ \ \ \ message.topic\ =\ topic}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04116}04116\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04117}04117\ \ \ \ \ \ \ \ \ if\ message.qos\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04118}04118\ \ \ \ \ \ \ \ \ \ \ \ \ pack\_format\ =\ f"{}!H\{len(packet)\ -\/\ 2\}s"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04119}04119\ \ \ \ \ \ \ \ \ \ \ \ \ (message.mid,\ packet)\ =\ struct.unpack(pack\_format,\ packet)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04120}04120\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04121}04121\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04122}04122\ \ \ \ \ \ \ \ \ \ \ \ \ message.properties\ =\ Properties(PUBLISH\ >>\ 4)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04123}04123\ \ \ \ \ \ \ \ \ \ \ \ \ props,\ props\_len\ =\ message.properties.unpack(packet)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04124}04124\ \ \ \ \ \ \ \ \ \ \ \ \ packet\ =\ packet[props\_len:]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04125}04125\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04126}04126\ \ \ \ \ \ \ \ \ message.payload\ =\ packet}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04127}04127\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04128}04128\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04129}04129\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04130}04130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04131}04131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}Received\ PUBLISH\ (d\%d,\ q\%d,\ r\%d,\ m\%d),\ '\%s',\ properties=\%s,\ ...\ \ (\%d\ bytes)"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04132}04132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message.dup,\ message.qos,\ message.retain,\ message.mid,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04133}04133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print\_topic,\ message.properties,\ len(message.payload)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04134}04134\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04135}04135\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04136}04136\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04137}04137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_DEBUG,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04138}04138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}Received\ PUBLISH\ (d\%d,\ q\%d,\ r\%d,\ m\%d),\ '\%s',\ ...\ \ (\%d\ bytes)"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04139}04139\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message.dup,\ message.qos,\ message.retain,\ message.mid,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04140}04140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print\_topic,\ len(message.payload)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04141}04141\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04142}04142\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04143}04143\ \ \ \ \ \ \ \ \ message.timestamp\ =\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04144}04144\ \ \ \ \ \ \ \ \ if\ message.qos\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04145}04145\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_handle\_on\_message(message)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04146}04146\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04147}04147\ \ \ \ \ \ \ \ \ elif\ message.qos\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04148}04148\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_handle\_on\_message(message)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04149}04149\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_manual\_ack:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04150}04150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04151}04151\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04152}04152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_send\_puback(message.mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04153}04153\ \ \ \ \ \ \ \ \ elif\ message.qos\ ==\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04154}04154\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04155}04155\ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ self.\_send\_pubrec(message.mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04156}04156\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04157}04157\ \ \ \ \ \ \ \ \ \ \ \ \ message.state\ =\ mqtt\_ms\_wait\_for\_pubrel}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04158}04158\ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_in\_message\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04159}04159\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_in\_messages[message.mid]\ =\ message}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04160}04160\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04161}04161\ \ \ \ \ \ \ \ \ \ \ \ \ return\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04162}04162\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04163}04163\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04164}04164\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04165}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a69337fe11cd767c1dc98b124c6d77e6b}{04165}}\ \ \ \ \ def\ ack(self,\ mid:\ int,\ qos:\ int)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04166}04166\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04167}04167\ \ \ \ \ \ \ \ \ \ \ \ send\ an\ acknowledgement\ for\ a\ given\ message\ id\ (stored\ in\ :py:attr:\`{}message.mid\ <MQTTMessage.mid>\`{}).}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04168}04168\ \ \ \ \ \ \ \ \ \ \ \ only\ useful\ in\ QoS>=1\ and\ \`{}\`{}manual\_ack=True\`{}\`{}\ (option\ of\ \`{}Client\`{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04169}04169\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04170}04170\ \ \ \ \ \ \ \ \ if\ self.\_manual\_ack\ :}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04171}04171\ \ \ \ \ \ \ \ \ \ \ \ \ if\ qos\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04172}04172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_send\_puback(mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04173}04173\ \ \ \ \ \ \ \ \ \ \ \ \ elif\ qos\ ==\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04174}04174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_send\_pubcomp(mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04175}04175\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04176}04176\ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04177}04177\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04178}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a179085039c375e37ae247b7c447b398c}{04178}}\ \ \ \ \ def\ manual\_ack\_set(self,\ on:\ bool)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04179}04179\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04180}04180\ \ \ \ \ \ \ \ \ \ \ \ The\ paho\ library\ normally\ acknowledges\ messages\ as\ soon\ as\ they\ are\ delivered\ to\ the\ caller.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04181}04181\ \ \ \ \ \ \ \ \ \ \ \ If\ manual\_ack\ is\ turned\ on,\ then\ the\ caller\ MUST\ manually\ acknowledge\ every\ message\ once}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04182}04182\ \ \ \ \ \ \ \ \ \ \ \ application\ processing\ is\ complete\ using\ \`{}ack()\`{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04183}04183\ \ \ \ \ \ \ \ \ "{}"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04184}04184\ \ \ \ \ \ \ \ \ self.\_manual\_ack\ =\ on}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04185}04185\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04186}04186\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04187}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a80092d3e579cbbf65ad2cae22aa211db}{04187}}\ \ \ \ \ def\ \_handle\_pubrel(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04188}04188\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04189}04189\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['remaining\_length']\ <\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04190}04190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04191}04191\ \ \ \ \ \ \ \ \ elif\ self.\_in\_packet['remaining\_length']\ !=\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04192}04192\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04193}04193\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04194}04194\ \ \ \ \ \ \ \ \ mid,\ =\ struct.unpack("{}!H"{},\ self.\_in\_packet['packet'][:2])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04195}04195\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04196}04196\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['remaining\_length']\ >\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04197}04197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reasonCode\ =\ ReasonCode(PUBREL\ >>\ 4)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04198}04198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reasonCode.unpack(self.\_in\_packet['packet'][2:])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04199}04199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['remaining\_length']\ >\ 3:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04200}04200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties\ =\ Properties(PUBREL\ >>\ 4)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04201}04201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ props,\ props\_len\ =\ properties.unpack(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04202}04202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_in\_packet['packet'][3:])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04203}04203\ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_DEBUG,\ "{}Received\ PUBREL\ (Mid:\ \%d)"{},\ mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04204}04204\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04205}04205\ \ \ \ \ \ \ \ \ with\ self.\_in\_message\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04206}04206\ \ \ \ \ \ \ \ \ \ \ \ \ if\ mid\ in\ self.\_in\_messages:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04207}04207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Only\ pass\ the\ message\ on\ if\ we\ have\ removed\ it\ from\ the\ queue\ -\/\ this}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04208}04208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ prevents\ multiple\ callbacks\ for\ the\ same\ message.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04209}04209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message\ =\ self.\_in\_messages.pop(mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04210}04210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_handle\_on\_message(message)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04211}04211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_inflight\_messages\ -\/=\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04212}04212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_max\_inflight\_messages\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04213}04213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_out\_message\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04214}04214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ self.\_update\_inflight()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04215}04215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ rc\ !=\ MQTTErrorCode.MQTT\_ERR\_SUCCESS:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04216}04216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04217}04217\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04218}04218\ \ \ \ \ \ \ \ \ \#\ FIXME:\ this\ should\ only\ be\ done\ if\ the\ message\ is\ known}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04219}04219\ \ \ \ \ \ \ \ \ \#\ If\ unknown\ it's\ a\ protocol\ error\ and\ we\ should\ close\ the\ connection.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04220}04220\ \ \ \ \ \ \ \ \ \#\ But\ since\ we\ don't\ have\ (on\ disk)\ persistence\ for\ the\ session,\ it}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04221}04221\ \ \ \ \ \ \ \ \ \#\ is\ possible\ that\ we\ must\ known\ about\ this\ message.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04222}04222\ \ \ \ \ \ \ \ \ \#\ Choose\ to\ acknowledge\ this\ message\ (thus\ losing\ a\ message)\ but}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04223}04223\ \ \ \ \ \ \ \ \ \#\ avoid\ hanging.\ See\ \#284.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04224}04224\ \ \ \ \ \ \ \ \ if\ self.\_manual\_ack:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04225}04225\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04226}04226\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04227}04227\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_send\_pubcomp(mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04228}04228\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04229}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a4b3a7a90507c93391cf9f2094cc2f355}{04229}}\ \ \ \ \ def\ \_update\_inflight(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04230}04230\ \ \ \ \ \ \ \ \ \#\ Dont\ lock\ message\_mutex\ here}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04231}04231\ \ \ \ \ \ \ \ \ for\ m\ in\ self.\_out\_messages.values():}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04232}04232\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_inflight\_messages\ <\ self.\_max\_inflight\_messages:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04233}04233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ m.qos\ >\ 0\ and\ m.state\ ==\ mqtt\_ms\_queued:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04234}04234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_inflight\_messages\ +=\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04235}04235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ m.qos\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04236}04236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.state\ =\ mqtt\_ms\_wait\_for\_puback}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04237}04237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elif\ m.qos\ ==\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04238}04238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.state\ =\ mqtt\_ms\_wait\_for\_pubrec}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04239}04239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ self.\_send\_publish(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04240}04240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.mid,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04241}04241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.topic.encode('utf-\/8'),}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04242}04242\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.payload,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04243}04243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.qos,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04244}04244\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.retain,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04245}04245\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m.dup,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04246}04246\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties=m.properties,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04247}04247\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04248}04248\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ rc\ !=\ MQTTErrorCode.MQTT\_ERR\_SUCCESS:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04249}04249\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04250}04250\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04251}04251\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04252}04252\ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04253}04253\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04254}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ae43c54e8a1a04b4409a3f8b967dfcd65}{04254}}\ \ \ \ \ def\ \_handle\_pubrec(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04255}04255\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04256}04256\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['remaining\_length']\ <\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04257}04257\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04258}04258\ \ \ \ \ \ \ \ \ elif\ self.\_in\_packet['remaining\_length']\ !=\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04259}04259\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04260}04260\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04261}04261\ \ \ \ \ \ \ \ \ mid,\ =\ struct.unpack("{}!H"{},\ self.\_in\_packet['packet'][:2])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04262}04262\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04263}04263\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['remaining\_length']\ >\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04264}04264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reasonCode\ =\ ReasonCode(PUBREC\ >>\ 4)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04265}04265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reasonCode.unpack(self.\_in\_packet['packet'][2:])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04266}04266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['remaining\_length']\ >\ 3:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04267}04267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties\ =\ Properties(PUBREC\ >>\ 4)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04268}04268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ props,\ props\_len\ =\ properties.unpack(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04269}04269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_in\_packet['packet'][3:])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04270}04270\ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_DEBUG,\ "{}Received\ PUBREC\ (Mid:\ \%d)"{},\ mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04271}04271\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04272}04272\ \ \ \ \ \ \ \ \ with\ self.\_out\_message\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04273}04273\ \ \ \ \ \ \ \ \ \ \ \ \ if\ mid\ in\ self.\_out\_messages:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04274}04274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ =\ self.\_out\_messages[mid]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04275}04275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg.state\ =\ mqtt\_ms\_wait\_for\_pubcomp}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04276}04276\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg.timestamp\ =\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04277}04277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_send\_pubrel(mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04278}04278\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04279}04279\ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04280}04280\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04281}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a31940442a31c7e3a7816a167b7ccdf57}{04281}}\ \ \ \ \ def\ \_handle\_unsuback(self)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04282}04282\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04283}04283\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['remaining\_length']\ <\ 4:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04284}04284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04285}04285\ \ \ \ \ \ \ \ \ elif\ self.\_in\_packet['remaining\_length']\ !=\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04286}04286\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04287}04287\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04288}04288\ \ \ \ \ \ \ \ \ mid,\ =\ struct.unpack("{}!H"{},\ self.\_in\_packet['packet'][:2])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04289}04289\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04290}04290\ \ \ \ \ \ \ \ \ \ \ \ \ packet\ =\ self.\_in\_packet['packet'][2:]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04291}04291\ \ \ \ \ \ \ \ \ \ \ \ \ properties\ =\ Properties(UNSUBACK\ >>\ 4)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04292}04292\ \ \ \ \ \ \ \ \ \ \ \ \ props,\ props\_len\ =\ properties.unpack(packet)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04293}04293\ \ \ \ \ \ \ \ \ \ \ \ \ reasoncodes\_list\ =\ [}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04294}04294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReasonCode(UNSUBACK\ >>\ 4,\ identifier=c)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04295}04295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ c\ in\ packet[props\_len:]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04296}04296\ \ \ \ \ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04297}04297\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04298}04298\ \ \ \ \ \ \ \ \ \ \ \ \ reasoncodes\_list\ =\ []}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04299}04299\ \ \ \ \ \ \ \ \ \ \ \ \ properties\ =\ Properties(UNSUBACK\ >>\ 4)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04300}04300\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04301}04301\ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_DEBUG,\ "{}Received\ UNSUBACK\ (Mid:\ \%d)"{},\ mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04302}04302\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04303}04303\ \ \ \ \ \ \ \ \ \ \ \ \ on\_unsubscribe\ =\ self.on\_unsubscribe}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04304}04304\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04305}04305\ \ \ \ \ \ \ \ \ if\ on\_unsubscribe:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04306}04306\ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_in\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04307}04307\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04308}04308\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_callback\_api\_version\ ==\ CallbackAPIVersion.VERSION1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04309}04309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04310}04310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_unsubscribe\ =\ cast(CallbackOnUnsubscribe\_v1\_mqtt5,\ on\_unsubscribe)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04311}04311\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04312}04312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reasoncodes:\ ReasonCode\ |\ list[ReasonCode]\ =\ reasoncodes\_list}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04313}04313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ len(reasoncodes\_list)\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04314}04314\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reasoncodes\ =\ reasoncodes\_list[0]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04315}04315\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04316}04316\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_unsubscribe(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04317}04317\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self,\ self.\_userdata,\ mid,\ properties,\ reasoncodes)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04318}04318\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04319}04319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_unsubscribe\ =\ cast(CallbackOnUnsubscribe\_v1\_mqtt3,\ on\_unsubscribe)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04320}04320\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04321}04321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_unsubscribe(self,\ self.\_userdata,\ mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04322}04322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elif\ self.\_callback\_api\_version\ ==\ CallbackAPIVersion.VERSION2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04323}04323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_unsubscribe\ =\ cast(CallbackOnUnsubscribe\_v2,\ on\_unsubscribe)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04324}04324\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04325}04325\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ properties\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04326}04326\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties\ =\ Properties(PacketTypes.CONNACK)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04327}04327\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04328}04328\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_unsubscribe(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04329}04329\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04330}04330\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_userdata,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04331}04331\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mid,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04332}04332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reasoncodes\_list,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04333}04333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04334}04334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04335}04335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04336}04336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ RuntimeError("{}Unsupported\ callback\ API\ version"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04337}04337\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04338}04338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04339}04339\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'Caught\ exception\ in\ on\_unsubscribe:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04340}04340\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ self.suppress\_exceptions:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04341}04341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04342}04342\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04343}04343\ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04344}04344\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04345}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_aedce7105817eb81904b77a1dde5fc53b}{04345}}\ \ \ \ \ def\ \_do\_on\_disconnect(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04346}04346\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04347}04347\ \ \ \ \ \ \ \ \ packet\_from\_broker:\ bool,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04348}04348\ \ \ \ \ \ \ \ \ v1\_rc:\ MQTTErrorCode,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04349}04349\ \ \ \ \ \ \ \ \ reason:\ ReasonCode\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04350}04350\ \ \ \ \ \ \ \ \ properties:\ Properties\ |\ None\ =\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04351}04351\ \ \ \ \ )\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04352}04352\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04353}04353\ \ \ \ \ \ \ \ \ \ \ \ \ on\_disconnect\ =\ self.on\_disconnect}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04354}04354\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04355}04355\ \ \ \ \ \ \ \ \ if\ on\_disconnect:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04356}04356\ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_in\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04357}04357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04358}04358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_callback\_api\_version\ ==\ CallbackAPIVersion.VERSION1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04359}04359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04360}04360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_disconnect\ =\ cast(CallbackOnDisconnect\_v1\_mqtt5,\ on\_disconnect)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04361}04361\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04362}04362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ packet\_from\_broker:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04363}04363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_disconnect(self,\ self.\_userdata,\ reason,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04364}04364\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04365}04365\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_disconnect(self,\ self.\_userdata,\ v1\_rc,\ None)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04366}04366\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04367}04367\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_disconnect\ =\ cast(CallbackOnDisconnect\_v1\_mqtt3,\ on\_disconnect)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04368}04368\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04369}04369\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_disconnect(self,\ self.\_userdata,\ v1\_rc)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04370}04370\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elif\ self.\_callback\_api\_version\ ==\ CallbackAPIVersion.VERSION2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04371}04371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_disconnect\ =\ cast(CallbackOnDisconnect\_v2,\ on\_disconnect)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04372}04372\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04373}04373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ disconnect\_flags\ =\ DisconnectFlags(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04374}04374\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is\_disconnect\_packet\_from\_server=packet\_from\_broker}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04375}04375\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04376}04376\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04377}04377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ reason\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04378}04378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reason\ =\ convert\_disconnect\_error\_code\_to\_reason\_code(v1\_rc)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04379}04379\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04380}04380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ properties\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04381}04381\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties\ =\ Properties(PacketTypes.DISCONNECT)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04382}04382\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04383}04383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_disconnect(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04384}04384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04385}04385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_userdata,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04386}04386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ disconnect\_flags,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04387}04387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reason,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04388}04388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04389}04389\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04390}04390\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04391}04391\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ RuntimeError("{}Unsupported\ callback\ API\ version"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04392}04392\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04393}04393\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04394}04394\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'Caught\ exception\ in\ on\_disconnect:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04395}04395\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ self.suppress\_exceptions:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04396}04396\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04397}04397\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04398}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_af9fd87e840b1fe42aec1e1f287cefd3c}{04398}}\ \ \ \ \ def\ \_do\_on\_publish(self,\ mid:\ int,\ reason\_code:\ ReasonCode,\ properties:\ Properties)\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04399}04399\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04400}04400\ \ \ \ \ \ \ \ \ \ \ \ \ on\_publish\ =\ self.on\_publish}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04401}04401\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04402}04402\ \ \ \ \ \ \ \ \ if\ on\_publish:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04403}04403\ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_in\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04404}04404\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04405}04405\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_callback\_api\_version\ ==\ CallbackAPIVersion.VERSION1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04406}04406\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_publish\ =\ cast(CallbackOnPublish\_v1,\ on\_publish)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04407}04407\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04408}04408\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_publish(self,\ self.\_userdata,\ mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04409}04409\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elif\ self.\_callback\_api\_version\ ==\ CallbackAPIVersion.VERSION2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04410}04410\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_publish\ =\ cast(CallbackOnPublish\_v2,\ on\_publish)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04411}04411\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04412}04412\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_publish(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04413}04413\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04414}04414\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_userdata,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04415}04415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mid,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04416}04416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reason\_code,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04417}04417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ properties,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04418}04418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04419}04419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04420}04420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ RuntimeError("{}Unsupported\ callback\ API\ version"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04421}04421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04422}04422\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04423}04423\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'Caught\ exception\ in\ on\_publish:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04424}04424\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ self.suppress\_exceptions:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04425}04425\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04426}04426\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04427}04427\ \ \ \ \ \ \ \ \ msg\ =\ self.\_out\_messages.pop(mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04428}04428\ \ \ \ \ \ \ \ \ msg.info.\_set\_as\_published()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04429}04429\ \ \ \ \ \ \ \ \ if\ msg.qos\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04430}04430\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_inflight\_messages\ -\/=\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04431}04431\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_max\_inflight\_messages\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04432}04432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ self.\_update\_inflight()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04433}04433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ rc\ !=\ MQTTErrorCode.MQTT\_ERR\_SUCCESS:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04434}04434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04435}04435\ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04436}04436\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04437}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a5ae2689ee0b4c83a0ac54d4c5d853d19}{04437}}\ \ \ \ \ def\ \_handle\_pubackcomp(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04438}04438\ \ \ \ \ \ \ \ \ self,\ cmd:\ Literal['PUBACK']\ |\ Literal['PUBCOMP']}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04439}04439\ \ \ \ \ )\ -\/>\ MQTTErrorCode:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04440}04440\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04441}04441\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['remaining\_length']\ <\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04442}04442\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04443}04443\ \ \ \ \ \ \ \ \ elif\ self.\_in\_packet['remaining\_length']\ !=\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04444}04444\ \ \ \ \ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_PROTOCOL}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04445}04445\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04446}04446\ \ \ \ \ \ \ \ \ packet\_type\_enum\ =\ PUBACK\ if\ cmd\ ==\ "{}PUBACK"{}\ else\ PUBCOMP}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04447}04447\ \ \ \ \ \ \ \ \ packet\_type\ =\ packet\_type\_enum.value\ >>\ 4}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04448}04448\ \ \ \ \ \ \ \ \ mid,\ =\ struct.unpack("{}!H"{},\ self.\_in\_packet['packet'][:2])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04449}04449\ \ \ \ \ \ \ \ \ reasonCode\ =\ ReasonCode(packet\_type)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04450}04450\ \ \ \ \ \ \ \ \ properties\ =\ Properties(packet\_type)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04451}04451\ \ \ \ \ \ \ \ \ if\ self.\_protocol\ ==\ MQTTv5:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04452}04452\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['remaining\_length']\ >\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04453}04453\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reasonCode.unpack(self.\_in\_packet['packet'][2:])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04454}04454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_in\_packet['remaining\_length']\ >\ 3:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04455}04455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ props,\ props\_len\ =\ properties.unpack(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04456}04456\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_in\_packet['packet'][3:])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04457}04457\ \ \ \ \ \ \ \ \ self.\_easy\_log(MQTT\_LOG\_DEBUG,\ "{}Received\ \%s\ (Mid:\ \%d)"{},\ cmd,\ mid)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04458}04458\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04459}04459\ \ \ \ \ \ \ \ \ with\ self.\_out\_message\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04460}04460\ \ \ \ \ \ \ \ \ \ \ \ \ if\ mid\ in\ self.\_out\_messages:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04461}04461\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Only\ inform\ the\ client\ the\ message\ has\ been\ sent\ once.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04462}04462\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ self.\_do\_on\_publish(mid,\ reasonCode,\ properties)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04463}04463\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ rc}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04464}04464\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04465}04465\ \ \ \ \ \ \ \ \ return\ MQTTErrorCode.MQTT\_ERR\_SUCCESS}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04466}04466\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04467}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a77f53cbcd1dd07e8a9fbf1b25e54d9ff}{04467}}\ \ \ \ \ def\ \_handle\_on\_message(self,\ message:\ MQTTMessage)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04468}04468\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04469}04469\ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04470}04470\ \ \ \ \ \ \ \ \ \ \ \ \ topic\ =\ message.topic}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04471}04471\ \ \ \ \ \ \ \ \ except\ UnicodeDecodeError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04472}04472\ \ \ \ \ \ \ \ \ \ \ \ \ topic\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04473}04473\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04474}04474\ \ \ \ \ \ \ \ \ on\_message\_callbacks\ =\ []}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04475}04475\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04476}04476\ \ \ \ \ \ \ \ \ \ \ \ \ if\ topic\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04477}04477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_message\_callbacks\ =\ list(self.\_on\_message\_filtered.iter\_match(message.topic))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04478}04478\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04479}04479\ \ \ \ \ \ \ \ \ \ \ \ \ if\ len(on\_message\_callbacks)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04480}04480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_message\ =\ self.on\_message}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04481}04481\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04482}04482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_message\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04483}04483\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04484}04484\ \ \ \ \ \ \ \ \ for\ callback\ in\ on\_message\_callbacks:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04485}04485\ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_in\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04486}04486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04487}04487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ callback(self,\ self.\_userdata,\ message)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04488}04488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04489}04489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04490}04490\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04491}04491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 'Caught\ exception\ in\ user\ defined\ callback\ function\ \%s:\ \%s',}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04492}04492\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ callback.\_\_name\_\_,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04493}04493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ err}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04494}04494\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04495}04495\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ self.suppress\_exceptions:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04496}04496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04497}04497\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04498}04498\ \ \ \ \ \ \ \ \ if\ on\_message:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04499}04499\ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_in\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04500}04500\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04501}04501\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_message(self,\ self.\_userdata,\ message)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04502}04502\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04503}04503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04504}04504\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'Caught\ exception\ in\ on\_message:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04505}04505\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ self.suppress\_exceptions:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04506}04506\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04507}04507\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04508}04508\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04509}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a6cb677804ce5e4a0c2806c7f2904be92}{04509}}\ \ \ \ \ def\ \_handle\_on\_connect\_fail(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04510}04510\ \ \ \ \ \ \ \ \ with\ self.\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04511}04511\ \ \ \ \ \ \ \ \ \ \ \ \ on\_connect\_fail\ =\ self.on\_connect\_fail}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04512}04512\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04513}04513\ \ \ \ \ \ \ \ \ if\ on\_connect\_fail:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04514}04514\ \ \ \ \ \ \ \ \ \ \ \ \ with\ self.\_in\_callback\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04515}04515\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04516}04516\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ on\_connect\_fail(self,\ self.\_userdata)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04517}04517\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ except\ Exception\ as\ err:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04518}04518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_easy\_log(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04519}04519\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MQTT\_LOG\_ERR,\ 'Caught\ exception\ in\ on\_connect\_fail:\ \%s',\ err)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04520}04520\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04521}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a00ed94095a6803019a239082f6e5f7ef}{04521}}\ \ \ \ \ def\ \_thread\_main(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04522}04522\ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04523}04523\ \ \ \ \ \ \ \ \ \ \ \ \ self.loop\_forever(retry\_first\_connection=True)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04524}04524\ \ \ \ \ \ \ \ \ finally:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04525}04525\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_thread\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04526}04526\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04527}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a993bdd92083a4e903de85e24ac348176}{04527}}\ \ \ \ \ def\ \_reconnect\_wait(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04528}04528\ \ \ \ \ \ \ \ \ \#\ See\ reconnect\_delay\_set\ for\ details}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04529}04529\ \ \ \ \ \ \ \ \ now\ =\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04530}04530\ \ \ \ \ \ \ \ \ with\ self.\_reconnect\_delay\_mutex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04531}04531\ \ \ \ \ \ \ \ \ \ \ \ \ if\ self.\_reconnect\_delay\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04532}04532\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_reconnect\_delay\ =\ self.\_reconnect\_min\_delay}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04533}04533\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04534}04534\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_reconnect\_delay\ =\ min(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04535}04535\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_reconnect\_delay\ *\ 2,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04536}04536\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_reconnect\_max\_delay,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04537}04537\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04538}04538\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04539}04539\ \ \ \ \ \ \ \ \ \ \ \ \ target\_time\ =\ now\ +\ self.\_reconnect\_delay}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04540}04540\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04541}04541\ \ \ \ \ \ \ \ \ remaining\ =\ target\_time\ -\/\ now}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04542}04542\ \ \ \ \ \ \ \ \ while\ (self.\_state\ not\ in\ (\_ConnectionState.MQTT\_CS\_DISCONNECTING,\ \_ConnectionState.MQTT\_CS\_DISCONNECTED)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04543}04543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ and\ not\ self.\_thread\_terminate}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04544}04544\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ and\ remaining\ >\ 0):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04545}04545\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04546}04546\ \ \ \ \ \ \ \ \ \ \ \ \ time.sleep(min(remaining,\ 1))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04547}04547\ \ \ \ \ \ \ \ \ \ \ \ \ remaining\ =\ target\_time\ -\/\ time\_func()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04548}04548\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04549}04549\ \ \ \ \ @staticmethod}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04550}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a20c30a92a4173f13c3865d5af9bb8318}{04550}}\ \ \ \ \ def\ \_proxy\_is\_valid(p)\ -\/>\ bool:\ \ \#\ type:\ ignore[no-\/untyped-\/def]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04551}04551\ \ \ \ \ \ \ \ \ def\ check(t,\ a)\ -\/>\ bool:\ \ \#\ type:\ ignore[no-\/untyped-\/def]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04552}04552\ \ \ \ \ \ \ \ \ \ \ \ \ return\ (socks\ is\ not\ None\ and}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04553}04553\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ t\ in\ \{socks.HTTP,\ socks.SOCKS4,\ socks.SOCKS5\}\ and\ a)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04554}04554\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04555}04555\ \ \ \ \ \ \ \ \ if\ isinstance(p,\ dict):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04556}04556\ \ \ \ \ \ \ \ \ \ \ \ \ return\ check(p.get("{}proxy\_type"{}),\ p.get("{}proxy\_addr"{}))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04557}04557\ \ \ \ \ \ \ \ \ elif\ isinstance(p,\ (list,\ tuple)):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04558}04558\ \ \ \ \ \ \ \ \ \ \ \ \ return\ len(p)\ ==\ 6\ and\ check(p[0],\ p[1])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04559}04559\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04560}04560\ \ \ \ \ \ \ \ \ \ \ \ \ return\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04561}04561\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04562}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ac887e69fd47cd36be0d582b1d569e402}{04562}}\ \ \ \ \ def\ \_get\_proxy(self)\ -\/>\ dict[str,\ Any]\ |\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04563}04563\ \ \ \ \ \ \ \ \ if\ socks\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04564}04564\ \ \ \ \ \ \ \ \ \ \ \ \ return\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04565}04565\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04566}04566\ \ \ \ \ \ \ \ \ \#\ First,\ check\ if\ the\ user\ explicitly\ passed\ us\ a\ proxy\ to\ use}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04567}04567\ \ \ \ \ \ \ \ \ if\ self.\_proxy\_is\_valid(self.\_proxy):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04568}04568\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_proxy}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04569}04569\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04570}04570\ \ \ \ \ \ \ \ \ \#\ Next,\ check\ for\ an\ mqtt\_proxy\ environment\ variable\ as\ long\ as\ the\ host}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04571}04571\ \ \ \ \ \ \ \ \ \#\ we're\ trying\ to\ connect\ to\ isn't\ listed\ under\ the\ no\_proxy\ environment}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04572}04572\ \ \ \ \ \ \ \ \ \#\ variable\ (matches\ built-\/in\ module\ urllib's\ behavior)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04573}04573\ \ \ \ \ \ \ \ \ if\ not\ (hasattr(urllib.request,\ "{}proxy\_bypass"{})\ and}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04574}04574\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ urllib.request.proxy\_bypass(self.\_host)):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04575}04575\ \ \ \ \ \ \ \ \ \ \ \ \ env\_proxies\ =\ urllib.request.getproxies()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04576}04576\ \ \ \ \ \ \ \ \ \ \ \ \ if\ "{}mqtt"{}\ in\ env\_proxies:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04577}04577\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ parts\ =\ urllib.parse.urlparse(env\_proxies["{}mqtt"{}])}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04578}04578\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ parts.scheme\ ==\ "{}http"{}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04579}04579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ proxy\ =\ \{}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04580}04580\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}proxy\_type"{}:\ socks.HTTP,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04581}04581\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}proxy\_addr"{}:\ parts.hostname,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04582}04582\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}proxy\_port"{}:\ parts.port}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04583}04583\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04584}04584\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ proxy}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04585}04585\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elif\ parts.scheme\ ==\ "{}socks"{}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04586}04586\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ proxy\ =\ \{}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04587}04587\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}proxy\_type"{}:\ socks.SOCKS5,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04588}04588\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}proxy\_addr"{}:\ parts.hostname,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04589}04589\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}proxy\_port"{}:\ parts.port}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04590}04590\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04591}04591\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ proxy}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04592}04592\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04593}04593\ \ \ \ \ \ \ \ \ \#\ Finally,\ check\ if\ the\ user\ has\ monkeypatched\ the\ PySocks\ library\ with}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04594}04594\ \ \ \ \ \ \ \ \ \#\ a\ default\ proxy}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04595}04595\ \ \ \ \ \ \ \ \ socks\_default\ =\ socks.get\_default\_proxy()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04596}04596\ \ \ \ \ \ \ \ \ if\ self.\_proxy\_is\_valid(socks\_default):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04597}04597\ \ \ \ \ \ \ \ \ \ \ \ \ proxy\_keys\ =\ ("{}proxy\_type"{},\ "{}proxy\_addr"{},\ "{}proxy\_port"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04598}04598\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}proxy\_rdns"{},\ "{}proxy\_username"{},\ "{}proxy\_password"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04599}04599\ \ \ \ \ \ \ \ \ \ \ \ \ return\ dict(zip(proxy\_keys,\ socks\_default))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04600}04600\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04601}04601\ \ \ \ \ \ \ \ \ \#\ If\ we\ didn't\ find\ a\ proxy\ through\ any\ of\ the\ above\ methods,\ return}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04602}04602\ \ \ \ \ \ \ \ \ \#\ None\ to\ indicate\ that\ the\ connection\ should\ be\ handled\ normally}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04603}04603\ \ \ \ \ \ \ \ \ return\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04604}04604\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04605}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_ab0b63bb981bf9a4eddd21a84b6c6b883}{04605}}\ \ \ \ \ def\ \_create\_socket(self)\ -\/>\ SocketLike:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04606}04606\ \ \ \ \ \ \ \ \ if\ self.\_transport\ ==\ "{}unix"{}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04607}04607\ \ \ \ \ \ \ \ \ \ \ \ \ sock\ =\ self.\_create\_unix\_socket\_connection()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04608}04608\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04609}04609\ \ \ \ \ \ \ \ \ \ \ \ \ sock\ =\ self.\_create\_socket\_connection()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04610}04610\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04611}04611\ \ \ \ \ \ \ \ \ if\ self.\_ssl:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04612}04612\ \ \ \ \ \ \ \ \ \ \ \ \ sock\ =\ self.\_ssl\_wrap\_socket(sock)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04613}04613\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04614}04614\ \ \ \ \ \ \ \ \ if\ self.\_transport\ ==\ "{}websockets"{}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04615}04615\ \ \ \ \ \ \ \ \ \ \ \ \ sock.settimeout(self.\_keepalive)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04616}04616\ \ \ \ \ \ \ \ \ \ \ \ \ return\ \_WebsocketWrapper(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04617}04617\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ socket=sock,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04618}04618\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ host=self.\_host,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04619}04619\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ port=self.\_port,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04620}04620\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is\_ssl=self.\_ssl,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04621}04621\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ path=self.\_websocket\_path,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04622}04622\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ extra\_headers=self.\_websocket\_extra\_headers,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04623}04623\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04624}04624\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04625}04625\ \ \ \ \ \ \ \ \ return\ sock}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04626}04626\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04627}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a4926203b0f912b4bbb79d1ab74d0af1c}{04627}}\ \ \ \ \ def\ \_create\_unix\_socket\_connection(self)\ -\/>\ \_socket.socket:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04628}04628\ \ \ \ \ \ \ \ \ unix\_socket\ =\ socket.socket(socket.AF\_UNIX,\ socket.SOCK\_STREAM)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04629}04629\ \ \ \ \ \ \ \ \ unix\_socket.connect(self.\_host)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04630}04630\ \ \ \ \ \ \ \ \ return\ unix\_socket}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04631}04631\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04632}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a8aa7ad68fdd6428984618200990668de}{04632}}\ \ \ \ \ def\ \_create\_socket\_connection(self)\ -\/>\ \_socket.socket:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04633}04633\ \ \ \ \ \ \ \ \ proxy\ =\ self.\_get\_proxy()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04634}04634\ \ \ \ \ \ \ \ \ addr\ =\ (self.\_host,\ self.\_port)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04635}04635\ \ \ \ \ \ \ \ \ source\ =\ (self.\_bind\_address,\ self.\_bind\_port)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04636}04636\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04637}04637\ \ \ \ \ \ \ \ \ if\ proxy:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04638}04638\ \ \ \ \ \ \ \ \ \ \ \ \ return\ socks.create\_connection(addr,\ timeout=self.\_connect\_timeout,\ source\_address=source,\ **proxy)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04639}04639\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04640}04640\ \ \ \ \ \ \ \ \ \ \ \ \ return\ socket.create\_connection(addr,\ timeout=self.\_connect\_timeout,\ source\_address=source)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04641}04641\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04642}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1_client_a477426a5a3c632b26b9656f595b792fd}{04642}}\ \ \ \ \ def\ \_ssl\_wrap\_socket(self,\ tcp\_sock:\ \_socket.socket)\ -\/>\ ssl.SSLSocket:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04643}04643\ \ \ \ \ \ \ \ \ if\ self.\_ssl\_context\ is\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04644}04644\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04645}04645\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}Impossible\ condition.\ \_ssl\_context\ should\ never\ be\ None\ if\ \_ssl\ is\ True"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04646}04646\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04647}04647\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04648}04648\ \ \ \ \ \ \ \ \ verify\_host\ =\ not\ self.\_tls\_insecure}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04649}04649\ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04650}04650\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Try\ with\ server\_hostname,\ even\ it's\ not\ supported\ in\ certain\ scenarios}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04651}04651\ \ \ \ \ \ \ \ \ \ \ \ \ ssl\_sock\ =\ self.\_ssl\_context.wrap\_socket(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04652}04652\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tcp\_sock,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04653}04653\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ server\_hostname=self.\_host,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04654}04654\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ do\_handshake\_on\_connect=False,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04655}04655\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04656}04656\ \ \ \ \ \ \ \ \ except\ ssl.CertificateError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04657}04657\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ CertificateError\ is\ derived\ from\ ValueError}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04658}04658\ \ \ \ \ \ \ \ \ \ \ \ \ raise}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04659}04659\ \ \ \ \ \ \ \ \ except\ ValueError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04660}04660\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Python\ version\ requires\ SNI\ in\ order\ to\ handle\ server\_hostname,\ but\ SNI\ is\ not\ available}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04661}04661\ \ \ \ \ \ \ \ \ \ \ \ \ ssl\_sock\ =\ self.\_ssl\_context.wrap\_socket(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04662}04662\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tcp\_sock,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04663}04663\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ do\_handshake\_on\_connect=False,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04664}04664\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04665}04665\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04666}04666\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ If\ SSL\ context\ has\ already\ checked\ hostname,\ then\ don't\ need\ to\ do\ it\ again}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04667}04667\ \ \ \ \ \ \ \ \ \ \ \ \ if\ getattr(self.\_ssl\_context,\ 'check\_hostname',\ False):\ \ \#\ type:\ ignore}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04668}04668\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ verify\_host\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04669}04669\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04670}04670\ \ \ \ \ \ \ \ \ ssl\_sock.settimeout(self.\_keepalive)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04671}04671\ \ \ \ \ \ \ \ \ ssl\_sock.do\_handshake()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04672}04672\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04673}04673\ \ \ \ \ \ \ \ \ if\ verify\_host:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04674}04674\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ TODO:\ this\ type\ error\ is\ a\ true\ error:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04675}04675\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ error:\ Module\ has\ no\ attribute\ "{}match\_hostname"{}\ \ [attr-\/defined]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04676}04676\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Python\ 3.12\ no\ longer\ have\ this\ method.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04677}04677\ \ \ \ \ \ \ \ \ \ \ \ \ ssl.match\_hostname(ssl\_sock.getpeercert(),\ self.\_host)\ \ \#\ type:\ ignore}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04678}04678\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04679}04679\ \ \ \ \ \ \ \ \ return\ ssl\_sock}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04680}04680\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04681}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper}{04681}}\ class\ \_WebsocketWrapper:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04682}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_a709f940caf89bedf529df84dd3890b09}{04682}}\ \ \ \ \ OPCODE\_CONTINUATION\ =\ 0x0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04683}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_ae0d128093c632f2c54f4a5ee3f52876c}{04683}}\ \ \ \ \ OPCODE\_TEXT\ =\ 0x1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04684}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_ac3e154922637610c6fc13cd13b1be610}{04684}}\ \ \ \ \ OPCODE\_BINARY\ =\ 0x2}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04685}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_ad2c958097d31e7d32c04f72f3feb3238}{04685}}\ \ \ \ \ OPCODE\_CONNCLOSE\ =\ 0x8}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04686}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_abca92f365e3f895b55f7655e322c35bb}{04686}}\ \ \ \ \ OPCODE\_PING\ =\ 0x9}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04687}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_ae3a570ecf65adb5621abb1c3bd974022}{04687}}\ \ \ \ \ OPCODE\_PONG\ =\ 0xa}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04688}04688\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04689}04689\ \ \ \ \ def\ \_\_init\_\_(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04690}04690\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04691}04691\ \ \ \ \ \ \ \ \ socket:\ socket.socket\ |\ ssl.SSLSocket,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04692}04692\ \ \ \ \ \ \ \ \ host:\ str,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04693}04693\ \ \ \ \ \ \ \ \ port:\ int,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04694}04694\ \ \ \ \ \ \ \ \ is\_ssl:\ bool,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04695}04695\ \ \ \ \ \ \ \ \ path:\ str,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04696}04696\ \ \ \ \ \ \ \ \ extra\_headers:\ WebSocketHeaders\ |\ None,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04697}04697\ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04698}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_af268a1bb18fdbf2f78f2dbfea37cdee8}{04698}}\ \ \ \ \ \ \ \ \ self.connected\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04699}04699\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04700}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_aea0c6f2614f9d3aa836c56fb1c9d1e82}{04700}}\ \ \ \ \ \ \ \ \ self.\_ssl\ =\ is\_ssl}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04701}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_ad662e0314cf57007af872e216478bf2a}{04701}}\ \ \ \ \ \ \ \ \ self.\_host\ =\ host}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04702}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_aeceafe5ba6f8e9244957b3cc69227bc9}{04702}}\ \ \ \ \ \ \ \ \ self.\_port\ =\ port}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04703}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_a1517ae45113a3c41dbf9e9d5af217100}{04703}}\ \ \ \ \ \ \ \ \ self.\_socket\ =\ socket}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04704}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_a36256e6ba288315638de51f0b40d9760}{04704}}\ \ \ \ \ \ \ \ \ self.\_path\ =\ path}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04705}04705\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04706}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_a3cd6ff7447f9f99e3b1e53c592c5a8b5}{04706}}\ \ \ \ \ \ \ \ \ self.\_sendbuffer\ =\ bytearray()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04707}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_a423590f97d54292bccbbc6ccaa50010b}{04707}}\ \ \ \ \ \ \ \ \ self.\_readbuffer\ =\ bytearray()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04708}04708\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04709}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_afc2f6d29479fb022470fb83caf2091a4}{04709}}\ \ \ \ \ \ \ \ \ self.\_requested\_size\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04710}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_ae1a102186129a74701b854da9426e1d5}{04710}}\ \ \ \ \ \ \ \ \ self.\_payload\_head\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04711}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_a04cf02cf35c746471fcb3f66a7563f32}{04711}}\ \ \ \ \ \ \ \ \ self.\_readbuffer\_head\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04712}04712\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04713}04713\ \ \ \ \ \ \ \ \ self.\_do\_handshake(extra\_headers)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04714}04714\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04715}04715\ \ \ \ \ def\ \_\_del\_\_(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04716}04716\ \ \ \ \ \ \ \ \ self.\_sendbuffer\ =\ bytearray()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04717}04717\ \ \ \ \ \ \ \ \ self.\_readbuffer\ =\ bytearray()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04718}04718\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04719}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_a8e23bbb260d489f8a7ceb9b702ae8ee1}{04719}}\ \ \ \ \ def\ \_do\_handshake(self,\ extra\_headers:\ WebSocketHeaders\ |\ None)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04720}04720\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04721}04721\ \ \ \ \ \ \ \ \ sec\_websocket\_key\ =\ uuid.uuid4().bytes}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04722}04722\ \ \ \ \ \ \ \ \ sec\_websocket\_key\ =\ base64.b64encode(sec\_websocket\_key)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04723}04723\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04724}04724\ \ \ \ \ \ \ \ \ if\ self.\_ssl:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04725}04725\ \ \ \ \ \ \ \ \ \ \ \ \ default\_port\ =\ 443}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04726}04726\ \ \ \ \ \ \ \ \ \ \ \ \ http\_schema\ =\ "{}https"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04727}04727\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04728}04728\ \ \ \ \ \ \ \ \ \ \ \ \ default\_port\ =\ 80}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04729}04729\ \ \ \ \ \ \ \ \ \ \ \ \ http\_schema\ =\ "{}http"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04730}04730\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04731}04731\ \ \ \ \ \ \ \ \ if\ default\_port\ ==\ self.\_port:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04732}04732\ \ \ \ \ \ \ \ \ \ \ \ \ host\_port\ =\ f"{}\{self.\_host\}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04733}04733\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04734}04734\ \ \ \ \ \ \ \ \ \ \ \ \ host\_port\ =\ f"{}\{self.\_host\}:\{self.\_port\}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04735}04735\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04736}04736\ \ \ \ \ \ \ \ \ websocket\_headers\ =\ \{}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04737}04737\ \ \ \ \ \ \ \ \ \ \ \ \ "{}Host"{}:\ host\_port,}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04738}04738\ \ \ \ \ \ \ \ \ \ \ \ \ "{}Upgrade"{}:\ "{}websocket"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04739}04739\ \ \ \ \ \ \ \ \ \ \ \ \ "{}Connection"{}:\ "{}Upgrade"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04740}04740\ \ \ \ \ \ \ \ \ \ \ \ \ "{}Origin"{}:\ f"{}\{http\_schema\}://\{host\_port\}"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04741}04741\ \ \ \ \ \ \ \ \ \ \ \ \ "{}Sec-\/WebSocket-\/Key"{}:\ sec\_websocket\_key.decode("{}utf8"{}),}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04742}04742\ \ \ \ \ \ \ \ \ \ \ \ \ "{}Sec-\/Websocket-\/Version"{}:\ "{}13"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04743}04743\ \ \ \ \ \ \ \ \ \ \ \ \ "{}Sec-\/Websocket-\/Protocol"{}:\ "{}mqtt"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04744}04744\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04745}04745\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04746}04746\ \ \ \ \ \ \ \ \ \#\ This\ is\ checked\ in\ ws\_set\_options\ so\ it\ will\ either\ be\ None,\ a}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04747}04747\ \ \ \ \ \ \ \ \ \#\ dictionary,\ or\ a\ callable}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04748}04748\ \ \ \ \ \ \ \ \ if\ isinstance(extra\_headers,\ dict):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04749}04749\ \ \ \ \ \ \ \ \ \ \ \ \ websocket\_headers.update(extra\_headers)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04750}04750\ \ \ \ \ \ \ \ \ elif\ callable(extra\_headers):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04751}04751\ \ \ \ \ \ \ \ \ \ \ \ \ websocket\_headers\ =\ extra\_headers(websocket\_headers)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04752}04752\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04753}04753\ \ \ \ \ \ \ \ \ header\ =\ "{}\(\backslash\)r\(\backslash\)n"{}.join([}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04754}04754\ \ \ \ \ \ \ \ \ \ \ \ \ f"{}GET\ \{self.\_path\}\ HTTP/1.1"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04755}04755\ \ \ \ \ \ \ \ \ \ \ \ \ "{}\(\backslash\)r\(\backslash\)n"{}.join(f"{}\{i\}:\ \{j\}"{}\ for\ i,\ j\ in\ websocket\_headers.items()),}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04756}04756\ \ \ \ \ \ \ \ \ \ \ \ \ "{}\(\backslash\)r\(\backslash\)n"{},}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04757}04757\ \ \ \ \ \ \ \ \ ]).encode("{}utf8"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04758}04758\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04759}04759\ \ \ \ \ \ \ \ \ self.\_socket.send(header)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04760}04760\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04761}04761\ \ \ \ \ \ \ \ \ has\_secret\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04762}04762\ \ \ \ \ \ \ \ \ has\_upgrade\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04763}04763\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04764}04764\ \ \ \ \ \ \ \ \ while\ True:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04765}04765\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ read\ HTTP\ response\ header\ as\ lines}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04766}04766\ \ \ \ \ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04767}04767\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ byte\ =\ self.\_socket.recv(1)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04768}04768\ \ \ \ \ \ \ \ \ \ \ \ \ except\ ConnectionResetError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04769}04769\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ byte\ =\ b"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04770}04770\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04771}04771\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_readbuffer.extend(byte)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04772}04772\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04773}04773\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ line\ end}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04774}04774\ \ \ \ \ \ \ \ \ \ \ \ \ if\ byte\ ==\ b"{}\(\backslash\)n"{}:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04775}04775\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ len(self.\_readbuffer)\ >\ 2:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04776}04776\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ check\ upgrade}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04777}04777\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ b"{}connection"{}\ in\ str(self.\_readbuffer).lower().encode('utf-\/8'):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04778}04778\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ b"{}upgrade"{}\ not\ in\ str(self.\_readbuffer).lower().encode('utf-\/8'):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04779}04779\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ WebsocketConnectionError(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04780}04780\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}WebSocket\ handshake\ error,\ connection\ not\ upgraded"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04781}04781\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04782}04782\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ has\_upgrade\ =\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04783}04783\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04784}04784\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ check\ key\ hash}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04785}04785\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ b"{}sec-\/websocket-\/accept"{}\ in\ str(self.\_readbuffer).lower().encode('utf-\/8'):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04786}04786\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GUID\ =\ "{}258EAFA5-\/E914-\/47DA-\/95CA-\/C5AB0DC85B11"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04787}04787\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04788}04788\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ server\_hash\_str\ =\ self.\_readbuffer.decode(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04789}04789\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 'utf-\/8').split("{}:\ "{},\ 1)[1]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04790}04790\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ server\_hash\ =\ server\_hash\_str.strip().encode('utf-\/8')}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04791}04791\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04792}04792\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ client\_hash\_key\ =\ sec\_websocket\_key.decode('utf-\/8')\ +\ GUID}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04793}04793\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Use\ of\ SHA-\/1\ is\ OK\ here;\ it's\ according\ to\ the\ Websocket\ spec.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04794}04794\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ client\_hash\_digest\ =\ hashlib.sha1(client\_hash\_key.encode('utf-\/8'))\ \ \#\ noqa:\ S324}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04795}04795\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ client\_hash\ =\ base64.b64encode(client\_hash\_digest.digest())}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04796}04796\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04797}04797\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ server\_hash\ !=\ client\_hash:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04798}04798\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ WebsocketConnectionError(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04799}04799\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}WebSocket\ handshake\ error,\ invalid\ secret\ key"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04800}04800\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04801}04801\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ has\_secret\ =\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04802}04802\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04803}04803\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ ending\ linebreak}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04804}04804\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04805}04805\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04806}04806\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ reset\ linebuffer}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04807}04807\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_readbuffer\ =\ bytearray()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04808}04808\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04809}04809\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ connection\ reset}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04810}04810\ \ \ \ \ \ \ \ \ \ \ \ \ elif\ not\ byte:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04811}04811\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ WebsocketConnectionError("{}WebSocket\ handshake\ error"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04812}04812\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04813}04813\ \ \ \ \ \ \ \ \ if\ not\ has\_upgrade\ or\ not\ has\_secret:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04814}04814\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ WebsocketConnectionError("{}WebSocket\ handshake\ error"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04815}04815\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04816}04816\ \ \ \ \ \ \ \ \ self.\_readbuffer\ =\ bytearray()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04817}04817\ \ \ \ \ \ \ \ \ self.connected\ =\ True}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04818}04818\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04819}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_a611ca4e6682db85a475534ff58c0888a}{04819}}\ \ \ \ \ def\ \_create\_frame(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04820}04820\ \ \ \ \ \ \ \ \ self,\ opcode:\ int,\ data:\ bytearray,\ do\_masking:\ int\ =\ 1}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04821}04821\ \ \ \ \ )\ -\/>\ bytearray:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04822}04822\ \ \ \ \ \ \ \ \ header\ =\ bytearray()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04823}04823\ \ \ \ \ \ \ \ \ length\ =\ len(data)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04824}04824\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04825}04825\ \ \ \ \ \ \ \ \ mask\_key\ =\ bytearray(os.urandom(4))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04826}04826\ \ \ \ \ \ \ \ \ mask\_flag\ =\ do\_masking}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04827}04827\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04828}04828\ \ \ \ \ \ \ \ \ \#\ 1\ <<\ 7\ is\ the\ final\ flag,\ we\ don't\ send\ continuated\ data}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04829}04829\ \ \ \ \ \ \ \ \ header.append(1\ <<\ 7\ |\ opcode)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04830}04830\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04831}04831\ \ \ \ \ \ \ \ \ if\ length\ <\ 126:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04832}04832\ \ \ \ \ \ \ \ \ \ \ \ \ header.append(mask\_flag\ <<\ 7\ |\ length)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04833}04833\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04834}04834\ \ \ \ \ \ \ \ \ elif\ length\ <\ 65536:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04835}04835\ \ \ \ \ \ \ \ \ \ \ \ \ header.append(mask\_flag\ <<\ 7\ |\ 126)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04836}04836\ \ \ \ \ \ \ \ \ \ \ \ \ header\ +=\ struct.pack("{}!H"{},\ length)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04837}04837\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04838}04838\ \ \ \ \ \ \ \ \ elif\ length\ <\ 0x8000000000000001:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04839}04839\ \ \ \ \ \ \ \ \ \ \ \ \ header.append(mask\_flag\ <<\ 7\ |\ 127)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04840}04840\ \ \ \ \ \ \ \ \ \ \ \ \ header\ +=\ struct.pack("{}!Q"{},\ length)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04841}04841\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04842}04842\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04843}04843\ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ValueError("{}Maximum\ payload\ size\ is\ 2\string^63"{})}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04844}04844\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04845}04845\ \ \ \ \ \ \ \ \ if\ mask\_flag\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04846}04846\ \ \ \ \ \ \ \ \ \ \ \ \ for\ index\ in\ range(length):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04847}04847\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[index]\ \string^=\ mask\_key[index\ \%\ 4]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04848}04848\ \ \ \ \ \ \ \ \ \ \ \ \ data\ =\ mask\_key\ +\ data}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04849}04849\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04850}04850\ \ \ \ \ \ \ \ \ return\ header\ +\ data}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04851}04851\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04852}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_af7b8bb8c147156c9c9e3ed0f490e731f}{04852}}\ \ \ \ \ def\ \_buffered\_read(self,\ length:\ int)\ -\/>\ bytearray:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04853}04853\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04854}04854\ \ \ \ \ \ \ \ \ \#\ try\ to\ recv\ and\ store\ needed\ bytes}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04855}04855\ \ \ \ \ \ \ \ \ wanted\_bytes\ =\ length\ -\/\ (len(self.\_readbuffer)\ -\/\ self.\_readbuffer\_head)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04856}04856\ \ \ \ \ \ \ \ \ if\ wanted\_bytes\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04857}04857\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04858}04858\ \ \ \ \ \ \ \ \ \ \ \ \ data\ =\ self.\_socket.recv(wanted\_bytes)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04859}04859\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04860}04860\ \ \ \ \ \ \ \ \ \ \ \ \ if\ not\ data:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04861}04861\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ ConnectionAbortedError}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04862}04862\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04863}04863\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_readbuffer.extend(data)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04864}04864\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04865}04865\ \ \ \ \ \ \ \ \ \ \ \ \ if\ len(data)\ <\ wanted\_bytes:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04866}04866\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ BlockingIOError}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04867}04867\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04868}04868\ \ \ \ \ \ \ \ \ self.\_readbuffer\_head\ +=\ length}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04869}04869\ \ \ \ \ \ \ \ \ return\ self.\_readbuffer[self.\_readbuffer\_head\ -\/\ length:self.\_readbuffer\_head]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04870}04870\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04871}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_a1017049d83b2ee7f94299a16b49a6f5a}{04871}}\ \ \ \ \ def\ \_recv\_impl(self,\ length:\ int)\ -\/>\ bytes:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04872}04872\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04873}04873\ \ \ \ \ \ \ \ \ \#\ try\ to\ decode\ websocket\ payload\ part\ from\ data}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04874}04874\ \ \ \ \ \ \ \ \ try:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04875}04875\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04876}04876\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_readbuffer\_head\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04877}04877\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04878}04878\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ b"{}"{}}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04879}04879\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04880}04880\ \ \ \ \ \ \ \ \ \ \ \ \ chunk\_startindex\ =\ self.\_payload\_head}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04881}04881\ \ \ \ \ \ \ \ \ \ \ \ \ chunk\_endindex\ =\ self.\_payload\_head\ +\ length}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04882}04882\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04883}04883\ \ \ \ \ \ \ \ \ \ \ \ \ header1\ =\ self.\_buffered\_read(1)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04884}04884\ \ \ \ \ \ \ \ \ \ \ \ \ header2\ =\ self.\_buffered\_read(1)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04885}04885\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04886}04886\ \ \ \ \ \ \ \ \ \ \ \ \ opcode\ =\ (header1[0]\ \&\ 0x0f)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04887}04887\ \ \ \ \ \ \ \ \ \ \ \ \ maskbit\ =\ (header2[0]\ \&\ 0x80)\ ==\ 0x80}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04888}04888\ \ \ \ \ \ \ \ \ \ \ \ \ lengthbits\ =\ (header2[0]\ \&\ 0x7f)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04889}04889\ \ \ \ \ \ \ \ \ \ \ \ \ payload\_length\ =\ lengthbits}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04890}04890\ \ \ \ \ \ \ \ \ \ \ \ \ mask\_key\ =\ None}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04891}04891\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04892}04892\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ read\ length}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04893}04893\ \ \ \ \ \ \ \ \ \ \ \ \ if\ lengthbits\ ==\ 0x7e:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04894}04894\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04895}04895\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ self.\_buffered\_read(2)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04896}04896\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ payload\_length,\ =\ struct.unpack("{}!H"{},\ value)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04897}04897\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04898}04898\ \ \ \ \ \ \ \ \ \ \ \ \ elif\ lengthbits\ ==\ 0x7f:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04899}04899\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04900}04900\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ self.\_buffered\_read(8)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04901}04901\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ payload\_length,\ =\ struct.unpack("{}!Q"{},\ value)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04902}04902\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04903}04903\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ read\ mask}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04904}04904\ \ \ \ \ \ \ \ \ \ \ \ \ if\ maskbit:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04905}04905\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mask\_key\ =\ self.\_buffered\_read(4)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04906}04906\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04907}04907\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ if\ frame\ payload\ is\ shorter\ than\ the\ requested\ data,\ read\ only\ the\ possible\ part}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04908}04908\ \ \ \ \ \ \ \ \ \ \ \ \ readindex\ =\ chunk\_endindex}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04909}04909\ \ \ \ \ \ \ \ \ \ \ \ \ if\ payload\_length\ <\ readindex:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04910}04910\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ readindex\ =\ payload\_length}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04911}04911\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04912}04912\ \ \ \ \ \ \ \ \ \ \ \ \ if\ readindex\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04913}04913\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ get\ payload\ chunk}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04914}04914\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ payload\ =\ self.\_buffered\_read(readindex)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04915}04915\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04916}04916\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ unmask\ only\ the\ needed\ part}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04917}04917\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ mask\_key\ is\ not\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04918}04918\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ index\ in\ range(chunk\_startindex,\ readindex):}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04919}04919\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ payload[index]\ \string^=\ mask\_key[index\ \%\ 4]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04920}04920\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04921}04921\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ payload[chunk\_startindex:readindex]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04922}04922\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_payload\_head\ =\ readindex}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04923}04923\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04924}04924\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ payload\ =\ bytearray()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04925}04925\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04926}04926\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ check\ if\ full\ frame\ arrived\ and\ reset\ readbuffer\ and\ payloadhead\ if\ needed}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04927}04927\ \ \ \ \ \ \ \ \ \ \ \ \ if\ readindex\ ==\ payload\_length:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04928}04928\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_readbuffer\ =\ bytearray()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04929}04929\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_payload\_head\ =\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04930}04930\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04931}04931\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ respond\ to\ non-\/binary\ opcodes,\ their\ arrival\ is\ not\ guaranteed\ because\ of\ non-\/blocking\ sockets}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04932}04932\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ opcode\ ==\ \_WebsocketWrapper.OPCODE\_CONNCLOSE:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04933}04933\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ frame\ =\ self.\_create\_frame(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04934}04934\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_WebsocketWrapper.OPCODE\_CONNCLOSE,\ payload,\ 0)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04935}04935\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_socket.send(frame)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04936}04936\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04937}04937\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ opcode\ ==\ \_WebsocketWrapper.OPCODE\_PING:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04938}04938\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ frame\ =\ self.\_create\_frame(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04939}04939\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_WebsocketWrapper.OPCODE\_PONG,\ payload,\ 0)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04940}04940\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_socket.send(frame)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04941}04941\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04942}04942\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ This\ isn't\ *proper*\ handling\ of\ continuation\ frames,\ but\ given}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04943}04943\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ that\ we\ only\ support\ binary\ frames,\ it\ is\ *probably*\ good\ enough.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04944}04944\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (opcode\ ==\ \_WebsocketWrapper.OPCODE\_BINARY\ or\ opcode\ ==\ \_WebsocketWrapper.OPCODE\_CONTINUATION)\ \(\backslash\)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04945}04945\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ and\ payload\_length\ >\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04946}04946\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ result}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04947}04947\ \ \ \ \ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04948}04948\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ raise\ BlockingIOError}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04949}04949\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04950}04950\ \ \ \ \ \ \ \ \ except\ ConnectionError:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04951}04951\ \ \ \ \ \ \ \ \ \ \ \ \ self.connected\ =\ False}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04952}04952\ \ \ \ \ \ \ \ \ \ \ \ \ return\ b''}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04953}04953\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04954}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_aee17edfeed1e65e784e81c3bb2bd9903}{04954}}\ \ \ \ \ def\ \_send\_impl(self,\ data:\ bytes)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04955}04955\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04956}04956\ \ \ \ \ \ \ \ \ \#\ if\ previous\ frame\ was\ sent\ successfully}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04957}04957\ \ \ \ \ \ \ \ \ if\ len(self.\_sendbuffer)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04958}04958\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ create\ websocket\ frame}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04959}04959\ \ \ \ \ \ \ \ \ \ \ \ \ frame\ =\ self.\_create\_frame(}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04960}04960\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_WebsocketWrapper.OPCODE\_BINARY,\ bytearray(data))}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04961}04961\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_sendbuffer.extend(frame)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04962}04962\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_requested\_size\ =\ len(data)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04963}04963\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04964}04964\ \ \ \ \ \ \ \ \ \#\ try\ to\ write\ out\ as\ much\ as\ possible}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04965}04965\ \ \ \ \ \ \ \ \ length\ =\ self.\_socket.send(self.\_sendbuffer)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04966}04966\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04967}04967\ \ \ \ \ \ \ \ \ self.\_sendbuffer\ =\ self.\_sendbuffer[length:]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04968}04968\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04969}04969\ \ \ \ \ \ \ \ \ if\ len(self.\_sendbuffer)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04970}04970\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ buffer\ sent\ out\ completely,\ return\ with\ payload's\ size}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04971}04971\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_requested\_size}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04972}04972\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04973}04973\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ couldn't\ send\ whole\ data,\ request\ the\ same\ data\ again\ with\ 0\ as\ sent\ length}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04974}04974\ \ \ \ \ \ \ \ \ \ \ \ \ return\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04975}04975\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04976}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_a515c7767bf491745e84c919145e789c7}{04976}}\ \ \ \ \ def\ recv(self,\ length:\ int)\ -\/>\ bytes:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04977}04977\ \ \ \ \ \ \ \ \ return\ self.\_recv\_impl(length)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04978}04978\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04979}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_a02f61e7e48fcdad3dfeb3d4a024e099e}{04979}}\ \ \ \ \ def\ read(self,\ length:\ int)\ -\/>\ bytes:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04980}04980\ \ \ \ \ \ \ \ \ return\ self.\_recv\_impl(length)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04981}04981\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04982}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_a89973c7465e8bc3e7403e876785269aa}{04982}}\ \ \ \ \ def\ send(self,\ data:\ bytes)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04983}04983\ \ \ \ \ \ \ \ \ return\ self.\_send\_impl(data)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04984}04984\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04985}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_abe973a5e6a7f4929a3dd25a612533079}{04985}}\ \ \ \ \ def\ write(self,\ data:\ bytes)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04986}04986\ \ \ \ \ \ \ \ \ return\ self.\_send\_impl(data)}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04987}04987\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04988}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_a091a0ef00cce0d1b5ff11ef2624e4cb8}{04988}}\ \ \ \ \ def\ close(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04989}04989\ \ \ \ \ \ \ \ \ self.\_socket.close()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04990}04990\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04991}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_a4a007dd6828e20d68670d48d37e88e88}{04991}}\ \ \ \ \ def\ fileno(self)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04992}04992\ \ \ \ \ \ \ \ \ return\ self.\_socket.fileno()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04993}04993\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l04994}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_a20096a1dfb5caff67b2ea01d7e0ef7e0}{04994}}\ \ \ \ \ def\ pending(self)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04995}04995\ \ \ \ \ \ \ \ \ \#\ Fix\ for\ bug\ \#131:\ a\ SSL\ socket\ may\ still\ have\ data\ available}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04996}04996\ \ \ \ \ \ \ \ \ \#\ for\ reading\ without\ select()\ being\ aware\ of\ it.}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04997}04997\ \ \ \ \ \ \ \ \ if\ self.\_ssl:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04998}04998\ \ \ \ \ \ \ \ \ \ \ \ \ return\ self.\_socket.pending()\ \ \#\ type:\ ignore[union-\/attr]}
\DoxyCodeLine{\Hypertarget{client_8py_source_l04999}04999\ \ \ \ \ \ \ \ \ else:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l05000}05000\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ normal\ socket\ rely\ only\ on\ select()}
\DoxyCodeLine{\Hypertarget{client_8py_source_l05001}05001\ \ \ \ \ \ \ \ \ \ \ \ \ return\ 0}
\DoxyCodeLine{\Hypertarget{client_8py_source_l05002}05002\ }
\DoxyCodeLine{\Hypertarget{client_8py_source_l05003}\mbox{\hyperlink{classpaho_1_1mqtt_1_1client_1_1___websocket_wrapper_a3293bd8a5ce65b34eb2a0ac484c132cb}{05003}}\ \ \ \ \ def\ setblocking(self,\ flag:\ bool)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{client_8py_source_l05004}05004\ \ \ \ \ \ \ \ \ self.\_socket.setblocking(flag)}

\end{DoxyCode}
