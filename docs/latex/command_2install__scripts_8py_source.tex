\doxysection{install\+\_\+scripts.\+py}
\hypertarget{command_2install__scripts_8py_source}{}\label{command_2install__scripts_8py_source}\index{microservicio\_data\_stream/venv/Lib/site-\/packages/setuptools/command/install\_scripts.py@{microservicio\_data\_stream/venv/Lib/site-\/packages/setuptools/command/install\_scripts.py}}
\mbox{\hyperlink{command_2install__scripts_8py}{Ir a la documentaci√≥n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00001}\mbox{\hyperlink{namespacesetuptools_1_1command_1_1install__scripts}{00001}}\ \textcolor{keyword}{from}\ distutils\ \textcolor{keyword}{import}\ log}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00002}00002\ \textcolor{keyword}{import}\ distutils.command.install\_scripts\ \textcolor{keyword}{as}\ orig}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00003}00003\ \textcolor{keyword}{from}\ distutils.errors\ \textcolor{keyword}{import}\ DistutilsModuleError}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00004}00004\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00005}00005\ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00007}00007\ \textcolor{keyword}{from}\ pkg\_resources\ \textcolor{keyword}{import}\ Distribution,\ PathMetadata}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00008}00008\ \textcolor{keyword}{from}\ ..\_path\ \textcolor{keyword}{import}\ ensure\_directory}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00011}\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts}{00011}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts}{install\_scripts}}(orig.install\_scripts):}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00012}00012\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Do\ normal\ script\ install,\ plus\ any\ egg\_info\ wrapper\ scripts"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00014}\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_a31d741c4407d1b5dae0761c4345a21b9}{00014}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_a31d741c4407d1b5dae0761c4345a21b9}{initialize\_options}}(self):}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00015}00015\ \ \ \ \ \ \ \ \ orig.install\_scripts.initialize\_options(self)}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00016}\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_ab4b7a9c619a92f9c3226162a7539a8c7}{00016}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_ab4b7a9c619a92f9c3226162a7539a8c7}{no\_ep}}\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00018}\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_ac198cbcee24f1e833a37ee4cf7e89849}{00018}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_ac198cbcee24f1e833a37ee4cf7e89849}{run}}(self):}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00019}00019\ \ \ \ \ \ \ \ \ \textcolor{keyword}{import}\ \mbox{\hyperlink{namespacesetuptools_1_1command_1_1easy__install}{setuptools.command.easy\_install}}\ \textcolor{keyword}{as}\ ei}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00021}00021\ \ \ \ \ \ \ \ \ self.run\_command(\textcolor{stringliteral}{"{}egg\_info"{}})}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00022}00022\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.distribution.scripts:}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00023}00023\ \ \ \ \ \ \ \ \ \ \ \ \ orig.install\_scripts.run(self)\ \ \textcolor{comment}{\#\ run\ first\ to\ set\ up\ self.outfiles}}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00024}00024\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00025}\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_a04083ec5b581f0668c50199ee584280c}{00025}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_a04083ec5b581f0668c50199ee584280c}{outfiles}}\ =\ []}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00026}00026\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_ab4b7a9c619a92f9c3226162a7539a8c7}{no\_ep}}:}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00027}00027\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ don't\ install\ entry\ point\ scripts\ into\ .egg\ file!}}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ ei\_cmd\ =\ self.get\_finalized\_command(\textcolor{stringliteral}{"{}egg\_info"{}})}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00031}00031\ \ \ \ \ \ \ \ \ dist\ =\ \mbox{\hyperlink{classpkg__resources_1_1_distribution}{Distribution}}(}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ ei\_cmd.egg\_base,\ \mbox{\hyperlink{classpkg__resources_1_1_path_metadata}{PathMetadata}}(ei\_cmd.egg\_base,\ ei\_cmd.egg\_info),}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ \ \ \ \ ei\_cmd.egg\_name,\ ei\_cmd.egg\_version,}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00034}00034\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00035}00035\ \ \ \ \ \ \ \ \ bs\_cmd\ =\ self.get\_finalized\_command(\textcolor{stringliteral}{'build\_scripts'})}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ exec\_param\ =\ getattr(bs\_cmd,\ \textcolor{stringliteral}{'executable'},\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ bw\_cmd\ =\ self.get\_finalized\_command(\textcolor{stringliteral}{"{}bdist\_wininst"{}})}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ \ \ \ \ is\_wininst\ =\ getattr(bw\_cmd,\ \textcolor{stringliteral}{'\_is\_running'},\ \textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ (ImportError,\ DistutilsModuleError):}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00041}00041\ \ \ \ \ \ \ \ \ \ \ \ \ is\_wininst\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00042}00042\ \ \ \ \ \ \ \ \ writer\ =\ ei.ScriptWriter}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ is\_wininst:}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \ \ \ exec\_param\ =\ \textcolor{stringliteral}{"{}python.exe"{}}}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00045}00045\ \ \ \ \ \ \ \ \ \ \ \ \ writer\ =\ ei.WindowsScriptWriter}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00046}00046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ exec\_param\ ==\ sys.executable:}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00047}00047\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ In\ case\ the\ path\ to\ the\ Python\ executable\ contains\ a\ space,\ wrap}}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ it\ so\ it's\ not\ split\ up.}}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00049}00049\ \ \ \ \ \ \ \ \ \ \ \ \ exec\_param\ =\ [exec\_param]}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00050}00050\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ resolve\ the\ writer\ to\ the\ environment}}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00051}00051\ \ \ \ \ \ \ \ \ writer\ =\ writer.best()}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00052}00052\ \ \ \ \ \ \ \ \ cmd\ =\ writer.command\_spec\_class.best().from\_param(exec\_param)}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00053}00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ args\ \textcolor{keywordflow}{in}\ writer.get\_args(dist,\ cmd.as\_header()):}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_a02b8f03d0b62fc5f0ea700d70dcb8461}{write\_script}}(*args)}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00056}\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_a02b8f03d0b62fc5f0ea700d70dcb8461}{00056}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_a02b8f03d0b62fc5f0ea700d70dcb8461}{write\_script}}(self,\ script\_name,\ contents,\ mode="{}t"{},\ *ignored):}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Write\ an\ executable\ file\ to\ the\ scripts\ directory"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacesetuptools_1_1command_1_1easy__install}{setuptools.command.easy\_install}}\ \textcolor{keyword}{import}\ chmod,\ current\_umask}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00060}\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_a85b20c57cb1a20971ff9a34d407254ad}{00060}}\ \ \ \ \ \ \ \ \ log.info(\textcolor{stringliteral}{"{}Installing\ \%s\ script\ to\ \%s"{}},\ script\_name,\ self.\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_a85b20c57cb1a20971ff9a34d407254ad}{install\_dir}})}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ target\ =\ os.path.join(self.\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_a85b20c57cb1a20971ff9a34d407254ad}{install\_dir}},\ script\_name)}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_a04083ec5b581f0668c50199ee584280c}{outfiles}}.append(target)}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ mask\ =\ current\_umask()}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00065}\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_a4ef98bd94d5498dc23502e1da30f2676}{00065}}\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classsetuptools_1_1command_1_1install__scripts_1_1install__scripts_a4ef98bd94d5498dc23502e1da30f2676}{dry\_run}}:}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00066}00066\ \ \ \ \ \ \ \ \ \ \ \ \ ensure\_directory(target)}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00067}00067\ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ open(target,\ \textcolor{stringliteral}{"{}w"{}}\ +\ mode)}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00068}00068\ \ \ \ \ \ \ \ \ \ \ \ \ f.write(contents)}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00069}00069\ \ \ \ \ \ \ \ \ \ \ \ \ f.close()}
\DoxyCodeLine{\Hypertarget{command_2install__scripts_8py_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ chmod(target,\ 0o777\ -\/\ mask)}

\end{DoxyCode}
