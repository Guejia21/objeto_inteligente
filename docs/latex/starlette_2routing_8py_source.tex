\doxysection{routing.\+py}
\hypertarget{starlette_2routing_8py_source}{}\label{starlette_2routing_8py_source}\index{micro\_gestion\_objetos/venv/Lib/site-\/packages/starlette/routing.py@{micro\_gestion\_objetos/venv/Lib/site-\/packages/starlette/routing.py}}
\mbox{\hyperlink{starlette_2routing_8py}{Ir a la documentaciÃ³n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00001}\mbox{\hyperlink{namespacestarlette_1_1routing}{00001}}\ \textcolor{keyword}{from}\ \_\_future\_\_\ \textcolor{keyword}{import}\ annotations}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00003}00003\ \textcolor{keyword}{import}\ contextlib}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00004}00004\ \textcolor{keyword}{import}\ functools}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00005}00005\ \textcolor{keyword}{import}\ inspect}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00006}00006\ \textcolor{keyword}{import}\ re}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00007}00007\ \textcolor{keyword}{import}\ traceback}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00008}00008\ \textcolor{keyword}{import}\ types}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00009}00009\ \textcolor{keyword}{import}\ warnings}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00010}00010\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacecollections_1_1abc}{collections.abc}}\ \textcolor{keyword}{import}\ Awaitable,\ Collection,\ Generator,\ Sequence}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00011}00011\ \textcolor{keyword}{from}\ contextlib\ \textcolor{keyword}{import}\ AbstractAsyncContextManager,\ AbstractContextManager,\ asynccontextmanager}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00012}00012\ \textcolor{keyword}{from}\ enum\ \textcolor{keyword}{import}\ Enum}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00013}00013\ \textcolor{keyword}{from}\ re\ \textcolor{keyword}{import}\ Pattern}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00014}00014\ \textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ Any,\ Callable,\ TypeVar}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00016}00016\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacestarlette_1_1__exception__handler}{starlette.\_exception\_handler}}\ \textcolor{keyword}{import}\ wrap\_app\_handling\_exceptions}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00017}00017\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacestarlette_1_1__utils}{starlette.\_utils}}\ \textcolor{keyword}{import}\ get\_route\_path,\ is\_async\_callable}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00018}00018\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacestarlette_1_1concurrency}{starlette.concurrency}}\ \textcolor{keyword}{import}\ run\_in\_threadpool}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00019}00019\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacestarlette_1_1convertors}{starlette.convertors}}\ \textcolor{keyword}{import}\ CONVERTOR\_TYPES,\ Convertor}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00020}00020\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacestarlette_1_1datastructures}{starlette.datastructures}}\ \textcolor{keyword}{import}\ URL,\ Headers,\ URLPath}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00021}00021\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacestarlette_1_1exceptions}{starlette.exceptions}}\ \textcolor{keyword}{import}\ HTTPException}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00022}00022\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacestarlette_1_1middleware}{starlette.middleware}}\ \textcolor{keyword}{import}\ Middleware}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00023}00023\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacestarlette_1_1requests}{starlette.requests}}\ \textcolor{keyword}{import}\ Request}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00024}00024\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacestarlette_1_1responses}{starlette.responses}}\ \textcolor{keyword}{import}\ PlainTextResponse,\ RedirectResponse,\ Response}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00025}00025\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacestarlette_1_1types}{starlette.types}}\ \textcolor{keyword}{import}\ ASGIApp,\ Lifespan,\ Receive,\ Scope,\ Send}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00026}00026\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacestarlette_1_1websockets}{starlette.websockets}}\ \textcolor{keyword}{import}\ WebSocket,\ WebSocketClose}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00029}\mbox{\hyperlink{classstarlette_1_1routing_1_1_no_match_found}{00029}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_no_match_found}{NoMatchFound}}(Exception):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00030}00030\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00031}00031\ \textcolor{stringliteral}{\ \ \ \ Raised\ by\ \`{}.url\_for(name,\ **path\_params)\`{}\ and\ \`{}.url\_path\_for(name,\ **path\_params)\`{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00032}00032\ \textcolor{stringliteral}{\ \ \ \ if\ no\ matching\ route\ exists.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00033}00033\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00035}00035\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ name:\ str,\ path\_params:\ dict[str,\ Any])\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ params\ =\ \textcolor{stringliteral}{"{},\ "{}}.join(list(path\_params.keys()))}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ super().\_\_init\_\_(f\textcolor{stringliteral}{'No\ route\ exists\ for\ name\ "{}\{name\}"{}\ and\ params\ "{}\{params\}"{}.'})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00040}\mbox{\hyperlink{classstarlette_1_1routing_1_1_match}{00040}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_match}{Match}}(Enum):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00041}\mbox{\hyperlink{classstarlette_1_1routing_1_1_match_a64cba0c7d5e4004ba72b81b65d016a59}{00041}}\ \ \ \ \ NONE\ =\ 0}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00042}\mbox{\hyperlink{classstarlette_1_1routing_1_1_match_ab956468b2de63055e80095e805b3bfaf}{00042}}\ \ \ \ \ PARTIAL\ =\ 1}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00043}\mbox{\hyperlink{classstarlette_1_1routing_1_1_match_a102b63ee5b4bd8ec91bf44eabb33d2cb}{00043}}\ \ \ \ \ FULL\ =\ 2}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00046}\mbox{\hyperlink{namespacestarlette_1_1routing_aff4ce3f93e31fde84150dc45a9384175}{00046}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacestarlette_1_1routing_aff4ce3f93e31fde84150dc45a9384175}{iscoroutinefunction\_or\_partial}}(obj:\ Any)\ -\/>\ bool:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00047}00047\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00048}00048\ \textcolor{stringliteral}{\ \ \ \ Correctly\ determines\ if\ an\ object\ is\ a\ coroutine\ function,}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00049}00049\ \textcolor{stringliteral}{\ \ \ \ including\ those\ wrapped\ in\ functools.partial\ objects.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00050}00050\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00051}00051\ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00052}00052\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}iscoroutinefunction\_or\_partial\ is\ deprecated,\ and\ will\ be\ removed\ in\ a\ future\ release."{}},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00053}00053\ \ \ \ \ \ \ \ \ DeprecationWarning,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00054}00054\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00055}00055\ \ \ \ \ \textcolor{keywordflow}{while}\ isinstance(obj,\ functools.partial):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ obj\ =\ obj.func}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00057}00057\ \ \ \ \ \textcolor{keywordflow}{return}\ inspect.iscoroutinefunction(obj)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00060}\mbox{\hyperlink{namespacestarlette_1_1routing_ac4ebd39c2b1557a99d884af6bf9da26a}{00060}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacestarlette_1_1routing_ac4ebd39c2b1557a99d884af6bf9da26a}{request\_response}}(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00061}00061\ \ \ \ \ func:\ Callable[[Request],\ Awaitable[Response]\ |\ Response],}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00062}00062\ )\ -\/>\ ASGIApp:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00063}00063\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00064}00064\ \textcolor{stringliteral}{\ \ \ \ Takes\ a\ function\ or\ coroutine\ \`{}func(request)\ -\/>\ response\`{},}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00065}00065\ \textcolor{stringliteral}{\ \ \ \ and\ returns\ an\ ASGI\ application.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00066}00066\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00067}00067\ \ \ \ \ f:\ Callable[[Request],\ Awaitable[Response]]\ =\ (}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00068}00068\ \ \ \ \ \ \ \ \ func\ \textcolor{keywordflow}{if}\ is\_async\_callable(func)\ \textcolor{keywordflow}{else}\ functools.partial(run\_in\_threadpool,\ func)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00069}00069\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00071}00071\ \ \ \ \ \textcolor{keyword}{async\ def\ }\mbox{\hyperlink{namespaceapp}{app}}(scope:\ Scope,\ receive:\ Receive,\ send:\ Send)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00072}00072\ \ \ \ \ \ \ \ \ request\ =\ \mbox{\hyperlink{classstarlette_1_1requests_1_1_request}{Request}}(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00074}00074\ \ \ \ \ \ \ \ \ \textcolor{keyword}{async\ def\ }\mbox{\hyperlink{namespaceapp}{app}}(scope:\ Scope,\ receive:\ Receive,\ send:\ Send)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00075}00075\ \ \ \ \ \ \ \ \ \ \ \ \ response\ =\ await\ f(request)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ \ \ \ \ await\ response(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00078}00078\ \ \ \ \ \ \ \ \ await\ wrap\_app\_handling\_exceptions(app,\ request)(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00080}00080\ \ \ \ \ \textcolor{keywordflow}{return}\ app}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00082}00082\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00083}\mbox{\hyperlink{namespacestarlette_1_1routing_a6e8228f2883fb9f6fe1bbf4a27a3db02}{00083}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacestarlette_1_1routing_a6e8228f2883fb9f6fe1bbf4a27a3db02}{websocket\_session}}(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00084}00084\ \ \ \ \ func:\ Callable[[WebSocket],\ Awaitable[\textcolor{keywordtype}{None}]],}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00085}00085\ )\ -\/>\ ASGIApp:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00086}00086\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00087}00087\ \textcolor{stringliteral}{\ \ \ \ Takes\ a\ coroutine\ \`{}func(session)\`{},\ and\ returns\ an\ ASGI\ application.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00088}00088\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00089}00089\ \ \ \ \ \textcolor{comment}{\#\ assert\ asyncio.iscoroutinefunction(func),\ "{}WebSocket\ endpoints\ must\ be\ async"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00090}00090\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00091}00091\ \ \ \ \ \textcolor{keyword}{async\ def\ }\mbox{\hyperlink{namespaceapp}{app}}(scope:\ Scope,\ receive:\ Receive,\ send:\ Send)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00092}00092\ \ \ \ \ \ \ \ \ session\ =\ \mbox{\hyperlink{classstarlette_1_1websockets_1_1_web_socket}{WebSocket}}(scope,\ receive=receive,\ send=send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00093}00093\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00094}00094\ \ \ \ \ \ \ \ \ \textcolor{keyword}{async\ def\ }\mbox{\hyperlink{namespaceapp}{app}}(scope:\ Scope,\ receive:\ Receive,\ send:\ Send)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00095}00095\ \ \ \ \ \ \ \ \ \ \ \ \ await\ func(session)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00096}00096\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00097}00097\ \ \ \ \ \ \ \ \ await\ wrap\_app\_handling\_exceptions(app,\ session)(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00098}00098\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00099}00099\ \ \ \ \ \textcolor{keywordflow}{return}\ app}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00100}00100\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00102}\mbox{\hyperlink{namespacestarlette_1_1routing_aab8bb12a529565ce26745a2de7eac048}{00102}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacestarlette_1_1routing_aab8bb12a529565ce26745a2de7eac048}{get\_name}}(endpoint:\ Callable[...,\ Any])\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00103}00103\ \ \ \ \ \textcolor{keywordflow}{return}\ getattr(endpoint,\ \textcolor{stringliteral}{"{}\_\_name\_\_"{}},\ endpoint.\_\_class\_\_.\_\_name\_\_)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00104}00104\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00105}00105\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00106}\mbox{\hyperlink{namespacestarlette_1_1routing_a2d0e8910bc3c3fc85d24e7881af51ad2}{00106}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacestarlette_1_1routing_a2d0e8910bc3c3fc85d24e7881af51ad2}{replace\_params}}(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00107}00107\ \ \ \ \ path:\ str,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00108}00108\ \ \ \ \ param\_convertors:\ dict[str,\ Convertor[Any]],}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00109}00109\ \ \ \ \ path\_params:\ dict[str,\ str],}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00110}00110\ )\ -\/>\ tuple[str,\ dict[str,\ str]]:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00111}00111\ \ \ \ \ \textcolor{keywordflow}{for}\ key,\ value\ \textcolor{keywordflow}{in}\ list(path\_params.items()):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00112}00112\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}\{"{}}\ +\ key\ +\ \textcolor{stringliteral}{"{}\}"{}}\ \textcolor{keywordflow}{in}\ path:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ convertor\ =\ param\_convertors[key]}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ convertor.to\_string(value)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ path\ =\ path.replace(\textcolor{stringliteral}{"{}\{"{}}\ +\ key\ +\ \textcolor{stringliteral}{"{}\}"{}},\ value)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ path\_params.pop(key)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00117}00117\ \ \ \ \ \textcolor{keywordflow}{return}\ path,\ path\_params}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00118}00118\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00119}00119\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00120}00120\ \textcolor{comment}{\#\ Match\ parameters\ in\ URL\ paths,\ eg.\ '\{param\}',\ and\ '\{param:int\}'}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00121}\mbox{\hyperlink{namespacestarlette_1_1routing_a501d523bb38a88103bdf27de8f6b34da}{00121}}\ PARAM\_REGEX\ =\ re.compile(\textcolor{stringliteral}{"{}\{([a-\/zA-\/Z\_][a-\/zA-\/Z0-\/9\_]*)(:[a-\/zA-\/Z\_][a-\/zA-\/Z0-\/9\_]*)?\}"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00122}00122\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00124}\mbox{\hyperlink{namespacestarlette_1_1routing_a9b22f7a9fce401016119c29fa0e0b540}{00124}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacestarlette_1_1routing_a9b22f7a9fce401016119c29fa0e0b540}{compile\_path}}(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00125}00125\ \ \ \ \ path:\ str,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00126}00126\ )\ -\/>\ tuple[Pattern[str],\ str,\ dict[str,\ Convertor[Any]]]:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00127}00127\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00128}00128\ \textcolor{stringliteral}{\ \ \ \ Given\ a\ path\ string,\ like:\ "{}/\{username:str\}"{},}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00129}00129\ \textcolor{stringliteral}{\ \ \ \ or\ a\ host\ string,\ like:\ "{}\{subdomain\}.mydomain.org"{},\ return\ a\ three-\/tuple}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00130}00130\ \textcolor{stringliteral}{\ \ \ \ of\ (regex,\ format,\ \{param\_name:convertor\}).}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00131}00131\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00132}00132\ \textcolor{stringliteral}{\ \ \ \ regex:\ \ \ \ \ \ "{}/(?P<username>[\string^/]+)"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00133}00133\ \textcolor{stringliteral}{\ \ \ \ format:\ \ \ \ \ "{}/\{username\}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00134}00134\ \textcolor{stringliteral}{\ \ \ \ convertors:\ \{"{}username"{}:\ StringConvertor()\}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00135}00135\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00136}00136\ \ \ \ \ is\_host\ =\ \textcolor{keywordflow}{not}\ path.startswith(\textcolor{stringliteral}{"{}/"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00137}00137\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00138}00138\ \ \ \ \ path\_regex\ =\ \textcolor{stringliteral}{"{}\string^"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00139}00139\ \ \ \ \ path\_format\ =\ \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00140}00140\ \ \ \ \ duplicated\_params\ =\ set()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00141}00141\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00142}00142\ \ \ \ \ idx\ =\ 0}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00143}00143\ \ \ \ \ param\_convertors\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00144}00144\ \ \ \ \ \textcolor{keywordflow}{for}\ match\ \textcolor{keywordflow}{in}\ PARAM\_REGEX.finditer(path):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00145}00145\ \ \ \ \ \ \ \ \ param\_name,\ convertor\_type\ =\ match.groups(\textcolor{stringliteral}{"{}str"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00146}00146\ \ \ \ \ \ \ \ \ convertor\_type\ =\ convertor\_type.lstrip(\textcolor{stringliteral}{"{}:"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00147}00147\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ convertor\_type\ \textcolor{keywordflow}{in}\ CONVERTOR\_TYPES,\ f\textcolor{stringliteral}{"{}Unknown\ path\ convertor\ '\{convertor\_type\}'"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00148}00148\ \ \ \ \ \ \ \ \ convertor\ =\ CONVERTOR\_TYPES[convertor\_type]}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00149}00149\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00150}00150\ \ \ \ \ \ \ \ \ path\_regex\ +=\ re.escape(path[idx\ :\ match.start()])}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00151}00151\ \ \ \ \ \ \ \ \ path\_regex\ +=\ f\textcolor{stringliteral}{"{}(?P<\{param\_name\}>\{convertor.regex\})"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00152}00152\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00153}00153\ \ \ \ \ \ \ \ \ path\_format\ +=\ path[idx\ :\ match.start()]}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00154}00154\ \ \ \ \ \ \ \ \ path\_format\ +=\ \textcolor{stringliteral}{"{}\{\%s\}"{}}\ \%\ param\_name}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00155}00155\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00156}00156\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ param\_name\ \textcolor{keywordflow}{in}\ param\_convertors:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00157}00157\ \ \ \ \ \ \ \ \ \ \ \ \ duplicated\_params.add(param\_name)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00158}00158\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00159}00159\ \ \ \ \ \ \ \ \ param\_convertors[param\_name]\ =\ convertor}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00160}00160\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00161}00161\ \ \ \ \ \ \ \ \ idx\ =\ match.end()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00162}00162\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00163}00163\ \ \ \ \ \textcolor{keywordflow}{if}\ duplicated\_params:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00164}00164\ \ \ \ \ \ \ \ \ names\ =\ \textcolor{stringliteral}{"{},\ "{}}.join(sorted(duplicated\_params))}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00165}00165\ \ \ \ \ \ \ \ \ ending\ =\ \textcolor{stringliteral}{"{}s"{}}\ \textcolor{keywordflow}{if}\ len(duplicated\_params)\ >\ 1\ \textcolor{keywordflow}{else}\ \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00166}00166\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(f\textcolor{stringliteral}{"{}Duplicated\ param\ name\{ending\}\ \{names\}\ at\ path\ \{path\}"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00167}00167\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00168}00168\ \ \ \ \ \textcolor{keywordflow}{if}\ is\_host:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00169}00169\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Align\ with\ \`{}Host.matches()`\ behavior,\ which\ ignores\ port.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00170}00170\ \ \ \ \ \ \ \ \ hostname\ =\ path[idx:].split(\textcolor{stringliteral}{"{}:"{}})[0]}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00171}00171\ \ \ \ \ \ \ \ \ path\_regex\ +=\ re.escape(hostname)\ +\ \textcolor{stringliteral}{"{}\$"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00172}00172\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00173}00173\ \ \ \ \ \ \ \ \ path\_regex\ +=\ re.escape(path[idx:])\ +\ \textcolor{stringliteral}{"{}\$"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00174}00174\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00175}00175\ \ \ \ \ path\_format\ +=\ path[idx:]}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00176}00176\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00177}00177\ \ \ \ \ \textcolor{keywordflow}{return}\ re.compile(path\_regex),\ path\_format,\ param\_convertors}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00178}00178\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00179}00179\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00180}\mbox{\hyperlink{classstarlette_1_1routing_1_1_base_route}{00180}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_base_route}{BaseRoute}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00181}\mbox{\hyperlink{classstarlette_1_1routing_1_1_base_route_a80b089875c0f2f9ec124ee39d95f312a}{00181}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_base_route_a80b089875c0f2f9ec124ee39d95f312a}{matches}}(self,\ scope:\ Scope)\ -\/>\ tuple[Match,\ Scope]:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00182}00182\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ NotImplementedError()\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00183}00183\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00184}\mbox{\hyperlink{classstarlette_1_1routing_1_1_base_route_a6b22f09da56b28eee9684ef09ee0b78b}{00184}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_base_route_a6b22f09da56b28eee9684ef09ee0b78b}{url\_path\_for}}(self,\ name:\ str,\ /,\ **path\_params:\ Any)\ -\/>\ URLPath:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00185}00185\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ NotImplementedError()\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00186}00186\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00187}\mbox{\hyperlink{classstarlette_1_1routing_1_1_base_route_accff0e9af54c73d1ad1a913b11e1b1c6}{00187}}\ \ \ \ \ \textcolor{keyword}{async\ def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_base_route_accff0e9af54c73d1ad1a913b11e1b1c6}{handle}}(self,\ scope:\ Scope,\ receive:\ Receive,\ send:\ Send)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00188}00188\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ NotImplementedError()\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00189}00189\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00190}00190\ \ \ \ \ \textcolor{keyword}{async\ def\ }\_\_call\_\_(self,\ scope:\ Scope,\ receive:\ Receive,\ send:\ Send)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00191}00191\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00192}00192\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ route\ may\ be\ used\ in\ isolation\ as\ a\ stand-\/alone\ ASGI\ app.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00193}00193\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ This\ is\ a\ somewhat\ contrived\ case,\ as\ they'll\ almost\ always\ be\ used}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00194}00194\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ within\ a\ Router,\ but\ could\ be\ useful\ for\ some\ tooling\ and\ minimal\ apps.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00195}00195\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00196}00196\ \ \ \ \ \ \ \ \ match,\ child\_scope\ =\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_base_route_a80b089875c0f2f9ec124ee39d95f312a}{matches}}(scope)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00197}00197\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ match\ ==\ Match.NONE:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00198}00198\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ scope[\textcolor{stringliteral}{"{}type"{}}]\ ==\ \textcolor{stringliteral}{"{}http"{}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00199}00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ response\ =\ \mbox{\hyperlink{classstarlette_1_1responses_1_1_plain_text_response}{PlainTextResponse}}(\textcolor{stringliteral}{"{}Not\ Found"{}},\ status\_code=404)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00200}00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ await\ response(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00201}00201\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ scope[\textcolor{stringliteral}{"{}type"{}}]\ ==\ \textcolor{stringliteral}{"{}websocket"{}}:\ \ \textcolor{comment}{\#\ pragma:\ no\ branch}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00202}00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ websocket\_close\ =\ \mbox{\hyperlink{classstarlette_1_1websockets_1_1_web_socket_close}{WebSocketClose}}()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00203}00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ await\ websocket\_close(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00204}00204\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00205}00205\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00206}00206\ \ \ \ \ \ \ \ \ scope.update(child\_scope)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00207}00207\ \ \ \ \ \ \ \ \ await\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_base_route_accff0e9af54c73d1ad1a913b11e1b1c6}{handle}}(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00208}00208\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00209}00209\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00210}\mbox{\hyperlink{classstarlette_1_1routing_1_1_route}{00210}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_route}{Route}}(\mbox{\hyperlink{classstarlette_1_1routing_1_1_base_route}{BaseRoute}}):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00211}00211\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00212}00212\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00213}00213\ \ \ \ \ \ \ \ \ path:\ str,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00214}00214\ \ \ \ \ \ \ \ \ endpoint:\ Callable[...,\ Any],}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00215}00215\ \ \ \ \ \ \ \ \ *,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00216}00216\ \ \ \ \ \ \ \ \ methods:\ Collection[str]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00217}00217\ \ \ \ \ \ \ \ \ name:\ str\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00218}00218\ \ \ \ \ \ \ \ \ include\_in\_schema:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00219}00219\ \ \ \ \ \ \ \ \ middleware:\ Sequence[Middleware]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00220}00220\ \ \ \ \ )\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00221}00221\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ path.startswith(\textcolor{stringliteral}{"{}/"{}}),\ \textcolor{stringliteral}{"{}Routed\ paths\ must\ start\ with\ '/'"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00222}\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a7f7a42496afe63765bf0dafb34e29b5a}{00222}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a7f7a42496afe63765bf0dafb34e29b5a}{path}}\ =\ path}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00223}\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a25a9d9540b8e6c8d853ea0d0faa75f6b}{00223}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a25a9d9540b8e6c8d853ea0d0faa75f6b}{endpoint}}\ =\ endpoint}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00224}\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a6203b0f86caed64bf568a22a0eb83672}{00224}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a6203b0f86caed64bf568a22a0eb83672}{name}}\ =\ \mbox{\hyperlink{namespacestarlette_1_1routing_aab8bb12a529565ce26745a2de7eac048}{get\_name}}(endpoint)\ \textcolor{keywordflow}{if}\ name\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{else}\ name}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00225}\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_ac71c705aaac758f467b7a07280822478}{00225}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_ac71c705aaac758f467b7a07280822478}{include\_in\_schema}}\ =\ include\_in\_schema}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00226}00226\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00227}00227\ \ \ \ \ \ \ \ \ endpoint\_handler\ =\ endpoint}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00228}00228\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ isinstance(endpoint\_handler,\ functools.partial):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00229}00229\ \ \ \ \ \ \ \ \ \ \ \ \ endpoint\_handler\ =\ endpoint\_handler.func}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00230}00230\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ inspect.isfunction(endpoint\_handler)\ \textcolor{keywordflow}{or}\ inspect.ismethod(endpoint\_handler):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00231}00231\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Endpoint\ is\ function\ or\ method.\ Treat\ it\ as\ \`{}func(request)\ -\/>\ response`.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00232}\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_ae12fb5460a68a44599f9ac26a2fff778}{00232}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_ae12fb5460a68a44599f9ac26a2fff778}{app}}\ =\ \mbox{\hyperlink{namespacestarlette_1_1routing_ac4ebd39c2b1557a99d884af6bf9da26a}{request\_response}}(endpoint)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00233}00233\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ methods\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00234}00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ methods\ =\ [\textcolor{stringliteral}{"{}GET"{}}]}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00235}00235\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00236}00236\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Endpoint\ is\ a\ class.\ Treat\ it\ as\ ASGI.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00237}00237\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_ae12fb5460a68a44599f9ac26a2fff778}{app}}\ =\ endpoint}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00238}00238\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00239}00239\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ middleware\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00240}00240\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ cls,\ args,\ kwargs\ \textcolor{keywordflow}{in}\ reversed(middleware):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00241}00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_ae12fb5460a68a44599f9ac26a2fff778}{app}}\ =\ cls(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_ae12fb5460a68a44599f9ac26a2fff778}{app}},\ *args,\ **kwargs)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00242}00242\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00243}00243\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ methods\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00244}\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a5b073e04ebceccc4a5d4e8f3139e2b54}{00244}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a5b073e04ebceccc4a5d4e8f3139e2b54}{methods}}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00245}00245\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00246}00246\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a5b073e04ebceccc4a5d4e8f3139e2b54}{methods}}\ =\ \{method.upper()\ \textcolor{keywordflow}{for}\ method\ \textcolor{keywordflow}{in}\ methods\}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00247}00247\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}GET"{}}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a5b073e04ebceccc4a5d4e8f3139e2b54}{methods}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00248}00248\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a5b073e04ebceccc4a5d4e8f3139e2b54}{methods}}.add(\textcolor{stringliteral}{"{}HEAD"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00249}00249\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00250}\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a4ac3a86f04a1a848e352f8f4a99767bb}{00250}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a28669197b195b626238911ec11a72c83}{path\_regex}},\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a28a8f00ec6a779577a5ef5fa000c4adb}{path\_format}},\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a4ac3a86f04a1a848e352f8f4a99767bb}{param\_convertors}}\ =\ \mbox{\hyperlink{namespacestarlette_1_1routing_a9b22f7a9fce401016119c29fa0e0b540}{compile\_path}}(path)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00251}00251\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00252}\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_aec806bd4c25be36d97e01b6e2bbbc9d9}{00252}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_aec806bd4c25be36d97e01b6e2bbbc9d9}{matches}}(self,\ scope:\ Scope)\ -\/>\ tuple[Match,\ Scope]:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00253}00253\ \ \ \ \ \ \ \ \ path\_params:\ dict[str,\ Any]}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00254}00254\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ scope[\textcolor{stringliteral}{"{}type"{}}]\ ==\ \textcolor{stringliteral}{"{}http"{}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00255}00255\ \ \ \ \ \ \ \ \ \ \ \ \ route\_path\ =\ get\_route\_path(scope)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00256}00256\ \ \ \ \ \ \ \ \ \ \ \ \ match\ =\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a28669197b195b626238911ec11a72c83}{path\_regex}}.match(route\_path)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00257}00257\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ match:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00258}00258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ matched\_params\ =\ match.groupdict()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00259}00259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ key,\ value\ \textcolor{keywordflow}{in}\ matched\_params.items():}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00260}00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ matched\_params[key]\ =\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a4ac3a86f04a1a848e352f8f4a99767bb}{param\_convertors}}[key].convert(value)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00261}00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ path\_params\ =\ dict(scope.get(\textcolor{stringliteral}{"{}path\_params"{}},\ \{\}))}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00262}00262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ path\_params.update(matched\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00263}00263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ child\_scope\ =\ \{\textcolor{stringliteral}{"{}endpoint"{}}:\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a25a9d9540b8e6c8d853ea0d0faa75f6b}{endpoint}},\ \textcolor{stringliteral}{"{}path\_params"{}}:\ path\_params\}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00264}00264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a5b073e04ebceccc4a5d4e8f3139e2b54}{methods}}\ \textcolor{keywordflow}{and}\ scope[\textcolor{stringliteral}{"{}method"{}}]\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a5b073e04ebceccc4a5d4e8f3139e2b54}{methods}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00265}00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Match.PARTIAL,\ child\_scope}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00266}00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00267}00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Match.FULL,\ child\_scope}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00268}00268\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Match.NONE,\ \{\}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00269}00269\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00270}\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_ac3f3214732a04fc28b68527b54f0de28}{00270}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_ac3f3214732a04fc28b68527b54f0de28}{url\_path\_for}}(self,\ name:\ str,\ /,\ **path\_params:\ Any)\ -\/>\ URLPath:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00271}00271\ \ \ \ \ \ \ \ \ seen\_params\ =\ set(path\_params.keys())}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00272}00272\ \ \ \ \ \ \ \ \ expected\_params\ =\ set(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a4ac3a86f04a1a848e352f8f4a99767bb}{param\_convertors}}.keys())}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00273}00273\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00274}00274\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ name\ !=\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a6203b0f86caed64bf568a22a0eb83672}{name}}\ \textcolor{keywordflow}{or}\ seen\_params\ !=\ expected\_params:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00275}00275\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classstarlette_1_1routing_1_1_no_match_found}{NoMatchFound}}(name,\ path\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00276}00276\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00277}00277\ \ \ \ \ \ \ \ \ path,\ remaining\_params\ =\ \mbox{\hyperlink{namespacestarlette_1_1routing_a2d0e8910bc3c3fc85d24e7881af51ad2}{replace\_params}}(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a28a8f00ec6a779577a5ef5fa000c4adb}{path\_format}},\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a4ac3a86f04a1a848e352f8f4a99767bb}{param\_convertors}},\ path\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00278}00278\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ \textcolor{keywordflow}{not}\ remaining\_params}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00279}00279\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classstarlette_1_1datastructures_1_1_u_r_l_path}{URLPath}}(path=path,\ protocol=\textcolor{stringliteral}{"{}http"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00280}00280\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00281}\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_acb77f1c66b5d958d237998e6593b5226}{00281}}\ \ \ \ \ \textcolor{keyword}{async\ def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_acb77f1c66b5d958d237998e6593b5226}{handle}}(self,\ scope:\ Scope,\ receive:\ Receive,\ send:\ Send)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00282}00282\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a5b073e04ebceccc4a5d4e8f3139e2b54}{methods}}\ \textcolor{keywordflow}{and}\ scope[\textcolor{stringliteral}{"{}method"{}}]\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a5b073e04ebceccc4a5d4e8f3139e2b54}{methods}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00283}00283\ \ \ \ \ \ \ \ \ \ \ \ \ headers\ =\ \{\textcolor{stringliteral}{"{}Allow"{}}:\ \textcolor{stringliteral}{"{},\ "{}}.join(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a5b073e04ebceccc4a5d4e8f3139e2b54}{methods}})\}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00284}00284\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}app"{}}\ \textcolor{keywordflow}{in}\ scope:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00285}00285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classstarlette_1_1exceptions_1_1_h_t_t_p_exception}{HTTPException}}(status\_code=405,\ headers=headers)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00286}00286\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00287}00287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ response\ =\ \mbox{\hyperlink{classstarlette_1_1responses_1_1_plain_text_response}{PlainTextResponse}}(\textcolor{stringliteral}{"{}Method\ Not\ Allowed"{}},\ status\_code=405,\ headers=headers)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00288}00288\ \ \ \ \ \ \ \ \ \ \ \ \ await\ response(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00289}00289\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00290}00290\ \ \ \ \ \ \ \ \ \ \ \ \ await\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_ae12fb5460a68a44599f9ac26a2fff778}{app}}(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00291}00291\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00292}00292\ \ \ \ \ \textcolor{keyword}{def\ }\_\_eq\_\_(self,\ other:\ Any)\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00293}00293\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00294}00294\ \ \ \ \ \ \ \ \ \ \ \ \ isinstance(other,\ Route)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00295}00295\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a7f7a42496afe63765bf0dafb34e29b5a}{path}}\ ==\ other.path}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00296}00296\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a25a9d9540b8e6c8d853ea0d0faa75f6b}{endpoint}}\ ==\ other.endpoint}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00297}00297\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a5b073e04ebceccc4a5d4e8f3139e2b54}{methods}}\ ==\ other.methods}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00298}00298\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00299}00299\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00300}00300\ \ \ \ \ \textcolor{keyword}{def\ }\_\_repr\_\_(self)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00301}00301\ \ \ \ \ \ \ \ \ class\_name\ =\ self.\_\_class\_\_.\_\_name\_\_}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00302}00302\ \ \ \ \ \ \ \ \ methods\ =\ sorted(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a5b073e04ebceccc4a5d4e8f3139e2b54}{methods}}\ \textcolor{keywordflow}{or}\ [])}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00303}00303\ \ \ \ \ \ \ \ \ path,\ name\ =\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a7f7a42496afe63765bf0dafb34e29b5a}{path}},\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_route_a6203b0f86caed64bf568a22a0eb83672}{name}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00304}00304\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ f\textcolor{stringliteral}{"{}\{class\_name\}(path=\{path!r\},\ name=\{name!r\},\ methods=\{methods!r\})"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00305}00305\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00306}00306\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00307}\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route}{00307}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route}{WebSocketRoute}}(\mbox{\hyperlink{classstarlette_1_1routing_1_1_base_route}{BaseRoute}}):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00308}00308\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00309}00309\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00310}00310\ \ \ \ \ \ \ \ \ path:\ str,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00311}00311\ \ \ \ \ \ \ \ \ endpoint:\ Callable[...,\ Any],}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00312}00312\ \ \ \ \ \ \ \ \ *,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00313}00313\ \ \ \ \ \ \ \ \ name:\ str\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00314}00314\ \ \ \ \ \ \ \ \ middleware:\ Sequence[Middleware]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00315}00315\ \ \ \ \ )\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00316}00316\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ path.startswith(\textcolor{stringliteral}{"{}/"{}}),\ \textcolor{stringliteral}{"{}Routed\ paths\ must\ start\ with\ '/'"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00317}\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_aa6410825b8e954449b7fc5adc42d776f}{00317}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_aa6410825b8e954449b7fc5adc42d776f}{path}}\ =\ path}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00318}\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_a1cb75654baab5be1e3a4999e272c3a7c}{00318}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_a1cb75654baab5be1e3a4999e272c3a7c}{endpoint}}\ =\ endpoint}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00319}\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_aa729fc32beb421fbea82f51830aedaac}{00319}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_aa729fc32beb421fbea82f51830aedaac}{name}}\ =\ \mbox{\hyperlink{namespacestarlette_1_1routing_aab8bb12a529565ce26745a2de7eac048}{get\_name}}(endpoint)\ \textcolor{keywordflow}{if}\ name\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{else}\ name}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00320}00320\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00321}00321\ \ \ \ \ \ \ \ \ endpoint\_handler\ =\ endpoint}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00322}00322\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ isinstance(endpoint\_handler,\ functools.partial):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00323}00323\ \ \ \ \ \ \ \ \ \ \ \ \ endpoint\_handler\ =\ endpoint\_handler.func}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00324}00324\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ inspect.isfunction(endpoint\_handler)\ \textcolor{keywordflow}{or}\ inspect.ismethod(endpoint\_handler):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00325}00325\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Endpoint\ is\ function\ or\ method.\ Treat\ it\ as\ \`{}func(websocket)`.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00326}\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_a4221a2bb2448c1df57b80eca3f2283a3}{00326}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_a4221a2bb2448c1df57b80eca3f2283a3}{app}}\ =\ \mbox{\hyperlink{namespacestarlette_1_1routing_a6e8228f2883fb9f6fe1bbf4a27a3db02}{websocket\_session}}(endpoint)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00327}00327\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00328}00328\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Endpoint\ is\ a\ class.\ Treat\ it\ as\ ASGI.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00329}00329\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_a4221a2bb2448c1df57b80eca3f2283a3}{app}}\ =\ endpoint}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00330}00330\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00331}00331\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ middleware\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00332}00332\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ cls,\ args,\ kwargs\ \textcolor{keywordflow}{in}\ reversed(middleware):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00333}00333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_a4221a2bb2448c1df57b80eca3f2283a3}{app}}\ =\ cls(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_a4221a2bb2448c1df57b80eca3f2283a3}{app}},\ *args,\ **kwargs)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00334}00334\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00335}\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_ad04e22ba08aba32aa00db5ad3f4b7f90}{00335}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_ac7cf205595cf20b70af56eacaa2530f8}{path\_regex}},\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_ac705434a18a158b2e1fc2cd79dd96771}{path\_format}},\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_ad04e22ba08aba32aa00db5ad3f4b7f90}{param\_convertors}}\ =\ \mbox{\hyperlink{namespacestarlette_1_1routing_a9b22f7a9fce401016119c29fa0e0b540}{compile\_path}}(path)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00336}00336\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00337}\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_ae50358c77362cc00a7deb456a568aa8f}{00337}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_ae50358c77362cc00a7deb456a568aa8f}{matches}}(self,\ scope:\ Scope)\ -\/>\ tuple[Match,\ Scope]:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00338}00338\ \ \ \ \ \ \ \ \ path\_params:\ dict[str,\ Any]}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00339}00339\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ scope[\textcolor{stringliteral}{"{}type"{}}]\ ==\ \textcolor{stringliteral}{"{}websocket"{}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00340}00340\ \ \ \ \ \ \ \ \ \ \ \ \ route\_path\ =\ get\_route\_path(scope)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00341}00341\ \ \ \ \ \ \ \ \ \ \ \ \ match\ =\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_ac7cf205595cf20b70af56eacaa2530f8}{path\_regex}}.match(route\_path)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00342}00342\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ match:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00343}00343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ matched\_params\ =\ match.groupdict()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00344}00344\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ key,\ value\ \textcolor{keywordflow}{in}\ matched\_params.items():}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00345}00345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ matched\_params[key]\ =\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_ad04e22ba08aba32aa00db5ad3f4b7f90}{param\_convertors}}[key].convert(value)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00346}00346\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ path\_params\ =\ dict(scope.get(\textcolor{stringliteral}{"{}path\_params"{}},\ \{\}))}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00347}00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ path\_params.update(matched\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00348}00348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ child\_scope\ =\ \{\textcolor{stringliteral}{"{}endpoint"{}}:\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_a1cb75654baab5be1e3a4999e272c3a7c}{endpoint}},\ \textcolor{stringliteral}{"{}path\_params"{}}:\ path\_params\}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00349}00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Match.FULL,\ child\_scope}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00350}00350\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Match.NONE,\ \{\}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00351}00351\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00352}\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_a7f58a860492b500b9ce5fd0d292f945f}{00352}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_a7f58a860492b500b9ce5fd0d292f945f}{url\_path\_for}}(self,\ name:\ str,\ /,\ **path\_params:\ Any)\ -\/>\ URLPath:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00353}00353\ \ \ \ \ \ \ \ \ seen\_params\ =\ set(path\_params.keys())}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00354}00354\ \ \ \ \ \ \ \ \ expected\_params\ =\ set(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_ad04e22ba08aba32aa00db5ad3f4b7f90}{param\_convertors}}.keys())}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00355}00355\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00356}00356\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ name\ !=\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_aa729fc32beb421fbea82f51830aedaac}{name}}\ \textcolor{keywordflow}{or}\ seen\_params\ !=\ expected\_params:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00357}00357\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classstarlette_1_1routing_1_1_no_match_found}{NoMatchFound}}(name,\ path\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00358}00358\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00359}00359\ \ \ \ \ \ \ \ \ path,\ remaining\_params\ =\ \mbox{\hyperlink{namespacestarlette_1_1routing_a2d0e8910bc3c3fc85d24e7881af51ad2}{replace\_params}}(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_ac705434a18a158b2e1fc2cd79dd96771}{path\_format}},\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_ad04e22ba08aba32aa00db5ad3f4b7f90}{param\_convertors}},\ path\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00360}00360\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ \textcolor{keywordflow}{not}\ remaining\_params}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00361}00361\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classstarlette_1_1datastructures_1_1_u_r_l_path}{URLPath}}(path=path,\ protocol=\textcolor{stringliteral}{"{}websocket"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00362}00362\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00363}\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_a65e0a80b6474d9635a26da9790060ba7}{00363}}\ \ \ \ \ \textcolor{keyword}{async\ def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_a65e0a80b6474d9635a26da9790060ba7}{handle}}(self,\ scope:\ Scope,\ receive:\ Receive,\ send:\ Send)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00364}00364\ \ \ \ \ \ \ \ \ await\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_a4221a2bb2448c1df57b80eca3f2283a3}{app}}(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00365}00365\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00366}00366\ \ \ \ \ \textcolor{keyword}{def\ }\_\_eq\_\_(self,\ other:\ Any)\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00367}00367\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ isinstance(other,\ WebSocketRoute)\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_aa6410825b8e954449b7fc5adc42d776f}{path}}\ ==\ other.path\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route_a1cb75654baab5be1e3a4999e272c3a7c}{endpoint}}\ ==\ other.endpoint}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00368}00368\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00369}00369\ \ \ \ \ \textcolor{keyword}{def\ }\_\_repr\_\_(self)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00370}00370\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ f\textcolor{stringliteral}{"{}\{self.\_\_class\_\_.\_\_name\_\_\}(path=\{self.path!r\},\ name=\{self.name!r\})"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00371}00371\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00372}00372\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00373}\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount}{00373}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount}{Mount}}(\mbox{\hyperlink{classstarlette_1_1routing_1_1_base_route}{BaseRoute}}):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00374}00374\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00375}00375\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00376}00376\ \ \ \ \ \ \ \ \ path:\ str,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00377}00377\ \ \ \ \ \ \ \ \ app:\ ASGIApp\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00378}00378\ \ \ \ \ \ \ \ \ routes:\ Sequence[BaseRoute]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00379}00379\ \ \ \ \ \ \ \ \ name:\ str\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00380}00380\ \ \ \ \ \ \ \ \ *,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00381}00381\ \ \ \ \ \ \ \ \ middleware:\ Sequence[Middleware]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00382}00382\ \ \ \ \ )\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00383}00383\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ path\ ==\ \textcolor{stringliteral}{"{}"{}}\ \textcolor{keywordflow}{or}\ path.startswith(\textcolor{stringliteral}{"{}/"{}}),\ \textcolor{stringliteral}{"{}Routed\ paths\ must\ start\ with\ '/'"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00384}00384\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ app\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{or}\ routes\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None},\ \textcolor{stringliteral}{"{}Either\ 'app=...',\ or\ 'routes='\ must\ be\ specified"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00385}\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a2cff069d3b27e2a5dcbf40e7126f764c}{00385}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a2cff069d3b27e2a5dcbf40e7126f764c}{path}}\ =\ path.rstrip(\textcolor{stringliteral}{"{}/"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00386}00386\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ app\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00387}\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a94a295973cbc75df4f9d0f94812afc6c}{00387}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a94a295973cbc75df4f9d0f94812afc6c}{\_base\_app}}:\ ASGIApp\ =\ app}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00388}00388\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00389}00389\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a94a295973cbc75df4f9d0f94812afc6c}{\_base\_app}}\ =\ \mbox{\hyperlink{classstarlette_1_1routing_1_1_router}{Router}}(routes=routes)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00390}\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a6a6833f4bf8b7762e6bfabc875bf66b7}{00390}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a6a6833f4bf8b7762e6bfabc875bf66b7}{app}}\ =\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a94a295973cbc75df4f9d0f94812afc6c}{\_base\_app}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00391}00391\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ middleware\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00392}00392\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ cls,\ args,\ kwargs\ \textcolor{keywordflow}{in}\ reversed(middleware):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00393}00393\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a6a6833f4bf8b7762e6bfabc875bf66b7}{app}}\ =\ cls(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a6a6833f4bf8b7762e6bfabc875bf66b7}{app}},\ *args,\ **kwargs)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00394}\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a84b8a0e7ae816935959a89f949087aac}{00394}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a84b8a0e7ae816935959a89f949087aac}{name}}\ =\ name}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00395}\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a2cb846bfe59bfdee9849c35490495695}{00395}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_ae892a6da8c8c649b10e771cd04fcb9be}{path\_regex}},\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a581f80b25f2ac9ff68ace30d4dbdc662}{path\_format}},\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a2cb846bfe59bfdee9849c35490495695}{param\_convertors}}\ =\ \mbox{\hyperlink{namespacestarlette_1_1routing_a9b22f7a9fce401016119c29fa0e0b540}{compile\_path}}(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a2cff069d3b27e2a5dcbf40e7126f764c}{path}}\ +\ \textcolor{stringliteral}{"{}/\{path:path\}"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00396}00396\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00397}00397\ \ \ \ \ \textcolor{preprocessor}{@property}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00398}\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a80fc34489495a94a56480d2270de237a}{00398}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespaceroutes}{routes}}(self)\ -\/>\ list[BaseRoute]:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00399}00399\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ getattr(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a94a295973cbc75df4f9d0f94812afc6c}{\_base\_app}},\ \textcolor{stringliteral}{"{}routes"{}},\ [])}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00400}00400\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00401}\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a4710cac20a446eee753780a55a51fe81}{00401}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a4710cac20a446eee753780a55a51fe81}{matches}}(self,\ scope:\ Scope)\ -\/>\ tuple[Match,\ Scope]:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00402}00402\ \ \ \ \ \ \ \ \ path\_params:\ dict[str,\ Any]}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00403}00403\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ scope[\textcolor{stringliteral}{"{}type"{}}]\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{"{}http"{}},\ \textcolor{stringliteral}{"{}websocket"{}}):\ \ \textcolor{comment}{\#\ pragma:\ no\ branch}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00404}00404\ \ \ \ \ \ \ \ \ \ \ \ \ root\_path\ =\ scope.get(\textcolor{stringliteral}{"{}root\_path"{}},\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00405}00405\ \ \ \ \ \ \ \ \ \ \ \ \ route\_path\ =\ get\_route\_path(scope)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00406}00406\ \ \ \ \ \ \ \ \ \ \ \ \ match\ =\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_ae892a6da8c8c649b10e771cd04fcb9be}{path\_regex}}.match(route\_path)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00407}00407\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ match:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00408}00408\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ matched\_params\ =\ match.groupdict()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00409}00409\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ key,\ value\ \textcolor{keywordflow}{in}\ matched\_params.items():}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00410}00410\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ matched\_params[key]\ =\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a2cb846bfe59bfdee9849c35490495695}{param\_convertors}}[key].convert(value)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00411}00411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_path\ =\ \textcolor{stringliteral}{"{}/"{}}\ +\ matched\_params.pop(\textcolor{stringliteral}{"{}path"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00412}00412\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ matched\_path\ =\ route\_path[:\ -\/len(remaining\_path)]}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00413}00413\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ path\_params\ =\ dict(scope.get(\textcolor{stringliteral}{"{}path\_params"{}},\ \{\}))}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00414}00414\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ path\_params.update(matched\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00415}00415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ child\_scope\ =\ \{}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00416}00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}path\_params"{}}:\ path\_params,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00417}00417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ app\_root\_path\ will\ only\ be\ set\ at\ the\ top\ level\ scope,}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00418}00418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ initialized\ with\ the\ (optional)\ value\ of\ a\ root\_path}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00419}00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ set\ above/before\ Starlette.\ And\ even\ though\ any}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00420}00420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ mount\ will\ have\ its\ own\ child\ scope\ with\ its\ own\ respective}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00421}00421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ root\_path,\ the\ app\_root\_path\ will\ always\ be\ available\ in\ all}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00422}00422\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ the\ child\ scopes\ with\ the\ same\ top\ level\ value\ because\ it's}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00423}00423\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ set\ only\ once\ here\ with\ a\ default,\ any\ other\ child\ scope\ will}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00424}00424\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ just\ inherit\ that\ app\_root\_path\ default\ value\ stored\ in\ the}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00425}00425\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ scope.\ All\ this\ is\ needed\ to\ support\ Request.url\_for(),\ as\ it}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00426}00426\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ uses\ the\ app\_root\_path\ to\ build\ the\ URL\ path.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00427}00427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}app\_root\_path"{}}:\ scope.get(\textcolor{stringliteral}{"{}app\_root\_path"{}},\ root\_path),}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00428}00428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}root\_path"{}}:\ root\_path\ +\ matched\_path,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00429}00429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}endpoint"{}}:\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a6a6833f4bf8b7762e6bfabc875bf66b7}{app}},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00430}00430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00431}00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Match.FULL,\ child\_scope}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00432}00432\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Match.NONE,\ \{\}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00433}00433\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00434}\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a61c1bff76fb876954eae677533bfc2a7}{00434}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a61c1bff76fb876954eae677533bfc2a7}{url\_path\_for}}(self,\ name:\ str,\ /,\ **path\_params:\ Any)\ -\/>\ URLPath:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00435}00435\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a84b8a0e7ae816935959a89f949087aac}{name}}\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{and}\ name\ ==\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a84b8a0e7ae816935959a89f949087aac}{name}}\ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{"{}path"{}}\ \textcolor{keywordflow}{in}\ path\_params:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00436}00436\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ 'name'\ matches\ "{}<mount\_name>"{}.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00437}00437\ \ \ \ \ \ \ \ \ \ \ \ \ path\_params[\textcolor{stringliteral}{"{}path"{}}]\ =\ path\_params[\textcolor{stringliteral}{"{}path"{}}].lstrip(\textcolor{stringliteral}{"{}/"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00438}00438\ \ \ \ \ \ \ \ \ \ \ \ \ path,\ remaining\_params\ =\ \mbox{\hyperlink{namespacestarlette_1_1routing_a2d0e8910bc3c3fc85d24e7881af51ad2}{replace\_params}}(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a581f80b25f2ac9ff68ace30d4dbdc662}{path\_format}},\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a2cb846bfe59bfdee9849c35490495695}{param\_convertors}},\ path\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00439}00439\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ remaining\_params:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00440}00440\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classstarlette_1_1datastructures_1_1_u_r_l_path}{URLPath}}(path=path)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00441}00441\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a84b8a0e7ae816935959a89f949087aac}{name}}\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{or}\ name.startswith(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a84b8a0e7ae816935959a89f949087aac}{name}}\ +\ \textcolor{stringliteral}{"{}:"{}}):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00442}00442\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a84b8a0e7ae816935959a89f949087aac}{name}}\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00443}00443\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ No\ mount\ name.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00444}00444\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_name\ =\ name}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00445}00445\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00446}00446\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ 'name'\ matches\ "{}<mount\_name>:<child\_name>"{}.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00447}00447\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_name\ =\ name[len(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a84b8a0e7ae816935959a89f949087aac}{name}})\ +\ 1\ :]}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00448}00448\ \ \ \ \ \ \ \ \ \ \ \ \ path\_kwarg\ =\ path\_params.get(\textcolor{stringliteral}{"{}path"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00449}00449\ \ \ \ \ \ \ \ \ \ \ \ \ path\_params[\textcolor{stringliteral}{"{}path"{}}]\ =\ \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00450}00450\ \ \ \ \ \ \ \ \ \ \ \ \ path\_prefix,\ remaining\_params\ =\ \mbox{\hyperlink{namespacestarlette_1_1routing_a2d0e8910bc3c3fc85d24e7881af51ad2}{replace\_params}}(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a581f80b25f2ac9ff68ace30d4dbdc662}{path\_format}},\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a2cb846bfe59bfdee9849c35490495695}{param\_convertors}},\ path\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00451}00451\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ path\_kwarg\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00452}00452\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_params[\textcolor{stringliteral}{"{}path"{}}]\ =\ path\_kwarg}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00453}00453\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ route\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a80fc34489495a94a56480d2270de237a}{routes}}\ \textcolor{keywordflow}{or}\ []:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00454}00454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00455}00455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ url\ =\ route.url\_path\_for(remaining\_name,\ **remaining\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00456}00456\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classstarlette_1_1datastructures_1_1_u_r_l_path}{URLPath}}(path=path\_prefix.rstrip(\textcolor{stringliteral}{"{}/"{}})\ +\ str(url),\ protocol=url.protocol)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00457}00457\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ NoMatchFound:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00458}00458\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00459}00459\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classstarlette_1_1routing_1_1_no_match_found}{NoMatchFound}}(name,\ path\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00460}00460\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00461}\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_af48502e3ad155fcdc52317e9cbd4840c}{00461}}\ \ \ \ \ \textcolor{keyword}{async\ def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_af48502e3ad155fcdc52317e9cbd4840c}{handle}}(self,\ scope:\ Scope,\ receive:\ Receive,\ send:\ Send)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00462}00462\ \ \ \ \ \ \ \ \ await\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a6a6833f4bf8b7762e6bfabc875bf66b7}{app}}(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00463}00463\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00464}00464\ \ \ \ \ \textcolor{keyword}{def\ }\_\_eq\_\_(self,\ other:\ Any)\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00465}00465\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ isinstance(other,\ Mount)\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a2cff069d3b27e2a5dcbf40e7126f764c}{path}}\ ==\ other.path\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a6a6833f4bf8b7762e6bfabc875bf66b7}{app}}\ ==\ other.app}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00466}00466\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00467}00467\ \ \ \ \ \textcolor{keyword}{def\ }\_\_repr\_\_(self)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00468}00468\ \ \ \ \ \ \ \ \ class\_name\ =\ self.\_\_class\_\_.\_\_name\_\_}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00469}00469\ \ \ \ \ \ \ \ \ name\ =\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_mount_a84b8a0e7ae816935959a89f949087aac}{name}}\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00470}00470\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ f\textcolor{stringliteral}{"{}\{class\_name\}(path=\{self.path!r\},\ name=\{name!r\},\ app=\{self.app!r\})"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00471}00471\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00472}00472\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00473}\mbox{\hyperlink{classstarlette_1_1routing_1_1_host}{00473}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_host}{Host}}(\mbox{\hyperlink{classstarlette_1_1routing_1_1_base_route}{BaseRoute}}):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00474}00474\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ host:\ str,\ app:\ ASGIApp,\ name:\ str\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None})\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00475}00475\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ \textcolor{keywordflow}{not}\ host.startswith(\textcolor{stringliteral}{"{}/"{}}),\ \textcolor{stringliteral}{"{}Host\ must\ not\ start\ with\ '/'"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00476}\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a039f8ca79082b2a1f846ed38eefc8bc5}{00476}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a039f8ca79082b2a1f846ed38eefc8bc5}{host}}\ =\ host}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00477}\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_ab393770c13f2834b3eb3ffe54c9a458c}{00477}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_ab393770c13f2834b3eb3ffe54c9a458c}{app}}\ =\ app}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00478}\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a13ae41c2a6fdedeaa9a6689106f7bb9b}{00478}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a13ae41c2a6fdedeaa9a6689106f7bb9b}{name}}\ =\ name}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00479}\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_adb3673a85d0390ce920bfb9493839cde}{00479}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a9be40e9e7d5405f828f1350b2c9a87a2}{host\_regex}},\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_adb3673a85d0390ce920bfb9493839cde}{host\_format}},\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_acc25e19a57577bd4a1f784bebc6eed6b}{param\_convertors}}\ =\ \mbox{\hyperlink{namespacestarlette_1_1routing_a9b22f7a9fce401016119c29fa0e0b540}{compile\_path}}(host)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00480}00480\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00481}00481\ \ \ \ \ \textcolor{preprocessor}{@property}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00482}\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a47bc8a9839c44552be9367df2bf5fe27}{00482}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespaceroutes}{routes}}(self)\ -\/>\ list[BaseRoute]:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00483}00483\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ getattr(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_ab393770c13f2834b3eb3ffe54c9a458c}{app}},\ \textcolor{stringliteral}{"{}routes"{}},\ [])}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00484}00484\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00485}\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a9e91d15a49d70fc8c486a0d014c9f814}{00485}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a9e91d15a49d70fc8c486a0d014c9f814}{matches}}(self,\ scope:\ Scope)\ -\/>\ tuple[Match,\ Scope]:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00486}00486\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ scope[\textcolor{stringliteral}{"{}type"{}}]\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{"{}http"{}},\ \textcolor{stringliteral}{"{}websocket"{}}):\ \ \textcolor{comment}{\#\ pragma:no\ branch}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00487}00487\ \ \ \ \ \ \ \ \ \ \ \ \ headers\ =\ \mbox{\hyperlink{classstarlette_1_1datastructures_1_1_headers}{Headers}}(scope=scope)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00488}00488\ \ \ \ \ \ \ \ \ \ \ \ \ host\ =\ headers.get(\textcolor{stringliteral}{"{}host"{}},\ \textcolor{stringliteral}{"{}"{}}).split(\textcolor{stringliteral}{"{}:"{}})[0]}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00489}00489\ \ \ \ \ \ \ \ \ \ \ \ \ match\ =\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a9be40e9e7d5405f828f1350b2c9a87a2}{host\_regex}}.match(host)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00490}00490\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ match:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00491}00491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ matched\_params\ =\ match.groupdict()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00492}00492\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ key,\ value\ \textcolor{keywordflow}{in}\ matched\_params.items():}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00493}00493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ matched\_params[key]\ =\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_acc25e19a57577bd4a1f784bebc6eed6b}{param\_convertors}}[key].convert(value)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00494}00494\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ path\_params\ =\ dict(scope.get(\textcolor{stringliteral}{"{}path\_params"{}},\ \{\}))}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00495}00495\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ path\_params.update(matched\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00496}00496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ child\_scope\ =\ \{\textcolor{stringliteral}{"{}path\_params"{}}:\ path\_params,\ \textcolor{stringliteral}{"{}endpoint"{}}:\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_ab393770c13f2834b3eb3ffe54c9a458c}{app}}\}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00497}00497\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Match.FULL,\ child\_scope}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00498}00498\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Match.NONE,\ \{\}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00499}00499\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00500}\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_ada005189c792f50ab8938aebd0b35346}{00500}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_ada005189c792f50ab8938aebd0b35346}{url\_path\_for}}(self,\ name:\ str,\ /,\ **path\_params:\ Any)\ -\/>\ URLPath:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00501}00501\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a13ae41c2a6fdedeaa9a6689106f7bb9b}{name}}\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{and}\ name\ ==\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a13ae41c2a6fdedeaa9a6689106f7bb9b}{name}}\ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{"{}path"{}}\ \textcolor{keywordflow}{in}\ path\_params:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00502}00502\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ 'name'\ matches\ "{}<mount\_name>"{}.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00503}00503\ \ \ \ \ \ \ \ \ \ \ \ \ path\ =\ path\_params.pop(\textcolor{stringliteral}{"{}path"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00504}00504\ \ \ \ \ \ \ \ \ \ \ \ \ host,\ remaining\_params\ =\ \mbox{\hyperlink{namespacestarlette_1_1routing_a2d0e8910bc3c3fc85d24e7881af51ad2}{replace\_params}}(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_adb3673a85d0390ce920bfb9493839cde}{host\_format}},\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_acc25e19a57577bd4a1f784bebc6eed6b}{param\_convertors}},\ path\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00505}00505\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ remaining\_params:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00506}00506\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classstarlette_1_1datastructures_1_1_u_r_l_path}{URLPath}}(path=path,\ host=host)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00507}00507\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a13ae41c2a6fdedeaa9a6689106f7bb9b}{name}}\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{or}\ name.startswith(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a13ae41c2a6fdedeaa9a6689106f7bb9b}{name}}\ +\ \textcolor{stringliteral}{"{}:"{}}):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00508}00508\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a13ae41c2a6fdedeaa9a6689106f7bb9b}{name}}\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00509}00509\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ No\ mount\ name.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00510}00510\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_name\ =\ name}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00511}00511\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00512}00512\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ 'name'\ matches\ "{}<mount\_name>:<child\_name>"{}.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00513}00513\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ remaining\_name\ =\ name[len(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a13ae41c2a6fdedeaa9a6689106f7bb9b}{name}})\ +\ 1\ :]}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00514}00514\ \ \ \ \ \ \ \ \ \ \ \ \ host,\ remaining\_params\ =\ \mbox{\hyperlink{namespacestarlette_1_1routing_a2d0e8910bc3c3fc85d24e7881af51ad2}{replace\_params}}(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_adb3673a85d0390ce920bfb9493839cde}{host\_format}},\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_acc25e19a57577bd4a1f784bebc6eed6b}{param\_convertors}},\ path\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00515}00515\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ route\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a47bc8a9839c44552be9367df2bf5fe27}{routes}}\ \textcolor{keywordflow}{or}\ []:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00516}00516\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00517}00517\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ url\ =\ route.url\_path\_for(remaining\_name,\ **remaining\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00518}00518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classstarlette_1_1datastructures_1_1_u_r_l_path}{URLPath}}(path=str(url),\ protocol=url.protocol,\ host=host)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00519}00519\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ NoMatchFound:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00520}00520\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00521}00521\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classstarlette_1_1routing_1_1_no_match_found}{NoMatchFound}}(name,\ path\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00522}00522\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00523}\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a365eb5f8263ec92fddbbde7abfc7e794}{00523}}\ \ \ \ \ \textcolor{keyword}{async\ def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a365eb5f8263ec92fddbbde7abfc7e794}{handle}}(self,\ scope:\ Scope,\ receive:\ Receive,\ send:\ Send)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00524}00524\ \ \ \ \ \ \ \ \ await\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_ab393770c13f2834b3eb3ffe54c9a458c}{app}}(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00525}00525\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00526}00526\ \ \ \ \ \textcolor{keyword}{def\ }\_\_eq\_\_(self,\ other:\ Any)\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00527}00527\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ isinstance(other,\ Host)\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a039f8ca79082b2a1f846ed38eefc8bc5}{host}}\ ==\ other.host\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_ab393770c13f2834b3eb3ffe54c9a458c}{app}}\ ==\ other.app}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00528}00528\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00529}00529\ \ \ \ \ \textcolor{keyword}{def\ }\_\_repr\_\_(self)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00530}00530\ \ \ \ \ \ \ \ \ class\_name\ =\ self.\_\_class\_\_.\_\_name\_\_}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00531}00531\ \ \ \ \ \ \ \ \ name\ =\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_host_a13ae41c2a6fdedeaa9a6689106f7bb9b}{name}}\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00532}00532\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ f\textcolor{stringliteral}{"{}\{class\_name\}(host=\{self.host!r\},\ name=\{name!r\},\ app=\{self.app!r\})"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00533}00533\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00534}00534\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00535}\mbox{\hyperlink{namespacestarlette_1_1routing_a6bc4267ed5c57848825708fcb2c27256}{00535}}\ \_T\ =\ TypeVar(\textcolor{stringliteral}{"{}\_T"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00536}00536\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00537}00537\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00538}\mbox{\hyperlink{classstarlette_1_1routing_1_1___async_lift_context_manager}{00538}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1___async_lift_context_manager}{\_AsyncLiftContextManager}}(AbstractAsyncContextManager[\_T]):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00539}00539\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ cm:\ AbstractContextManager[\_T]):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00540}\mbox{\hyperlink{classstarlette_1_1routing_1_1___async_lift_context_manager_a79d11183793d49c35901fd7567ebfac1}{00540}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1___async_lift_context_manager_a79d11183793d49c35901fd7567ebfac1}{\_cm}}\ =\ cm}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00541}00541\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00542}00542\ \ \ \ \ \textcolor{keyword}{async\ def\ }\_\_aenter\_\_(self)\ -\/>\ \_T:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00543}00543\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1___async_lift_context_manager_a79d11183793d49c35901fd7567ebfac1}{\_cm}}.\_\_enter\_\_()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00544}00544\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00545}00545\ \ \ \ \ \textcolor{keyword}{async\ def\ }\_\_aexit\_\_(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00546}00546\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00547}00547\ \ \ \ \ \ \ \ \ exc\_type:\ type[BaseException]\ |\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00548}00548\ \ \ \ \ \ \ \ \ exc\_value:\ BaseException\ |\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00549}00549\ \ \ \ \ \ \ \ \ traceback:\ types.TracebackType\ |\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00550}00550\ \ \ \ \ )\ -\/>\ bool\ |\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00551}00551\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1___async_lift_context_manager_a79d11183793d49c35901fd7567ebfac1}{\_cm}}.\_\_exit\_\_(exc\_type,\ exc\_value,\ traceback)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00552}00552\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00553}00553\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00554}\mbox{\hyperlink{namespacestarlette_1_1routing_adddba1275f2505a35a8853b83fa2fdb6}{00554}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacestarlette_1_1routing_adddba1275f2505a35a8853b83fa2fdb6}{\_wrap\_gen\_lifespan\_context}}(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00555}00555\ \ \ \ \ lifespan\_context:\ Callable[[Any],\ Generator[Any,\ Any,\ Any]],}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00556}00556\ )\ -\/>\ Callable[[Any],\ AbstractAsyncContextManager[Any]]:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00557}00557\ \ \ \ \ cmgr\ =\ contextlib.contextmanager(lifespan\_context)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00558}00558\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00559}00559\ \ \ \ \ \textcolor{preprocessor}{@functools.wraps(cmgr)}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00560}00560\ \ \ \ \ \textcolor{keyword}{def\ }wrapper(app:\ Any)\ -\/>\ \_AsyncLiftContextManager[Any]:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00561}00561\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classstarlette_1_1routing_1_1___async_lift_context_manager}{\_AsyncLiftContextManager}}(cmgr(app))}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00562}00562\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00563}00563\ \ \ \ \ \textcolor{keywordflow}{return}\ wrapper}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00564}00564\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00565}00565\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00566}\mbox{\hyperlink{classstarlette_1_1routing_1_1___default_lifespan}{00566}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1___default_lifespan}{\_DefaultLifespan}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00567}00567\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ router:\ Router):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00568}\mbox{\hyperlink{classstarlette_1_1routing_1_1___default_lifespan_a2cd014b7935b7dee3d4346ca1c396ed1}{00568}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1___default_lifespan_a2cd014b7935b7dee3d4346ca1c396ed1}{\_router}}\ =\ router}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00569}00569\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00570}00570\ \ \ \ \ \textcolor{keyword}{async\ def\ }\_\_aenter\_\_(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00571}00571\ \ \ \ \ \ \ \ \ await\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1___default_lifespan_a2cd014b7935b7dee3d4346ca1c396ed1}{\_router}}.startup()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00572}00572\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00573}00573\ \ \ \ \ \textcolor{keyword}{async\ def\ }\_\_aexit\_\_(self,\ *exc\_info:\ object)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00574}00574\ \ \ \ \ \ \ \ \ await\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1___default_lifespan_a2cd014b7935b7dee3d4346ca1c396ed1}{\_router}}.shutdown()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00575}00575\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00576}00576\ \ \ \ \ \textcolor{keyword}{def\ }\_\_call\_\_(self:\ \_T,\ app:\ object)\ -\/>\ \_T:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00577}00577\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00578}00578\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00579}00579\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00580}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router}{00580}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_router}{Router}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00581}00581\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00582}00582\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00583}00583\ \ \ \ \ \ \ \ \ routes:\ Sequence[BaseRoute]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00584}00584\ \ \ \ \ \ \ \ \ redirect\_slashes:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00585}00585\ \ \ \ \ \ \ \ \ default:\ ASGIApp\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00586}00586\ \ \ \ \ \ \ \ \ on\_startup:\ Sequence[Callable[[],\ Any]]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00587}00587\ \ \ \ \ \ \ \ \ on\_shutdown:\ Sequence[Callable[[],\ Any]]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00588}00588\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ the\ generic\ to\ Lifespan[AppType]\ is\ the\ type\ of\ the\ top\ level\ application}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00589}00589\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ which\ the\ router\ cannot\ know\ statically,\ so\ we\ use\ Any}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00590}00590\ \ \ \ \ \ \ \ \ lifespan:\ Lifespan[Any]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00591}00591\ \ \ \ \ \ \ \ \ *,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00592}00592\ \ \ \ \ \ \ \ \ middleware:\ Sequence[Middleware]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00593}00593\ \ \ \ \ )\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00594}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a8f1ee3981e1eedf6030d6f055a4d57f4}{00594}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a8f1ee3981e1eedf6030d6f055a4d57f4}{routes}}\ =\ []\ \textcolor{keywordflow}{if}\ routes\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{else}\ list(routes)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00595}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a1b0169634662e03e60eac286baf1e393}{00595}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a1b0169634662e03e60eac286baf1e393}{redirect\_slashes}}\ =\ redirect\_slashes}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00596}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_aa6aaca9e4c478967705f74159bfcab2f}{00596}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_aa6aaca9e4c478967705f74159bfcab2f}{default}}\ =\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_ab2a09b9c43023a4d37a073b9e762df53}{not\_found}}\ \textcolor{keywordflow}{if}\ default\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{else}\ default}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00597}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a962c91bbb6295a225f4d82274ec5792b}{00597}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a962c91bbb6295a225f4d82274ec5792b}{on\_startup}}\ =\ []\ \textcolor{keywordflow}{if}\ on\_startup\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{else}\ list(on\_startup)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00598}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a7e49c26bfe113c4c2e2da16a46b45090}{00598}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a7e49c26bfe113c4c2e2da16a46b45090}{on\_shutdown}}\ =\ []\ \textcolor{keywordflow}{if}\ on\_shutdown\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{else}\ list(on\_shutdown)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00599}00599\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00600}00600\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ on\_startup\ \textcolor{keywordflow}{or}\ on\_shutdown:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00601}00601\ \ \ \ \ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00602}00602\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ on\_startup\ and\ on\_shutdown\ parameters\ are\ deprecated,\ and\ they\ "{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00603}00603\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}will\ be\ removed\ on\ version\ 1.0.\ Use\ the\ lifespan\ parameter\ instead.\ "{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00604}00604\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}See\ more\ about\ it\ on\ https://www.starlette.io/lifespan/."{}},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00605}00605\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ DeprecationWarning,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00606}00606\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00607}00607\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ lifespan:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00608}00608\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00609}00609\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ \`{}lifespan`\ parameter\ cannot\ be\ used\ with\ \`{}on\_startup`\ or\ "{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00610}00610\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\`{}on\_shutdown`.\ Both\ \`{}on\_startup`\ and\ \`{}on\_shutdown`\ will\ be\ "{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00611}00611\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}ignored."{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00612}00612\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00613}00613\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00614}00614\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ lifespan\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00615}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a069d08339a8adfd518f615757cfd1317}{00615}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a069d08339a8adfd518f615757cfd1317}{lifespan\_context}}:\ Lifespan[Any]\ =\ \mbox{\hyperlink{classstarlette_1_1routing_1_1___default_lifespan}{\_DefaultLifespan}}(self)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00616}00616\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00617}00617\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ inspect.isasyncgenfunction(lifespan):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00618}00618\ \ \ \ \ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00619}00619\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}async\ generator\ function\ lifespans\ are\ deprecated,\ "{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00620}00620\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}use\ an\ @contextlib.asynccontextmanager\ function\ instead"{}},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00621}00621\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ DeprecationWarning,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00622}00622\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00623}00623\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a069d08339a8adfd518f615757cfd1317}{lifespan\_context}}\ =\ asynccontextmanager(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00624}00624\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lifespan,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00625}00625\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00626}00626\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ inspect.isgeneratorfunction(lifespan):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00627}00627\ \ \ \ \ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00628}00628\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}generator\ function\ lifespans\ are\ deprecated,\ use\ an\ @contextlib.asynccontextmanager\ function\ instead"{}},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00629}00629\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ DeprecationWarning,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00630}00630\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00631}00631\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a069d08339a8adfd518f615757cfd1317}{lifespan\_context}}\ =\ \mbox{\hyperlink{namespacestarlette_1_1routing_adddba1275f2505a35a8853b83fa2fdb6}{\_wrap\_gen\_lifespan\_context}}(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00632}00632\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lifespan,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00633}00633\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00634}00634\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00635}00635\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a069d08339a8adfd518f615757cfd1317}{lifespan\_context}}\ =\ lifespan}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00636}00636\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00637}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a2a2594c4f82095068d529a999c8ab9ea}{00637}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a2a2594c4f82095068d529a999c8ab9ea}{middleware\_stack}}\ =\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a46bc926743042f25fd71c53afe7b46cf}{app}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00638}00638\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ middleware:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00639}00639\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ cls,\ args,\ kwargs\ \textcolor{keywordflow}{in}\ reversed(middleware):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00640}00640\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a2a2594c4f82095068d529a999c8ab9ea}{middleware\_stack}}\ =\ cls(self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a2a2594c4f82095068d529a999c8ab9ea}{middleware\_stack}},\ *args,\ **kwargs)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00641}00641\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00642}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_ab2a09b9c43023a4d37a073b9e762df53}{00642}}\ \ \ \ \ \textcolor{keyword}{async\ def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_ab2a09b9c43023a4d37a073b9e762df53}{not\_found}}(self,\ scope:\ Scope,\ receive:\ Receive,\ send:\ Send)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00643}00643\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ scope[\textcolor{stringliteral}{"{}type"{}}]\ ==\ \textcolor{stringliteral}{"{}websocket"{}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00644}00644\ \ \ \ \ \ \ \ \ \ \ \ \ websocket\_close\ =\ \mbox{\hyperlink{classstarlette_1_1websockets_1_1_web_socket_close}{WebSocketClose}}()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00645}00645\ \ \ \ \ \ \ \ \ \ \ \ \ await\ websocket\_close(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00646}00646\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00647}00647\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00648}00648\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ we're\ running\ inside\ a\ starlette\ application\ then\ raise\ an}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00649}00649\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ exception,\ so\ that\ the\ configurable\ exception\ handler\ can\ deal\ with}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00650}00650\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ returning\ the\ response.\ For\ plain\ ASGI\ apps,\ just\ return\ the\ response.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00651}00651\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}app"{}}\ \textcolor{keywordflow}{in}\ scope:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00652}00652\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classstarlette_1_1exceptions_1_1_h_t_t_p_exception}{HTTPException}}(status\_code=404)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00653}00653\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00654}00654\ \ \ \ \ \ \ \ \ \ \ \ \ response\ =\ \mbox{\hyperlink{classstarlette_1_1responses_1_1_plain_text_response}{PlainTextResponse}}(\textcolor{stringliteral}{"{}Not\ Found"{}},\ status\_code=404)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00655}00655\ \ \ \ \ \ \ \ \ await\ response(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00656}00656\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00657}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_af86c12351ea6cd3bed66663675210635}{00657}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_af86c12351ea6cd3bed66663675210635}{url\_path\_for}}(self,\ name:\ str,\ /,\ **path\_params:\ Any)\ -\/>\ URLPath:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00658}00658\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ route\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a8f1ee3981e1eedf6030d6f055a4d57f4}{routes}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00659}00659\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00660}00660\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ route.url\_path\_for(name,\ **path\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00661}00661\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ NoMatchFound:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00662}00662\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00663}00663\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classstarlette_1_1routing_1_1_no_match_found}{NoMatchFound}}(name,\ path\_params)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00664}00664\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00665}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_aa2a78c52f7885dbb28dfe36fcc99cff3}{00665}}\ \ \ \ \ \textcolor{keyword}{async\ def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_aa2a78c52f7885dbb28dfe36fcc99cff3}{startup}}(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00666}00666\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00667}00667\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Run\ any\ \`{}.on\_startup\`{}\ event\ handlers.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00668}00668\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00669}00669\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ handler\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a962c91bbb6295a225f4d82274ec5792b}{on\_startup}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00670}00670\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ is\_async\_callable(handler):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00671}00671\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ await\ handler()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00672}00672\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00673}00673\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ handler()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00674}00674\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00675}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_af70ca41420be8053d560d18aeea1674a}{00675}}\ \ \ \ \ \textcolor{keyword}{async\ def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_af70ca41420be8053d560d18aeea1674a}{shutdown}}(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00676}00676\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00677}00677\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Run\ any\ \`{}.on\_shutdown\`{}\ event\ handlers.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00678}00678\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00679}00679\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ handler\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a7e49c26bfe113c4c2e2da16a46b45090}{on\_shutdown}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00680}00680\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ is\_async\_callable(handler):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00681}00681\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ await\ handler()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00682}00682\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00683}00683\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ handler()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00684}00684\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00685}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_aa04f970401958f2885abdc7273ddc210}{00685}}\ \ \ \ \ \textcolor{keyword}{async\ def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_aa04f970401958f2885abdc7273ddc210}{lifespan}}(self,\ scope:\ Scope,\ receive:\ Receive,\ send:\ Send)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00686}00686\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00687}00687\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Handle\ ASGI\ lifespan\ messages,\ which\ allows\ us\ to\ manage\ application}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00688}00688\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ startup\ and\ shutdown\ events.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00689}00689\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00690}00690\ \ \ \ \ \ \ \ \ started\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00691}00691\ \ \ \ \ \ \ \ \ app:\ Any\ =\ scope.get(\textcolor{stringliteral}{"{}app"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00692}00692\ \ \ \ \ \ \ \ \ await\ receive()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00693}00693\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00694}00694\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{async}\ \textcolor{keyword}{with}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a069d08339a8adfd518f615757cfd1317}{lifespan\_context}}(app)\ \textcolor{keyword}{as}\ maybe\_state:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00695}00695\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ maybe\_state\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00696}00696\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}state"{}}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ scope:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00697}00697\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ RuntimeError(\textcolor{stringliteral}{'The\ server\ does\ not\ support\ "{}state"{}\ in\ the\ lifespan\ scope.'})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00698}00698\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scope[\textcolor{stringliteral}{"{}state"{}}].update(maybe\_state)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00699}00699\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ await\ send(\{\textcolor{stringliteral}{"{}type"{}}:\ \textcolor{stringliteral}{"{}lifespan.startup.complete"{}}\})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00700}00700\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ started\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00701}00701\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ await\ receive()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00702}00702\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ BaseException:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00703}00703\ \ \ \ \ \ \ \ \ \ \ \ \ exc\_text\ =\ traceback.format\_exc()}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00704}00704\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ started:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00705}00705\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ await\ send(\{\textcolor{stringliteral}{"{}type"{}}:\ \textcolor{stringliteral}{"{}lifespan.shutdown.failed"{}},\ \textcolor{stringliteral}{"{}message"{}}:\ exc\_text\})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00706}00706\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00707}00707\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ await\ send(\{\textcolor{stringliteral}{"{}type"{}}:\ \textcolor{stringliteral}{"{}lifespan.startup.failed"{}},\ \textcolor{stringliteral}{"{}message"{}}:\ exc\_text\})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00708}00708\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00709}00709\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00710}00710\ \ \ \ \ \ \ \ \ \ \ \ \ await\ send(\{\textcolor{stringliteral}{"{}type"{}}:\ \textcolor{stringliteral}{"{}lifespan.shutdown.complete"{}}\})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00711}00711\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00712}00712\ \ \ \ \ \textcolor{keyword}{async\ def\ }\_\_call\_\_(self,\ scope:\ Scope,\ receive:\ Receive,\ send:\ Send)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00713}00713\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00714}00714\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ main\ entry\ point\ to\ the\ Router\ class.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00715}00715\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00716}00716\ \ \ \ \ \ \ \ \ await\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a2a2594c4f82095068d529a999c8ab9ea}{middleware\_stack}}(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00717}00717\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00718}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a46bc926743042f25fd71c53afe7b46cf}{00718}}\ \ \ \ \ \textcolor{keyword}{async\ def\ }\mbox{\hyperlink{namespaceapp}{app}}(self,\ scope:\ Scope,\ receive:\ Receive,\ send:\ Send)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00719}00719\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ scope[\textcolor{stringliteral}{"{}type"{}}]\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{"{}http"{}},\ \textcolor{stringliteral}{"{}websocket"{}},\ \textcolor{stringliteral}{"{}lifespan"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00720}00720\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00721}00721\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}router"{}}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ scope:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00722}00722\ \ \ \ \ \ \ \ \ \ \ \ \ scope[\textcolor{stringliteral}{"{}router"{}}]\ =\ self}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00723}00723\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00724}00724\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ scope[\textcolor{stringliteral}{"{}type"{}}]\ ==\ \textcolor{stringliteral}{"{}lifespan"{}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00725}00725\ \ \ \ \ \ \ \ \ \ \ \ \ await\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_aa04f970401958f2885abdc7273ddc210}{lifespan}}(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00726}00726\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00727}00727\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00728}00728\ \ \ \ \ \ \ \ \ partial\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00729}00729\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00730}00730\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ route\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a8f1ee3981e1eedf6030d6f055a4d57f4}{routes}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00731}00731\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Determine\ if\ any\ route\ matches\ the\ incoming\ scope,}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00732}00732\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ and\ hand\ over\ to\ the\ matching\ route\ if\ found.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00733}00733\ \ \ \ \ \ \ \ \ \ \ \ \ match,\ child\_scope\ =\ route.matches(scope)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00734}00734\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ match\ ==\ Match.FULL:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00735}00735\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scope.update(child\_scope)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00736}00736\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ await\ route.handle(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00737}00737\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00738}00738\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ match\ ==\ Match.PARTIAL\ \textcolor{keywordflow}{and}\ partial\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00739}00739\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ partial\ =\ route}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00740}00740\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ partial\_scope\ =\ child\_scope}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00741}00741\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00742}00742\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ partial\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00743}00743\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Â Handle\ partial\ matches.\ These\ are\ cases\ where\ an\ endpoint\ is}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00744}00744\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ able\ to\ handle\ the\ request,\ but\ is\ not\ a\ preferred\ option.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00745}00745\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ use\ this\ in\ particular\ to\ deal\ with\ "{}405\ Method\ Not\ Allowed"{}.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00746}00746\ \ \ \ \ \ \ \ \ \ \ \ \ scope.update(partial\_scope)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00747}00747\ \ \ \ \ \ \ \ \ \ \ \ \ await\ partial.handle(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00748}00748\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00749}00749\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00750}00750\ \ \ \ \ \ \ \ \ route\_path\ =\ get\_route\_path(scope)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00751}00751\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ scope[\textcolor{stringliteral}{"{}type"{}}]\ ==\ \textcolor{stringliteral}{"{}http"{}}\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a1b0169634662e03e60eac286baf1e393}{redirect\_slashes}}\ \textcolor{keywordflow}{and}\ route\_path\ !=\ \textcolor{stringliteral}{"{}/"{}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00752}00752\ \ \ \ \ \ \ \ \ \ \ \ \ redirect\_scope\ =\ dict(scope)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00753}00753\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ route\_path.endswith(\textcolor{stringliteral}{"{}/"{}}):}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00754}00754\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ redirect\_scope[\textcolor{stringliteral}{"{}path"{}}]\ =\ redirect\_scope[\textcolor{stringliteral}{"{}path"{}}].rstrip(\textcolor{stringliteral}{"{}/"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00755}00755\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00756}00756\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ redirect\_scope[\textcolor{stringliteral}{"{}path"{}}]\ =\ redirect\_scope[\textcolor{stringliteral}{"{}path"{}}]\ +\ \textcolor{stringliteral}{"{}/"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00757}00757\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00758}00758\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ route\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a8f1ee3981e1eedf6030d6f055a4d57f4}{routes}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00759}00759\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ match,\ child\_scope\ =\ route.matches(redirect\_scope)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00760}00760\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ match\ !=\ Match.NONE:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00761}00761\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ redirect\_url\ =\ \mbox{\hyperlink{classstarlette_1_1datastructures_1_1_u_r_l}{URL}}(scope=redirect\_scope)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00762}00762\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ response\ =\ \mbox{\hyperlink{classstarlette_1_1responses_1_1_redirect_response}{RedirectResponse}}(url=str(redirect\_url))}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00763}00763\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ await\ response(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00764}00764\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00765}00765\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00766}00766\ \ \ \ \ \ \ \ \ await\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_aa6aaca9e4c478967705f74159bfcab2f}{default}}(scope,\ receive,\ send)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00767}00767\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00768}00768\ \ \ \ \ \textcolor{keyword}{def\ }\_\_eq\_\_(self,\ other:\ Any)\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00769}00769\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ isinstance(other,\ Router)\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a8f1ee3981e1eedf6030d6f055a4d57f4}{routes}}\ ==\ other.routes}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00770}00770\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00771}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a192c31d9154ecce6555f7f08b7ad3214}{00771}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a192c31d9154ecce6555f7f08b7ad3214}{mount}}(self,\ path:\ str,\ app:\ ASGIApp,\ name:\ str\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None})\ -\/>\ \textcolor{keywordtype}{None}:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00772}00772\ \ \ \ \ \ \ \ \ route\ =\ \mbox{\hyperlink{classstarlette_1_1routing_1_1_mount}{Mount}}(path,\ app=app,\ name=name)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00773}00773\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a8f1ee3981e1eedf6030d6f055a4d57f4}{routes}}.append(route)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00774}00774\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00775}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_ae554e71e529ea14a7bc863424a9ac82d}{00775}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_ae554e71e529ea14a7bc863424a9ac82d}{host}}(self,\ host:\ str,\ app:\ ASGIApp,\ name:\ str\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None})\ -\/>\ \textcolor{keywordtype}{None}:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00776}00776\ \ \ \ \ \ \ \ \ route\ =\ \mbox{\hyperlink{classstarlette_1_1routing_1_1_host}{Host}}(host,\ app=app,\ name=name)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00777}00777\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a8f1ee3981e1eedf6030d6f055a4d57f4}{routes}}.append(route)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00778}00778\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00779}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a81840f3fdf32d861f1222e07e336d142}{00779}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a81840f3fdf32d861f1222e07e336d142}{add\_route}}(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00780}00780\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00781}00781\ \ \ \ \ \ \ \ \ path:\ str,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00782}00782\ \ \ \ \ \ \ \ \ endpoint:\ Callable[[Request],\ Awaitable[Response]\ |\ Response],}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00783}00783\ \ \ \ \ \ \ \ \ methods:\ Collection[str]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00784}00784\ \ \ \ \ \ \ \ \ name:\ str\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00785}00785\ \ \ \ \ \ \ \ \ include\_in\_schema:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00786}00786\ \ \ \ \ )\ -\/>\ \textcolor{keywordtype}{None}:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00787}00787\ \ \ \ \ \ \ \ \ route\ =\ \mbox{\hyperlink{classstarlette_1_1routing_1_1_route}{Route}}(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00788}00788\ \ \ \ \ \ \ \ \ \ \ \ \ path,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00789}00789\ \ \ \ \ \ \ \ \ \ \ \ \ endpoint=endpoint,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00790}00790\ \ \ \ \ \ \ \ \ \ \ \ \ methods=methods,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00791}00791\ \ \ \ \ \ \ \ \ \ \ \ \ name=name,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00792}00792\ \ \ \ \ \ \ \ \ \ \ \ \ include\_in\_schema=include\_in\_schema,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00793}00793\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00794}00794\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a8f1ee3981e1eedf6030d6f055a4d57f4}{routes}}.append(route)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00795}00795\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00796}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_ad7f13b200cb786590ef51ed6603728f0}{00796}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_ad7f13b200cb786590ef51ed6603728f0}{add\_websocket\_route}}(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00797}00797\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00798}00798\ \ \ \ \ \ \ \ \ path:\ str,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00799}00799\ \ \ \ \ \ \ \ \ endpoint:\ Callable[[WebSocket],\ Awaitable[\textcolor{keywordtype}{None}]],}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00800}00800\ \ \ \ \ \ \ \ \ name:\ str\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00801}00801\ \ \ \ \ )\ -\/>\ \textcolor{keywordtype}{None}:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00802}00802\ \ \ \ \ \ \ \ \ route\ =\ \mbox{\hyperlink{classstarlette_1_1routing_1_1_web_socket_route}{WebSocketRoute}}(path,\ endpoint=endpoint,\ name=name)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00803}00803\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a8f1ee3981e1eedf6030d6f055a4d57f4}{routes}}.append(route)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00804}00804\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00805}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_ac6d9232d1ccaada0679f3d7381743eb5}{00805}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_ac6d9232d1ccaada0679f3d7381743eb5}{route}}(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00806}00806\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00807}00807\ \ \ \ \ \ \ \ \ path:\ str,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00808}00808\ \ \ \ \ \ \ \ \ methods:\ Collection[str]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00809}00809\ \ \ \ \ \ \ \ \ name:\ str\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00810}00810\ \ \ \ \ \ \ \ \ include\_in\_schema:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00811}00811\ \ \ \ \ )\ -\/>\ Callable:\ \ \textcolor{comment}{\#\ type:\ ignore[type-\/arg]}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00812}00812\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00813}00813\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ We\ no\ longer\ document\ this\ decorator\ style\ API,\ and\ its\ usage\ is\ discouraged.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00814}00814\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Instead\ you\ should\ use\ the\ following\ approach:}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00815}00815\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00816}00816\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ >>>\ routes\ =\ [Route(path,\ endpoint=...),\ ...]}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00817}00817\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ >>>\ app\ =\ Starlette(routes=routes)}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00818}00818\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00819}00819\ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00820}00820\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ \`{}route`\ decorator\ is\ deprecated,\ and\ will\ be\ removed\ in\ version\ 1.0.0."{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00821}00821\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Refer\ to\ https://www.starlette.io/routing/\#http-\/routing\ for\ the\ recommended\ approach."{}},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00822}00822\ \ \ \ \ \ \ \ \ \ \ \ \ DeprecationWarning,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00823}00823\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00824}00824\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00825}00825\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }decorator(func:\ Callable)\ -\/>\ Callable:\ \ \textcolor{comment}{\#\ type:\ ignore[type-\/arg]}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00826}00826\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a81840f3fdf32d861f1222e07e336d142}{add\_route}}(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00827}00827\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ path,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00828}00828\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ func,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00829}00829\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ methods=methods,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00830}00830\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ name=name,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00831}00831\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ include\_in\_schema=include\_in\_schema,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00832}00832\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00833}00833\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ func}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00834}00834\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00835}00835\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ decorator}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00836}00836\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00837}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_aebd7d0126805d76913e578e8f5970934}{00837}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_aebd7d0126805d76913e578e8f5970934}{websocket\_route}}(self,\ path:\ str,\ name:\ str\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None})\ -\/>\ Callable:\ \ \textcolor{comment}{\#\ type:\ ignore[type-\/arg]}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00838}00838\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00839}00839\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ We\ no\ longer\ document\ this\ decorator\ style\ API,\ and\ its\ usage\ is\ discouraged.}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00840}00840\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Instead\ you\ should\ use\ the\ following\ approach:}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00841}00841\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00842}00842\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ >>>\ routes\ =\ [WebSocketRoute(path,\ endpoint=...),\ ...]}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00843}00843\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ >>>\ app\ =\ Starlette(routes=routes)}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00844}00844\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00845}00845\ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00846}00846\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ \`{}websocket\_route`\ decorator\ is\ deprecated,\ and\ will\ be\ removed\ in\ version\ 1.0.0.\ Refer\ to\ "{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00847}00847\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}https://www.starlette.io/routing/\#websocket-\/routing\ for\ the\ recommended\ approach."{}},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00848}00848\ \ \ \ \ \ \ \ \ \ \ \ \ DeprecationWarning,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00849}00849\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00850}00850\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00851}00851\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }decorator(func:\ Callable)\ -\/>\ Callable:\ \ \textcolor{comment}{\#\ type:\ ignore[type-\/arg]}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00852}00852\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_ad7f13b200cb786590ef51ed6603728f0}{add\_websocket\_route}}(path,\ func,\ name=name)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00853}00853\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ func}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00854}00854\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00855}00855\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ decorator}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00856}00856\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00857}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a87cea5875fd3e6d35329ba14f4ac604a}{00857}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a87cea5875fd3e6d35329ba14f4ac604a}{add\_event\_handler}}(self,\ event\_type:\ str,\ func:\ Callable[[],\ Any])\ -\/>\ \textcolor{keywordtype}{None}:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00858}00858\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ event\_type\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{"{}startup"{}},\ \textcolor{stringliteral}{"{}shutdown"{}})}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00859}00859\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00860}00860\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ event\_type\ ==\ \textcolor{stringliteral}{"{}startup"{}}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00861}00861\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a962c91bbb6295a225f4d82274ec5792b}{on\_startup}}.append(func)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00862}00862\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00863}00863\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a7e49c26bfe113c4c2e2da16a46b45090}{on\_shutdown}}.append(func)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00864}00864\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00865}\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a33fb0139d2b8e90be7f562fd30eeaa54}{00865}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a33fb0139d2b8e90be7f562fd30eeaa54}{on\_event}}(self,\ event\_type:\ str)\ -\/>\ Callable:\ \ \textcolor{comment}{\#\ type:\ ignore[type-\/arg]}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00866}00866\ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00867}00867\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ \`{}on\_event`\ decorator\ is\ deprecated,\ and\ will\ be\ removed\ in\ version\ 1.0.0.\ "{}}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00868}00868\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Refer\ to\ https://www.starlette.io/lifespan/\ for\ recommended\ approach."{}},}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00869}00869\ \ \ \ \ \ \ \ \ \ \ \ \ DeprecationWarning,}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00870}00870\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00871}00871\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00872}00872\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }decorator(func:\ Callable)\ -\/>\ Callable:\ \ \textcolor{comment}{\#\ type:\ ignore[type-\/arg]}}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00873}00873\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classstarlette_1_1routing_1_1_router_a87cea5875fd3e6d35329ba14f4ac604a}{add\_event\_handler}}(event\_type,\ func)}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00874}00874\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ func}
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00875}00875\ }
\DoxyCodeLine{\Hypertarget{starlette_2routing_8py_source_l00876}00876\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ decorator}

\end{DoxyCode}
