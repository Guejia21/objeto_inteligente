<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Objeto Inteligente - Sistema Completo: Proyecto: Objeto Inteligente</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Objeto Inteligente - Sistema Completo<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">Sistema de gestión de objetos inteligentes con ontologías, microservicios y automatización IoT</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generado por Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Buscar',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__r_e_a_d_m_e.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Cargando...</div>
<div class="SRStatus" id="Searching">Buscando...</div>
<div class="SRStatus" id="NoMatches">Nada coincide</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Proyecto: Objeto Inteligente </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md13"></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
Contexto</h1>
<p>Este proyecto tiene sus raíces en el trabajo de grado Modelo Ontológico para Manejo de Perfiles de Usuario en la IoT (Pabón y Rojas, 2017), el cual exploró la creación de un modelo semántico de perfil de usuario soportado en ontologías, con el fin de personalizar servicios en un entorno domótico. Dicho trabajo validó la eficacia del enfoque mediante una prueba de concepto y un estudio de caso, demostrando que el uso de perfiles semánticos mejora la interacción con objetos inteligentes. Se plantea la migración hacia una arquitectura basada en <b>microservicios</b>, que permita desacoplar los componentes principales, garantizar un mejor desempeño, facilitar la incorporación de nuevas tecnologías y brindar mayor portabilidad en diferentes escenarios. El rediseño se centrará en separar funcionalidades clave en microservicios, con este cambio, el Objeto Inteligente se fortalecerá como una solución interoperable, escalable y flexible, capaz de gestionar perfiles personalizados de usuario e integrarse con múltiples dispositivos y plataformas, garantizando su evolución y sostenibilidad en el tiempo.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15"></a>
Ejecución (Pensada para Rasbperry, también se puede correr en un pc con Linux)</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md16"></a>
Requisitos</h2>
<ul>
<li>python3</li>
<li>mosquitto</li>
<li>Docker Desktop (Opcional)</li>
</ul>
<p>Para ejecutar este proyecto primero debe clonarse en el dispositivo donde se desea ejecutar, haciendo:</p>
<div class="fragment"><div class="line"># Clonar al repo</div>
<div class="line">git clone https://github.com/Guejia21/objeto_inteligente</div>
<div class="line"> </div>
<div class="line"># Ingresar a la carpeta raiz</div>
<div class="line">cd objeto_inteligente</div>
<div class="line"> </div>
<div class="line">#Si se desea instalar mosquitto</div>
<div class="line">sudo apt install mosquitto</div>
</div><!-- fragment --><h3 class="doxsection"><a class="anchor" id="autotoc_md17"></a>
Ejecución manual</h3>
<ul>
<li>Gateway: 8000</li>
<li>Micro gestión de ontología: 8001</li>
<li>Micro gestión de objetos: 8002</li>
<li>Micro gestión de recursos y datastreams: 8003</li>
</ul>
<p>Para preparar los micros para su ejecución, ejecute los siguientes comandos </p><div class="fragment"><div class="line"># Dar permisos de ejecución</div>
<div class="line">chmod +x setup.sh</div>
<div class="line"> </div>
<div class="line"># Ejecutar</div>
<div class="line">./setup.sh</div>
</div><!-- fragment --><p>Si se desea limpiar los archivos generados en la ejecución del proyecto, se hace: </p><div class="fragment"><div class="line">python3 clean.py</div>
</div><!-- fragment --><p>Si se desea correr la plataforma IoT localmente, se debe hacer: </p><div class="fragment"><div class="line">cd things_board/</div>
<div class="line">docker compose up</div>
</div><!-- fragment --><p> <b>Importante:</b> Apesar de que el proyecto se conecta a ThingsBoard para exponer telemetría, el hecho de no tenerlo no es un impedimento para que el proyecto funcione</p>
<p>Para iniciar cada micro (estando en la carpeta raiz): </p><div class="fragment"><div class="line">#Gateway</div>
<div class="line">cd gateway/app/ &amp;&amp; source ../.venv/bin/activate &amp;&amp; python3 main.py</div>
<div class="line">#Ecas</div>
<div class="line">cd micro_automatizacion_ecas/app/ &amp;&amp; source ../.venv/bin/activate &amp;&amp; python3 main.py</div>
<div class="line">#Base del conocimiento</div>
<div class="line">cd micro_gestion_conocimiento/app/ &amp;&amp; source ../.venv/bin/activate &amp;&amp; python3 main.py</div>
<div class="line">#Objetos</div>
<div class="line">cd micro_gestion_objetos/app/ &amp;&amp; source ../.venv/bin/activate &amp;&amp; python3 main.py</div>
<div class="line">#Datastreams</div>
<div class="line">cd microservicio_data_stream/ &amp;&amp; source .venv/bin/activate &amp;&amp; python3 main.py</div>
<div class="line">#Personalizacion</div>
<div class="line">cd microservicio_personalizacion/app &amp;&amp; source ../.venv/bin/activate &amp;&amp; python3 main.py</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md18"></a>
Documentación</h2>
<p>Para acceder a la documentación de los microservicios, acceda a la pestaña de <span class="tt">docs</span> por medio de un navegador web. </p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md19"></a>
Ejemplo</h3>
<p>Si se está corriendo un micro de manera local, acceda a <a href="https://localhost:8001/docs">Docs Micro Gestión del Conocimiento</a></p>
<p>De esa manera podrá acceder al Swagger de cada microservicio cambiando al puerto pertinente.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md20"></a>
Notas adicionales</h2>
<p>Todo este proyecto está pensado para ejecutarse en una raspberry, pero el micro de <span class="tt">microservicio_data_stream_esp</span> está pensado para ejecutarse en una ESP32, para más información ingrese a su <span class="tt">README.md</span></p>
<p>Finalmente, en la carpeta de <span class="tt">Ejemplo</span> se encuentran los ejecutables y el JSON usados de prueba para un objeto inteligente que tiene un led, un relay, un sensor de temperatura y otro de luz, adicionalmente, existe una ontologia llamada <span class="tt">usuarioActual.owl</span> la cual es una simulación para probar el endpoint de <span class="tt">RecibirOntologia</span> en el micro de personalización de usuarios </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generado el <span class="timestamp"></span> para Objeto Inteligente - Sistema Completo por <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
